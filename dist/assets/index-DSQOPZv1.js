var Yte=Object.defineProperty;var Kte=(t,e,r)=>e in t?Yte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var yt=(t,e,r)=>Kte(t,typeof e!="symbol"?e+"":e,r);function Xte(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var EN={exports:{}},Yg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IR;function Qte(){if(IR)return Yg;IR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var c in a)c!=="key"&&(i[c]=a[c])}else i=a;return a=i.ref,{$$typeof:t,type:n,key:o,ref:a!==void 0?a:null,props:i}}return Yg.Fragment=e,Yg.jsx=r,Yg.jsxs=r,Yg}var OR;function Zte(){return OR||(OR=1,EN.exports=Qte()),EN.exports}var s=Zte(),AN={exports:{}},Kg={},TN={exports:{}},_N={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PR;function Jte(){return PR||(PR=1,(function(t){function e(F,W){var te=F.length;F.push(W);e:for(;0<te;){var X=te-1>>>1,B=F[X];if(0<a(B,W))F[X]=W,F[te]=B,te=X;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var W=F[0],te=F.pop();if(te!==W){F[0]=te;e:for(var X=0,B=F.length,G=B>>>1;X<G;){var J=2*(X+1)-1,ne=F[J],ie=J+1,se=F[ie];if(0>a(ne,te))ie<B&&0>a(se,ne)?(F[X]=se,F[ie]=te,X=ie):(F[X]=ne,F[J]=te,X=J);else if(ie<B&&0>a(se,te))F[X]=se,F[ie]=te,X=ie;else break e}}return W}function a(F,W){var te=F.sortIndex-W.sortIndex;return te!==0?te:F.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],h=[],f=1,p=null,g=3,x=!1,j=!1,w=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function O(F){for(var W=r(h);W!==null;){if(W.callback===null)n(h);else if(W.startTime<=F)n(h),W.sortIndex=W.expirationTime,e(u,W);else break;W=r(h)}}function M(F){if(w=!1,O(F),!j)if(r(u)!==null)j=!0,L||(L=!0,R());else{var W=r(h);W!==null&&K(M,W.startTime-F)}}var L=!1,I=-1,T=5,_=-1;function D(){return b?!0:!(t.unstable_now()-_<T)}function P(){if(b=!1,L){var F=t.unstable_now();_=F;var W=!0;try{e:{j=!1,w&&(w=!1,E(I),I=-1),x=!0;var te=g;try{t:{for(O(F),p=r(u);p!==null&&!(p.expirationTime>F&&D());){var X=p.callback;if(typeof X=="function"){p.callback=null,g=p.priorityLevel;var B=X(p.expirationTime<=F);if(F=t.unstable_now(),typeof B=="function"){p.callback=B,O(F),W=!0;break t}p===r(u)&&n(u),O(F)}else n(u);p=r(u)}if(p!==null)W=!0;else{var G=r(h);G!==null&&K(M,G.startTime-F),W=!1}}break e}finally{p=null,g=te,x=!1}W=void 0}}finally{W?R():L=!1}}}var R;if(typeof A=="function")R=function(){A(P)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,$=U.port2;U.port1.onmessage=P,R=function(){$.postMessage(null)}}else R=function(){N(P,0)};function K(F,W){I=N(function(){F(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(F){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var te=g;g=W;try{return F()}finally{g=te}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var te=g;g=F;try{return W()}finally{g=te}},t.unstable_scheduleCallback=function(F,W,te){var X=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?X+te:X):te=X,F){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=te+B,F={id:f++,callback:W,priorityLevel:F,startTime:te,expirationTime:B,sortIndex:-1},te>X?(F.sortIndex=te,e(h,F),r(u)===null&&F===r(h)&&(w?(E(I),I=-1):w=!0,K(M,te-X))):(F.sortIndex=B,e(u,F),j||x||(j=!0,L||(L=!0,R()))),F},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(F){var W=g;return function(){var te=g;g=W;try{return F.apply(this,arguments)}finally{g=te}}}})(_N)),_N}var MR;function ere(){return MR||(MR=1,TN.exports=Jte()),TN.exports}var CN={exports:{}},br={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DR;function tre(){if(DR)return br;DR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(B){return B===null||typeof B!="object"?null:(B=p&&B[p]||B["@@iterator"],typeof B=="function"?B:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function b(B,G,J){this.props=B,this.context=G,this.refs=w,this.updater=J||x}b.prototype.isReactComponent={},b.prototype.setState=function(B,G){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,G,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=b.prototype;function E(B,G,J){this.props=B,this.context=G,this.refs=w,this.updater=J||x}var A=E.prototype=new N;A.constructor=E,j(A,b.prototype),A.isPureReactComponent=!0;var O=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function I(B,G,J,ne,ie,se){return J=se.ref,{$$typeof:t,type:B,key:G,ref:J!==void 0?J:null,props:se}}function T(B,G){return I(B.type,G,void 0,void 0,void 0,B.props)}function _(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function D(B){var G={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(J){return G[J]})}var P=/\/+/g;function R(B,G){return typeof B=="object"&&B!==null&&B.key!=null?D(""+B.key):G.toString(36)}function U(){}function $(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(U,U):(B.status="pending",B.then(function(G){B.status==="pending"&&(B.status="fulfilled",B.value=G)},function(G){B.status==="pending"&&(B.status="rejected",B.reason=G)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function K(B,G,J,ne,ie){var se=typeof B;(se==="undefined"||se==="boolean")&&(B=null);var je=!1;if(B===null)je=!0;else switch(se){case"bigint":case"string":case"number":je=!0;break;case"object":switch(B.$$typeof){case t:case e:je=!0;break;case f:return je=B._init,K(je(B._payload),G,J,ne,ie)}}if(je)return ie=ie(B),je=ne===""?"."+R(B,0):ne,O(ie)?(J="",je!=null&&(J=je.replace(P,"$&/")+"/"),K(ie,G,J,"",function(ae){return ae})):ie!=null&&(_(ie)&&(ie=T(ie,J+(ie.key==null||B&&B.key===ie.key?"":(""+ie.key).replace(P,"$&/")+"/")+je)),G.push(ie)),1;je=0;var Pe=ne===""?".":ne+":";if(O(B))for(var ue=0;ue<B.length;ue++)ne=B[ue],se=Pe+R(ne,ue),je+=K(ne,G,J,se,ie);else if(ue=g(B),typeof ue=="function")for(B=ue.call(B),ue=0;!(ne=B.next()).done;)ne=ne.value,se=Pe+R(ne,ue++),je+=K(ne,G,J,se,ie);else if(se==="object"){if(typeof B.then=="function")return K($(B),G,J,ne,ie);throw G=String(B),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return je}function F(B,G,J){if(B==null)return B;var ne=[],ie=0;return K(B,ne,"","",function(se){return G.call(J,se,ie++)}),ne}function W(B){if(B._status===-1){var G=B._result;G=G(),G.then(function(J){(B._status===0||B._status===-1)&&(B._status=1,B._result=J)},function(J){(B._status===0||B._status===-1)&&(B._status=2,B._result=J)}),B._status===-1&&(B._status=0,B._result=G)}if(B._status===1)return B._result.default;throw B._result}var te=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function X(){}return br.Children={map:F,forEach:function(B,G,J){F(B,function(){G.apply(this,arguments)},J)},count:function(B){var G=0;return F(B,function(){G++}),G},toArray:function(B){return F(B,function(G){return G})||[]},only:function(B){if(!_(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},br.Component=b,br.Fragment=r,br.Profiler=a,br.PureComponent=E,br.StrictMode=n,br.Suspense=u,br.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,br.__COMPILER_RUNTIME={__proto__:null,c:function(B){return M.H.useMemoCache(B)}},br.cache=function(B){return function(){return B.apply(null,arguments)}},br.cloneElement=function(B,G,J){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ne=j({},B.props),ie=B.key,se=void 0;if(G!=null)for(je in G.ref!==void 0&&(se=void 0),G.key!==void 0&&(ie=""+G.key),G)!L.call(G,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&G.ref===void 0||(ne[je]=G[je]);var je=arguments.length-2;if(je===1)ne.children=J;else if(1<je){for(var Pe=Array(je),ue=0;ue<je;ue++)Pe[ue]=arguments[ue+2];ne.children=Pe}return I(B.type,ie,void 0,void 0,se,ne)},br.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:i,_context:B},B},br.createElement=function(B,G,J){var ne,ie={},se=null;if(G!=null)for(ne in G.key!==void 0&&(se=""+G.key),G)L.call(G,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ie[ne]=G[ne]);var je=arguments.length-2;if(je===1)ie.children=J;else if(1<je){for(var Pe=Array(je),ue=0;ue<je;ue++)Pe[ue]=arguments[ue+2];ie.children=Pe}if(B&&B.defaultProps)for(ne in je=B.defaultProps,je)ie[ne]===void 0&&(ie[ne]=je[ne]);return I(B,se,void 0,void 0,null,ie)},br.createRef=function(){return{current:null}},br.forwardRef=function(B){return{$$typeof:c,render:B}},br.isValidElement=_,br.lazy=function(B){return{$$typeof:f,_payload:{_status:-1,_result:B},_init:W}},br.memo=function(B,G){return{$$typeof:h,type:B,compare:G===void 0?null:G}},br.startTransition=function(B){var G=M.T,J={};M.T=J;try{var ne=B(),ie=M.S;ie!==null&&ie(J,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(X,te)}catch(se){te(se)}finally{M.T=G}},br.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},br.use=function(B){return M.H.use(B)},br.useActionState=function(B,G,J){return M.H.useActionState(B,G,J)},br.useCallback=function(B,G){return M.H.useCallback(B,G)},br.useContext=function(B){return M.H.useContext(B)},br.useDebugValue=function(){},br.useDeferredValue=function(B,G){return M.H.useDeferredValue(B,G)},br.useEffect=function(B,G,J){var ne=M.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(B,G)},br.useId=function(){return M.H.useId()},br.useImperativeHandle=function(B,G,J){return M.H.useImperativeHandle(B,G,J)},br.useInsertionEffect=function(B,G){return M.H.useInsertionEffect(B,G)},br.useLayoutEffect=function(B,G){return M.H.useLayoutEffect(B,G)},br.useMemo=function(B,G){return M.H.useMemo(B,G)},br.useOptimistic=function(B,G){return M.H.useOptimistic(B,G)},br.useReducer=function(B,G,J){return M.H.useReducer(B,G,J)},br.useRef=function(B){return M.H.useRef(B)},br.useState=function(B){return M.H.useState(B)},br.useSyncExternalStore=function(B,G,J){return M.H.useSyncExternalStore(B,G,J)},br.useTransition=function(){return M.H.useTransition()},br.version="19.1.1",br}var RR;function Cp(){return RR||(RR=1,CN.exports=tre()),CN.exports}var IN={exports:{}},Ds={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LR;function rre(){if(LR)return Ds;LR=1;var t=Cp();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(u,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:u,containerInfo:h,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ds.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ds.createPortal=function(u,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return i(u,h,null,f)},Ds.flushSync=function(u){var h=o.T,f=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=h,n.p=f,n.d.f()}},Ds.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(u,h))},Ds.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Ds.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var f=h.as,p=c(f,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?n.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:x}):f==="script"&&n.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ds.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=c(h.as,h.crossOrigin);n.d.M(u,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(u)},Ds.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=c(f,h.crossOrigin);n.d.L(u,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ds.preloadModule=function(u,h){if(typeof u=="string")if(h){var f=c(h.as,h.crossOrigin);n.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(u)},Ds.requestFormReset=function(u){n.d.r(u)},Ds.unstable_batchedUpdates=function(u,h){return u(h)},Ds.useFormState=function(u,h,f){return o.H.useFormState(u,h,f)},Ds.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ds.version="19.1.1",Ds}var UR;function $F(){if(UR)return IN.exports;UR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),IN.exports=rre(),IN.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR;function nre(){if(VR)return Kg;VR=1;var t=ere(),e=Cp(),r=$F();function n(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var d=l,m=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(m=d.return),l=d.return;while(l)}return d.tag===3?m:null}function o(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function c(l){if(i(l)!==l)throw Error(n(188))}function u(l){var d=l.alternate;if(!d){if(d=i(l),d===null)throw Error(n(188));return d!==l?null:l}for(var m=l,y=d;;){var S=m.return;if(S===null)break;var C=S.alternate;if(C===null){if(y=S.return,y!==null){m=y;continue}break}if(S.child===C.child){for(C=S.child;C;){if(C===m)return c(S),l;if(C===y)return c(S),d;C=C.sibling}throw Error(n(188))}if(m.return!==y.return)m=S,y=C;else{for(var H=!1,Z=S.child;Z;){if(Z===m){H=!0,m=S,y=C;break}if(Z===y){H=!0,y=S,m=C;break}Z=Z.sibling}if(!H){for(Z=C.child;Z;){if(Z===m){H=!0,m=C,y=S;break}if(Z===y){H=!0,y=C,m=S;break}Z=Z.sibling}if(!H)throw Error(n(189))}}if(m.alternate!==y)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?l:d}function h(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=h(l),d!==null)return d;l=l.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function R(l){return l===null||typeof l!="object"?null:(l=P&&l[P]||l["@@iterator"],typeof l=="function"?l:null)}var U=Symbol.for("react.client.reference");function $(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===U?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case j:return"Fragment";case b:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case L:return"SuspenseList";case _:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case x:return"Portal";case A:return(l.displayName||"Context")+".Provider";case E:return(l._context.displayName||"Context")+".Consumer";case O:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case I:return d=l.displayName||null,d!==null?d:$(l.type)||"Memo";case T:d=l._payload,l=l._init;try{return $(l(d))}catch{}}return null}var K=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},X=[],B=-1;function G(l){return{current:l}}function J(l){0>B||(l.current=X[B],X[B]=null,B--)}function ne(l,d){B++,X[B]=l.current,l.current=d}var ie=G(null),se=G(null),je=G(null),Pe=G(null);function ue(l,d){switch(ne(je,d),ne(se,l),ne(ie,null),d.nodeType){case 9:case 11:l=(l=d.documentElement)&&(l=l.namespaceURI)?sR(l):0;break;default:if(l=d.tagName,d=d.namespaceURI)d=sR(d),l=iR(d,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}J(ie),ne(ie,l)}function ae(){J(ie),J(se),J(je)}function oe(l){l.memoizedState!==null&&ne(Pe,l);var d=ie.current,m=iR(d,l.type);d!==m&&(ne(se,l),ne(ie,m))}function ve(l){se.current===l&&(J(ie),J(se)),Pe.current===l&&(J(Pe),Bg._currentValue=te)}var Y=Object.prototype.hasOwnProperty,fe=t.unstable_scheduleCallback,ee=t.unstable_cancelCallback,ye=t.unstable_shouldYield,Oe=t.unstable_requestPaint,We=t.unstable_now,it=t.unstable_getCurrentPriorityLevel,ut=t.unstable_ImmediatePriority,At=t.unstable_UserBlockingPriority,wt=t.unstable_NormalPriority,st=t.unstable_LowPriority,Ce=t.unstable_IdlePriority,Ve=t.log,Qe=t.unstable_setDisableYieldValue,rt=null,ot=null;function gt(l){if(typeof Ve=="function"&&Qe(l),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(rt,l)}catch{}}var ht=Math.clz32?Math.clz32:Rt,Dt=Math.log,qt=Math.LN2;function Rt(l){return l>>>=0,l===0?32:31-(Dt(l)/qt|0)|0}var Xt=256,Qt=4194304;function pe(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function ge(l,d,m){var y=l.pendingLanes;if(y===0)return 0;var S=0,C=l.suspendedLanes,H=l.pingedLanes;l=l.warmLanes;var Z=y&134217727;return Z!==0?(y=Z&~C,y!==0?S=pe(y):(H&=Z,H!==0?S=pe(H):m||(m=Z&~l,m!==0&&(S=pe(m))))):(Z=y&~C,Z!==0?S=pe(Z):H!==0?S=pe(H):m||(m=y&~l,m!==0&&(S=pe(m)))),S===0?0:d!==0&&d!==S&&(d&C)===0&&(C=S&-S,m=d&-d,C>=m||C===32&&(m&4194048)!==0)?d:S}function he(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function Te(l,d){switch(l){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function De(){var l=Xt;return Xt<<=1,(Xt&4194048)===0&&(Xt=256),l}function nt(){var l=Qt;return Qt<<=1,(Qt&62914560)===0&&(Qt=4194304),l}function bt(l){for(var d=[],m=0;31>m;m++)d.push(l);return d}function kt(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function $e(l,d,m,y,S,C){var H=l.pendingLanes;l.pendingLanes=m,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=m,l.entangledLanes&=m,l.errorRecoveryDisabledLanes&=m,l.shellSuspendCounter=0;var Z=l.entanglements,ce=l.expirationTimes,Ee=l.hiddenUpdates;for(m=H&~m;0<m;){var ze=31-ht(m),Ke=1<<ze;Z[ze]=0,ce[ze]=-1;var Ae=Ee[ze];if(Ae!==null)for(Ee[ze]=null,ze=0;ze<Ae.length;ze++){var Ie=Ae[ze];Ie!==null&&(Ie.lane&=-536870913)}m&=~Ke}y!==0&&dt(l,y,0),C!==0&&S===0&&l.tag!==0&&(l.suspendedLanes|=C&~(H&~d))}function dt(l,d,m){l.pendingLanes|=d,l.suspendedLanes&=~d;var y=31-ht(d);l.entangledLanes|=d,l.entanglements[y]=l.entanglements[y]|1073741824|m&4194090}function Tt(l,d){var m=l.entangledLanes|=d;for(l=l.entanglements;m;){var y=31-ht(m),S=1<<y;S&d|l[y]&d&&(l[y]|=d),m&=~S}}function Ge(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Ct(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function sr(){var l=W.p;return l!==0?l:(l=window.event,l===void 0?32:SR(l.type))}function fr(l,d){var m=W.p;try{return W.p=l,d()}finally{W.p=m}}var St=Math.random().toString(36).slice(2),Se="__reactFiber$"+St,lt="__reactProps$"+St,ir="__reactContainer$"+St,Gt="__reactEvents$"+St,kr="__reactListeners$"+St,Fr="__reactHandles$"+St,Pn="__reactResources$"+St,Nn="__reactMarker$"+St;function Ln(l){delete l[Se],delete l[lt],delete l[Gt],delete l[kr],delete l[Fr]}function pn(l){var d=l[Se];if(d)return d;for(var m=l.parentNode;m;){if(d=m[ir]||m[Se]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(l=uR(l);l!==null;){if(m=l[Se])return m;l=uR(l)}return d}l=m,m=l.parentNode}return null}function Un(l){if(l=l[Se]||l[ir]){var d=l.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return l}return null}function Ot(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(n(33))}function pr(l){var d=l[Pn];return d||(d=l[Pn]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Jt(l){l[Nn]=!0}var Sn=new Set,pt={};function de(l,d){Fe(l,d),Fe(l+"Capture",d)}function Fe(l,d){for(pt[l]=d,l=0;l<d.length;l++)Sn.add(d[l])}var vt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yr={},an={};function en(l){return Y.call(an,l)?!0:Y.call(yr,l)?!1:vt.test(l)?an[l]=!0:(yr[l]=!0,!1)}function sn(l,d,m){if(en(d))if(m===null)l.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var y=d.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+m)}}function me(l,d,m){if(m===null)l.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+m)}}function Ye(l,d,m,y){if(y===null)l.removeAttribute(m);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(m);return}l.setAttributeNS(d,m,""+y)}}var et,Be;function Ze(l){if(et===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);et=d&&d[1]||"",Be=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+et+l+Be}var Ue=!1;function Nt(l,d){if(!l||Ue)return"";Ue=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(d){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(Ie){var Ae=Ie}Reflect.construct(l,[],Ke)}else{try{Ke.call()}catch(Ie){Ae=Ie}l.call(Ke.prototype)}}else{try{throw Error()}catch(Ie){Ae=Ie}(Ke=l())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(Ie){if(Ie&&Ae&&typeof Ie.stack=="string")return[Ie.stack,Ae.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=y.DetermineComponentFrameRoot(),H=C[0],Z=C[1];if(H&&Z){var ce=H.split(`
`),Ee=Z.split(`
`);for(S=y=0;y<ce.length&&!ce[y].includes("DetermineComponentFrameRoot");)y++;for(;S<Ee.length&&!Ee[S].includes("DetermineComponentFrameRoot");)S++;if(y===ce.length||S===Ee.length)for(y=ce.length-1,S=Ee.length-1;1<=y&&0<=S&&ce[y]!==Ee[S];)S--;for(;1<=y&&0<=S;y--,S--)if(ce[y]!==Ee[S]){if(y!==1||S!==1)do if(y--,S--,0>S||ce[y]!==Ee[S]){var ze=`
`+ce[y].replace(" at new "," at ");return l.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",l.displayName)),ze}while(1<=y&&0<=S);break}}}finally{Ue=!1,Error.prepareStackTrace=m}return(m=l?l.displayName||l.name:"")?Ze(m):""}function Pt(l){switch(l.tag){case 26:case 27:case 5:return Ze(l.type);case 16:return Ze("Lazy");case 13:return Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 15:return Nt(l.type,!1);case 11:return Nt(l.type.render,!1);case 1:return Nt(l.type,!0);case 31:return Ze("Activity");default:return""}}function _t(l){try{var d="";do d+=Pt(l),l=l.return;while(l);return d}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function Mt(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function tr(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Tr(l){var d=tr(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),y=""+l[d];if(!l.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,C=m.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return S.call(this)},set:function(H){y=""+H,C.call(this,H)}}),Object.defineProperty(l,d,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(H){y=""+H},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function Gr(l){l._valueTracker||(l._valueTracker=Tr(l))}function gr(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var m=d.getValue(),y="";return l&&(y=tr(l)?l.checked?"true":"false":l.value),l=y,l!==m?(d.setValue(l),!0):!1}function Vn(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var pa=/[\n"\\]/g;function tn(l){return l.replace(pa,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Ra(l,d,m,y,S,C,H,Z){l.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?l.type=H:l.removeAttribute("type"),d!=null?H==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+Mt(d)):l.value!==""+Mt(d)&&(l.value=""+Mt(d)):H!=="submit"&&H!=="reset"||l.removeAttribute("value"),d!=null?ga(l,H,Mt(d)):m!=null?ga(l,H,Mt(m)):y!=null&&l.removeAttribute("value"),S==null&&C!=null&&(l.defaultChecked=!!C),S!=null&&(l.checked=S&&typeof S!="function"&&typeof S!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?l.name=""+Mt(Z):l.removeAttribute("name")}function La(l,d,m,y,S,C,H,Z){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(l.type=C),d!=null||m!=null){if(!(C!=="submit"&&C!=="reset"||d!=null))return;m=m!=null?""+Mt(m):"",d=d!=null?""+Mt(d):m,Z||d===l.value||(l.value=d),l.defaultValue=d}y=y??S,y=typeof y!="function"&&typeof y!="symbol"&&!!y,l.checked=Z?l.checked:!!y,l.defaultChecked=!!y,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(l.name=H)}function ga(l,d,m){d==="number"&&Vn(l.ownerDocument)===l||l.defaultValue===""+m||(l.defaultValue=""+m)}function cs(l,d,m,y){if(l=l.options,d){d={};for(var S=0;S<m.length;S++)d["$"+m[S]]=!0;for(m=0;m<l.length;m++)S=d.hasOwnProperty("$"+l[m].value),l[m].selected!==S&&(l[m].selected=S),S&&y&&(l[m].defaultSelected=!0)}else{for(m=""+Mt(m),d=null,S=0;S<l.length;S++){if(l[S].value===m){l[S].selected=!0,y&&(l[S].defaultSelected=!0);return}d!==null||l[S].disabled||(d=l[S])}d!==null&&(d.selected=!0)}}function Fo(l,d,m){if(d!=null&&(d=""+Mt(d),d!==l.value&&(l.value=d),m==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=m!=null?""+Mt(m):""}function co(l,d,m,y){if(d==null){if(y!=null){if(m!=null)throw Error(n(92));if(K(y)){if(1<y.length)throw Error(n(93));y=y[0]}m=y}m==null&&(m=""),d=m}m=Mt(d),l.defaultValue=m,y=l.textContent,y===m&&y!==""&&y!==null&&(l.value=y)}function zn(l,d){if(d){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=d;return}}l.textContent=d}var Ua=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xs(l,d,m){var y=d.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?y?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":y?l.setProperty(d,m):typeof m!="number"||m===0||Ua.has(d)?d==="float"?l.cssFloat=m:l[d]=(""+m).trim():l[d]=m+"px"}function xc(l,d,m){if(d!=null&&typeof d!="object")throw Error(n(62));if(l=l.style,m!=null){for(var y in m)!m.hasOwnProperty(y)||d!=null&&d.hasOwnProperty(y)||(y.indexOf("--")===0?l.setProperty(y,""):y==="float"?l.cssFloat="":l[y]="");for(var S in d)y=d[S],d.hasOwnProperty(S)&&m[S]!==y&&Xs(l,S,y)}else for(var C in d)d.hasOwnProperty(C)&&Xs(l,C,d[C])}function us(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(l){return Nu.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var yc=null;function Cl(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Fn=null,Sa=null;function vc(l){var d=Un(l);if(d&&(l=d.stateNode)){var m=l[lt]||null;e:switch(l=d.stateNode,d.type){case"input":if(Ra(l,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),d=m.name,m.type==="radio"&&d!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+tn(""+d)+'"][type="radio"]'),d=0;d<m.length;d++){var y=m[d];if(y!==l&&y.form===l.form){var S=y[lt]||null;if(!S)throw Error(n(90));Ra(y,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(d=0;d<m.length;d++)y=m[d],y.form===l.form&&gr(y)}break e;case"textarea":Fo(l,m.value,m.defaultValue);break e;case"select":d=m.value,d!=null&&cs(l,!!m.multiple,d,!1)}}}var gi=!1;function Oi(l,d,m){if(gi)return l(d,m);gi=!0;try{var y=l(d);return y}finally{if(gi=!1,(Fn!==null||Sa!==null)&&(_b(),Fn&&(d=Fn,l=Sa,Sa=Fn=null,vc(d),l)))for(d=0;d<l.length;d++)vc(l[d])}}function Zs(l,d){var m=l.stateNode;if(m===null)return null;var y=m[lt]||null;if(y===null)return null;m=y[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var Va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xi=!1;if(Va)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){xi=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{xi=!1}var ds=null,_r=null,$o=null;function Il(){if($o)return $o;var l,d=_r,m=d.length,y,S="value"in ds?ds.value:ds.textContent,C=S.length;for(l=0;l<m&&d[l]===S[l];l++);var H=m-l;for(y=1;y<=H&&d[m-y]===S[C-y];y++);return $o=S.slice(l,1<y?1-y:void 0)}function Bo(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function qo(){return!0}function z(){return!1}function Q(l){function d(m,y,S,C,H){this._reactName=m,this._targetInst=S,this.type=y,this.nativeEvent=C,this.target=H,this.currentTarget=null;for(var Z in l)l.hasOwnProperty(Z)&&(m=l[Z],this[Z]=m?m(C):C[Z]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?qo:z,this.isPropagationStopped=z,this}return f(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),d}var le={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Re=Q(le),rr=f({},le,{view:0,detail:0}),Vt=Q(rr),jr,vr,Zr,Nr=f({},rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lf,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Zr&&(Zr&&l.type==="mousemove"?(jr=l.screenX-Zr.screenX,vr=l.screenY-Zr.screenY):vr=jr=0,Zr=l),jr)},movementY:function(l){return"movementY"in l?l.movementY:vr}}),$n=Q(Nr),Ya=f({},Nr,{dataTransfer:0}),Bn=Q(Ya),qn=f({},rr,{relatedTarget:0}),Hn=Q(qn),Pi=f({},le,{animationName:0,elapsedTime:0,pseudoElement:0}),Js=Q(Pi),Mi=f({},le,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),th=Q(Mi),Ho=f({},le,{data:0}),Ol=Q(Ho),Hv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gv(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=Wv[l])?!!d[l]:!1}function Lf(){return Gv}var Yv=f({},rr,{key:function(l){if(l.key){var d=Hv[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=Bo(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?bc[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lf,charCode:function(l){return l.type==="keypress"?Bo(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Bo(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Uf=Q(Yv),ei=f({},Nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sg=Q(ei),Kv=f({},rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lf}),Su=Q(Kv),k=f({},le,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=Q(k),q=f({},Nr,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),re=Q(q),Ne=f({},le,{newState:0,oldState:0}),Me=Q(Ne),mt=[9,13,27,32],mr=Va&&"CompositionEvent"in window,Mn=null;Va&&"documentMode"in document&&(Mn=document.documentMode);var on=Va&&"TextEvent"in window&&!Mn,xa=Va&&(!mr||Mn&&8<Mn&&11>=Mn),Di=" ",Pl=!1;function Wo(l,d){switch(l){case"keyup":return mt.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Go(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Yo=!1;function ig(l,d){switch(l){case"compositionend":return Go(d);case"keypress":return d.which!==32?null:(Pl=!0,Di);case"textInput":return l=d.data,l===Di&&Pl?null:l;default:return null}}function jee(l,d){if(Yo)return l==="compositionend"||!mr&&Wo(l,d)?(l=Il(),$o=_r=ds=null,Yo=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return xa&&d.locale!=="ko"?null:d.data;default:return null}}var wee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vP(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!wee[l.type]:d==="textarea"}function bP(l,d,m,y){Fn?Sa?Sa.push(y):Sa=[y]:Fn=y,d=Db(d,"onChange"),0<d.length&&(m=new Re("onChange","change",null,m,y),l.push({event:m,listeners:d}))}var og=null,lg=null;function kee(l){eR(l,0)}function Xv(l){var d=Ot(l);if(gr(d))return l}function jP(l,d){if(l==="change")return d}var wP=!1;if(Va){var R2;if(Va){var L2="oninput"in document;if(!L2){var kP=document.createElement("div");kP.setAttribute("oninput","return;"),L2=typeof kP.oninput=="function"}R2=L2}else R2=!1;wP=R2&&(!document.documentMode||9<document.documentMode)}function NP(){og&&(og.detachEvent("onpropertychange",SP),lg=og=null)}function SP(l){if(l.propertyName==="value"&&Xv(lg)){var d=[];bP(d,lg,l,Cl(l)),Oi(kee,d)}}function Nee(l,d,m){l==="focusin"?(NP(),og=d,lg=m,og.attachEvent("onpropertychange",SP)):l==="focusout"&&NP()}function See(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Xv(lg)}function Eee(l,d){if(l==="click")return Xv(d)}function Aee(l,d){if(l==="input"||l==="change")return Xv(d)}function Tee(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var Ri=typeof Object.is=="function"?Object.is:Tee;function cg(l,d){if(Ri(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var m=Object.keys(l),y=Object.keys(d);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var S=m[y];if(!Y.call(d,S)||!Ri(l[S],d[S]))return!1}return!0}function EP(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function AP(l,d){var m=EP(l);l=0;for(var y;m;){if(m.nodeType===3){if(y=l+m.textContent.length,l<=d&&y>=d)return{node:m,offset:d-l};l=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=EP(m)}}function TP(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?TP(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function _P(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=Vn(l.document);d instanceof l.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)l=d.contentWindow;else break;d=Vn(l.document)}return d}function U2(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}var _ee=Va&&"documentMode"in document&&11>=document.documentMode,Vf=null,V2=null,ug=null,z2=!1;function CP(l,d,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;z2||Vf==null||Vf!==Vn(y)||(y=Vf,"selectionStart"in y&&U2(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),ug&&cg(ug,y)||(ug=y,y=Db(V2,"onSelect"),0<y.length&&(d=new Re("onSelect","select",null,d,m),l.push({event:d,listeners:y}),d.target=Vf)))}function rh(l,d){var m={};return m[l.toLowerCase()]=d.toLowerCase(),m["Webkit"+l]="webkit"+d,m["Moz"+l]="moz"+d,m}var zf={animationend:rh("Animation","AnimationEnd"),animationiteration:rh("Animation","AnimationIteration"),animationstart:rh("Animation","AnimationStart"),transitionrun:rh("Transition","TransitionRun"),transitionstart:rh("Transition","TransitionStart"),transitioncancel:rh("Transition","TransitionCancel"),transitionend:rh("Transition","TransitionEnd")},F2={},IP={};Va&&(IP=document.createElement("div").style,"AnimationEvent"in window||(delete zf.animationend.animation,delete zf.animationiteration.animation,delete zf.animationstart.animation),"TransitionEvent"in window||delete zf.transitionend.transition);function nh(l){if(F2[l])return F2[l];if(!zf[l])return l;var d=zf[l],m;for(m in d)if(d.hasOwnProperty(m)&&m in IP)return F2[l]=d[m];return l}var OP=nh("animationend"),PP=nh("animationiteration"),MP=nh("animationstart"),Cee=nh("transitionrun"),Iee=nh("transitionstart"),Oee=nh("transitioncancel"),DP=nh("transitionend"),RP=new Map,$2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$2.push("scrollEnd");function Ko(l,d){RP.set(l,d),de(d,[l])}var LP=new WeakMap;function uo(l,d){if(typeof l=="object"&&l!==null){var m=LP.get(l);return m!==void 0?m:(d={value:l,source:d,stack:_t(d)},LP.set(l,d),d)}return{value:l,source:d,stack:_t(d)}}var ho=[],Ff=0,B2=0;function Qv(){for(var l=Ff,d=B2=Ff=0;d<l;){var m=ho[d];ho[d++]=null;var y=ho[d];ho[d++]=null;var S=ho[d];ho[d++]=null;var C=ho[d];if(ho[d++]=null,y!==null&&S!==null){var H=y.pending;H===null?S.next=S:(S.next=H.next,H.next=S),y.pending=S}C!==0&&UP(m,S,C)}}function Zv(l,d,m,y){ho[Ff++]=l,ho[Ff++]=d,ho[Ff++]=m,ho[Ff++]=y,B2|=y,l.lanes|=y,l=l.alternate,l!==null&&(l.lanes|=y)}function q2(l,d,m,y){return Zv(l,d,m,y),Jv(l)}function $f(l,d){return Zv(l,null,null,d),Jv(l)}function UP(l,d,m){l.lanes|=m;var y=l.alternate;y!==null&&(y.lanes|=m);for(var S=!1,C=l.return;C!==null;)C.childLanes|=m,y=C.alternate,y!==null&&(y.childLanes|=m),C.tag===22&&(l=C.stateNode,l===null||l._visibility&1||(S=!0)),l=C,C=C.return;return l.tag===3?(C=l.stateNode,S&&d!==null&&(S=31-ht(m),l=C.hiddenUpdates,y=l[S],y===null?l[S]=[d]:y.push(d),d.lane=m|536870912),C):null}function Jv(l){if(50<Dg)throw Dg=0,Xk=null,Error(n(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var Bf={};function Pee(l,d,m,y){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(l,d,m,y){return new Pee(l,d,m,y)}function H2(l){return l=l.prototype,!(!l||!l.isReactComponent)}function jc(l,d){var m=l.alternate;return m===null?(m=Li(l.tag,d,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=d,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&65011712,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,d=l.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m.refCleanup=l.refCleanup,m}function VP(l,d){l.flags&=65011714;var m=l.alternate;return m===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=m.childLanes,l.lanes=m.lanes,l.child=m.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=m.memoizedProps,l.memoizedState=m.memoizedState,l.updateQueue=m.updateQueue,l.type=m.type,d=m.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function eb(l,d,m,y,S,C){var H=0;if(y=l,typeof l=="function")H2(l)&&(H=1);else if(typeof l=="string")H=Dte(l,m,ie.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case _:return l=Li(31,m,d,S),l.elementType=_,l.lanes=C,l;case j:return ah(m.children,S,C,d);case w:H=8,S|=24;break;case b:return l=Li(12,m,d,S|2),l.elementType=b,l.lanes=C,l;case M:return l=Li(13,m,d,S),l.elementType=M,l.lanes=C,l;case L:return l=Li(19,m,d,S),l.elementType=L,l.lanes=C,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case N:case A:H=10;break e;case E:H=9;break e;case O:H=11;break e;case I:H=14;break e;case T:H=16,y=null;break e}H=29,m=Error(n(130,l===null?"null":typeof l,"")),y=null}return d=Li(H,m,d,S),d.elementType=l,d.type=y,d.lanes=C,d}function ah(l,d,m,y){return l=Li(7,l,y,d),l.lanes=m,l}function W2(l,d,m){return l=Li(6,l,null,d),l.lanes=m,l}function G2(l,d,m){return d=Li(4,l.children!==null?l.children:[],l.key,d),d.lanes=m,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}var qf=[],Hf=0,tb=null,rb=0,fo=[],mo=0,sh=null,wc=1,kc="";function ih(l,d){qf[Hf++]=rb,qf[Hf++]=tb,tb=l,rb=d}function zP(l,d,m){fo[mo++]=wc,fo[mo++]=kc,fo[mo++]=sh,sh=l;var y=wc;l=kc;var S=32-ht(y)-1;y&=~(1<<S),m+=1;var C=32-ht(d)+S;if(30<C){var H=S-S%5;C=(y&(1<<H)-1).toString(32),y>>=H,S-=H,wc=1<<32-ht(d)+S|m<<S|y,kc=C+l}else wc=1<<C|m<<S|y,kc=l}function Y2(l){l.return!==null&&(ih(l,1),zP(l,1,0))}function K2(l){for(;l===tb;)tb=qf[--Hf],qf[Hf]=null,rb=qf[--Hf],qf[Hf]=null;for(;l===sh;)sh=fo[--mo],fo[mo]=null,kc=fo[--mo],fo[mo]=null,wc=fo[--mo],fo[mo]=null}var ti=null,oa=null,Jr=!1,oh=null,Ml=!1,X2=Error(n(519));function lh(l){var d=Error(n(418,""));throw fg(uo(d,l)),X2}function FP(l){var d=l.stateNode,m=l.type,y=l.memoizedProps;switch(d[Se]=l,d[lt]=y,m){case"dialog":Ir("cancel",d),Ir("close",d);break;case"iframe":case"object":case"embed":Ir("load",d);break;case"video":case"audio":for(m=0;m<Lg.length;m++)Ir(Lg[m],d);break;case"source":Ir("error",d);break;case"img":case"image":case"link":Ir("error",d),Ir("load",d);break;case"details":Ir("toggle",d);break;case"input":Ir("invalid",d),La(d,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),Gr(d);break;case"select":Ir("invalid",d);break;case"textarea":Ir("invalid",d),co(d,y.value,y.defaultValue,y.children),Gr(d)}m=y.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||d.textContent===""+m||y.suppressHydrationWarning===!0||aR(d.textContent,m)?(y.popover!=null&&(Ir("beforetoggle",d),Ir("toggle",d)),y.onScroll!=null&&Ir("scroll",d),y.onScrollEnd!=null&&Ir("scrollend",d),y.onClick!=null&&(d.onclick=Rb),d=!0):d=!1,d||lh(l)}function $P(l){for(ti=l.return;ti;)switch(ti.tag){case 5:case 13:Ml=!1;return;case 27:case 3:Ml=!0;return;default:ti=ti.return}}function dg(l){if(l!==ti)return!1;if(!Jr)return $P(l),Jr=!0,!1;var d=l.tag,m;if((m=d!==3&&d!==27)&&((m=d===5)&&(m=l.type,m=!(m!=="form"&&m!=="button")||hN(l.type,l.memoizedProps)),m=!m),m&&oa&&lh(l),$P(l),d===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8)if(m=l.data,m==="/$"){if(d===0){oa=Qo(l.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++;l=l.nextSibling}oa=null}}else d===27?(d=oa,Fu(l.type)?(l=gN,gN=null,oa=l):oa=d):oa=ti?Qo(l.stateNode.nextSibling):null;return!0}function hg(){oa=ti=null,Jr=!1}function BP(){var l=oh;return l!==null&&(ji===null?ji=l:ji.push.apply(ji,l),oh=null),l}function fg(l){oh===null?oh=[l]:oh.push(l)}var Q2=G(null),ch=null,Nc=null;function Eu(l,d,m){ne(Q2,d._currentValue),d._currentValue=m}function Sc(l){l._currentValue=Q2.current,J(Q2)}function Z2(l,d,m){for(;l!==null;){var y=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,y!==null&&(y.childLanes|=d)):y!==null&&(y.childLanes&d)!==d&&(y.childLanes|=d),l===m)break;l=l.return}}function J2(l,d,m,y){var S=l.child;for(S!==null&&(S.return=l);S!==null;){var C=S.dependencies;if(C!==null){var H=S.child;C=C.firstContext;e:for(;C!==null;){var Z=C;C=S;for(var ce=0;ce<d.length;ce++)if(Z.context===d[ce]){C.lanes|=m,Z=C.alternate,Z!==null&&(Z.lanes|=m),Z2(C.return,m,l),y||(H=null);break e}C=Z.next}}else if(S.tag===18){if(H=S.return,H===null)throw Error(n(341));H.lanes|=m,C=H.alternate,C!==null&&(C.lanes|=m),Z2(H,m,l),H=null}else H=S.child;if(H!==null)H.return=S;else for(H=S;H!==null;){if(H===l){H=null;break}if(S=H.sibling,S!==null){S.return=H.return,H=S;break}H=H.return}S=H}}function mg(l,d,m,y){l=null;for(var S=d,C=!1;S!==null;){if(!C){if((S.flags&524288)!==0)C=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var H=S.alternate;if(H===null)throw Error(n(387));if(H=H.memoizedProps,H!==null){var Z=S.type;Ri(S.pendingProps.value,H.value)||(l!==null?l.push(Z):l=[Z])}}else if(S===Pe.current){if(H=S.alternate,H===null)throw Error(n(387));H.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(l!==null?l.push(Bg):l=[Bg])}S=S.return}l!==null&&J2(d,l,m,y),d.flags|=262144}function nb(l){for(l=l.firstContext;l!==null;){if(!Ri(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function uh(l){ch=l,Nc=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Ms(l){return qP(ch,l)}function ab(l,d){return ch===null&&uh(l),qP(l,d)}function qP(l,d){var m=d._currentValue;if(d={context:d,memoizedValue:m,next:null},Nc===null){if(l===null)throw Error(n(308));Nc=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else Nc=Nc.next=d;return m}var Mee=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(m,y){l.push(y)}};this.abort=function(){d.aborted=!0,l.forEach(function(m){return m()})}},Dee=t.unstable_scheduleCallback,Ree=t.unstable_NormalPriority,za={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ek(){return{controller:new Mee,data:new Map,refCount:0}}function pg(l){l.refCount--,l.refCount===0&&Dee(Ree,function(){l.controller.abort()})}var gg=null,tk=0,Wf=0,Gf=null;function Lee(l,d){if(gg===null){var m=gg=[];tk=0,Wf=nN(),Gf={status:"pending",value:void 0,then:function(y){m.push(y)}}}return tk++,d.then(HP,HP),d}function HP(){if(--tk===0&&gg!==null){Gf!==null&&(Gf.status="fulfilled");var l=gg;gg=null,Wf=0,Gf=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function Uee(l,d){var m=[],y={status:"pending",value:null,reason:null,then:function(S){m.push(S)}};return l.then(function(){y.status="fulfilled",y.value=d;for(var S=0;S<m.length;S++)(0,m[S])(d)},function(S){for(y.status="rejected",y.reason=S,S=0;S<m.length;S++)(0,m[S])(void 0)}),y}var WP=F.S;F.S=function(l,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&Lee(l,d),WP!==null&&WP(l,d)};var dh=G(null);function rk(){var l=dh.current;return l!==null?l:En.pooledCache}function sb(l,d){d===null?ne(dh,dh.current):ne(dh,d.pool)}function GP(){var l=rk();return l===null?null:{parent:za._currentValue,pool:l}}var xg=Error(n(460)),YP=Error(n(474)),ib=Error(n(542)),nk={then:function(){}};function KP(l){return l=l.status,l==="fulfilled"||l==="rejected"}function ob(){}function XP(l,d,m){switch(m=l[m],m===void 0?l.push(d):m!==d&&(d.then(ob,ob),d=m),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,ZP(l),l;default:if(typeof d.status=="string")d.then(ob,ob);else{if(l=En,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=d,l.status="pending",l.then(function(y){if(d.status==="pending"){var S=d;S.status="fulfilled",S.value=y}},function(y){if(d.status==="pending"){var S=d;S.status="rejected",S.reason=y}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,ZP(l),l}throw yg=d,xg}}var yg=null;function QP(){if(yg===null)throw Error(n(459));var l=yg;return yg=null,l}function ZP(l){if(l===xg||l===ib)throw Error(n(483))}var Au=!1;function ak(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sk(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Tu(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function _u(l,d,m){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(ln&2)!==0){var S=y.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),y.pending=d,d=Jv(l),UP(l,null,m),d}return Zv(l,y,d,m),Jv(l)}function vg(l,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194048)!==0)){var y=d.lanes;y&=l.pendingLanes,m|=y,d.lanes=m,Tt(l,m)}}function ik(l,d){var m=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var S=null,C=null;if(m=m.firstBaseUpdate,m!==null){do{var H={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};C===null?S=C=H:C=C.next=H,m=m.next}while(m!==null);C===null?S=C=d:C=C.next=d}else S=C=d;m={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:C,shared:y.shared,callbacks:y.callbacks},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=d}var ok=!1;function bg(){if(ok){var l=Gf;if(l!==null)throw l}}function jg(l,d,m,y){ok=!1;var S=l.updateQueue;Au=!1;var C=S.firstBaseUpdate,H=S.lastBaseUpdate,Z=S.shared.pending;if(Z!==null){S.shared.pending=null;var ce=Z,Ee=ce.next;ce.next=null,H===null?C=Ee:H.next=Ee,H=ce;var ze=l.alternate;ze!==null&&(ze=ze.updateQueue,Z=ze.lastBaseUpdate,Z!==H&&(Z===null?ze.firstBaseUpdate=Ee:Z.next=Ee,ze.lastBaseUpdate=ce))}if(C!==null){var Ke=S.baseState;H=0,ze=Ee=ce=null,Z=C;do{var Ae=Z.lane&-536870913,Ie=Ae!==Z.lane;if(Ie?($r&Ae)===Ae:(y&Ae)===Ae){Ae!==0&&Ae===Wf&&(ok=!0),ze!==null&&(ze=ze.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var ur=l,nr=Z;Ae=d;var yn=m;switch(nr.tag){case 1:if(ur=nr.payload,typeof ur=="function"){Ke=ur.call(yn,Ke,Ae);break e}Ke=ur;break e;case 3:ur.flags=ur.flags&-65537|128;case 0:if(ur=nr.payload,Ae=typeof ur=="function"?ur.call(yn,Ke,Ae):ur,Ae==null)break e;Ke=f({},Ke,Ae);break e;case 2:Au=!0}}Ae=Z.callback,Ae!==null&&(l.flags|=64,Ie&&(l.flags|=8192),Ie=S.callbacks,Ie===null?S.callbacks=[Ae]:Ie.push(Ae))}else Ie={lane:Ae,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},ze===null?(Ee=ze=Ie,ce=Ke):ze=ze.next=Ie,H|=Ae;if(Z=Z.next,Z===null){if(Z=S.shared.pending,Z===null)break;Ie=Z,Z=Ie.next,Ie.next=null,S.lastBaseUpdate=Ie,S.shared.pending=null}}while(!0);ze===null&&(ce=Ke),S.baseState=ce,S.firstBaseUpdate=Ee,S.lastBaseUpdate=ze,C===null&&(S.shared.lanes=0),Lu|=H,l.lanes=H,l.memoizedState=Ke}}function JP(l,d){if(typeof l!="function")throw Error(n(191,l));l.call(d)}function eM(l,d){var m=l.callbacks;if(m!==null)for(l.callbacks=null,l=0;l<m.length;l++)JP(m[l],d)}var Yf=G(null),lb=G(0);function tM(l,d){l=Oc,ne(lb,l),ne(Yf,d),Oc=l|d.baseLanes}function lk(){ne(lb,Oc),ne(Yf,Yf.current)}function ck(){Oc=lb.current,J(Yf),J(lb)}var Cu=0,wr=null,gn=null,Ea=null,cb=!1,Kf=!1,hh=!1,ub=0,wg=0,Xf=null,Vee=0;function ya(){throw Error(n(321))}function uk(l,d){if(d===null)return!1;for(var m=0;m<d.length&&m<l.length;m++)if(!Ri(l[m],d[m]))return!1;return!0}function dk(l,d,m,y,S,C){return Cu=C,wr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,F.H=l===null||l.memoizedState===null?UM:VM,hh=!1,C=m(y,S),hh=!1,Kf&&(C=nM(d,m,y,S)),rM(l),C}function rM(l){F.H=gb;var d=gn!==null&&gn.next!==null;if(Cu=0,Ea=gn=wr=null,cb=!1,wg=0,Xf=null,d)throw Error(n(300));l===null||Ka||(l=l.dependencies,l!==null&&nb(l)&&(Ka=!0))}function nM(l,d,m,y){wr=l;var S=0;do{if(Kf&&(Xf=null),wg=0,Kf=!1,25<=S)throw Error(n(301));if(S+=1,Ea=gn=null,l.updateQueue!=null){var C=l.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}F.H=Wee,C=d(m,y)}while(Kf);return C}function zee(){var l=F.H,d=l.useState()[0];return d=typeof d.then=="function"?kg(d):d,l=l.useState()[0],(gn!==null?gn.memoizedState:null)!==l&&(wr.flags|=1024),d}function hk(){var l=ub!==0;return ub=0,l}function fk(l,d,m){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~m}function mk(l){if(cb){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}cb=!1}Cu=0,Ea=gn=wr=null,Kf=!1,wg=ub=0,Xf=null}function vi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ea===null?wr.memoizedState=Ea=l:Ea=Ea.next=l,Ea}function Aa(){if(gn===null){var l=wr.alternate;l=l!==null?l.memoizedState:null}else l=gn.next;var d=Ea===null?wr.memoizedState:Ea.next;if(d!==null)Ea=d,gn=l;else{if(l===null)throw wr.alternate===null?Error(n(467)):Error(n(310));gn=l,l={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},Ea===null?wr.memoizedState=Ea=l:Ea=Ea.next=l}return Ea}function pk(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kg(l){var d=wg;return wg+=1,Xf===null&&(Xf=[]),l=XP(Xf,l,d),d=wr,(Ea===null?d.memoizedState:Ea.next)===null&&(d=d.alternate,F.H=d===null||d.memoizedState===null?UM:VM),l}function db(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return kg(l);if(l.$$typeof===A)return Ms(l)}throw Error(n(438,String(l)))}function gk(l){var d=null,m=wr.updateQueue;if(m!==null&&(d=m.memoCache),d==null){var y=wr.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(d={data:y.data.map(function(S){return S.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),m===null&&(m=pk(),wr.updateQueue=m),m.memoCache=d,m=d.data[d.index],m===void 0)for(m=d.data[d.index]=Array(l),y=0;y<l;y++)m[y]=D;return d.index++,m}function Ec(l,d){return typeof d=="function"?d(l):d}function hb(l){var d=Aa();return xk(d,gn,l)}function xk(l,d,m){var y=l.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=m;var S=l.baseQueue,C=y.pending;if(C!==null){if(S!==null){var H=S.next;S.next=C.next,C.next=H}d.baseQueue=S=C,y.pending=null}if(C=l.baseState,S===null)l.memoizedState=C;else{d=S.next;var Z=H=null,ce=null,Ee=d,ze=!1;do{var Ke=Ee.lane&-536870913;if(Ke!==Ee.lane?($r&Ke)===Ke:(Cu&Ke)===Ke){var Ae=Ee.revertLane;if(Ae===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),Ke===Wf&&(ze=!0);else if((Cu&Ae)===Ae){Ee=Ee.next,Ae===Wf&&(ze=!0);continue}else Ke={lane:0,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},ce===null?(Z=ce=Ke,H=C):ce=ce.next=Ke,wr.lanes|=Ae,Lu|=Ae;Ke=Ee.action,hh&&m(C,Ke),C=Ee.hasEagerState?Ee.eagerState:m(C,Ke)}else Ae={lane:Ke,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},ce===null?(Z=ce=Ae,H=C):ce=ce.next=Ae,wr.lanes|=Ke,Lu|=Ke;Ee=Ee.next}while(Ee!==null&&Ee!==d);if(ce===null?H=C:ce.next=Z,!Ri(C,l.memoizedState)&&(Ka=!0,ze&&(m=Gf,m!==null)))throw m;l.memoizedState=C,l.baseState=H,l.baseQueue=ce,y.lastRenderedState=C}return S===null&&(y.lanes=0),[l.memoizedState,y.dispatch]}function yk(l){var d=Aa(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var y=m.dispatch,S=m.pending,C=d.memoizedState;if(S!==null){m.pending=null;var H=S=S.next;do C=l(C,H.action),H=H.next;while(H!==S);Ri(C,d.memoizedState)||(Ka=!0),d.memoizedState=C,d.baseQueue===null&&(d.baseState=C),m.lastRenderedState=C}return[C,y]}function aM(l,d,m){var y=wr,S=Aa(),C=Jr;if(C){if(m===void 0)throw Error(n(407));m=m()}else m=d();var H=!Ri((gn||S).memoizedState,m);H&&(S.memoizedState=m,Ka=!0),S=S.queue;var Z=oM.bind(null,y,S,l);if(Ng(2048,8,Z,[l]),S.getSnapshot!==d||H||Ea!==null&&Ea.memoizedState.tag&1){if(y.flags|=2048,Qf(9,fb(),iM.bind(null,y,S,m,d),null),En===null)throw Error(n(349));C||(Cu&124)!==0||sM(y,d,m)}return m}function sM(l,d,m){l.flags|=16384,l={getSnapshot:d,value:m},d=wr.updateQueue,d===null?(d=pk(),wr.updateQueue=d,d.stores=[l]):(m=d.stores,m===null?d.stores=[l]:m.push(l))}function iM(l,d,m,y){d.value=m,d.getSnapshot=y,lM(d)&&cM(l)}function oM(l,d,m){return m(function(){lM(d)&&cM(l)})}function lM(l){var d=l.getSnapshot;l=l.value;try{var m=d();return!Ri(l,m)}catch{return!0}}function cM(l){var d=$f(l,2);d!==null&&$i(d,l,2)}function vk(l){var d=vi();if(typeof l=="function"){var m=l;if(l=m(),hh){gt(!0);try{m()}finally{gt(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ec,lastRenderedState:l},d}function uM(l,d,m,y){return l.baseState=m,xk(l,gn,typeof y=="function"?y:Ec)}function Fee(l,d,m,y,S){if(pb(l))throw Error(n(485));if(l=d.action,l!==null){var C={payload:S,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){C.listeners.push(H)}};F.T!==null?m(!0):C.isTransition=!1,y(C),m=d.pending,m===null?(C.next=d.pending=C,dM(d,C)):(C.next=m.next,d.pending=m.next=C)}}function dM(l,d){var m=d.action,y=d.payload,S=l.state;if(d.isTransition){var C=F.T,H={};F.T=H;try{var Z=m(S,y),ce=F.S;ce!==null&&ce(H,Z),hM(l,d,Z)}catch(Ee){bk(l,d,Ee)}finally{F.T=C}}else try{C=m(S,y),hM(l,d,C)}catch(Ee){bk(l,d,Ee)}}function hM(l,d,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(y){fM(l,d,y)},function(y){return bk(l,d,y)}):fM(l,d,m)}function fM(l,d,m){d.status="fulfilled",d.value=m,mM(d),l.state=m,d=l.pending,d!==null&&(m=d.next,m===d?l.pending=null:(m=m.next,d.next=m,dM(l,m)))}function bk(l,d,m){var y=l.pending;if(l.pending=null,y!==null){y=y.next;do d.status="rejected",d.reason=m,mM(d),d=d.next;while(d!==y)}l.action=null}function mM(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function pM(l,d){return d}function gM(l,d){if(Jr){var m=En.formState;if(m!==null){e:{var y=wr;if(Jr){if(oa){t:{for(var S=oa,C=Ml;S.nodeType!==8;){if(!C){S=null;break t}if(S=Qo(S.nextSibling),S===null){S=null;break t}}C=S.data,S=C==="F!"||C==="F"?S:null}if(S){oa=Qo(S.nextSibling),y=S.data==="F!";break e}}lh(y)}y=!1}y&&(d=m[0])}}return m=vi(),m.memoizedState=m.baseState=d,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pM,lastRenderedState:d},m.queue=y,m=DM.bind(null,wr,y),y.dispatch=m,y=vk(!1),C=Sk.bind(null,wr,!1,y.queue),y=vi(),S={state:d,dispatch:null,action:l,pending:null},y.queue=S,m=Fee.bind(null,wr,S,C,m),S.dispatch=m,y.memoizedState=l,[d,m,!1]}function xM(l){var d=Aa();return yM(d,gn,l)}function yM(l,d,m){if(d=xk(l,d,pM)[0],l=hb(Ec)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var y=kg(d)}catch(H){throw H===xg?ib:H}else y=d;d=Aa();var S=d.queue,C=S.dispatch;return m!==d.memoizedState&&(wr.flags|=2048,Qf(9,fb(),$ee.bind(null,S,m),null)),[y,C,l]}function $ee(l,d){l.action=d}function vM(l){var d=Aa(),m=gn;if(m!==null)return yM(d,m,l);Aa(),d=d.memoizedState,m=Aa();var y=m.queue.dispatch;return m.memoizedState=l,[d,y,!1]}function Qf(l,d,m,y){return l={tag:l,create:m,deps:y,inst:d,next:null},d=wr.updateQueue,d===null&&(d=pk(),wr.updateQueue=d),m=d.lastEffect,m===null?d.lastEffect=l.next=l:(y=m.next,m.next=l,l.next=y,d.lastEffect=l),l}function fb(){return{destroy:void 0,resource:void 0}}function bM(){return Aa().memoizedState}function mb(l,d,m,y){var S=vi();y=y===void 0?null:y,wr.flags|=l,S.memoizedState=Qf(1|d,fb(),m,y)}function Ng(l,d,m,y){var S=Aa();y=y===void 0?null:y;var C=S.memoizedState.inst;gn!==null&&y!==null&&uk(y,gn.memoizedState.deps)?S.memoizedState=Qf(d,C,m,y):(wr.flags|=l,S.memoizedState=Qf(1|d,C,m,y))}function jM(l,d){mb(8390656,8,l,d)}function wM(l,d){Ng(2048,8,l,d)}function kM(l,d){return Ng(4,2,l,d)}function NM(l,d){return Ng(4,4,l,d)}function SM(l,d){if(typeof d=="function"){l=l();var m=d(l);return function(){typeof m=="function"?m():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function EM(l,d,m){m=m!=null?m.concat([l]):null,Ng(4,4,SM.bind(null,d,l),m)}function jk(){}function AM(l,d){var m=Aa();d=d===void 0?null:d;var y=m.memoizedState;return d!==null&&uk(d,y[1])?y[0]:(m.memoizedState=[l,d],l)}function TM(l,d){var m=Aa();d=d===void 0?null:d;var y=m.memoizedState;if(d!==null&&uk(d,y[1]))return y[0];if(y=l(),hh){gt(!0);try{l()}finally{gt(!1)}}return m.memoizedState=[y,d],y}function wk(l,d,m){return m===void 0||(Cu&1073741824)!==0?l.memoizedState=d:(l.memoizedState=m,l=ID(),wr.lanes|=l,Lu|=l,m)}function _M(l,d,m,y){return Ri(m,d)?m:Yf.current!==null?(l=wk(l,m,y),Ri(l,d)||(Ka=!0),l):(Cu&42)===0?(Ka=!0,l.memoizedState=m):(l=ID(),wr.lanes|=l,Lu|=l,d)}function CM(l,d,m,y,S){var C=W.p;W.p=C!==0&&8>C?C:8;var H=F.T,Z={};F.T=Z,Sk(l,!1,d,m);try{var ce=S(),Ee=F.S;if(Ee!==null&&Ee(Z,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var ze=Uee(ce,y);Sg(l,d,ze,Fi(l))}else Sg(l,d,y,Fi(l))}catch(Ke){Sg(l,d,{then:function(){},status:"rejected",reason:Ke},Fi())}finally{W.p=C,F.T=H}}function Bee(){}function kk(l,d,m,y){if(l.tag!==5)throw Error(n(476));var S=IM(l).queue;CM(l,S,d,te,m===null?Bee:function(){return OM(l),m(y)})}function IM(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ec,lastRenderedState:te},next:null};var m={};return d.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ec,lastRenderedState:m},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function OM(l){var d=IM(l).next.queue;Sg(l,d,{},Fi())}function Nk(){return Ms(Bg)}function PM(){return Aa().memoizedState}function MM(){return Aa().memoizedState}function qee(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var m=Fi();l=Tu(m);var y=_u(d,l,m);y!==null&&($i(y,d,m),vg(y,d,m)),d={cache:ek()},l.payload=d;return}d=d.return}}function Hee(l,d,m){var y=Fi();m={lane:y,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},pb(l)?RM(d,m):(m=q2(l,d,m,y),m!==null&&($i(m,l,y),LM(m,d,y)))}function DM(l,d,m){var y=Fi();Sg(l,d,m,y)}function Sg(l,d,m,y){var S={lane:y,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(pb(l))RM(d,S);else{var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=d.lastRenderedReducer,C!==null))try{var H=d.lastRenderedState,Z=C(H,m);if(S.hasEagerState=!0,S.eagerState=Z,Ri(Z,H))return Zv(l,d,S,0),En===null&&Qv(),!1}catch{}finally{}if(m=q2(l,d,S,y),m!==null)return $i(m,l,y),LM(m,d,y),!0}return!1}function Sk(l,d,m,y){if(y={lane:2,revertLane:nN(),action:y,hasEagerState:!1,eagerState:null,next:null},pb(l)){if(d)throw Error(n(479))}else d=q2(l,m,y,2),d!==null&&$i(d,l,2)}function pb(l){var d=l.alternate;return l===wr||d!==null&&d===wr}function RM(l,d){Kf=cb=!0;var m=l.pending;m===null?d.next=d:(d.next=m.next,m.next=d),l.pending=d}function LM(l,d,m){if((m&4194048)!==0){var y=d.lanes;y&=l.pendingLanes,m|=y,d.lanes=m,Tt(l,m)}}var gb={readContext:Ms,use:db,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useLayoutEffect:ya,useInsertionEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useSyncExternalStore:ya,useId:ya,useHostTransitionStatus:ya,useFormState:ya,useActionState:ya,useOptimistic:ya,useMemoCache:ya,useCacheRefresh:ya},UM={readContext:Ms,use:db,useCallback:function(l,d){return vi().memoizedState=[l,d===void 0?null:d],l},useContext:Ms,useEffect:jM,useImperativeHandle:function(l,d,m){m=m!=null?m.concat([l]):null,mb(4194308,4,SM.bind(null,d,l),m)},useLayoutEffect:function(l,d){return mb(4194308,4,l,d)},useInsertionEffect:function(l,d){mb(4,2,l,d)},useMemo:function(l,d){var m=vi();d=d===void 0?null:d;var y=l();if(hh){gt(!0);try{l()}finally{gt(!1)}}return m.memoizedState=[y,d],y},useReducer:function(l,d,m){var y=vi();if(m!==void 0){var S=m(d);if(hh){gt(!0);try{m(d)}finally{gt(!1)}}}else S=d;return y.memoizedState=y.baseState=S,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:S},y.queue=l,l=l.dispatch=Hee.bind(null,wr,l),[y.memoizedState,l]},useRef:function(l){var d=vi();return l={current:l},d.memoizedState=l},useState:function(l){l=vk(l);var d=l.queue,m=DM.bind(null,wr,d);return d.dispatch=m,[l.memoizedState,m]},useDebugValue:jk,useDeferredValue:function(l,d){var m=vi();return wk(m,l,d)},useTransition:function(){var l=vk(!1);return l=CM.bind(null,wr,l.queue,!0,!1),vi().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,m){var y=wr,S=vi();if(Jr){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),En===null)throw Error(n(349));($r&124)!==0||sM(y,d,m)}S.memoizedState=m;var C={value:m,getSnapshot:d};return S.queue=C,jM(oM.bind(null,y,C,l),[l]),y.flags|=2048,Qf(9,fb(),iM.bind(null,y,C,m,d),null),m},useId:function(){var l=vi(),d=En.identifierPrefix;if(Jr){var m=kc,y=wc;m=(y&~(1<<32-ht(y)-1)).toString(32)+m,d=""+d+"R"+m,m=ub++,0<m&&(d+="H"+m.toString(32)),d+=""}else m=Vee++,d=""+d+"r"+m.toString(32)+"";return l.memoizedState=d},useHostTransitionStatus:Nk,useFormState:gM,useActionState:gM,useOptimistic:function(l){var d=vi();d.memoizedState=d.baseState=l;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=m,d=Sk.bind(null,wr,!0,m),m.dispatch=d,[l,d]},useMemoCache:gk,useCacheRefresh:function(){return vi().memoizedState=qee.bind(null,wr)}},VM={readContext:Ms,use:db,useCallback:AM,useContext:Ms,useEffect:wM,useImperativeHandle:EM,useInsertionEffect:kM,useLayoutEffect:NM,useMemo:TM,useReducer:hb,useRef:bM,useState:function(){return hb(Ec)},useDebugValue:jk,useDeferredValue:function(l,d){var m=Aa();return _M(m,gn.memoizedState,l,d)},useTransition:function(){var l=hb(Ec)[0],d=Aa().memoizedState;return[typeof l=="boolean"?l:kg(l),d]},useSyncExternalStore:aM,useId:PM,useHostTransitionStatus:Nk,useFormState:xM,useActionState:xM,useOptimistic:function(l,d){var m=Aa();return uM(m,gn,l,d)},useMemoCache:gk,useCacheRefresh:MM},Wee={readContext:Ms,use:db,useCallback:AM,useContext:Ms,useEffect:wM,useImperativeHandle:EM,useInsertionEffect:kM,useLayoutEffect:NM,useMemo:TM,useReducer:yk,useRef:bM,useState:function(){return yk(Ec)},useDebugValue:jk,useDeferredValue:function(l,d){var m=Aa();return gn===null?wk(m,l,d):_M(m,gn.memoizedState,l,d)},useTransition:function(){var l=yk(Ec)[0],d=Aa().memoizedState;return[typeof l=="boolean"?l:kg(l),d]},useSyncExternalStore:aM,useId:PM,useHostTransitionStatus:Nk,useFormState:vM,useActionState:vM,useOptimistic:function(l,d){var m=Aa();return gn!==null?uM(m,gn,l,d):(m.baseState=l,[l,m.queue.dispatch])},useMemoCache:gk,useCacheRefresh:MM},Zf=null,Eg=0;function xb(l){var d=Eg;return Eg+=1,Zf===null&&(Zf=[]),XP(Zf,l,d)}function Ag(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function yb(l,d){throw d.$$typeof===p?Error(n(525)):(l=Object.prototype.toString.call(d),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function zM(l){var d=l._init;return d(l._payload)}function FM(l){function d(be,xe){if(l){var ke=be.deletions;ke===null?(be.deletions=[xe],be.flags|=16):ke.push(xe)}}function m(be,xe){if(!l)return null;for(;xe!==null;)d(be,xe),xe=xe.sibling;return null}function y(be){for(var xe=new Map;be!==null;)be.key!==null?xe.set(be.key,be):xe.set(be.index,be),be=be.sibling;return xe}function S(be,xe){return be=jc(be,xe),be.index=0,be.sibling=null,be}function C(be,xe,ke){return be.index=ke,l?(ke=be.alternate,ke!==null?(ke=ke.index,ke<xe?(be.flags|=67108866,xe):ke):(be.flags|=67108866,xe)):(be.flags|=1048576,xe)}function H(be){return l&&be.alternate===null&&(be.flags|=67108866),be}function Z(be,xe,ke,qe){return xe===null||xe.tag!==6?(xe=W2(ke,be.mode,qe),xe.return=be,xe):(xe=S(xe,ke),xe.return=be,xe)}function ce(be,xe,ke,qe){var zt=ke.type;return zt===j?ze(be,xe,ke.props.children,qe,ke.key):xe!==null&&(xe.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===T&&zM(zt)===xe.type)?(xe=S(xe,ke.props),Ag(xe,ke),xe.return=be,xe):(xe=eb(ke.type,ke.key,ke.props,null,be.mode,qe),Ag(xe,ke),xe.return=be,xe)}function Ee(be,xe,ke,qe){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==ke.containerInfo||xe.stateNode.implementation!==ke.implementation?(xe=G2(ke,be.mode,qe),xe.return=be,xe):(xe=S(xe,ke.children||[]),xe.return=be,xe)}function ze(be,xe,ke,qe,zt){return xe===null||xe.tag!==7?(xe=ah(ke,be.mode,qe,zt),xe.return=be,xe):(xe=S(xe,ke),xe.return=be,xe)}function Ke(be,xe,ke){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return xe=W2(""+xe,be.mode,ke),xe.return=be,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case g:return ke=eb(xe.type,xe.key,xe.props,null,be.mode,ke),Ag(ke,xe),ke.return=be,ke;case x:return xe=G2(xe,be.mode,ke),xe.return=be,xe;case T:var qe=xe._init;return xe=qe(xe._payload),Ke(be,xe,ke)}if(K(xe)||R(xe))return xe=ah(xe,be.mode,ke,null),xe.return=be,xe;if(typeof xe.then=="function")return Ke(be,xb(xe),ke);if(xe.$$typeof===A)return Ke(be,ab(be,xe),ke);yb(be,xe)}return null}function Ae(be,xe,ke,qe){var zt=xe!==null?xe.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return zt!==null?null:Z(be,xe,""+ke,qe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case g:return ke.key===zt?ce(be,xe,ke,qe):null;case x:return ke.key===zt?Ee(be,xe,ke,qe):null;case T:return zt=ke._init,ke=zt(ke._payload),Ae(be,xe,ke,qe)}if(K(ke)||R(ke))return zt!==null?null:ze(be,xe,ke,qe,null);if(typeof ke.then=="function")return Ae(be,xe,xb(ke),qe);if(ke.$$typeof===A)return Ae(be,xe,ab(be,ke),qe);yb(be,ke)}return null}function Ie(be,xe,ke,qe,zt){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return be=be.get(ke)||null,Z(xe,be,""+qe,zt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case g:return be=be.get(qe.key===null?ke:qe.key)||null,ce(xe,be,qe,zt);case x:return be=be.get(qe.key===null?ke:qe.key)||null,Ee(xe,be,qe,zt);case T:var Sr=qe._init;return qe=Sr(qe._payload),Ie(be,xe,ke,qe,zt)}if(K(qe)||R(qe))return be=be.get(ke)||null,ze(xe,be,qe,zt,null);if(typeof qe.then=="function")return Ie(be,xe,ke,xb(qe),zt);if(qe.$$typeof===A)return Ie(be,xe,ke,ab(xe,qe),zt);yb(xe,qe)}return null}function ur(be,xe,ke,qe){for(var zt=null,Sr=null,Wt=xe,or=xe=0,Qa=null;Wt!==null&&or<ke.length;or++){Wt.index>or?(Qa=Wt,Wt=null):Qa=Wt.sibling;var Yr=Ae(be,Wt,ke[or],qe);if(Yr===null){Wt===null&&(Wt=Qa);break}l&&Wt&&Yr.alternate===null&&d(be,Wt),xe=C(Yr,xe,or),Sr===null?zt=Yr:Sr.sibling=Yr,Sr=Yr,Wt=Qa}if(or===ke.length)return m(be,Wt),Jr&&ih(be,or),zt;if(Wt===null){for(;or<ke.length;or++)Wt=Ke(be,ke[or],qe),Wt!==null&&(xe=C(Wt,xe,or),Sr===null?zt=Wt:Sr.sibling=Wt,Sr=Wt);return Jr&&ih(be,or),zt}for(Wt=y(Wt);or<ke.length;or++)Qa=Ie(Wt,be,or,ke[or],qe),Qa!==null&&(l&&Qa.alternate!==null&&Wt.delete(Qa.key===null?or:Qa.key),xe=C(Qa,xe,or),Sr===null?zt=Qa:Sr.sibling=Qa,Sr=Qa);return l&&Wt.forEach(function(Wu){return d(be,Wu)}),Jr&&ih(be,or),zt}function nr(be,xe,ke,qe){if(ke==null)throw Error(n(151));for(var zt=null,Sr=null,Wt=xe,or=xe=0,Qa=null,Yr=ke.next();Wt!==null&&!Yr.done;or++,Yr=ke.next()){Wt.index>or?(Qa=Wt,Wt=null):Qa=Wt.sibling;var Wu=Ae(be,Wt,Yr.value,qe);if(Wu===null){Wt===null&&(Wt=Qa);break}l&&Wt&&Wu.alternate===null&&d(be,Wt),xe=C(Wu,xe,or),Sr===null?zt=Wu:Sr.sibling=Wu,Sr=Wu,Wt=Qa}if(Yr.done)return m(be,Wt),Jr&&ih(be,or),zt;if(Wt===null){for(;!Yr.done;or++,Yr=ke.next())Yr=Ke(be,Yr.value,qe),Yr!==null&&(xe=C(Yr,xe,or),Sr===null?zt=Yr:Sr.sibling=Yr,Sr=Yr);return Jr&&ih(be,or),zt}for(Wt=y(Wt);!Yr.done;or++,Yr=ke.next())Yr=Ie(Wt,be,or,Yr.value,qe),Yr!==null&&(l&&Yr.alternate!==null&&Wt.delete(Yr.key===null?or:Yr.key),xe=C(Yr,xe,or),Sr===null?zt=Yr:Sr.sibling=Yr,Sr=Yr);return l&&Wt.forEach(function(Gte){return d(be,Gte)}),Jr&&ih(be,or),zt}function yn(be,xe,ke,qe){if(typeof ke=="object"&&ke!==null&&ke.type===j&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case g:e:{for(var zt=ke.key;xe!==null;){if(xe.key===zt){if(zt=ke.type,zt===j){if(xe.tag===7){m(be,xe.sibling),qe=S(xe,ke.props.children),qe.return=be,be=qe;break e}}else if(xe.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===T&&zM(zt)===xe.type){m(be,xe.sibling),qe=S(xe,ke.props),Ag(qe,ke),qe.return=be,be=qe;break e}m(be,xe);break}else d(be,xe);xe=xe.sibling}ke.type===j?(qe=ah(ke.props.children,be.mode,qe,ke.key),qe.return=be,be=qe):(qe=eb(ke.type,ke.key,ke.props,null,be.mode,qe),Ag(qe,ke),qe.return=be,be=qe)}return H(be);case x:e:{for(zt=ke.key;xe!==null;){if(xe.key===zt)if(xe.tag===4&&xe.stateNode.containerInfo===ke.containerInfo&&xe.stateNode.implementation===ke.implementation){m(be,xe.sibling),qe=S(xe,ke.children||[]),qe.return=be,be=qe;break e}else{m(be,xe);break}else d(be,xe);xe=xe.sibling}qe=G2(ke,be.mode,qe),qe.return=be,be=qe}return H(be);case T:return zt=ke._init,ke=zt(ke._payload),yn(be,xe,ke,qe)}if(K(ke))return ur(be,xe,ke,qe);if(R(ke)){if(zt=R(ke),typeof zt!="function")throw Error(n(150));return ke=zt.call(ke),nr(be,xe,ke,qe)}if(typeof ke.then=="function")return yn(be,xe,xb(ke),qe);if(ke.$$typeof===A)return yn(be,xe,ab(be,ke),qe);yb(be,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,xe!==null&&xe.tag===6?(m(be,xe.sibling),qe=S(xe,ke),qe.return=be,be=qe):(m(be,xe),qe=W2(ke,be.mode,qe),qe.return=be,be=qe),H(be)):m(be,xe)}return function(be,xe,ke,qe){try{Eg=0;var zt=yn(be,xe,ke,qe);return Zf=null,zt}catch(Wt){if(Wt===xg||Wt===ib)throw Wt;var Sr=Li(29,Wt,null,be.mode);return Sr.lanes=qe,Sr.return=be,Sr}finally{}}}var Jf=FM(!0),$M=FM(!1),po=G(null),Dl=null;function Iu(l){var d=l.alternate;ne(Fa,Fa.current&1),ne(po,l),Dl===null&&(d===null||Yf.current!==null||d.memoizedState!==null)&&(Dl=l)}function BM(l){if(l.tag===22){if(ne(Fa,Fa.current),ne(po,l),Dl===null){var d=l.alternate;d!==null&&d.memoizedState!==null&&(Dl=l)}}else Ou()}function Ou(){ne(Fa,Fa.current),ne(po,po.current)}function Ac(l){J(po),Dl===l&&(Dl=null),J(Fa)}var Fa=G(0);function vb(l){for(var d=l;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||pN(m)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function Ek(l,d,m,y){d=l.memoizedState,m=m(y,d),m=m==null?d:f({},d,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Ak={enqueueSetState:function(l,d,m){l=l._reactInternals;var y=Fi(),S=Tu(y);S.payload=d,m!=null&&(S.callback=m),d=_u(l,S,y),d!==null&&($i(d,l,y),vg(d,l,y))},enqueueReplaceState:function(l,d,m){l=l._reactInternals;var y=Fi(),S=Tu(y);S.tag=1,S.payload=d,m!=null&&(S.callback=m),d=_u(l,S,y),d!==null&&($i(d,l,y),vg(d,l,y))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var m=Fi(),y=Tu(m);y.tag=2,d!=null&&(y.callback=d),d=_u(l,y,m),d!==null&&($i(d,l,m),vg(d,l,m))}};function qM(l,d,m,y,S,C,H){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,C,H):d.prototype&&d.prototype.isPureReactComponent?!cg(m,y)||!cg(S,C):!0}function HM(l,d,m,y){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,y),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,y),d.state!==l&&Ak.enqueueReplaceState(d,d.state,null)}function fh(l,d){var m=d;if("ref"in d){m={};for(var y in d)y!=="ref"&&(m[y]=d[y])}if(l=l.defaultProps){m===d&&(m=f({},m));for(var S in l)m[S]===void 0&&(m[S]=l[S])}return m}var bb=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function WM(l){bb(l)}function GM(l){console.error(l)}function YM(l){bb(l)}function jb(l,d){try{var m=l.onUncaughtError;m(d.value,{componentStack:d.stack})}catch(y){setTimeout(function(){throw y})}}function KM(l,d,m){try{var y=l.onCaughtError;y(m.value,{componentStack:m.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Tk(l,d,m){return m=Tu(m),m.tag=3,m.payload={element:null},m.callback=function(){jb(l,d)},m}function XM(l){return l=Tu(l),l.tag=3,l}function QM(l,d,m,y){var S=m.type.getDerivedStateFromError;if(typeof S=="function"){var C=y.value;l.payload=function(){return S(C)},l.callback=function(){KM(d,m,y)}}var H=m.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(l.callback=function(){KM(d,m,y),typeof S!="function"&&(Uu===null?Uu=new Set([this]):Uu.add(this));var Z=y.stack;this.componentDidCatch(y.value,{componentStack:Z!==null?Z:""})})}function Gee(l,d,m,y,S){if(m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(d=m.alternate,d!==null&&mg(d,m,S,!0),m=po.current,m!==null){switch(m.tag){case 13:return Dl===null?Zk():m.alternate===null&&la===0&&(la=3),m.flags&=-257,m.flags|=65536,m.lanes=S,y===nk?m.flags|=16384:(d=m.updateQueue,d===null?m.updateQueue=new Set([y]):d.add(y),eN(l,y,S)),!1;case 22:return m.flags|=65536,y===nk?m.flags|=16384:(d=m.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([y])},m.updateQueue=d):(m=d.retryQueue,m===null?d.retryQueue=new Set([y]):m.add(y)),eN(l,y,S)),!1}throw Error(n(435,m.tag))}return eN(l,y,S),Zk(),!1}if(Jr)return d=po.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=S,y!==X2&&(l=Error(n(422),{cause:y}),fg(uo(l,m)))):(y!==X2&&(d=Error(n(423),{cause:y}),fg(uo(d,m))),l=l.current.alternate,l.flags|=65536,S&=-S,l.lanes|=S,y=uo(y,m),S=Tk(l.stateNode,y,S),ik(l,S),la!==4&&(la=2)),!1;var C=Error(n(520),{cause:y});if(C=uo(C,m),Mg===null?Mg=[C]:Mg.push(C),la!==4&&(la=2),d===null)return!0;y=uo(y,m),m=d;do{switch(m.tag){case 3:return m.flags|=65536,l=S&-S,m.lanes|=l,l=Tk(m.stateNode,y,l),ik(m,l),!1;case 1:if(d=m.type,C=m.stateNode,(m.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Uu===null||!Uu.has(C))))return m.flags|=65536,S&=-S,m.lanes|=S,S=XM(S),QM(S,l,m,y),ik(m,S),!1}m=m.return}while(m!==null);return!1}var ZM=Error(n(461)),Ka=!1;function hs(l,d,m,y){d.child=l===null?$M(d,null,m,y):Jf(d,l.child,m,y)}function JM(l,d,m,y,S){m=m.render;var C=d.ref;if("ref"in y){var H={};for(var Z in y)Z!=="ref"&&(H[Z]=y[Z])}else H=y;return uh(d),y=dk(l,d,m,H,C,S),Z=hk(),l!==null&&!Ka?(fk(l,d,S),Tc(l,d,S)):(Jr&&Z&&Y2(d),d.flags|=1,hs(l,d,y,S),d.child)}function eD(l,d,m,y,S){if(l===null){var C=m.type;return typeof C=="function"&&!H2(C)&&C.defaultProps===void 0&&m.compare===null?(d.tag=15,d.type=C,tD(l,d,C,y,S)):(l=eb(m.type,null,y,d,d.mode,S),l.ref=d.ref,l.return=d,d.child=l)}if(C=l.child,!Rk(l,S)){var H=C.memoizedProps;if(m=m.compare,m=m!==null?m:cg,m(H,y)&&l.ref===d.ref)return Tc(l,d,S)}return d.flags|=1,l=jc(C,y),l.ref=d.ref,l.return=d,d.child=l}function tD(l,d,m,y,S){if(l!==null){var C=l.memoizedProps;if(cg(C,y)&&l.ref===d.ref)if(Ka=!1,d.pendingProps=y=C,Rk(l,S))(l.flags&131072)!==0&&(Ka=!0);else return d.lanes=l.lanes,Tc(l,d,S)}return _k(l,d,m,y,S)}function rD(l,d,m){var y=d.pendingProps,S=y.children,C=l!==null?l.memoizedState:null;if(y.mode==="hidden"){if((d.flags&128)!==0){if(y=C!==null?C.baseLanes|m:m,l!==null){for(S=d.child=l.child,C=0;S!==null;)C=C|S.lanes|S.childLanes,S=S.sibling;d.childLanes=C&~y}else d.childLanes=0,d.child=null;return nD(l,d,y,m)}if((m&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&sb(d,C!==null?C.cachePool:null),C!==null?tM(d,C):lk(),BM(d);else return d.lanes=d.childLanes=536870912,nD(l,d,C!==null?C.baseLanes|m:m,m)}else C!==null?(sb(d,C.cachePool),tM(d,C),Ou(),d.memoizedState=null):(l!==null&&sb(d,null),lk(),Ou());return hs(l,d,S,m),d.child}function nD(l,d,m,y){var S=rk();return S=S===null?null:{parent:za._currentValue,pool:S},d.memoizedState={baseLanes:m,cachePool:S},l!==null&&sb(d,null),lk(),BM(d),l!==null&&mg(l,d,y,!0),null}function wb(l,d){var m=d.ref;if(m===null)l!==null&&l.ref!==null&&(d.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(l===null||l.ref!==m)&&(d.flags|=4194816)}}function _k(l,d,m,y,S){return uh(d),m=dk(l,d,m,y,void 0,S),y=hk(),l!==null&&!Ka?(fk(l,d,S),Tc(l,d,S)):(Jr&&y&&Y2(d),d.flags|=1,hs(l,d,m,S),d.child)}function aD(l,d,m,y,S,C){return uh(d),d.updateQueue=null,m=nM(d,y,m,S),rM(l),y=hk(),l!==null&&!Ka?(fk(l,d,C),Tc(l,d,C)):(Jr&&y&&Y2(d),d.flags|=1,hs(l,d,m,C),d.child)}function sD(l,d,m,y,S){if(uh(d),d.stateNode===null){var C=Bf,H=m.contextType;typeof H=="object"&&H!==null&&(C=Ms(H)),C=new m(y,C),d.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Ak,d.stateNode=C,C._reactInternals=d,C=d.stateNode,C.props=y,C.state=d.memoizedState,C.refs={},ak(d),H=m.contextType,C.context=typeof H=="object"&&H!==null?Ms(H):Bf,C.state=d.memoizedState,H=m.getDerivedStateFromProps,typeof H=="function"&&(Ek(d,m,H,y),C.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(H=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),H!==C.state&&Ak.enqueueReplaceState(C,C.state,null),jg(d,y,C,S),bg(),C.state=d.memoizedState),typeof C.componentDidMount=="function"&&(d.flags|=4194308),y=!0}else if(l===null){C=d.stateNode;var Z=d.memoizedProps,ce=fh(m,Z);C.props=ce;var Ee=C.context,ze=m.contextType;H=Bf,typeof ze=="object"&&ze!==null&&(H=Ms(ze));var Ke=m.getDerivedStateFromProps;ze=typeof Ke=="function"||typeof C.getSnapshotBeforeUpdate=="function",Z=d.pendingProps!==Z,ze||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Z||Ee!==H)&&HM(d,C,y,H),Au=!1;var Ae=d.memoizedState;C.state=Ae,jg(d,y,C,S),bg(),Ee=d.memoizedState,Z||Ae!==Ee||Au?(typeof Ke=="function"&&(Ek(d,m,Ke,y),Ee=d.memoizedState),(ce=Au||qM(d,m,ce,y,Ae,Ee,H))?(ze||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(d.flags|=4194308)):(typeof C.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=y,d.memoizedState=Ee),C.props=y,C.state=Ee,C.context=H,y=ce):(typeof C.componentDidMount=="function"&&(d.flags|=4194308),y=!1)}else{C=d.stateNode,sk(l,d),H=d.memoizedProps,ze=fh(m,H),C.props=ze,Ke=d.pendingProps,Ae=C.context,Ee=m.contextType,ce=Bf,typeof Ee=="object"&&Ee!==null&&(ce=Ms(Ee)),Z=m.getDerivedStateFromProps,(Ee=typeof Z=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(H!==Ke||Ae!==ce)&&HM(d,C,y,ce),Au=!1,Ae=d.memoizedState,C.state=Ae,jg(d,y,C,S),bg();var Ie=d.memoizedState;H!==Ke||Ae!==Ie||Au||l!==null&&l.dependencies!==null&&nb(l.dependencies)?(typeof Z=="function"&&(Ek(d,m,Z,y),Ie=d.memoizedState),(ze=Au||qM(d,m,ze,y,Ae,Ie,ce)||l!==null&&l.dependencies!==null&&nb(l.dependencies))?(Ee||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(y,Ie,ce),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(y,Ie,ce)),typeof C.componentDidUpdate=="function"&&(d.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof C.componentDidUpdate!="function"||H===l.memoizedProps&&Ae===l.memoizedState||(d.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||H===l.memoizedProps&&Ae===l.memoizedState||(d.flags|=1024),d.memoizedProps=y,d.memoizedState=Ie),C.props=y,C.state=Ie,C.context=ce,y=ze):(typeof C.componentDidUpdate!="function"||H===l.memoizedProps&&Ae===l.memoizedState||(d.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||H===l.memoizedProps&&Ae===l.memoizedState||(d.flags|=1024),y=!1)}return C=y,wb(l,d),y=(d.flags&128)!==0,C||y?(C=d.stateNode,m=y&&typeof m.getDerivedStateFromError!="function"?null:C.render(),d.flags|=1,l!==null&&y?(d.child=Jf(d,l.child,null,S),d.child=Jf(d,null,m,S)):hs(l,d,m,S),d.memoizedState=C.state,l=d.child):l=Tc(l,d,S),l}function iD(l,d,m,y){return hg(),d.flags|=256,hs(l,d,m,y),d.child}var Ck={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ik(l){return{baseLanes:l,cachePool:GP()}}function Ok(l,d,m){return l=l!==null?l.childLanes&~m:0,d&&(l|=go),l}function oD(l,d,m){var y=d.pendingProps,S=!1,C=(d.flags&128)!==0,H;if((H=C)||(H=l!==null&&l.memoizedState===null?!1:(Fa.current&2)!==0),H&&(S=!0,d.flags&=-129),H=(d.flags&32)!==0,d.flags&=-33,l===null){if(Jr){if(S?Iu(d):Ou(),Jr){var Z=oa,ce;if(ce=Z){e:{for(ce=Z,Z=Ml;ce.nodeType!==8;){if(!Z){Z=null;break e}if(ce=Qo(ce.nextSibling),ce===null){Z=null;break e}}Z=ce}Z!==null?(d.memoizedState={dehydrated:Z,treeContext:sh!==null?{id:wc,overflow:kc}:null,retryLane:536870912,hydrationErrors:null},ce=Li(18,null,null,0),ce.stateNode=Z,ce.return=d,d.child=ce,ti=d,oa=null,ce=!0):ce=!1}ce||lh(d)}if(Z=d.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return pN(Z)?d.lanes=32:d.lanes=536870912,null;Ac(d)}return Z=y.children,y=y.fallback,S?(Ou(),S=d.mode,Z=kb({mode:"hidden",children:Z},S),y=ah(y,S,m,null),Z.return=d,y.return=d,Z.sibling=y,d.child=Z,S=d.child,S.memoizedState=Ik(m),S.childLanes=Ok(l,H,m),d.memoizedState=Ck,y):(Iu(d),Pk(d,Z))}if(ce=l.memoizedState,ce!==null&&(Z=ce.dehydrated,Z!==null)){if(C)d.flags&256?(Iu(d),d.flags&=-257,d=Mk(l,d,m)):d.memoizedState!==null?(Ou(),d.child=l.child,d.flags|=128,d=null):(Ou(),S=y.fallback,Z=d.mode,y=kb({mode:"visible",children:y.children},Z),S=ah(S,Z,m,null),S.flags|=2,y.return=d,S.return=d,y.sibling=S,d.child=y,Jf(d,l.child,null,m),y=d.child,y.memoizedState=Ik(m),y.childLanes=Ok(l,H,m),d.memoizedState=Ck,d=S);else if(Iu(d),pN(Z)){if(H=Z.nextSibling&&Z.nextSibling.dataset,H)var Ee=H.dgst;H=Ee,y=Error(n(419)),y.stack="",y.digest=H,fg({value:y,source:null,stack:null}),d=Mk(l,d,m)}else if(Ka||mg(l,d,m,!1),H=(m&l.childLanes)!==0,Ka||H){if(H=En,H!==null&&(y=m&-m,y=(y&42)!==0?1:Ge(y),y=(y&(H.suspendedLanes|m))!==0?0:y,y!==0&&y!==ce.retryLane))throw ce.retryLane=y,$f(l,y),$i(H,l,y),ZM;Z.data==="$?"||Zk(),d=Mk(l,d,m)}else Z.data==="$?"?(d.flags|=192,d.child=l.child,d=null):(l=ce.treeContext,oa=Qo(Z.nextSibling),ti=d,Jr=!0,oh=null,Ml=!1,l!==null&&(fo[mo++]=wc,fo[mo++]=kc,fo[mo++]=sh,wc=l.id,kc=l.overflow,sh=d),d=Pk(d,y.children),d.flags|=4096);return d}return S?(Ou(),S=y.fallback,Z=d.mode,ce=l.child,Ee=ce.sibling,y=jc(ce,{mode:"hidden",children:y.children}),y.subtreeFlags=ce.subtreeFlags&65011712,Ee!==null?S=jc(Ee,S):(S=ah(S,Z,m,null),S.flags|=2),S.return=d,y.return=d,y.sibling=S,d.child=y,y=S,S=d.child,Z=l.child.memoizedState,Z===null?Z=Ik(m):(ce=Z.cachePool,ce!==null?(Ee=za._currentValue,ce=ce.parent!==Ee?{parent:Ee,pool:Ee}:ce):ce=GP(),Z={baseLanes:Z.baseLanes|m,cachePool:ce}),S.memoizedState=Z,S.childLanes=Ok(l,H,m),d.memoizedState=Ck,y):(Iu(d),m=l.child,l=m.sibling,m=jc(m,{mode:"visible",children:y.children}),m.return=d,m.sibling=null,l!==null&&(H=d.deletions,H===null?(d.deletions=[l],d.flags|=16):H.push(l)),d.child=m,d.memoizedState=null,m)}function Pk(l,d){return d=kb({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function kb(l,d){return l=Li(22,l,null,d),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function Mk(l,d,m){return Jf(d,l.child,null,m),l=Pk(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function lD(l,d,m){l.lanes|=d;var y=l.alternate;y!==null&&(y.lanes|=d),Z2(l.return,d,m)}function Dk(l,d,m,y,S){var C=l.memoizedState;C===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:S}:(C.isBackwards=d,C.rendering=null,C.renderingStartTime=0,C.last=y,C.tail=m,C.tailMode=S)}function cD(l,d,m){var y=d.pendingProps,S=y.revealOrder,C=y.tail;if(hs(l,d,y.children,m),y=Fa.current,(y&2)!==0)y=y&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&lD(l,m,d);else if(l.tag===19)lD(l,m,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}switch(ne(Fa,y),S){case"forwards":for(m=d.child,S=null;m!==null;)l=m.alternate,l!==null&&vb(l)===null&&(S=m),m=m.sibling;m=S,m===null?(S=d.child,d.child=null):(S=m.sibling,m.sibling=null),Dk(d,!1,S,m,C);break;case"backwards":for(m=null,S=d.child,d.child=null;S!==null;){if(l=S.alternate,l!==null&&vb(l)===null){d.child=S;break}l=S.sibling,S.sibling=m,m=S,S=l}Dk(d,!0,m,null,C);break;case"together":Dk(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Tc(l,d,m){if(l!==null&&(d.dependencies=l.dependencies),Lu|=d.lanes,(m&d.childLanes)===0)if(l!==null){if(mg(l,d,m,!1),(m&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(n(153));if(d.child!==null){for(l=d.child,m=jc(l,l.pendingProps),d.child=m,m.return=d;l.sibling!==null;)l=l.sibling,m=m.sibling=jc(l,l.pendingProps),m.return=d;m.sibling=null}return d.child}function Rk(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&nb(l)))}function Yee(l,d,m){switch(d.tag){case 3:ue(d,d.stateNode.containerInfo),Eu(d,za,l.memoizedState.cache),hg();break;case 27:case 5:oe(d);break;case 4:ue(d,d.stateNode.containerInfo);break;case 10:Eu(d,d.type,d.memoizedProps.value);break;case 13:var y=d.memoizedState;if(y!==null)return y.dehydrated!==null?(Iu(d),d.flags|=128,null):(m&d.child.childLanes)!==0?oD(l,d,m):(Iu(d),l=Tc(l,d,m),l!==null?l.sibling:null);Iu(d);break;case 19:var S=(l.flags&128)!==0;if(y=(m&d.childLanes)!==0,y||(mg(l,d,m,!1),y=(m&d.childLanes)!==0),S){if(y)return cD(l,d,m);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ne(Fa,Fa.current),y)break;return null;case 22:case 23:return d.lanes=0,rD(l,d,m);case 24:Eu(d,za,l.memoizedState.cache)}return Tc(l,d,m)}function uD(l,d,m){if(l!==null)if(l.memoizedProps!==d.pendingProps)Ka=!0;else{if(!Rk(l,m)&&(d.flags&128)===0)return Ka=!1,Yee(l,d,m);Ka=(l.flags&131072)!==0}else Ka=!1,Jr&&(d.flags&1048576)!==0&&zP(d,rb,d.index);switch(d.lanes=0,d.tag){case 16:e:{l=d.pendingProps;var y=d.elementType,S=y._init;if(y=S(y._payload),d.type=y,typeof y=="function")H2(y)?(l=fh(y,l),d.tag=1,d=sD(null,d,y,l,m)):(d.tag=0,d=_k(null,d,y,l,m));else{if(y!=null){if(S=y.$$typeof,S===O){d.tag=11,d=JM(null,d,y,l,m);break e}else if(S===I){d.tag=14,d=eD(null,d,y,l,m);break e}}throw d=$(y)||y,Error(n(306,d,""))}}return d;case 0:return _k(l,d,d.type,d.pendingProps,m);case 1:return y=d.type,S=fh(y,d.pendingProps),sD(l,d,y,S,m);case 3:e:{if(ue(d,d.stateNode.containerInfo),l===null)throw Error(n(387));y=d.pendingProps;var C=d.memoizedState;S=C.element,sk(l,d),jg(d,y,null,m);var H=d.memoizedState;if(y=H.cache,Eu(d,za,y),y!==C.cache&&J2(d,[za],m,!0),bg(),y=H.element,C.isDehydrated)if(C={element:y,isDehydrated:!1,cache:H.cache},d.updateQueue.baseState=C,d.memoizedState=C,d.flags&256){d=iD(l,d,y,m);break e}else if(y!==S){S=uo(Error(n(424)),d),fg(S),d=iD(l,d,y,m);break e}else{switch(l=d.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(oa=Qo(l.firstChild),ti=d,Jr=!0,oh=null,Ml=!0,m=$M(d,null,y,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(hg(),y===S){d=Tc(l,d,m);break e}hs(l,d,y,m)}d=d.child}return d;case 26:return wb(l,d),l===null?(m=mR(d.type,null,d.pendingProps,null))?d.memoizedState=m:Jr||(m=d.type,l=d.pendingProps,y=Lb(je.current).createElement(m),y[Se]=d,y[lt]=l,ms(y,m,l),Jt(y),d.stateNode=y):d.memoizedState=mR(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return oe(d),l===null&&Jr&&(y=d.stateNode=dR(d.type,d.pendingProps,je.current),ti=d,Ml=!0,S=oa,Fu(d.type)?(gN=S,oa=Qo(y.firstChild)):oa=S),hs(l,d,d.pendingProps.children,m),wb(l,d),l===null&&(d.flags|=4194304),d.child;case 5:return l===null&&Jr&&((S=y=oa)&&(y=wte(y,d.type,d.pendingProps,Ml),y!==null?(d.stateNode=y,ti=d,oa=Qo(y.firstChild),Ml=!1,S=!0):S=!1),S||lh(d)),oe(d),S=d.type,C=d.pendingProps,H=l!==null?l.memoizedProps:null,y=C.children,hN(S,C)?y=null:H!==null&&hN(S,H)&&(d.flags|=32),d.memoizedState!==null&&(S=dk(l,d,zee,null,null,m),Bg._currentValue=S),wb(l,d),hs(l,d,y,m),d.child;case 6:return l===null&&Jr&&((l=m=oa)&&(m=kte(m,d.pendingProps,Ml),m!==null?(d.stateNode=m,ti=d,oa=null,l=!0):l=!1),l||lh(d)),null;case 13:return oD(l,d,m);case 4:return ue(d,d.stateNode.containerInfo),y=d.pendingProps,l===null?d.child=Jf(d,null,y,m):hs(l,d,y,m),d.child;case 11:return JM(l,d,d.type,d.pendingProps,m);case 7:return hs(l,d,d.pendingProps,m),d.child;case 8:return hs(l,d,d.pendingProps.children,m),d.child;case 12:return hs(l,d,d.pendingProps.children,m),d.child;case 10:return y=d.pendingProps,Eu(d,d.type,y.value),hs(l,d,y.children,m),d.child;case 9:return S=d.type._context,y=d.pendingProps.children,uh(d),S=Ms(S),y=y(S),d.flags|=1,hs(l,d,y,m),d.child;case 14:return eD(l,d,d.type,d.pendingProps,m);case 15:return tD(l,d,d.type,d.pendingProps,m);case 19:return cD(l,d,m);case 31:return y=d.pendingProps,m=d.mode,y={mode:y.mode,children:y.children},l===null?(m=kb(y,m),m.ref=d.ref,d.child=m,m.return=d,d=m):(m=jc(l.child,y),m.ref=d.ref,d.child=m,m.return=d,d=m),d;case 22:return rD(l,d,m);case 24:return uh(d),y=Ms(za),l===null?(S=rk(),S===null&&(S=En,C=ek(),S.pooledCache=C,C.refCount++,C!==null&&(S.pooledCacheLanes|=m),S=C),d.memoizedState={parent:y,cache:S},ak(d),Eu(d,za,S)):((l.lanes&m)!==0&&(sk(l,d),jg(d,null,null,m),bg()),S=l.memoizedState,C=d.memoizedState,S.parent!==y?(S={parent:y,cache:y},d.memoizedState=S,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=S),Eu(d,za,y)):(y=C.cache,Eu(d,za,y),y!==S.cache&&J2(d,[za],m,!0))),hs(l,d,d.pendingProps.children,m),d.child;case 29:throw d.pendingProps}throw Error(n(156,d.tag))}function _c(l){l.flags|=4}function dD(l,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!vR(d)){if(d=po.current,d!==null&&(($r&4194048)===$r?Dl!==null:($r&62914560)!==$r&&($r&536870912)===0||d!==Dl))throw yg=nk,YP;l.flags|=8192}}function Nb(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?nt():536870912,l.lanes|=d,nm|=d)}function Tg(l,d){if(!Jr)switch(l.tailMode){case"hidden":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function ta(l){var d=l.alternate!==null&&l.alternate.child===l.child,m=0,y=0;if(d)for(var S=l.child;S!==null;)m|=S.lanes|S.childLanes,y|=S.subtreeFlags&65011712,y|=S.flags&65011712,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)m|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=y,l.childLanes=m,d}function Kee(l,d,m){var y=d.pendingProps;switch(K2(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ta(d),null;case 1:return ta(d),null;case 3:return m=d.stateNode,y=null,l!==null&&(y=l.memoizedState.cache),d.memoizedState.cache!==y&&(d.flags|=2048),Sc(za),ae(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(l===null||l.child===null)&&(dg(d)?_c(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,BP())),ta(d),null;case 26:return m=d.memoizedState,l===null?(_c(d),m!==null?(ta(d),dD(d,m)):(ta(d),d.flags&=-16777217)):m?m!==l.memoizedState?(_c(d),ta(d),dD(d,m)):(ta(d),d.flags&=-16777217):(l.memoizedProps!==y&&_c(d),ta(d),d.flags&=-16777217),null;case 27:ve(d),m=je.current;var S=d.type;if(l!==null&&d.stateNode!=null)l.memoizedProps!==y&&_c(d);else{if(!y){if(d.stateNode===null)throw Error(n(166));return ta(d),null}l=ie.current,dg(d)?FP(d):(l=dR(S,y,m),d.stateNode=l,_c(d))}return ta(d),null;case 5:if(ve(d),m=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==y&&_c(d);else{if(!y){if(d.stateNode===null)throw Error(n(166));return ta(d),null}if(l=ie.current,dg(d))FP(d);else{switch(S=Lb(je.current),l){case 1:l=S.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:l=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":l=S.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":l=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":l=S.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof y.is=="string"?S.createElement("select",{is:y.is}):S.createElement("select"),y.multiple?l.multiple=!0:y.size&&(l.size=y.size);break;default:l=typeof y.is=="string"?S.createElement(m,{is:y.is}):S.createElement(m)}}l[Se]=d,l[lt]=y;e:for(S=d.child;S!==null;){if(S.tag===5||S.tag===6)l.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===d)break e;for(;S.sibling===null;){if(S.return===null||S.return===d)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}d.stateNode=l;e:switch(ms(l,m,y),m){case"button":case"input":case"select":case"textarea":l=!!y.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&_c(d)}}return ta(d),d.flags&=-16777217,null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==y&&_c(d);else{if(typeof y!="string"&&d.stateNode===null)throw Error(n(166));if(l=je.current,dg(d)){if(l=d.stateNode,m=d.memoizedProps,y=null,S=ti,S!==null)switch(S.tag){case 27:case 5:y=S.memoizedProps}l[Se]=d,l=!!(l.nodeValue===m||y!==null&&y.suppressHydrationWarning===!0||aR(l.nodeValue,m)),l||lh(d)}else l=Lb(l).createTextNode(y),l[Se]=d,d.stateNode=l}return ta(d),null;case 13:if(y=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(S=dg(d),y!==null&&y.dehydrated!==null){if(l===null){if(!S)throw Error(n(318));if(S=d.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[Se]=d}else hg(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;ta(d),S=!1}else S=BP(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=S),S=!0;if(!S)return d.flags&256?(Ac(d),d):(Ac(d),null)}if(Ac(d),(d.flags&128)!==0)return d.lanes=m,d;if(m=y!==null,l=l!==null&&l.memoizedState!==null,m){y=d.child,S=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(S=y.alternate.memoizedState.cachePool.pool);var C=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(C=y.memoizedState.cachePool.pool),C!==S&&(y.flags|=2048)}return m!==l&&m&&(d.child.flags|=8192),Nb(d,d.updateQueue),ta(d),null;case 4:return ae(),l===null&&oN(d.stateNode.containerInfo),ta(d),null;case 10:return Sc(d.type),ta(d),null;case 19:if(J(Fa),S=d.memoizedState,S===null)return ta(d),null;if(y=(d.flags&128)!==0,C=S.rendering,C===null)if(y)Tg(S,!1);else{if(la!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(C=vb(l),C!==null){for(d.flags|=128,Tg(S,!1),l=C.updateQueue,d.updateQueue=l,Nb(d,l),d.subtreeFlags=0,l=m,m=d.child;m!==null;)VP(m,l),m=m.sibling;return ne(Fa,Fa.current&1|2),d.child}l=l.sibling}S.tail!==null&&We()>Ab&&(d.flags|=128,y=!0,Tg(S,!1),d.lanes=4194304)}else{if(!y)if(l=vb(C),l!==null){if(d.flags|=128,y=!0,l=l.updateQueue,d.updateQueue=l,Nb(d,l),Tg(S,!0),S.tail===null&&S.tailMode==="hidden"&&!C.alternate&&!Jr)return ta(d),null}else 2*We()-S.renderingStartTime>Ab&&m!==536870912&&(d.flags|=128,y=!0,Tg(S,!1),d.lanes=4194304);S.isBackwards?(C.sibling=d.child,d.child=C):(l=S.last,l!==null?l.sibling=C:d.child=C,S.last=C)}return S.tail!==null?(d=S.tail,S.rendering=d,S.tail=d.sibling,S.renderingStartTime=We(),d.sibling=null,l=Fa.current,ne(Fa,y?l&1|2:l&1),d):(ta(d),null);case 22:case 23:return Ac(d),ck(),y=d.memoizedState!==null,l!==null?l.memoizedState!==null!==y&&(d.flags|=8192):y&&(d.flags|=8192),y?(m&536870912)!==0&&(d.flags&128)===0&&(ta(d),d.subtreeFlags&6&&(d.flags|=8192)):ta(d),m=d.updateQueue,m!==null&&Nb(d,m.retryQueue),m=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==m&&(d.flags|=2048),l!==null&&J(dh),null;case 24:return m=null,l!==null&&(m=l.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),Sc(za),ta(d),null;case 25:return null;case 30:return null}throw Error(n(156,d.tag))}function Xee(l,d){switch(K2(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return Sc(za),ae(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return ve(d),null;case 13:if(Ac(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(n(340));hg()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return J(Fa),null;case 4:return ae(),null;case 10:return Sc(d.type),null;case 22:case 23:return Ac(d),ck(),l!==null&&J(dh),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return Sc(za),null;case 25:return null;default:return null}}function hD(l,d){switch(K2(d),d.tag){case 3:Sc(za),ae();break;case 26:case 27:case 5:ve(d);break;case 4:ae();break;case 13:Ac(d);break;case 19:J(Fa);break;case 10:Sc(d.type);break;case 22:case 23:Ac(d),ck(),l!==null&&J(dh);break;case 24:Sc(za)}}function _g(l,d){try{var m=d.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var S=y.next;m=S;do{if((m.tag&l)===l){y=void 0;var C=m.create,H=m.inst;y=C(),H.destroy=y}m=m.next}while(m!==S)}}catch(Z){bn(d,d.return,Z)}}function Pu(l,d,m){try{var y=d.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var C=S.next;y=C;do{if((y.tag&l)===l){var H=y.inst,Z=H.destroy;if(Z!==void 0){H.destroy=void 0,S=d;var ce=m,Ee=Z;try{Ee()}catch(ze){bn(S,ce,ze)}}}y=y.next}while(y!==C)}}catch(ze){bn(d,d.return,ze)}}function fD(l){var d=l.updateQueue;if(d!==null){var m=l.stateNode;try{eM(d,m)}catch(y){bn(l,l.return,y)}}}function mD(l,d,m){m.props=fh(l.type,l.memoizedProps),m.state=l.memoizedState;try{m.componentWillUnmount()}catch(y){bn(l,d,y)}}function Cg(l,d){try{var m=l.ref;if(m!==null){switch(l.tag){case 26:case 27:case 5:var y=l.stateNode;break;case 30:y=l.stateNode;break;default:y=l.stateNode}typeof m=="function"?l.refCleanup=m(y):m.current=y}}catch(S){bn(l,d,S)}}function Rl(l,d){var m=l.ref,y=l.refCleanup;if(m!==null)if(typeof y=="function")try{y()}catch(S){bn(l,d,S)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(S){bn(l,d,S)}else m.current=null}function pD(l){var d=l.type,m=l.memoizedProps,y=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":m.autoFocus&&y.focus();break e;case"img":m.src?y.src=m.src:m.srcSet&&(y.srcset=m.srcSet)}}catch(S){bn(l,l.return,S)}}function Lk(l,d,m){try{var y=l.stateNode;xte(y,l.type,m,d),y[lt]=d}catch(S){bn(l,l.return,S)}}function gD(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Fu(l.type)||l.tag===4}function Uk(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||gD(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Fu(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Vk(l,d,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,d?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(l,d):(d=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,d.appendChild(l),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Rb));else if(y!==4&&(y===27&&Fu(l.type)&&(m=l.stateNode,d=null),l=l.child,l!==null))for(Vk(l,d,m),l=l.sibling;l!==null;)Vk(l,d,m),l=l.sibling}function Sb(l,d,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,d?m.insertBefore(l,d):m.appendChild(l);else if(y!==4&&(y===27&&Fu(l.type)&&(m=l.stateNode),l=l.child,l!==null))for(Sb(l,d,m),l=l.sibling;l!==null;)Sb(l,d,m),l=l.sibling}function xD(l){var d=l.stateNode,m=l.memoizedProps;try{for(var y=l.type,S=d.attributes;S.length;)d.removeAttributeNode(S[0]);ms(d,y,m),d[Se]=l,d[lt]=m}catch(C){bn(l,l.return,C)}}var Cc=!1,va=!1,zk=!1,yD=typeof WeakSet=="function"?WeakSet:Set,Xa=null;function Qee(l,d){if(l=l.containerInfo,uN=Bb,l=_P(l),U2(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var S=y.anchorOffset,C=y.focusNode;y=y.focusOffset;try{m.nodeType,C.nodeType}catch{m=null;break e}var H=0,Z=-1,ce=-1,Ee=0,ze=0,Ke=l,Ae=null;t:for(;;){for(var Ie;Ke!==m||S!==0&&Ke.nodeType!==3||(Z=H+S),Ke!==C||y!==0&&Ke.nodeType!==3||(ce=H+y),Ke.nodeType===3&&(H+=Ke.nodeValue.length),(Ie=Ke.firstChild)!==null;)Ae=Ke,Ke=Ie;for(;;){if(Ke===l)break t;if(Ae===m&&++Ee===S&&(Z=H),Ae===C&&++ze===y&&(ce=H),(Ie=Ke.nextSibling)!==null)break;Ke=Ae,Ae=Ke.parentNode}Ke=Ie}m=Z===-1||ce===-1?null:{start:Z,end:ce}}else m=null}m=m||{start:0,end:0}}else m=null;for(dN={focusedElem:l,selectionRange:m},Bb=!1,Xa=d;Xa!==null;)if(d=Xa,l=d.child,(d.subtreeFlags&1024)!==0&&l!==null)l.return=d,Xa=l;else for(;Xa!==null;){switch(d=Xa,C=d.alternate,l=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&C!==null){l=void 0,m=d,S=C.memoizedProps,C=C.memoizedState,y=m.stateNode;try{var ur=fh(m.type,S,m.elementType===m.type);l=y.getSnapshotBeforeUpdate(ur,C),y.__reactInternalSnapshotBeforeUpdate=l}catch(nr){bn(m,m.return,nr)}}break;case 3:if((l&1024)!==0){if(l=d.stateNode.containerInfo,m=l.nodeType,m===9)mN(l);else if(m===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":mN(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=d.sibling,l!==null){l.return=d.return,Xa=l;break}Xa=d.return}}function vD(l,d,m){var y=m.flags;switch(m.tag){case 0:case 11:case 15:Mu(l,m),y&4&&_g(5,m);break;case 1:if(Mu(l,m),y&4)if(l=m.stateNode,d===null)try{l.componentDidMount()}catch(H){bn(m,m.return,H)}else{var S=fh(m.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(S,d,l.__reactInternalSnapshotBeforeUpdate)}catch(H){bn(m,m.return,H)}}y&64&&fD(m),y&512&&Cg(m,m.return);break;case 3:if(Mu(l,m),y&64&&(l=m.updateQueue,l!==null)){if(d=null,m.child!==null)switch(m.child.tag){case 27:case 5:d=m.child.stateNode;break;case 1:d=m.child.stateNode}try{eM(l,d)}catch(H){bn(m,m.return,H)}}break;case 27:d===null&&y&4&&xD(m);case 26:case 5:Mu(l,m),d===null&&y&4&&pD(m),y&512&&Cg(m,m.return);break;case 12:Mu(l,m);break;case 13:Mu(l,m),y&4&&wD(l,m),y&64&&(l=m.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(m=ite.bind(null,m),Nte(l,m))));break;case 22:if(y=m.memoizedState!==null||Cc,!y){d=d!==null&&d.memoizedState!==null||va,S=Cc;var C=va;Cc=y,(va=d)&&!C?Du(l,m,(m.subtreeFlags&8772)!==0):Mu(l,m),Cc=S,va=C}break;case 30:break;default:Mu(l,m)}}function bD(l){var d=l.alternate;d!==null&&(l.alternate=null,bD(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&Ln(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Wn=null,bi=!1;function Ic(l,d,m){for(m=m.child;m!==null;)jD(l,d,m),m=m.sibling}function jD(l,d,m){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(rt,m)}catch{}switch(m.tag){case 26:va||Rl(m,d),Ic(l,d,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:va||Rl(m,d);var y=Wn,S=bi;Fu(m.type)&&(Wn=m.stateNode,bi=!1),Ic(l,d,m),Vg(m.stateNode),Wn=y,bi=S;break;case 5:va||Rl(m,d);case 6:if(y=Wn,S=bi,Wn=null,Ic(l,d,m),Wn=y,bi=S,Wn!==null)if(bi)try{(Wn.nodeType===9?Wn.body:Wn.nodeName==="HTML"?Wn.ownerDocument.body:Wn).removeChild(m.stateNode)}catch(C){bn(m,d,C)}else try{Wn.removeChild(m.stateNode)}catch(C){bn(m,d,C)}break;case 18:Wn!==null&&(bi?(l=Wn,cR(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,m.stateNode),Gg(l)):cR(Wn,m.stateNode));break;case 4:y=Wn,S=bi,Wn=m.stateNode.containerInfo,bi=!0,Ic(l,d,m),Wn=y,bi=S;break;case 0:case 11:case 14:case 15:va||Pu(2,m,d),va||Pu(4,m,d),Ic(l,d,m);break;case 1:va||(Rl(m,d),y=m.stateNode,typeof y.componentWillUnmount=="function"&&mD(m,d,y)),Ic(l,d,m);break;case 21:Ic(l,d,m);break;case 22:va=(y=va)||m.memoizedState!==null,Ic(l,d,m),va=y;break;default:Ic(l,d,m)}}function wD(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Gg(l)}catch(m){bn(d,d.return,m)}}function Zee(l){switch(l.tag){case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new yD),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new yD),d;default:throw Error(n(435,l.tag))}}function Fk(l,d){var m=Zee(l);d.forEach(function(y){var S=ote.bind(null,l,y);m.has(y)||(m.add(y),y.then(S,S))})}function Ui(l,d){var m=d.deletions;if(m!==null)for(var y=0;y<m.length;y++){var S=m[y],C=l,H=d,Z=H;e:for(;Z!==null;){switch(Z.tag){case 27:if(Fu(Z.type)){Wn=Z.stateNode,bi=!1;break e}break;case 5:Wn=Z.stateNode,bi=!1;break e;case 3:case 4:Wn=Z.stateNode.containerInfo,bi=!0;break e}Z=Z.return}if(Wn===null)throw Error(n(160));jD(C,H,S),Wn=null,bi=!1,C=S.alternate,C!==null&&(C.return=null),S.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)kD(d,l),d=d.sibling}var Xo=null;function kD(l,d){var m=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Ui(d,l),Vi(l),y&4&&(Pu(3,l,l.return),_g(3,l),Pu(5,l,l.return));break;case 1:Ui(d,l),Vi(l),y&512&&(va||m===null||Rl(m,m.return)),y&64&&Cc&&(l=l.updateQueue,l!==null&&(y=l.callbacks,y!==null&&(m=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=m===null?y:m.concat(y))));break;case 26:var S=Xo;if(Ui(d,l),Vi(l),y&512&&(va||m===null||Rl(m,m.return)),y&4){var C=m!==null?m.memoizedState:null;if(y=l.memoizedState,m===null)if(y===null)if(l.stateNode===null){e:{y=l.type,m=l.memoizedProps,S=S.ownerDocument||S;t:switch(y){case"title":C=S.getElementsByTagName("title")[0],(!C||C[Nn]||C[Se]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=S.createElement(y),S.head.insertBefore(C,S.querySelector("head > title"))),ms(C,y,m),C[Se]=l,Jt(C),y=C;break e;case"link":var H=xR("link","href",S).get(y+(m.href||""));if(H){for(var Z=0;Z<H.length;Z++)if(C=H[Z],C.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&C.getAttribute("rel")===(m.rel==null?null:m.rel)&&C.getAttribute("title")===(m.title==null?null:m.title)&&C.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){H.splice(Z,1);break t}}C=S.createElement(y),ms(C,y,m),S.head.appendChild(C);break;case"meta":if(H=xR("meta","content",S).get(y+(m.content||""))){for(Z=0;Z<H.length;Z++)if(C=H[Z],C.getAttribute("content")===(m.content==null?null:""+m.content)&&C.getAttribute("name")===(m.name==null?null:m.name)&&C.getAttribute("property")===(m.property==null?null:m.property)&&C.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&C.getAttribute("charset")===(m.charSet==null?null:m.charSet)){H.splice(Z,1);break t}}C=S.createElement(y),ms(C,y,m),S.head.appendChild(C);break;default:throw Error(n(468,y))}C[Se]=l,Jt(C),y=C}l.stateNode=y}else yR(S,l.type,l.stateNode);else l.stateNode=gR(S,y,l.memoizedProps);else C!==y?(C===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):C.count--,y===null?yR(S,l.type,l.stateNode):gR(S,y,l.memoizedProps)):y===null&&l.stateNode!==null&&Lk(l,l.memoizedProps,m.memoizedProps)}break;case 27:Ui(d,l),Vi(l),y&512&&(va||m===null||Rl(m,m.return)),m!==null&&y&4&&Lk(l,l.memoizedProps,m.memoizedProps);break;case 5:if(Ui(d,l),Vi(l),y&512&&(va||m===null||Rl(m,m.return)),l.flags&32){S=l.stateNode;try{zn(S,"")}catch(Ie){bn(l,l.return,Ie)}}y&4&&l.stateNode!=null&&(S=l.memoizedProps,Lk(l,S,m!==null?m.memoizedProps:S)),y&1024&&(zk=!0);break;case 6:if(Ui(d,l),Vi(l),y&4){if(l.stateNode===null)throw Error(n(162));y=l.memoizedProps,m=l.stateNode;try{m.nodeValue=y}catch(Ie){bn(l,l.return,Ie)}}break;case 3:if(zb=null,S=Xo,Xo=Ub(d.containerInfo),Ui(d,l),Xo=S,Vi(l),y&4&&m!==null&&m.memoizedState.isDehydrated)try{Gg(d.containerInfo)}catch(Ie){bn(l,l.return,Ie)}zk&&(zk=!1,ND(l));break;case 4:y=Xo,Xo=Ub(l.stateNode.containerInfo),Ui(d,l),Vi(l),Xo=y;break;case 12:Ui(d,l),Vi(l);break;case 13:Ui(d,l),Vi(l),l.child.flags&8192&&l.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Gk=We()),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,Fk(l,y)));break;case 22:S=l.memoizedState!==null;var ce=m!==null&&m.memoizedState!==null,Ee=Cc,ze=va;if(Cc=Ee||S,va=ze||ce,Ui(d,l),va=ze,Cc=Ee,Vi(l),y&8192)e:for(d=l.stateNode,d._visibility=S?d._visibility&-2:d._visibility|1,S&&(m===null||ce||Cc||va||mh(l)),m=null,d=l;;){if(d.tag===5||d.tag===26){if(m===null){ce=m=d;try{if(C=ce.stateNode,S)H=C.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{Z=ce.stateNode;var Ke=ce.memoizedProps.style,Ae=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null;Z.style.display=Ae==null||typeof Ae=="boolean"?"":(""+Ae).trim()}}catch(Ie){bn(ce,ce.return,Ie)}}}else if(d.tag===6){if(m===null){ce=d;try{ce.stateNode.nodeValue=S?"":ce.memoizedProps}catch(Ie){bn(ce,ce.return,Ie)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}y&4&&(y=l.updateQueue,y!==null&&(m=y.retryQueue,m!==null&&(y.retryQueue=null,Fk(l,m))));break;case 19:Ui(d,l),Vi(l),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,Fk(l,y)));break;case 30:break;case 21:break;default:Ui(d,l),Vi(l)}}function Vi(l){var d=l.flags;if(d&2){try{for(var m,y=l.return;y!==null;){if(gD(y)){m=y;break}y=y.return}if(m==null)throw Error(n(160));switch(m.tag){case 27:var S=m.stateNode,C=Uk(l);Sb(l,C,S);break;case 5:var H=m.stateNode;m.flags&32&&(zn(H,""),m.flags&=-33);var Z=Uk(l);Sb(l,Z,H);break;case 3:case 4:var ce=m.stateNode.containerInfo,Ee=Uk(l);Vk(l,Ee,ce);break;default:throw Error(n(161))}}catch(ze){bn(l,l.return,ze)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function ND(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;ND(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function Mu(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)vD(l,d.alternate,d),d=d.sibling}function mh(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:Pu(4,d,d.return),mh(d);break;case 1:Rl(d,d.return);var m=d.stateNode;typeof m.componentWillUnmount=="function"&&mD(d,d.return,m),mh(d);break;case 27:Vg(d.stateNode);case 26:case 5:Rl(d,d.return),mh(d);break;case 22:d.memoizedState===null&&mh(d);break;case 30:mh(d);break;default:mh(d)}l=l.sibling}}function Du(l,d,m){for(m=m&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var y=d.alternate,S=l,C=d,H=C.flags;switch(C.tag){case 0:case 11:case 15:Du(S,C,m),_g(4,C);break;case 1:if(Du(S,C,m),y=C,S=y.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Ee){bn(y,y.return,Ee)}if(y=C,S=y.updateQueue,S!==null){var Z=y.stateNode;try{var ce=S.shared.hiddenCallbacks;if(ce!==null)for(S.shared.hiddenCallbacks=null,S=0;S<ce.length;S++)JP(ce[S],Z)}catch(Ee){bn(y,y.return,Ee)}}m&&H&64&&fD(C),Cg(C,C.return);break;case 27:xD(C);case 26:case 5:Du(S,C,m),m&&y===null&&H&4&&pD(C),Cg(C,C.return);break;case 12:Du(S,C,m);break;case 13:Du(S,C,m),m&&H&4&&wD(S,C);break;case 22:C.memoizedState===null&&Du(S,C,m),Cg(C,C.return);break;case 30:break;default:Du(S,C,m)}d=d.sibling}}function $k(l,d){var m=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==m&&(l!=null&&l.refCount++,m!=null&&pg(m))}function Bk(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&pg(l))}function Ll(l,d,m,y){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)SD(l,d,m,y),d=d.sibling}function SD(l,d,m,y){var S=d.flags;switch(d.tag){case 0:case 11:case 15:Ll(l,d,m,y),S&2048&&_g(9,d);break;case 1:Ll(l,d,m,y);break;case 3:Ll(l,d,m,y),S&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&pg(l)));break;case 12:if(S&2048){Ll(l,d,m,y),l=d.stateNode;try{var C=d.memoizedProps,H=C.id,Z=C.onPostCommit;typeof Z=="function"&&Z(H,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(ce){bn(d,d.return,ce)}}else Ll(l,d,m,y);break;case 13:Ll(l,d,m,y);break;case 23:break;case 22:C=d.stateNode,H=d.alternate,d.memoizedState!==null?C._visibility&2?Ll(l,d,m,y):Ig(l,d):C._visibility&2?Ll(l,d,m,y):(C._visibility|=2,em(l,d,m,y,(d.subtreeFlags&10256)!==0)),S&2048&&$k(H,d);break;case 24:Ll(l,d,m,y),S&2048&&Bk(d.alternate,d);break;default:Ll(l,d,m,y)}}function em(l,d,m,y,S){for(S=S&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var C=l,H=d,Z=m,ce=y,Ee=H.flags;switch(H.tag){case 0:case 11:case 15:em(C,H,Z,ce,S),_g(8,H);break;case 23:break;case 22:var ze=H.stateNode;H.memoizedState!==null?ze._visibility&2?em(C,H,Z,ce,S):Ig(C,H):(ze._visibility|=2,em(C,H,Z,ce,S)),S&&Ee&2048&&$k(H.alternate,H);break;case 24:em(C,H,Z,ce,S),S&&Ee&2048&&Bk(H.alternate,H);break;default:em(C,H,Z,ce,S)}d=d.sibling}}function Ig(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var m=l,y=d,S=y.flags;switch(y.tag){case 22:Ig(m,y),S&2048&&$k(y.alternate,y);break;case 24:Ig(m,y),S&2048&&Bk(y.alternate,y);break;default:Ig(m,y)}d=d.sibling}}var Og=8192;function tm(l){if(l.subtreeFlags&Og)for(l=l.child;l!==null;)ED(l),l=l.sibling}function ED(l){switch(l.tag){case 26:tm(l),l.flags&Og&&l.memoizedState!==null&&Lte(Xo,l.memoizedState,l.memoizedProps);break;case 5:tm(l);break;case 3:case 4:var d=Xo;Xo=Ub(l.stateNode.containerInfo),tm(l),Xo=d;break;case 22:l.memoizedState===null&&(d=l.alternate,d!==null&&d.memoizedState!==null?(d=Og,Og=16777216,tm(l),Og=d):tm(l));break;default:tm(l)}}function AD(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function Pg(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];Xa=y,_D(y,l)}AD(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)TD(l),l=l.sibling}function TD(l){switch(l.tag){case 0:case 11:case 15:Pg(l),l.flags&2048&&Pu(9,l,l.return);break;case 3:Pg(l);break;case 12:Pg(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&2&&(l.return===null||l.return.tag!==13)?(d._visibility&=-3,Eb(l)):Pg(l);break;default:Pg(l)}}function Eb(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];Xa=y,_D(y,l)}AD(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:Pu(8,d,d.return),Eb(d);break;case 22:m=d.stateNode,m._visibility&2&&(m._visibility&=-3,Eb(d));break;default:Eb(d)}l=l.sibling}}function _D(l,d){for(;Xa!==null;){var m=Xa;switch(m.tag){case 0:case 11:case 15:Pu(8,m,d);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var y=m.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:pg(m.memoizedState.cache)}if(y=m.child,y!==null)y.return=m,Xa=y;else e:for(m=l;Xa!==null;){y=Xa;var S=y.sibling,C=y.return;if(bD(y),y===m){Xa=null;break e}if(S!==null){S.return=C,Xa=S;break e}Xa=C}}}var Jee={getCacheForType:function(l){var d=Ms(za),m=d.data.get(l);return m===void 0&&(m=l(),d.data.set(l,m)),m}},ete=typeof WeakMap=="function"?WeakMap:Map,ln=0,En=null,Cr=null,$r=0,cn=0,zi=null,Ru=!1,rm=!1,qk=!1,Oc=0,la=0,Lu=0,ph=0,Hk=0,go=0,nm=0,Mg=null,ji=null,Wk=!1,Gk=0,Ab=1/0,Tb=null,Uu=null,fs=0,Vu=null,am=null,sm=0,Yk=0,Kk=null,CD=null,Dg=0,Xk=null;function Fi(){if((ln&2)!==0&&$r!==0)return $r&-$r;if(F.T!==null){var l=Wf;return l!==0?l:nN()}return sr()}function ID(){go===0&&(go=($r&536870912)===0||Jr?De():536870912);var l=po.current;return l!==null&&(l.flags|=32),go}function $i(l,d,m){(l===En&&(cn===2||cn===9)||l.cancelPendingCommit!==null)&&(im(l,0),zu(l,$r,go,!1)),kt(l,m),((ln&2)===0||l!==En)&&(l===En&&((ln&2)===0&&(ph|=m),la===4&&zu(l,$r,go,!1)),Ul(l))}function OD(l,d,m){if((ln&6)!==0)throw Error(n(327));var y=!m&&(d&124)===0&&(d&l.expiredLanes)===0||he(l,d),S=y?nte(l,d):Jk(l,d,!0),C=y;do{if(S===0){rm&&!y&&zu(l,d,0,!1);break}else{if(m=l.current.alternate,C&&!tte(m)){S=Jk(l,d,!1),C=!1;continue}if(S===2){if(C=d,l.errorRecoveryDisabledLanes&C)var H=0;else H=l.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){d=H;e:{var Z=l;S=Mg;var ce=Z.current.memoizedState.isDehydrated;if(ce&&(im(Z,H).flags|=256),H=Jk(Z,H,!1),H!==2){if(qk&&!ce){Z.errorRecoveryDisabledLanes|=C,ph|=C,S=4;break e}C=ji,ji=S,C!==null&&(ji===null?ji=C:ji.push.apply(ji,C))}S=H}if(C=!1,S!==2)continue}}if(S===1){im(l,0),zu(l,d,0,!0);break}e:{switch(y=l,C=S,C){case 0:case 1:throw Error(n(345));case 4:if((d&4194048)!==d)break;case 6:zu(y,d,go,!Ru);break e;case 2:ji=null;break;case 3:case 5:break;default:throw Error(n(329))}if((d&62914560)===d&&(S=Gk+300-We(),10<S)){if(zu(y,d,go,!Ru),ge(y,0,!0)!==0)break e;y.timeoutHandle=oR(PD.bind(null,y,m,ji,Tb,Wk,d,go,ph,nm,Ru,C,2,-0,0),S);break e}PD(y,m,ji,Tb,Wk,d,go,ph,nm,Ru,C,0,-0,0)}}break}while(!0);Ul(l)}function PD(l,d,m,y,S,C,H,Z,ce,Ee,ze,Ke,Ae,Ie){if(l.timeoutHandle=-1,Ke=d.subtreeFlags,(Ke&8192||(Ke&16785408)===16785408)&&($g={stylesheets:null,count:0,unsuspend:Rte},ED(d),Ke=Ute(),Ke!==null)){l.cancelPendingCommit=Ke(zD.bind(null,l,d,C,m,y,S,H,Z,ce,ze,1,Ae,Ie)),zu(l,C,H,!Ee);return}zD(l,d,C,m,y,S,H,Z,ce)}function tte(l){for(var d=l;;){var m=d.tag;if((m===0||m===11||m===15)&&d.flags&16384&&(m=d.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var y=0;y<m.length;y++){var S=m[y],C=S.getSnapshot;S=S.value;try{if(!Ri(C(),S))return!1}catch{return!1}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function zu(l,d,m,y){d&=~Hk,d&=~ph,l.suspendedLanes|=d,l.pingedLanes&=~d,y&&(l.warmLanes|=d),y=l.expirationTimes;for(var S=d;0<S;){var C=31-ht(S),H=1<<C;y[C]=-1,S&=~H}m!==0&&dt(l,m,d)}function _b(){return(ln&6)===0?(Rg(0),!1):!0}function Qk(){if(Cr!==null){if(cn===0)var l=Cr.return;else l=Cr,Nc=ch=null,mk(l),Zf=null,Eg=0,l=Cr;for(;l!==null;)hD(l.alternate,l),l=l.return;Cr=null}}function im(l,d){var m=l.timeoutHandle;m!==-1&&(l.timeoutHandle=-1,vte(m)),m=l.cancelPendingCommit,m!==null&&(l.cancelPendingCommit=null,m()),Qk(),En=l,Cr=m=jc(l.current,null),$r=d,cn=0,zi=null,Ru=!1,rm=he(l,d),qk=!1,nm=go=Hk=ph=Lu=la=0,ji=Mg=null,Wk=!1,(d&8)!==0&&(d|=d&32);var y=l.entangledLanes;if(y!==0)for(l=l.entanglements,y&=d;0<y;){var S=31-ht(y),C=1<<S;d|=l[S],y&=~C}return Oc=d,Qv(),m}function MD(l,d){wr=null,F.H=gb,d===xg||d===ib?(d=QP(),cn=3):d===YP?(d=QP(),cn=4):cn=d===ZM?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,zi=d,Cr===null&&(la=1,jb(l,uo(d,l.current)))}function DD(){var l=F.H;return F.H=gb,l===null?gb:l}function RD(){var l=F.A;return F.A=Jee,l}function Zk(){la=4,Ru||($r&4194048)!==$r&&po.current!==null||(rm=!0),(Lu&134217727)===0&&(ph&134217727)===0||En===null||zu(En,$r,go,!1)}function Jk(l,d,m){var y=ln;ln|=2;var S=DD(),C=RD();(En!==l||$r!==d)&&(Tb=null,im(l,d)),d=!1;var H=la;e:do try{if(cn!==0&&Cr!==null){var Z=Cr,ce=zi;switch(cn){case 8:Qk(),H=6;break e;case 3:case 2:case 9:case 6:po.current===null&&(d=!0);var Ee=cn;if(cn=0,zi=null,om(l,Z,ce,Ee),m&&rm){H=0;break e}break;default:Ee=cn,cn=0,zi=null,om(l,Z,ce,Ee)}}rte(),H=la;break}catch(ze){MD(l,ze)}while(!0);return d&&l.shellSuspendCounter++,Nc=ch=null,ln=y,F.H=S,F.A=C,Cr===null&&(En=null,$r=0,Qv()),H}function rte(){for(;Cr!==null;)LD(Cr)}function nte(l,d){var m=ln;ln|=2;var y=DD(),S=RD();En!==l||$r!==d?(Tb=null,Ab=We()+500,im(l,d)):rm=he(l,d);e:do try{if(cn!==0&&Cr!==null){d=Cr;var C=zi;t:switch(cn){case 1:cn=0,zi=null,om(l,d,C,1);break;case 2:case 9:if(KP(C)){cn=0,zi=null,UD(d);break}d=function(){cn!==2&&cn!==9||En!==l||(cn=7),Ul(l)},C.then(d,d);break e;case 3:cn=7;break e;case 4:cn=5;break e;case 7:KP(C)?(cn=0,zi=null,UD(d)):(cn=0,zi=null,om(l,d,C,7));break;case 5:var H=null;switch(Cr.tag){case 26:H=Cr.memoizedState;case 5:case 27:var Z=Cr;if(!H||vR(H)){cn=0,zi=null;var ce=Z.sibling;if(ce!==null)Cr=ce;else{var Ee=Z.return;Ee!==null?(Cr=Ee,Cb(Ee)):Cr=null}break t}}cn=0,zi=null,om(l,d,C,5);break;case 6:cn=0,zi=null,om(l,d,C,6);break;case 8:Qk(),la=6;break e;default:throw Error(n(462))}}ate();break}catch(ze){MD(l,ze)}while(!0);return Nc=ch=null,F.H=y,F.A=S,ln=m,Cr!==null?0:(En=null,$r=0,Qv(),la)}function ate(){for(;Cr!==null&&!ye();)LD(Cr)}function LD(l){var d=uD(l.alternate,l,Oc);l.memoizedProps=l.pendingProps,d===null?Cb(l):Cr=d}function UD(l){var d=l,m=d.alternate;switch(d.tag){case 15:case 0:d=aD(m,d,d.pendingProps,d.type,void 0,$r);break;case 11:d=aD(m,d,d.pendingProps,d.type.render,d.ref,$r);break;case 5:mk(d);default:hD(m,d),d=Cr=VP(d,Oc),d=uD(m,d,Oc)}l.memoizedProps=l.pendingProps,d===null?Cb(l):Cr=d}function om(l,d,m,y){Nc=ch=null,mk(d),Zf=null,Eg=0;var S=d.return;try{if(Gee(l,S,d,m,$r)){la=1,jb(l,uo(m,l.current)),Cr=null;return}}catch(C){if(S!==null)throw Cr=S,C;la=1,jb(l,uo(m,l.current)),Cr=null;return}d.flags&32768?(Jr||y===1?l=!0:rm||($r&536870912)!==0?l=!1:(Ru=l=!0,(y===2||y===9||y===3||y===6)&&(y=po.current,y!==null&&y.tag===13&&(y.flags|=16384))),VD(d,l)):Cb(d)}function Cb(l){var d=l;do{if((d.flags&32768)!==0){VD(d,Ru);return}l=d.return;var m=Kee(d.alternate,d,Oc);if(m!==null){Cr=m;return}if(d=d.sibling,d!==null){Cr=d;return}Cr=d=l}while(d!==null);la===0&&(la=5)}function VD(l,d){do{var m=Xee(l.alternate,l);if(m!==null){m.flags&=32767,Cr=m;return}if(m=l.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!d&&(l=l.sibling,l!==null)){Cr=l;return}Cr=l=m}while(l!==null);la=6,Cr=null}function zD(l,d,m,y,S,C,H,Z,ce){l.cancelPendingCommit=null;do Ib();while(fs!==0);if((ln&6)!==0)throw Error(n(327));if(d!==null){if(d===l.current)throw Error(n(177));if(C=d.lanes|d.childLanes,C|=B2,$e(l,m,C,H,Z,ce),l===En&&(Cr=En=null,$r=0),am=d,Vu=l,sm=m,Yk=C,Kk=S,CD=y,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,lte(wt,function(){return HD(),null})):(l.callbackNode=null,l.callbackPriority=0),y=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||y){y=F.T,F.T=null,S=W.p,W.p=2,H=ln,ln|=4;try{Qee(l,d,m)}finally{ln=H,W.p=S,F.T=y}}fs=1,FD(),$D(),BD()}}function FD(){if(fs===1){fs=0;var l=Vu,d=am,m=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||m){m=F.T,F.T=null;var y=W.p;W.p=2;var S=ln;ln|=4;try{kD(d,l);var C=dN,H=_P(l.containerInfo),Z=C.focusedElem,ce=C.selectionRange;if(H!==Z&&Z&&Z.ownerDocument&&TP(Z.ownerDocument.documentElement,Z)){if(ce!==null&&U2(Z)){var Ee=ce.start,ze=ce.end;if(ze===void 0&&(ze=Ee),"selectionStart"in Z)Z.selectionStart=Ee,Z.selectionEnd=Math.min(ze,Z.value.length);else{var Ke=Z.ownerDocument||document,Ae=Ke&&Ke.defaultView||window;if(Ae.getSelection){var Ie=Ae.getSelection(),ur=Z.textContent.length,nr=Math.min(ce.start,ur),yn=ce.end===void 0?nr:Math.min(ce.end,ur);!Ie.extend&&nr>yn&&(H=yn,yn=nr,nr=H);var be=AP(Z,nr),xe=AP(Z,yn);if(be&&xe&&(Ie.rangeCount!==1||Ie.anchorNode!==be.node||Ie.anchorOffset!==be.offset||Ie.focusNode!==xe.node||Ie.focusOffset!==xe.offset)){var ke=Ke.createRange();ke.setStart(be.node,be.offset),Ie.removeAllRanges(),nr>yn?(Ie.addRange(ke),Ie.extend(xe.node,xe.offset)):(ke.setEnd(xe.node,xe.offset),Ie.addRange(ke))}}}}for(Ke=[],Ie=Z;Ie=Ie.parentNode;)Ie.nodeType===1&&Ke.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<Ke.length;Z++){var qe=Ke[Z];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}Bb=!!uN,dN=uN=null}finally{ln=S,W.p=y,F.T=m}}l.current=d,fs=2}}function $D(){if(fs===2){fs=0;var l=Vu,d=am,m=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||m){m=F.T,F.T=null;var y=W.p;W.p=2;var S=ln;ln|=4;try{vD(l,d.alternate,d)}finally{ln=S,W.p=y,F.T=m}}fs=3}}function BD(){if(fs===4||fs===3){fs=0,Oe();var l=Vu,d=am,m=sm,y=CD;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?fs=5:(fs=0,am=Vu=null,qD(l,l.pendingLanes));var S=l.pendingLanes;if(S===0&&(Uu=null),Ct(m),d=d.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(rt,d,void 0,(d.current.flags&128)===128)}catch{}if(y!==null){d=F.T,S=W.p,W.p=2,F.T=null;try{for(var C=l.onRecoverableError,H=0;H<y.length;H++){var Z=y[H];C(Z.value,{componentStack:Z.stack})}}finally{F.T=d,W.p=S}}(sm&3)!==0&&Ib(),Ul(l),S=l.pendingLanes,(m&4194090)!==0&&(S&42)!==0?l===Xk?Dg++:(Dg=0,Xk=l):Dg=0,Rg(0)}}function qD(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,pg(d)))}function Ib(l){return FD(),$D(),BD(),HD()}function HD(){if(fs!==5)return!1;var l=Vu,d=Yk;Yk=0;var m=Ct(sm),y=F.T,S=W.p;try{W.p=32>m?32:m,F.T=null,m=Kk,Kk=null;var C=Vu,H=sm;if(fs=0,am=Vu=null,sm=0,(ln&6)!==0)throw Error(n(331));var Z=ln;if(ln|=4,TD(C.current),SD(C,C.current,H,m),ln=Z,Rg(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(rt,C)}catch{}return!0}finally{W.p=S,F.T=y,qD(l,d)}}function WD(l,d,m){d=uo(m,d),d=Tk(l.stateNode,d,2),l=_u(l,d,2),l!==null&&(kt(l,2),Ul(l))}function bn(l,d,m){if(l.tag===3)WD(l,l,m);else for(;d!==null;){if(d.tag===3){WD(d,l,m);break}else if(d.tag===1){var y=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Uu===null||!Uu.has(y))){l=uo(m,l),m=XM(2),y=_u(d,m,2),y!==null&&(QM(m,y,d,l),kt(y,2),Ul(y));break}}d=d.return}}function eN(l,d,m){var y=l.pingCache;if(y===null){y=l.pingCache=new ete;var S=new Set;y.set(d,S)}else S=y.get(d),S===void 0&&(S=new Set,y.set(d,S));S.has(m)||(qk=!0,S.add(m),l=ste.bind(null,l,d,m),d.then(l,l))}function ste(l,d,m){var y=l.pingCache;y!==null&&y.delete(d),l.pingedLanes|=l.suspendedLanes&m,l.warmLanes&=~m,En===l&&($r&m)===m&&(la===4||la===3&&($r&62914560)===$r&&300>We()-Gk?(ln&2)===0&&im(l,0):Hk|=m,nm===$r&&(nm=0)),Ul(l)}function GD(l,d){d===0&&(d=nt()),l=$f(l,d),l!==null&&(kt(l,d),Ul(l))}function ite(l){var d=l.memoizedState,m=0;d!==null&&(m=d.retryLane),GD(l,m)}function ote(l,d){var m=0;switch(l.tag){case 13:var y=l.stateNode,S=l.memoizedState;S!==null&&(m=S.retryLane);break;case 19:y=l.stateNode;break;case 22:y=l.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(d),GD(l,m)}function lte(l,d){return fe(l,d)}var Ob=null,lm=null,tN=!1,Pb=!1,rN=!1,gh=0;function Ul(l){l!==lm&&l.next===null&&(lm===null?Ob=lm=l:lm=lm.next=l),Pb=!0,tN||(tN=!0,ute())}function Rg(l,d){if(!rN&&Pb){rN=!0;do for(var m=!1,y=Ob;y!==null;){if(l!==0){var S=y.pendingLanes;if(S===0)var C=0;else{var H=y.suspendedLanes,Z=y.pingedLanes;C=(1<<31-ht(42|l)+1)-1,C&=S&~(H&~Z),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(m=!0,QD(y,C))}else C=$r,C=ge(y,y===En?C:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(C&3)===0||he(y,C)||(m=!0,QD(y,C));y=y.next}while(m);rN=!1}}function cte(){YD()}function YD(){Pb=tN=!1;var l=0;gh!==0&&(yte()&&(l=gh),gh=0);for(var d=We(),m=null,y=Ob;y!==null;){var S=y.next,C=KD(y,d);C===0?(y.next=null,m===null?Ob=S:m.next=S,S===null&&(lm=m)):(m=y,(l!==0||(C&3)!==0)&&(Pb=!0)),y=S}Rg(l)}function KD(l,d){for(var m=l.suspendedLanes,y=l.pingedLanes,S=l.expirationTimes,C=l.pendingLanes&-62914561;0<C;){var H=31-ht(C),Z=1<<H,ce=S[H];ce===-1?((Z&m)===0||(Z&y)!==0)&&(S[H]=Te(Z,d)):ce<=d&&(l.expiredLanes|=Z),C&=~Z}if(d=En,m=$r,m=ge(l,l===d?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y=l.callbackNode,m===0||l===d&&(cn===2||cn===9)||l.cancelPendingCommit!==null)return y!==null&&y!==null&&ee(y),l.callbackNode=null,l.callbackPriority=0;if((m&3)===0||he(l,m)){if(d=m&-m,d===l.callbackPriority)return d;switch(y!==null&&ee(y),Ct(m)){case 2:case 8:m=At;break;case 32:m=wt;break;case 268435456:m=Ce;break;default:m=wt}return y=XD.bind(null,l),m=fe(m,y),l.callbackPriority=d,l.callbackNode=m,d}return y!==null&&y!==null&&ee(y),l.callbackPriority=2,l.callbackNode=null,2}function XD(l,d){if(fs!==0&&fs!==5)return l.callbackNode=null,l.callbackPriority=0,null;var m=l.callbackNode;if(Ib()&&l.callbackNode!==m)return null;var y=$r;return y=ge(l,l===En?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y===0?null:(OD(l,y,d),KD(l,We()),l.callbackNode!=null&&l.callbackNode===m?XD.bind(null,l):null)}function QD(l,d){if(Ib())return null;OD(l,d,!0)}function ute(){bte(function(){(ln&6)!==0?fe(ut,cte):YD()})}function nN(){return gh===0&&(gh=De()),gh}function ZD(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Qs(""+l)}function JD(l,d){var m=d.ownerDocument.createElement("input");return m.name=d.name,m.value=d.value,l.id&&m.setAttribute("form",l.id),d.parentNode.insertBefore(m,d),l=new FormData(l),m.parentNode.removeChild(m),l}function dte(l,d,m,y,S){if(d==="submit"&&m&&m.stateNode===S){var C=ZD((S[lt]||null).action),H=y.submitter;H&&(d=(d=H[lt]||null)?ZD(d.formAction):H.getAttribute("formAction"),d!==null&&(C=d,H=null));var Z=new Re("action","action",null,y,S);l.push({event:Z,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(gh!==0){var ce=H?JD(S,H):new FormData(S);kk(m,{pending:!0,data:ce,method:S.method,action:C},null,ce)}}else typeof C=="function"&&(Z.preventDefault(),ce=H?JD(S,H):new FormData(S),kk(m,{pending:!0,data:ce,method:S.method,action:C},C,ce))},currentTarget:S}]})}}for(var aN=0;aN<$2.length;aN++){var sN=$2[aN],hte=sN.toLowerCase(),fte=sN[0].toUpperCase()+sN.slice(1);Ko(hte,"on"+fte)}Ko(OP,"onAnimationEnd"),Ko(PP,"onAnimationIteration"),Ko(MP,"onAnimationStart"),Ko("dblclick","onDoubleClick"),Ko("focusin","onFocus"),Ko("focusout","onBlur"),Ko(Cee,"onTransitionRun"),Ko(Iee,"onTransitionStart"),Ko(Oee,"onTransitionCancel"),Ko(DP,"onTransitionEnd"),Fe("onMouseEnter",["mouseout","mouseover"]),Fe("onMouseLeave",["mouseout","mouseover"]),Fe("onPointerEnter",["pointerout","pointerover"]),Fe("onPointerLeave",["pointerout","pointerover"]),de("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),de("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),de("onBeforeInput",["compositionend","keypress","textInput","paste"]),de("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),de("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),de("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mte=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lg));function eR(l,d){d=(d&4)!==0;for(var m=0;m<l.length;m++){var y=l[m],S=y.event;y=y.listeners;e:{var C=void 0;if(d)for(var H=y.length-1;0<=H;H--){var Z=y[H],ce=Z.instance,Ee=Z.currentTarget;if(Z=Z.listener,ce!==C&&S.isPropagationStopped())break e;C=Z,S.currentTarget=Ee;try{C(S)}catch(ze){bb(ze)}S.currentTarget=null,C=ce}else for(H=0;H<y.length;H++){if(Z=y[H],ce=Z.instance,Ee=Z.currentTarget,Z=Z.listener,ce!==C&&S.isPropagationStopped())break e;C=Z,S.currentTarget=Ee;try{C(S)}catch(ze){bb(ze)}S.currentTarget=null,C=ce}}}}function Ir(l,d){var m=d[Gt];m===void 0&&(m=d[Gt]=new Set);var y=l+"__bubble";m.has(y)||(tR(d,l,2,!1),m.add(y))}function iN(l,d,m){var y=0;d&&(y|=4),tR(m,l,y,d)}var Mb="_reactListening"+Math.random().toString(36).slice(2);function oN(l){if(!l[Mb]){l[Mb]=!0,Sn.forEach(function(m){m!=="selectionchange"&&(mte.has(m)||iN(m,!1,l),iN(m,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Mb]||(d[Mb]=!0,iN("selectionchange",!1,d))}}function tR(l,d,m,y){switch(SR(d)){case 2:var S=Fte;break;case 8:S=$te;break;default:S=jN}m=S.bind(null,d,m,l),S=void 0,!xi||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),y?S!==void 0?l.addEventListener(d,m,{capture:!0,passive:S}):l.addEventListener(d,m,!0):S!==void 0?l.addEventListener(d,m,{passive:S}):l.addEventListener(d,m,!1)}function lN(l,d,m,y,S){var C=y;if((d&1)===0&&(d&2)===0&&y!==null)e:for(;;){if(y===null)return;var H=y.tag;if(H===3||H===4){var Z=y.stateNode.containerInfo;if(Z===S)break;if(H===4)for(H=y.return;H!==null;){var ce=H.tag;if((ce===3||ce===4)&&H.stateNode.containerInfo===S)return;H=H.return}for(;Z!==null;){if(H=pn(Z),H===null)return;if(ce=H.tag,ce===5||ce===6||ce===26||ce===27){y=C=H;continue e}Z=Z.parentNode}}y=y.return}Oi(function(){var Ee=C,ze=Cl(m),Ke=[];e:{var Ae=RP.get(l);if(Ae!==void 0){var Ie=Re,ur=l;switch(l){case"keypress":if(Bo(m)===0)break e;case"keydown":case"keyup":Ie=Uf;break;case"focusin":ur="focus",Ie=Hn;break;case"focusout":ur="blur",Ie=Hn;break;case"beforeblur":case"afterblur":Ie=Hn;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=$n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=Su;break;case OP:case PP:case MP:Ie=Js;break;case DP:Ie=V;break;case"scroll":case"scrollend":Ie=Vt;break;case"wheel":Ie=re;break;case"copy":case"cut":case"paste":Ie=th;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=sg;break;case"toggle":case"beforetoggle":Ie=Me}var nr=(d&4)!==0,yn=!nr&&(l==="scroll"||l==="scrollend"),be=nr?Ae!==null?Ae+"Capture":null:Ae;nr=[];for(var xe=Ee,ke;xe!==null;){var qe=xe;if(ke=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||ke===null||be===null||(qe=Zs(xe,be),qe!=null&&nr.push(Ug(xe,qe,ke))),yn)break;xe=xe.return}0<nr.length&&(Ae=new Ie(Ae,ur,null,m,ze),Ke.push({event:Ae,listeners:nr}))}}if((d&7)===0){e:{if(Ae=l==="mouseover"||l==="pointerover",Ie=l==="mouseout"||l==="pointerout",Ae&&m!==yc&&(ur=m.relatedTarget||m.fromElement)&&(pn(ur)||ur[ir]))break e;if((Ie||Ae)&&(Ae=ze.window===ze?ze:(Ae=ze.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,Ie?(ur=m.relatedTarget||m.toElement,Ie=Ee,ur=ur?pn(ur):null,ur!==null&&(yn=i(ur),nr=ur.tag,ur!==yn||nr!==5&&nr!==27&&nr!==6)&&(ur=null)):(Ie=null,ur=Ee),Ie!==ur)){if(nr=$n,qe="onMouseLeave",be="onMouseEnter",xe="mouse",(l==="pointerout"||l==="pointerover")&&(nr=sg,qe="onPointerLeave",be="onPointerEnter",xe="pointer"),yn=Ie==null?Ae:Ot(Ie),ke=ur==null?Ae:Ot(ur),Ae=new nr(qe,xe+"leave",Ie,m,ze),Ae.target=yn,Ae.relatedTarget=ke,qe=null,pn(ze)===Ee&&(nr=new nr(be,xe+"enter",ur,m,ze),nr.target=ke,nr.relatedTarget=yn,qe=nr),yn=qe,Ie&&ur)t:{for(nr=Ie,be=ur,xe=0,ke=nr;ke;ke=cm(ke))xe++;for(ke=0,qe=be;qe;qe=cm(qe))ke++;for(;0<xe-ke;)nr=cm(nr),xe--;for(;0<ke-xe;)be=cm(be),ke--;for(;xe--;){if(nr===be||be!==null&&nr===be.alternate)break t;nr=cm(nr),be=cm(be)}nr=null}else nr=null;Ie!==null&&rR(Ke,Ae,Ie,nr,!1),ur!==null&&yn!==null&&rR(Ke,yn,ur,nr,!0)}}e:{if(Ae=Ee?Ot(Ee):window,Ie=Ae.nodeName&&Ae.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&Ae.type==="file")var zt=jP;else if(vP(Ae))if(wP)zt=Aee;else{zt=See;var Sr=Nee}else Ie=Ae.nodeName,!Ie||Ie.toLowerCase()!=="input"||Ae.type!=="checkbox"&&Ae.type!=="radio"?Ee&&us(Ee.elementType)&&(zt=jP):zt=Eee;if(zt&&(zt=zt(l,Ee))){bP(Ke,zt,m,ze);break e}Sr&&Sr(l,Ae,Ee),l==="focusout"&&Ee&&Ae.type==="number"&&Ee.memoizedProps.value!=null&&ga(Ae,"number",Ae.value)}switch(Sr=Ee?Ot(Ee):window,l){case"focusin":(vP(Sr)||Sr.contentEditable==="true")&&(Vf=Sr,V2=Ee,ug=null);break;case"focusout":ug=V2=Vf=null;break;case"mousedown":z2=!0;break;case"contextmenu":case"mouseup":case"dragend":z2=!1,CP(Ke,m,ze);break;case"selectionchange":if(_ee)break;case"keydown":case"keyup":CP(Ke,m,ze)}var Wt;if(mr)e:{switch(l){case"compositionstart":var or="onCompositionStart";break e;case"compositionend":or="onCompositionEnd";break e;case"compositionupdate":or="onCompositionUpdate";break e}or=void 0}else Yo?Wo(l,m)&&(or="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(or="onCompositionStart");or&&(xa&&m.locale!=="ko"&&(Yo||or!=="onCompositionStart"?or==="onCompositionEnd"&&Yo&&(Wt=Il()):(ds=ze,_r="value"in ds?ds.value:ds.textContent,Yo=!0)),Sr=Db(Ee,or),0<Sr.length&&(or=new Ol(or,l,null,m,ze),Ke.push({event:or,listeners:Sr}),Wt?or.data=Wt:(Wt=Go(m),Wt!==null&&(or.data=Wt)))),(Wt=on?ig(l,m):jee(l,m))&&(or=Db(Ee,"onBeforeInput"),0<or.length&&(Sr=new Ol("onBeforeInput","beforeinput",null,m,ze),Ke.push({event:Sr,listeners:or}),Sr.data=Wt)),dte(Ke,l,Ee,m,ze)}eR(Ke,d)})}function Ug(l,d,m){return{instance:l,listener:d,currentTarget:m}}function Db(l,d){for(var m=d+"Capture",y=[];l!==null;){var S=l,C=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||C===null||(S=Zs(l,m),S!=null&&y.unshift(Ug(l,S,C)),S=Zs(l,d),S!=null&&y.push(Ug(l,S,C))),l.tag===3)return y;l=l.return}return[]}function cm(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function rR(l,d,m,y,S){for(var C=d._reactName,H=[];m!==null&&m!==y;){var Z=m,ce=Z.alternate,Ee=Z.stateNode;if(Z=Z.tag,ce!==null&&ce===y)break;Z!==5&&Z!==26&&Z!==27||Ee===null||(ce=Ee,S?(Ee=Zs(m,C),Ee!=null&&H.unshift(Ug(m,Ee,ce))):S||(Ee=Zs(m,C),Ee!=null&&H.push(Ug(m,Ee,ce)))),m=m.return}H.length!==0&&l.push({event:d,listeners:H})}var pte=/\r\n?/g,gte=/\u0000|\uFFFD/g;function nR(l){return(typeof l=="string"?l:""+l).replace(pte,`
`).replace(gte,"")}function aR(l,d){return d=nR(d),nR(l)===d}function Rb(){}function xn(l,d,m,y,S,C){switch(m){case"children":typeof y=="string"?d==="body"||d==="textarea"&&y===""||zn(l,y):(typeof y=="number"||typeof y=="bigint")&&d!=="body"&&zn(l,""+y);break;case"className":me(l,"class",y);break;case"tabIndex":me(l,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":me(l,m,y);break;case"style":xc(l,y,C);break;case"data":if(d!=="object"){me(l,"data",y);break}case"src":case"href":if(y===""&&(d!=="a"||m!=="href")){l.removeAttribute(m);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(m);break}y=Qs(""+y),l.setAttribute(m,y);break;case"action":case"formAction":if(typeof y=="function"){l.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(m==="formAction"?(d!=="input"&&xn(l,d,"name",S.name,S,null),xn(l,d,"formEncType",S.formEncType,S,null),xn(l,d,"formMethod",S.formMethod,S,null),xn(l,d,"formTarget",S.formTarget,S,null)):(xn(l,d,"encType",S.encType,S,null),xn(l,d,"method",S.method,S,null),xn(l,d,"target",S.target,S,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(m);break}y=Qs(""+y),l.setAttribute(m,y);break;case"onClick":y!=null&&(l.onclick=Rb);break;case"onScroll":y!=null&&Ir("scroll",l);break;case"onScrollEnd":y!=null&&Ir("scrollend",l);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(m=y.__html,m!=null){if(S.children!=null)throw Error(n(60));l.innerHTML=m}}break;case"multiple":l.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":l.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){l.removeAttribute("xlink:href");break}m=Qs(""+y),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(m,""+y):l.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(m,""):l.removeAttribute(m);break;case"capture":case"download":y===!0?l.setAttribute(m,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(m,y):l.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?l.setAttribute(m,y):l.removeAttribute(m);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?l.removeAttribute(m):l.setAttribute(m,y);break;case"popover":Ir("beforetoggle",l),Ir("toggle",l),sn(l,"popover",y);break;case"xlinkActuate":Ye(l,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Ye(l,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Ye(l,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Ye(l,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Ye(l,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Ye(l,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Ye(l,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Ye(l,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Ye(l,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":sn(l,"is",y);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=ku.get(m)||m,sn(l,m,y))}}function cN(l,d,m,y,S,C){switch(m){case"style":xc(l,y,C);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(m=y.__html,m!=null){if(S.children!=null)throw Error(n(60));l.innerHTML=m}}break;case"children":typeof y=="string"?zn(l,y):(typeof y=="number"||typeof y=="bigint")&&zn(l,""+y);break;case"onScroll":y!=null&&Ir("scroll",l);break;case"onScrollEnd":y!=null&&Ir("scrollend",l);break;case"onClick":y!=null&&(l.onclick=Rb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pt.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(S=m.endsWith("Capture"),d=m.slice(2,S?m.length-7:void 0),C=l[lt]||null,C=C!=null?C[m]:null,typeof C=="function"&&l.removeEventListener(d,C,S),typeof y=="function")){typeof C!="function"&&C!==null&&(m in l?l[m]=null:l.hasAttribute(m)&&l.removeAttribute(m)),l.addEventListener(d,y,S);break e}m in l?l[m]=y:y===!0?l.setAttribute(m,""):sn(l,m,y)}}}function ms(l,d,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ir("error",l),Ir("load",l);var y=!1,S=!1,C;for(C in m)if(m.hasOwnProperty(C)){var H=m[C];if(H!=null)switch(C){case"src":y=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:xn(l,d,C,H,m,null)}}S&&xn(l,d,"srcSet",m.srcSet,m,null),y&&xn(l,d,"src",m.src,m,null);return;case"input":Ir("invalid",l);var Z=C=H=S=null,ce=null,Ee=null;for(y in m)if(m.hasOwnProperty(y)){var ze=m[y];if(ze!=null)switch(y){case"name":S=ze;break;case"type":H=ze;break;case"checked":ce=ze;break;case"defaultChecked":Ee=ze;break;case"value":C=ze;break;case"defaultValue":Z=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(n(137,d));break;default:xn(l,d,y,ze,m,null)}}La(l,C,Z,ce,Ee,H,S,!1),Gr(l);return;case"select":Ir("invalid",l),y=H=C=null;for(S in m)if(m.hasOwnProperty(S)&&(Z=m[S],Z!=null))switch(S){case"value":C=Z;break;case"defaultValue":H=Z;break;case"multiple":y=Z;default:xn(l,d,S,Z,m,null)}d=C,m=H,l.multiple=!!y,d!=null?cs(l,!!y,d,!1):m!=null&&cs(l,!!y,m,!0);return;case"textarea":Ir("invalid",l),C=S=y=null;for(H in m)if(m.hasOwnProperty(H)&&(Z=m[H],Z!=null))switch(H){case"value":y=Z;break;case"defaultValue":S=Z;break;case"children":C=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(91));break;default:xn(l,d,H,Z,m,null)}co(l,y,S,C),Gr(l);return;case"option":for(ce in m)if(m.hasOwnProperty(ce)&&(y=m[ce],y!=null))switch(ce){case"selected":l.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:xn(l,d,ce,y,m,null)}return;case"dialog":Ir("beforetoggle",l),Ir("toggle",l),Ir("cancel",l),Ir("close",l);break;case"iframe":case"object":Ir("load",l);break;case"video":case"audio":for(y=0;y<Lg.length;y++)Ir(Lg[y],l);break;case"image":Ir("error",l),Ir("load",l);break;case"details":Ir("toggle",l);break;case"embed":case"source":case"link":Ir("error",l),Ir("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in m)if(m.hasOwnProperty(Ee)&&(y=m[Ee],y!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:xn(l,d,Ee,y,m,null)}return;default:if(us(d)){for(ze in m)m.hasOwnProperty(ze)&&(y=m[ze],y!==void 0&&cN(l,d,ze,y,m,void 0));return}}for(Z in m)m.hasOwnProperty(Z)&&(y=m[Z],y!=null&&xn(l,d,Z,y,m,null))}function xte(l,d,m,y){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,C=null,H=null,Z=null,ce=null,Ee=null,ze=null;for(Ie in m){var Ke=m[Ie];if(m.hasOwnProperty(Ie)&&Ke!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":ce=Ke;default:y.hasOwnProperty(Ie)||xn(l,d,Ie,null,y,Ke)}}for(var Ae in y){var Ie=y[Ae];if(Ke=m[Ae],y.hasOwnProperty(Ae)&&(Ie!=null||Ke!=null))switch(Ae){case"type":C=Ie;break;case"name":S=Ie;break;case"checked":Ee=Ie;break;case"defaultChecked":ze=Ie;break;case"value":H=Ie;break;case"defaultValue":Z=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,d));break;default:Ie!==Ke&&xn(l,d,Ae,Ie,y,Ke)}}Ra(l,H,Z,ce,Ee,ze,C,S);return;case"select":Ie=H=Z=Ae=null;for(C in m)if(ce=m[C],m.hasOwnProperty(C)&&ce!=null)switch(C){case"value":break;case"multiple":Ie=ce;default:y.hasOwnProperty(C)||xn(l,d,C,null,y,ce)}for(S in y)if(C=y[S],ce=m[S],y.hasOwnProperty(S)&&(C!=null||ce!=null))switch(S){case"value":Ae=C;break;case"defaultValue":Z=C;break;case"multiple":H=C;default:C!==ce&&xn(l,d,S,C,y,ce)}d=Z,m=H,y=Ie,Ae!=null?cs(l,!!m,Ae,!1):!!y!=!!m&&(d!=null?cs(l,!!m,d,!0):cs(l,!!m,m?[]:"",!1));return;case"textarea":Ie=Ae=null;for(Z in m)if(S=m[Z],m.hasOwnProperty(Z)&&S!=null&&!y.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:xn(l,d,Z,null,y,S)}for(H in y)if(S=y[H],C=m[H],y.hasOwnProperty(H)&&(S!=null||C!=null))switch(H){case"value":Ae=S;break;case"defaultValue":Ie=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==C&&xn(l,d,H,S,y,C)}Fo(l,Ae,Ie);return;case"option":for(var ur in m)if(Ae=m[ur],m.hasOwnProperty(ur)&&Ae!=null&&!y.hasOwnProperty(ur))switch(ur){case"selected":l.selected=!1;break;default:xn(l,d,ur,null,y,Ae)}for(ce in y)if(Ae=y[ce],Ie=m[ce],y.hasOwnProperty(ce)&&Ae!==Ie&&(Ae!=null||Ie!=null))switch(ce){case"selected":l.selected=Ae&&typeof Ae!="function"&&typeof Ae!="symbol";break;default:xn(l,d,ce,Ae,y,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nr in m)Ae=m[nr],m.hasOwnProperty(nr)&&Ae!=null&&!y.hasOwnProperty(nr)&&xn(l,d,nr,null,y,Ae);for(Ee in y)if(Ae=y[Ee],Ie=m[Ee],y.hasOwnProperty(Ee)&&Ae!==Ie&&(Ae!=null||Ie!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(n(137,d));break;default:xn(l,d,Ee,Ae,y,Ie)}return;default:if(us(d)){for(var yn in m)Ae=m[yn],m.hasOwnProperty(yn)&&Ae!==void 0&&!y.hasOwnProperty(yn)&&cN(l,d,yn,void 0,y,Ae);for(ze in y)Ae=y[ze],Ie=m[ze],!y.hasOwnProperty(ze)||Ae===Ie||Ae===void 0&&Ie===void 0||cN(l,d,ze,Ae,y,Ie);return}}for(var be in m)Ae=m[be],m.hasOwnProperty(be)&&Ae!=null&&!y.hasOwnProperty(be)&&xn(l,d,be,null,y,Ae);for(Ke in y)Ae=y[Ke],Ie=m[Ke],!y.hasOwnProperty(Ke)||Ae===Ie||Ae==null&&Ie==null||xn(l,d,Ke,Ae,y,Ie)}var uN=null,dN=null;function Lb(l){return l.nodeType===9?l:l.ownerDocument}function sR(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iR(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function hN(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var fN=null;function yte(){var l=window.event;return l&&l.type==="popstate"?l===fN?!1:(fN=l,!0):(fN=null,!1)}var oR=typeof setTimeout=="function"?setTimeout:void 0,vte=typeof clearTimeout=="function"?clearTimeout:void 0,lR=typeof Promise=="function"?Promise:void 0,bte=typeof queueMicrotask=="function"?queueMicrotask:typeof lR<"u"?function(l){return lR.resolve(null).then(l).catch(jte)}:oR;function jte(l){setTimeout(function(){throw l})}function Fu(l){return l==="head"}function cR(l,d){var m=d,y=0,S=0;do{var C=m.nextSibling;if(l.removeChild(m),C&&C.nodeType===8)if(m=C.data,m==="/$"){if(0<y&&8>y){m=y;var H=l.ownerDocument;if(m&1&&Vg(H.documentElement),m&2&&Vg(H.body),m&4)for(m=H.head,Vg(m),H=m.firstChild;H;){var Z=H.nextSibling,ce=H.nodeName;H[Nn]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&H.rel.toLowerCase()==="stylesheet"||m.removeChild(H),H=Z}}if(S===0){l.removeChild(C),Gg(d);return}S--}else m==="$"||m==="$?"||m==="$!"?S++:y=m.charCodeAt(0)-48;else y=0;m=C}while(m);Gg(d)}function mN(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var m=d;switch(d=d.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":mN(m),Ln(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}l.removeChild(m)}}function wte(l,d,m,y){for(;l.nodeType===1;){var S=m;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!y&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(y){if(!l[Nn])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(C=l.getAttribute("rel"),C==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(C!==S.rel||l.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||l.getAttribute("title")!==(S.title==null?null:S.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(C=l.getAttribute("src"),(C!==(S.src==null?null:S.src)||l.getAttribute("type")!==(S.type==null?null:S.type)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&C&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var C=S.name==null?null:""+S.name;if(S.type==="hidden"&&l.getAttribute("name")===C)return l}else return l;if(l=Qo(l.nextSibling),l===null)break}return null}function kte(l,d,m){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!m||(l=Qo(l.nextSibling),l===null))return null;return l}function pN(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function Nte(l,d){var m=l.ownerDocument;if(l.data!=="$?"||m.readyState==="complete")d();else{var y=function(){d(),m.removeEventListener("DOMContentLoaded",y)};m.addEventListener("DOMContentLoaded",y),l._reactRetry=y}}function Qo(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return l}var gN=null;function uR(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return l;d--}else m==="/$"&&d++}l=l.previousSibling}return null}function dR(l,d,m){switch(d=Lb(m),l){case"html":if(l=d.documentElement,!l)throw Error(n(452));return l;case"head":if(l=d.head,!l)throw Error(n(453));return l;case"body":if(l=d.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function Vg(l){for(var d=l.attributes;d.length;)l.removeAttributeNode(d[0]);Ln(l)}var xo=new Map,hR=new Set;function Ub(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Pc=W.d;W.d={f:Ste,r:Ete,D:Ate,C:Tte,L:_te,m:Cte,X:Ote,S:Ite,M:Pte};function Ste(){var l=Pc.f(),d=_b();return l||d}function Ete(l){var d=Un(l);d!==null&&d.tag===5&&d.type==="form"?OM(d):Pc.r(l)}var um=typeof document>"u"?null:document;function fR(l,d,m){var y=um;if(y&&typeof d=="string"&&d){var S=tn(d);S='link[rel="'+l+'"][href="'+S+'"]',typeof m=="string"&&(S+='[crossorigin="'+m+'"]'),hR.has(S)||(hR.add(S),l={rel:l,crossOrigin:m,href:d},y.querySelector(S)===null&&(d=y.createElement("link"),ms(d,"link",l),Jt(d),y.head.appendChild(d)))}}function Ate(l){Pc.D(l),fR("dns-prefetch",l,null)}function Tte(l,d){Pc.C(l,d),fR("preconnect",l,d)}function _te(l,d,m){Pc.L(l,d,m);var y=um;if(y&&l&&d){var S='link[rel="preload"][as="'+tn(d)+'"]';d==="image"&&m&&m.imageSrcSet?(S+='[imagesrcset="'+tn(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(S+='[imagesizes="'+tn(m.imageSizes)+'"]')):S+='[href="'+tn(l)+'"]';var C=S;switch(d){case"style":C=dm(l);break;case"script":C=hm(l)}xo.has(C)||(l=f({rel:"preload",href:d==="image"&&m&&m.imageSrcSet?void 0:l,as:d},m),xo.set(C,l),y.querySelector(S)!==null||d==="style"&&y.querySelector(zg(C))||d==="script"&&y.querySelector(Fg(C))||(d=y.createElement("link"),ms(d,"link",l),Jt(d),y.head.appendChild(d)))}}function Cte(l,d){Pc.m(l,d);var m=um;if(m&&l){var y=d&&typeof d.as=="string"?d.as:"script",S='link[rel="modulepreload"][as="'+tn(y)+'"][href="'+tn(l)+'"]',C=S;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=hm(l)}if(!xo.has(C)&&(l=f({rel:"modulepreload",href:l},d),xo.set(C,l),m.querySelector(S)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Fg(C)))return}y=m.createElement("link"),ms(y,"link",l),Jt(y),m.head.appendChild(y)}}}function Ite(l,d,m){Pc.S(l,d,m);var y=um;if(y&&l){var S=pr(y).hoistableStyles,C=dm(l);d=d||"default";var H=S.get(C);if(!H){var Z={loading:0,preload:null};if(H=y.querySelector(zg(C)))Z.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":d},m),(m=xo.get(C))&&xN(l,m);var ce=H=y.createElement("link");Jt(ce),ms(ce,"link",l),ce._p=new Promise(function(Ee,ze){ce.onload=Ee,ce.onerror=ze}),ce.addEventListener("load",function(){Z.loading|=1}),ce.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,Vb(H,d,y)}H={type:"stylesheet",instance:H,count:1,state:Z},S.set(C,H)}}}function Ote(l,d){Pc.X(l,d);var m=um;if(m&&l){var y=pr(m).hoistableScripts,S=hm(l),C=y.get(S);C||(C=m.querySelector(Fg(S)),C||(l=f({src:l,async:!0},d),(d=xo.get(S))&&yN(l,d),C=m.createElement("script"),Jt(C),ms(C,"link",l),m.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},y.set(S,C))}}function Pte(l,d){Pc.M(l,d);var m=um;if(m&&l){var y=pr(m).hoistableScripts,S=hm(l),C=y.get(S);C||(C=m.querySelector(Fg(S)),C||(l=f({src:l,async:!0,type:"module"},d),(d=xo.get(S))&&yN(l,d),C=m.createElement("script"),Jt(C),ms(C,"link",l),m.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},y.set(S,C))}}function mR(l,d,m,y){var S=(S=je.current)?Ub(S):null;if(!S)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(d=dm(m.href),m=pr(S).hoistableStyles,y=m.get(d),y||(y={type:"style",instance:null,count:0,state:null},m.set(d,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){l=dm(m.href);var C=pr(S).hoistableStyles,H=C.get(l);if(H||(S=S.ownerDocument||S,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(l,H),(C=S.querySelector(zg(l)))&&!C._p&&(H.instance=C,H.state.loading=5),xo.has(l)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},xo.set(l,m),C||Mte(S,l,m,H.state))),d&&y===null)throw Error(n(528,""));return H}if(d&&y!==null)throw Error(n(529,""));return null;case"script":return d=m.async,m=m.src,typeof m=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=hm(m),m=pr(S).hoistableScripts,y=m.get(d),y||(y={type:"script",instance:null,count:0,state:null},m.set(d,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function dm(l){return'href="'+tn(l)+'"'}function zg(l){return'link[rel="stylesheet"]['+l+"]"}function pR(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function Mte(l,d,m,y){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?y.loading=1:(d=l.createElement("link"),y.preload=d,d.addEventListener("load",function(){return y.loading|=1}),d.addEventListener("error",function(){return y.loading|=2}),ms(d,"link",m),Jt(d),l.head.appendChild(d))}function hm(l){return'[src="'+tn(l)+'"]'}function Fg(l){return"script[async]"+l}function gR(l,d,m){if(d.count++,d.instance===null)switch(d.type){case"style":var y=l.querySelector('style[data-href~="'+tn(m.href)+'"]');if(y)return d.instance=y,Jt(y),y;var S=f({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return y=(l.ownerDocument||l).createElement("style"),Jt(y),ms(y,"style",S),Vb(y,m.precedence,l),d.instance=y;case"stylesheet":S=dm(m.href);var C=l.querySelector(zg(S));if(C)return d.state.loading|=4,d.instance=C,Jt(C),C;y=pR(m),(S=xo.get(S))&&xN(y,S),C=(l.ownerDocument||l).createElement("link"),Jt(C);var H=C;return H._p=new Promise(function(Z,ce){H.onload=Z,H.onerror=ce}),ms(C,"link",y),d.state.loading|=4,Vb(C,m.precedence,l),d.instance=C;case"script":return C=hm(m.src),(S=l.querySelector(Fg(C)))?(d.instance=S,Jt(S),S):(y=m,(S=xo.get(C))&&(y=f({},m),yN(y,S)),l=l.ownerDocument||l,S=l.createElement("script"),Jt(S),ms(S,"link",y),l.head.appendChild(S),d.instance=S);case"void":return null;default:throw Error(n(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(y=d.instance,d.state.loading|=4,Vb(y,m.precedence,l));return d.instance}function Vb(l,d,m){for(var y=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=y.length?y[y.length-1]:null,C=S,H=0;H<y.length;H++){var Z=y[H];if(Z.dataset.precedence===d)C=Z;else if(C!==S)break}C?C.parentNode.insertBefore(l,C.nextSibling):(d=m.nodeType===9?m.head:m,d.insertBefore(l,d.firstChild))}function xN(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function yN(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var zb=null;function xR(l,d,m){if(zb===null){var y=new Map,S=zb=new Map;S.set(m,y)}else S=zb,y=S.get(m),y||(y=new Map,S.set(m,y));if(y.has(l))return y;for(y.set(l,null),m=m.getElementsByTagName(l),S=0;S<m.length;S++){var C=m[S];if(!(C[Nn]||C[Se]||l==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var H=C.getAttribute(d)||"";H=l+H;var Z=y.get(H);Z?Z.push(C):y.set(H,[C])}}return y}function yR(l,d,m){l=l.ownerDocument||l,l.head.insertBefore(m,d==="title"?l.querySelector("head > title"):null)}function Dte(l,d,m){if(m===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function vR(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var $g=null;function Rte(){}function Lte(l,d,m){if($g===null)throw Error(n(475));var y=$g;if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var S=dm(m.href),C=l.querySelector(zg(S));if(C){l=C._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(y.count++,y=Fb.bind(y),l.then(y,y)),d.state.loading|=4,d.instance=C,Jt(C);return}C=l.ownerDocument||l,m=pR(m),(S=xo.get(S))&&xN(m,S),C=C.createElement("link"),Jt(C);var H=C;H._p=new Promise(function(Z,ce){H.onload=Z,H.onerror=ce}),ms(C,"link",m),d.instance=C}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(y.count++,d=Fb.bind(y),l.addEventListener("load",d),l.addEventListener("error",d))}}function Ute(){if($g===null)throw Error(n(475));var l=$g;return l.stylesheets&&l.count===0&&vN(l,l.stylesheets),0<l.count?function(d){var m=setTimeout(function(){if(l.stylesheets&&vN(l,l.stylesheets),l.unsuspend){var y=l.unsuspend;l.unsuspend=null,y()}},6e4);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(m)}}:null}function Fb(){if(this.count--,this.count===0){if(this.stylesheets)vN(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var $b=null;function vN(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,$b=new Map,d.forEach(Vte,l),$b=null,Fb.call(l))}function Vte(l,d){if(!(d.state.loading&4)){var m=$b.get(l);if(m)var y=m.get(null);else{m=new Map,$b.set(l,m);for(var S=l.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<S.length;C++){var H=S[C];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(m.set(H.dataset.precedence,H),y=H)}y&&m.set(null,y)}S=d.instance,H=S.getAttribute("data-precedence"),C=m.get(H)||y,C===y&&m.set(null,S),m.set(H,S),this.count++,y=Fb.bind(this),S.addEventListener("load",y),S.addEventListener("error",y),C?C.parentNode.insertBefore(S,C.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(S,l.firstChild)),d.state.loading|=4}}var Bg={$$typeof:A,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function zte(l,d,m,y,S,C,H,Z){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bt(0),this.hiddenUpdates=bt(null),this.identifierPrefix=y,this.onUncaughtError=S,this.onCaughtError=C,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function bR(l,d,m,y,S,C,H,Z,ce,Ee,ze,Ke){return l=new zte(l,d,m,H,Z,ce,Ee,Ke),d=1,C===!0&&(d|=24),C=Li(3,null,null,d),l.current=C,C.stateNode=l,d=ek(),d.refCount++,l.pooledCache=d,d.refCount++,C.memoizedState={element:y,isDehydrated:m,cache:d},ak(C),l}function jR(l){return l?(l=Bf,l):Bf}function wR(l,d,m,y,S,C){S=jR(S),y.context===null?y.context=S:y.pendingContext=S,y=Tu(d),y.payload={element:m},C=C===void 0?null:C,C!==null&&(y.callback=C),m=_u(l,y,d),m!==null&&($i(m,l,d),vg(m,l,d))}function kR(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<d?m:d}}function bN(l,d){kR(l,d),(l=l.alternate)&&kR(l,d)}function NR(l){if(l.tag===13){var d=$f(l,67108864);d!==null&&$i(d,l,67108864),bN(l,67108864)}}var Bb=!0;function Fte(l,d,m,y){var S=F.T;F.T=null;var C=W.p;try{W.p=2,jN(l,d,m,y)}finally{W.p=C,F.T=S}}function $te(l,d,m,y){var S=F.T;F.T=null;var C=W.p;try{W.p=8,jN(l,d,m,y)}finally{W.p=C,F.T=S}}function jN(l,d,m,y){if(Bb){var S=wN(y);if(S===null)lN(l,d,y,qb,m),ER(l,y);else if(qte(S,l,d,m,y))y.stopPropagation();else if(ER(l,y),d&4&&-1<Bte.indexOf(l)){for(;S!==null;){var C=Un(S);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var H=pe(C.pendingLanes);if(H!==0){var Z=C;for(Z.pendingLanes|=2,Z.entangledLanes|=2;H;){var ce=1<<31-ht(H);Z.entanglements[1]|=ce,H&=~ce}Ul(C),(ln&6)===0&&(Ab=We()+500,Rg(0))}}break;case 13:Z=$f(C,2),Z!==null&&$i(Z,C,2),_b(),bN(C,2)}if(C=wN(y),C===null&&lN(l,d,y,qb,m),C===S)break;S=C}S!==null&&y.stopPropagation()}else lN(l,d,y,null,m)}}function wN(l){return l=Cl(l),kN(l)}var qb=null;function kN(l){if(qb=null,l=pn(l),l!==null){var d=i(l);if(d===null)l=null;else{var m=d.tag;if(m===13){if(l=o(d),l!==null)return l;l=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return qb=l,null}function SR(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(it()){case ut:return 2;case At:return 8;case wt:case st:return 32;case Ce:return 268435456;default:return 32}default:return 32}}var NN=!1,$u=null,Bu=null,qu=null,qg=new Map,Hg=new Map,Hu=[],Bte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ER(l,d){switch(l){case"focusin":case"focusout":$u=null;break;case"dragenter":case"dragleave":Bu=null;break;case"mouseover":case"mouseout":qu=null;break;case"pointerover":case"pointerout":qg.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hg.delete(d.pointerId)}}function Wg(l,d,m,y,S,C){return l===null||l.nativeEvent!==C?(l={blockedOn:d,domEventName:m,eventSystemFlags:y,nativeEvent:C,targetContainers:[S]},d!==null&&(d=Un(d),d!==null&&NR(d)),l):(l.eventSystemFlags|=y,d=l.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),l)}function qte(l,d,m,y,S){switch(d){case"focusin":return $u=Wg($u,l,d,m,y,S),!0;case"dragenter":return Bu=Wg(Bu,l,d,m,y,S),!0;case"mouseover":return qu=Wg(qu,l,d,m,y,S),!0;case"pointerover":var C=S.pointerId;return qg.set(C,Wg(qg.get(C)||null,l,d,m,y,S)),!0;case"gotpointercapture":return C=S.pointerId,Hg.set(C,Wg(Hg.get(C)||null,l,d,m,y,S)),!0}return!1}function AR(l){var d=pn(l.target);if(d!==null){var m=i(d);if(m!==null){if(d=m.tag,d===13){if(d=o(m),d!==null){l.blockedOn=d,fr(l.priority,function(){if(m.tag===13){var y=Fi();y=Ge(y);var S=$f(m,y);S!==null&&$i(S,m,y),bN(m,y)}});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Hb(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var m=wN(l.nativeEvent);if(m===null){m=l.nativeEvent;var y=new m.constructor(m.type,m);yc=y,m.target.dispatchEvent(y),yc=null}else return d=Un(m),d!==null&&NR(d),l.blockedOn=m,!1;d.shift()}return!0}function TR(l,d,m){Hb(l)&&m.delete(d)}function Hte(){NN=!1,$u!==null&&Hb($u)&&($u=null),Bu!==null&&Hb(Bu)&&(Bu=null),qu!==null&&Hb(qu)&&(qu=null),qg.forEach(TR),Hg.forEach(TR)}function Wb(l,d){l.blockedOn===d&&(l.blockedOn=null,NN||(NN=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Hte)))}var Gb=null;function _R(l){Gb!==l&&(Gb=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Gb===l&&(Gb=null);for(var d=0;d<l.length;d+=3){var m=l[d],y=l[d+1],S=l[d+2];if(typeof y!="function"){if(kN(y||m)===null)continue;break}var C=Un(m);C!==null&&(l.splice(d,3),d-=3,kk(C,{pending:!0,data:S,method:m.method,action:y},y,S))}}))}function Gg(l){function d(ce){return Wb(ce,l)}$u!==null&&Wb($u,l),Bu!==null&&Wb(Bu,l),qu!==null&&Wb(qu,l),qg.forEach(d),Hg.forEach(d);for(var m=0;m<Hu.length;m++){var y=Hu[m];y.blockedOn===l&&(y.blockedOn=null)}for(;0<Hu.length&&(m=Hu[0],m.blockedOn===null);)AR(m),m.blockedOn===null&&Hu.shift();if(m=(l.ownerDocument||l).$$reactFormReplay,m!=null)for(y=0;y<m.length;y+=3){var S=m[y],C=m[y+1],H=S[lt]||null;if(typeof C=="function")H||_R(m);else if(H){var Z=null;if(C&&C.hasAttribute("formAction")){if(S=C,H=C[lt]||null)Z=H.formAction;else if(kN(S)!==null)continue}else Z=H.action;typeof Z=="function"?m[y+1]=Z:(m.splice(y,3),y-=3),_R(m)}}}function SN(l){this._internalRoot=l}Yb.prototype.render=SN.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(n(409));var m=d.current,y=Fi();wR(m,y,l,d,null,null)},Yb.prototype.unmount=SN.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;wR(l.current,2,null,l,null,null),_b(),d[ir]=null}};function Yb(l){this._internalRoot=l}Yb.prototype.unstable_scheduleHydration=function(l){if(l){var d=sr();l={blockedOn:null,target:l,priority:d};for(var m=0;m<Hu.length&&d!==0&&d<Hu[m].priority;m++);Hu.splice(m,0,l),m===0&&AR(l)}};var CR=e.version;if(CR!=="19.1.1")throw Error(n(527,CR,"19.1.1"));W.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=u(d),l=l!==null?h(l):null,l=l===null?null:l.stateNode,l};var Wte={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kb.isDisabled&&Kb.supportsFiber)try{rt=Kb.inject(Wte),ot=Kb}catch{}}return Kg.createRoot=function(l,d){if(!a(l))throw Error(n(299));var m=!1,y="",S=WM,C=GM,H=YM,Z=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(C=d.onCaughtError),d.onRecoverableError!==void 0&&(H=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(Z=d.unstable_transitionCallbacks)),d=bR(l,1,!1,null,null,m,y,S,C,H,Z,null),l[ir]=d.current,oN(l),new SN(d)},Kg.hydrateRoot=function(l,d,m){if(!a(l))throw Error(n(299));var y=!1,S="",C=WM,H=GM,Z=YM,ce=null,Ee=null;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(S=m.identifierPrefix),m.onUncaughtError!==void 0&&(C=m.onUncaughtError),m.onCaughtError!==void 0&&(H=m.onCaughtError),m.onRecoverableError!==void 0&&(Z=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ce=m.unstable_transitionCallbacks),m.formState!==void 0&&(Ee=m.formState)),d=bR(l,1,!0,d,m??null,y,S,C,H,Z,ce,Ee),d.context=jR(null),m=d.current,y=Fi(),y=Ge(y),S=Tu(y),S.callback=null,_u(m,S,y),m=y,d.current.lanes=m,kt(d,m),Ul(d),l[ir]=d.current,oN(l),new Yb(d)},Kg.version="19.1.1",Kg}var zR;function are(){if(zR)return AN.exports;zR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),AN.exports=nre(),AN.exports}var sre=are();const ire=jl(sre);var v=Cp();const qc=jl(v),ore=Xte({__proto__:null,default:qc},[v]);/*! Capacitor: https://capacitorjs.com/ - MIT License */var tp;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(tp||(tp={}));class ON extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const lre=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},cre=t=>{const e=t.CapacitorCustomPlatform||null,r=t.Capacitor||{},n=r.Plugins=r.Plugins||{},a=()=>e!==null?e.name:lre(t),i=()=>a()!=="web",o=p=>{const g=h.get(p);return!!(g!=null&&g.platforms.has(a())||c(p))},c=p=>{var g;return(g=r.PluginHeaders)===null||g===void 0?void 0:g.find(x=>x.name===p)},u=p=>t.console.error(p),h=new Map,f=(p,g={})=>{const x=h.get(p);if(x)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),x.proxy;const j=a(),w=c(p);let b;const N=async()=>(!b&&j in g?b=typeof g[j]=="function"?b=await g[j]():b=g[j]:e!==null&&!b&&"web"in g&&(b=typeof g.web=="function"?b=await g.web():b=g.web),b),E=(T,_)=>{var D,P;if(w){const R=w==null?void 0:w.methods.find(U=>_===U.name);if(R)return R.rtype==="promise"?U=>r.nativePromise(p,_.toString(),U):(U,$)=>r.nativeCallback(p,_.toString(),U,$);if(T)return(D=T[_])===null||D===void 0?void 0:D.bind(T)}else{if(T)return(P=T[_])===null||P===void 0?void 0:P.bind(T);throw new ON(`"${p}" plugin is not implemented on ${j}`,tp.Unimplemented)}},A=T=>{let _;const D=(...P)=>{const R=N().then(U=>{const $=E(U,T);if($){const K=$(...P);return _=K==null?void 0:K.remove,K}else throw new ON(`"${p}.${T}()" is not implemented on ${j}`,tp.Unimplemented)});return T==="addListener"&&(R.remove=async()=>_()),R};return D.toString=()=>`${T.toString()}() { [capacitor code] }`,Object.defineProperty(D,"name",{value:T,writable:!1,configurable:!1}),D},O=A("addListener"),M=A("removeListener"),L=(T,_)=>{const D=O({eventName:T},_),P=async()=>{const U=await D;M({eventName:T,callbackId:U},_)},R=new Promise(U=>D.then(()=>U({remove:P})));return R.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await P()},R},I=new Proxy({},{get(T,_){switch(_){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return w?L:O;case"removeListener":return M;default:return A(_)}}});return n[p]=I,h.set(p,{name:p,proxy:I,platforms:new Set([...Object.keys(g),...w?[j]:[]])}),I};return r.convertFileSrc||(r.convertFileSrc=p=>p),r.getPlatform=a,r.handleError=u,r.isNativePlatform=i,r.isPluginAvailable=o,r.registerPlugin=f,r.Exception=ON,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},ure=t=>t.Capacitor=cre(t),rp=ure(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),jC=rp.registerPlugin;class BF{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,n){const a=this.listeners[e];if(!a){if(n){let i=this.retainedEventArguments[e];i||(i=[]),i.push(r),this.retainedEventArguments[e]=i}return}a.forEach(i=>i(r))}hasListeners(e){var r;return!!(!((r=this.listeners[e])===null||r===void 0)&&r.length)}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new rp.Exception(e,tp.Unimplemented)}unavailable(e="not available"){return new rp.Exception(e,tp.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const a=n.indexOf(r);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const FR=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),$R=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class dre extends BF{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[a,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=$R(a).trim(),i=$R(i).trim(),r[a]=i}),r}async setCookie(e){try{const r=FR(e.key),n=FR(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${a}; path=${i}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}jC("CapacitorCookies",{web:()=>new dre});const hre=async t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const a=n.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},n.onerror=a=>r(a),n.readAsDataURL(t)}),fre=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(a=>a.toLocaleLowerCase()).reduce((a,i,o)=>(a[i]=t[e[o]],a),{})},mre=(t,e=!0)=>t?Object.entries(t).reduce((n,a)=>{const[i,o]=a;let c,u;return Array.isArray(o)?(u="",o.forEach(h=>{c=e?encodeURIComponent(h):h,u+=`${i}=${c}&`}),u.slice(0,-1)):(c=e?encodeURIComponent(o):o,u=`${i}=${c}`),`${n}&${u}`},"").substr(1):null,pre=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),a=fre(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(a.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,c]of Object.entries(t.data||{}))i.set(o,c);r.body=i.toString()}else if(a.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((c,u)=>{i.append(u,c)});else for(const c of Object.keys(t.data))i.append(c,t.data[c]);r.body=i;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(a.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class gre extends BF{async request(e){const r=pre(e,e.webFetchExtra),n=mre(e.params,e.shouldEncodeUrlParams),a=n?`${e.url}?${n}`:e.url,i=await fetch(a,r),o=i.headers.get("content-type")||"";let{responseType:c="text"}=i.ok?e:{};o.includes("application/json")&&(c="json");let u,h;switch(c){case"arraybuffer":case"blob":h=await i.blob(),u=await hre(h);break;case"json":u=await i.json();break;case"document":case"text":default:u=await i.text()}const f={};return i.headers.forEach((p,g)=>{f[g]=p}),{data:u,headers:f,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}jC("CapacitorHttp",{web:()=>new gre});var CA;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(CA||(CA={}));var BR;(function(t){t.None="NONE",t.Slide="SLIDE",t.Fade="FADE"})(BR||(BR={}));const PN=jC("StatusBar");/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qR="popstate";function xre(t={}){function e(n,a){let{pathname:i,search:o,hash:c}=n.location;return IA("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:ey(a)}return vre(e,r,null,t)}function Qn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ml(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yre(){return Math.random().toString(36).substring(2,10)}function HR(t,e){return{usr:t.state,key:t.key,idx:e}}function IA(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ip(e):e,state:r,key:e&&e.key||n||yre()}}function ey({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ip(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function vre(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,c="POP",u=null,h=f();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function f(){return(o.state||{idx:null}).idx}function p(){c="POP";let b=f(),N=b==null?null:b-h;h=b,u&&u({action:c,location:w.location,delta:N})}function g(b,N){c="PUSH";let E=IA(w.location,b,N);h=f()+1;let A=HR(E,h),O=w.createHref(E);try{o.pushState(A,"",O)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(O)}i&&u&&u({action:c,location:w.location,delta:1})}function x(b,N){c="REPLACE";let E=IA(w.location,b,N);h=f();let A=HR(E,h),O=w.createHref(E);o.replaceState(A,"",O),i&&u&&u({action:c,location:w.location,delta:0})}function j(b){return bre(b)}let w={get action(){return c},get location(){return t(a,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(qR,p),u=b,()=>{a.removeEventListener(qR,p),u=null}},createHref(b){return e(a,b)},createURL:j,encodeLocation(b){let N=j(b);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:x,go(b){return o.go(b)}};return w}function bre(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Qn(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:ey(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function qF(t,e,r="/"){return jre(t,e,r,!1)}function jre(t,e,r,n){let a=typeof e=="string"?Ip(e):e,i=Xc(a.pathname||"/",r);if(i==null)return null;let o=HF(t);wre(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let h=Pre(i);c=Ire(o[u],h,n)}return c}function HF(t,e=[],r=[],n="",a=!1){let i=(o,c,u=a,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&u)return;Qn(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let p=Hc([n,f.relativePath]),g=r.concat(f);o.children&&o.children.length>0&&(Qn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),HF(o.children,e,g,p,u)),!(o.path==null&&!o.index)&&e.push({path:p,score:_re(p,o.index),routesMeta:g})};return t.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,c);else for(let h of WF(o.path))i(o,c,!0,h)}),e}function WF(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=WF(n.join("/")),c=[];return c.push(...o.map(u=>u===""?i:[i,u].join("/"))),a&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function wre(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Cre(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var kre=/^:[\w-]+$/,Nre=3,Sre=2,Ere=1,Are=10,Tre=-2,WR=t=>t==="*";function _re(t,e){let r=t.split("/"),n=r.length;return r.some(WR)&&(n+=Tre),e&&(n+=Sre),r.filter(a=>!WR(a)).reduce((a,i)=>a+(kre.test(i)?Nre:i===""?Ere:Are),n)}function Cre(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function Ire(t,e,r=!1){let{routesMeta:n}=t,a={},i="/",o=[];for(let c=0;c<n.length;++c){let u=n[c],h=c===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=v1({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!p&&h&&r&&!n[n.length-1].route.index&&(p=v1({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(a,p.params),o.push({params:a,pathname:Hc([i,p.pathname]),pathnameBase:Lre(Hc([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Hc([i,p.pathnameBase]))}return o}function v1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Ore(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((h,{paramName:f,isOptional:p},g)=>{if(f==="*"){let j=c[g]||"";o=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const x=c[g];return p&&!x?h[f]=void 0:h[f]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function Ore(t,e=!1,r=!0){ml(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function Pre(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ml(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Mre(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Ip(t):t;return{pathname:r?r.startsWith("/")?r:Dre(r,e):e,search:Ure(n),hash:Vre(a)}}function Dre(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function MN(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rre(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function wC(t){let e=Rre(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function kC(t,e,r,n=!1){let a;typeof t=="string"?a=Ip(t):(a={...t},Qn(!a.pathname||!a.pathname.includes("?"),MN("?","pathname","search",a)),Qn(!a.pathname||!a.pathname.includes("#"),MN("#","pathname","hash",a)),Qn(!a.search||!a.search.includes("#"),MN("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,c;if(o==null)c=r;else{let p=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;a.pathname=g.join("/")}c=p>=0?e[p]:"/"}let u=Mre(a,c),h=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var Hc=t=>t.join("/").replace(/\/\/+/g,"/"),Lre=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ure=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Vre=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zre(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var GF=["POST","PUT","PATCH","DELETE"];new Set(GF);var Fre=["GET",...GF];new Set(Fre);var Op=v.createContext(null);Op.displayName="DataRouter";var Zj=v.createContext(null);Zj.displayName="DataRouterState";v.createContext(!1);var YF=v.createContext({isTransitioning:!1});YF.displayName="ViewTransition";var $re=v.createContext(new Map);$re.displayName="Fetchers";var Bre=v.createContext(null);Bre.displayName="Await";var wl=v.createContext(null);wl.displayName="Navigation";var qy=v.createContext(null);qy.displayName="Location";var kl=v.createContext({outlet:null,matches:[],isDataRoute:!1});kl.displayName="Route";var NC=v.createContext(null);NC.displayName="RouteError";function qre(t,{relative:e}={}){Qn(Pp(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext(wl),{hash:a,pathname:i,search:o}=Hy(t,{relative:e}),c=i;return r!=="/"&&(c=i==="/"?r:Hc([r,i])),n.createHref({pathname:c,search:o,hash:a})}function Pp(){return v.useContext(qy)!=null}function pi(){return Qn(Pp(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(qy).location}var KF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XF(t){v.useContext(wl).static||v.useLayoutEffect(t)}function mn(){let{isDataRoute:t}=v.useContext(kl);return t?nne():Hre()}function Hre(){Qn(Pp(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(Op),{basename:e,navigator:r}=v.useContext(wl),{matches:n}=v.useContext(kl),{pathname:a}=pi(),i=JSON.stringify(wC(n)),o=v.useRef(!1);return XF(()=>{o.current=!0}),v.useCallback((u,h={})=>{if(ml(o.current,KF),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=kC(u,JSON.parse(i),a,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Hc([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,i,a,t])}v.createContext(null);function Mp(){let{matches:t}=v.useContext(kl),e=t[t.length-1];return e?e.params:{}}function Hy(t,{relative:e}={}){let{matches:r}=v.useContext(kl),{pathname:n}=pi(),a=JSON.stringify(wC(r));return v.useMemo(()=>kC(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function Wre(t,e){return QF(t,e)}function QF(t,e,r,n,a){var E;Qn(Pp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=v.useContext(wl),{matches:o}=v.useContext(kl),c=o[o.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let A=p&&p.path||"";ZF(h,!p||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let g=pi(),x;if(e){let A=typeof e=="string"?Ip(e):e;Qn(f==="/"||((E=A.pathname)==null?void 0:E.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${A.pathname}" was given in the \`location\` prop.`),x=A}else x=g;let j=x.pathname||"/",w=j;if(f!=="/"){let A=f.replace(/^\//,"").split("/");w="/"+j.replace(/^\//,"").split("/").slice(A.length).join("/")}let b=qF(t,{pathname:w});ml(p||b!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ml(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Qre(b&&b.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Hc([f,i.encodeLocation?i.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Hc([f,i.encodeLocation?i.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),o,r,n,a);return e&&N?v.createElement(qy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},N):N}function Gre(){let t=rne(),e=zre(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:i},"ErrorBoundary")," or"," ",v.createElement("code",{style:i},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:a},r):null,o)}var Yre=v.createElement(Gre,null),Kre=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?v.createElement(kl.Provider,{value:this.props.routeContext},v.createElement(NC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Xre({routeContext:t,match:e,children:r}){let n=v.useContext(Op);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement(kl.Provider,{value:t},r)}function Qre(t,e=[],r=null,n=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r==null?void 0:r.errors;if(o!=null){let h=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Qn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(r)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:g}=r,x=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,f,p)=>{let g,x=!1,j=null,w=null;r&&(g=o&&f.route.id?o[f.route.id]:void 0,j=f.route.errorElement||Yre,c&&(u<0&&p===0?(ZF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):u===p&&(x=!0,w=f.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,p+1)),N=()=>{let E;return g?E=j:x?E=w:f.route.Component?E=v.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,v.createElement(Xre,{match:f,routeContext:{outlet:h,matches:b,isDataRoute:r!=null},children:E})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?v.createElement(Kre,{location:r.location,revalidation:r.revalidation,component:j,error:g,children:N(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:n}):N()},null)}function SC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zre(t){let e=v.useContext(Op);return Qn(e,SC(t)),e}function Jre(t){let e=v.useContext(Zj);return Qn(e,SC(t)),e}function ene(t){let e=v.useContext(kl);return Qn(e,SC(t)),e}function EC(t){let e=ene(t),r=e.matches[e.matches.length-1];return Qn(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function tne(){return EC("useRouteId")}function rne(){var n;let t=v.useContext(NC),e=Jre("useRouteError"),r=EC("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function nne(){let{router:t}=Zre("useNavigate"),e=EC("useNavigate"),r=v.useRef(!1);return XF(()=>{r.current=!0}),v.useCallback(async(a,i={})=>{ml(r.current,KF),r.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var GR={};function ZF(t,e,r){!e&&!GR[t]&&(GR[t]=!0,ml(!1,r))}v.memo(ane);function ane({routes:t,future:e,state:r,unstable_onError:n}){return QF(t,void 0,r,n,e)}function pl({to:t,replace:e,state:r,relative:n}){Qn(Pp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=v.useContext(wl);ml(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=v.useContext(kl),{pathname:o}=pi(),c=mn(),u=kC(t,wC(i),o,n==="path"),h=JSON.stringify(u);return v.useEffect(()=>{c(JSON.parse(h),{replace:e,state:r,relative:n})},[c,h,n,e,r]),null}function er(t){Qn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sne({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){Qn(!Pp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=Ip(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,x=v.useMemo(()=>{let j=Xc(u,o);return j==null?null:{location:{pathname:j,search:h,hash:f,state:p,key:g},navigationType:n}},[o,u,h,f,p,g,n]);return ml(x!=null,`<Router basename="${o}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:v.createElement(wl.Provider,{value:c},v.createElement(qy.Provider,{children:e,value:x}))}function ine({children:t,location:e}){return Wre(OA(t),e)}function OA(t,e=[]){let r=[];return v.Children.forEach(t,(n,a)=>{if(!v.isValidElement(n))return;let i=[...e,a];if(n.type===v.Fragment){r.push.apply(r,OA(n.props.children,i));return}Qn(n.type===er,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=OA(n.props.children,i)),r.push(o)}),r}var W0="get",G0="application/x-www-form-urlencoded";function Jj(t){return t!=null&&typeof t.tagName=="string"}function one(t){return Jj(t)&&t.tagName.toLowerCase()==="button"}function lne(t){return Jj(t)&&t.tagName.toLowerCase()==="form"}function cne(t){return Jj(t)&&t.tagName.toLowerCase()==="input"}function une(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dne(t,e){return t.button===0&&(!e||e==="_self")&&!une(t)}var Xb=null;function hne(){if(Xb===null)try{new FormData(document.createElement("form"),0),Xb=!1}catch{Xb=!0}return Xb}var fne=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function DN(t){return t!=null&&!fne.has(t)?(ml(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${G0}"`),null):t}function mne(t,e){let r,n,a,i,o;if(lne(t)){let c=t.getAttribute("action");n=c?Xc(c,e):null,r=t.getAttribute("method")||W0,a=DN(t.getAttribute("enctype"))||G0,i=new FormData(t)}else if(one(t)||cne(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(n=u?Xc(u,e):null,r=t.getAttribute("formmethod")||c.getAttribute("method")||W0,a=DN(t.getAttribute("formenctype"))||DN(c.getAttribute("enctype"))||G0,i=new FormData(c,t),!hne()){let{name:h,type:f,value:p}=t;if(f==="image"){let g=h?`${h}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else h&&i.append(h,p)}}else{if(Jj(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=W0,n=null,a=G0,o=t}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function AC(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pne(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Xc(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function gne(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xne(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function yne(t,e,r){let n=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let o=await gne(i,r);return o.links?o.links():[]}return[]}));return wne(n.flat(1).filter(xne).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function YR(t,e,r,n,a,i){let o=(u,h)=>r[h]?u.route.id!==r[h].route.id:!0,c=(u,h)=>{var f;return r[h].pathname!==u.pathname||((f=r[h].route.path)==null?void 0:f.endsWith("*"))&&r[h].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,h)=>o(u,h)||c(u,h)):i==="data"?e.filter((u,h)=>{var p;let f=n.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function vne(t,e,{includeHydrateFallback:r}={}){return bne(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function bne(t){return[...new Set(t)]}function jne(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function wne(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let i=JSON.stringify(jne(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function JF(){let t=v.useContext(Op);return AC(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function kne(){let t=v.useContext(Zj);return AC(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var TC=v.createContext(void 0);TC.displayName="FrameworkContext";function e$(){let t=v.useContext(TC);return AC(t,"You must render this element inside a <HydratedRouter> element"),t}function Nne(t,e){let r=v.useContext(TC),[n,a]=v.useState(!1),[i,o]=v.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=e,g=v.useRef(null);v.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=N=>{N.forEach(E=>{o(E.isIntersecting)})},b=new IntersectionObserver(w,{threshold:.5});return g.current&&b.observe(g.current),()=>{b.disconnect()}}},[t]),v.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let x=()=>{a(!0)},j=()=>{a(!1),o(!1)};return r?t!=="intent"?[i,g,{}]:[i,g,{onFocus:Xg(c,x),onBlur:Xg(u,j),onMouseEnter:Xg(h,x),onMouseLeave:Xg(f,j),onTouchStart:Xg(p,x)}]:[!1,g,{}]}function Xg(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Sne({page:t,...e}){let{router:r}=JF(),n=v.useMemo(()=>qF(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?v.createElement(Ane,{page:t,matches:n,...e}):null}function Ene(t){let{manifest:e,routeModules:r}=e$(),[n,a]=v.useState([]);return v.useEffect(()=>{let i=!1;return yne(t,e,r).then(o=>{i||a(o)}),()=>{i=!0}},[t,e,r]),n}function Ane({page:t,matches:e,...r}){let n=pi(),{manifest:a,routeModules:i}=e$(),{basename:o}=JF(),{loaderData:c,matches:u}=kne(),h=v.useMemo(()=>YR(t,e,u,a,n,"data"),[t,e,u,a,n]),f=v.useMemo(()=>YR(t,e,u,a,n,"assets"),[t,e,u,a,n]),p=v.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let j=new Set,w=!1;if(e.forEach(N=>{var A;let E=a.routes[N.route.id];!E||!E.hasLoader||(!h.some(O=>O.route.id===N.route.id)&&N.route.id in c&&((A=i[N.route.id])!=null&&A.shouldRevalidate)||E.hasClientLoader?w=!0:j.add(N.route.id))}),j.size===0)return[];let b=pne(t,o,"data");return w&&j.size>0&&b.searchParams.set("_routes",e.filter(N=>j.has(N.route.id)).map(N=>N.route.id).join(",")),[b.pathname+b.search]},[o,c,n,a,h,e,t,i]),g=v.useMemo(()=>vne(f,a),[f,a]),x=Ene(f);return v.createElement(v.Fragment,null,p.map(j=>v.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),g.map(j=>v.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),x.map(({key:j,link:w})=>v.createElement("link",{key:j,nonce:r.nonce,...w})))}function Tne(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var t$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{t$&&(window.__reactRouterVersion="7.9.3")}catch{}function _ne({basename:t,children:e,window:r}){let n=v.useRef();n.current==null&&(n.current=xre({window:r,v5Compat:!0}));let a=n.current,[i,o]=v.useState({action:a.action,location:a.location}),c=v.useCallback(u=>{v.startTransition(()=>o(u))},[o]);return v.useLayoutEffect(()=>a.listen(c),[a,c]),v.createElement(sne,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:a})}var r$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=v.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:c,target:u,to:h,preventScrollReset:f,viewTransition:p,...g},x){let{basename:j}=v.useContext(wl),w=typeof h=="string"&&r$.test(h),b,N=!1;if(typeof h=="string"&&w&&(b=h,t$))try{let _=new URL(window.location.href),D=h.startsWith("//")?new URL(_.protocol+h):new URL(h),P=Xc(D.pathname,j);D.origin===_.origin&&P!=null?h=P+D.search+D.hash:N=!0}catch{ml(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=qre(h,{relative:a}),[A,O,M]=Nne(n,g),L=Pne(h,{replace:o,state:c,target:u,preventScrollReset:f,relative:a,viewTransition:p});function I(_){e&&e(_),_.defaultPrevented||L(_)}let T=v.createElement("a",{...g,...M,href:b||E,onClick:N||i?e:I,ref:Tne(x,O),target:u,"data-discover":!w&&r==="render"?"true":void 0});return A&&!w?v.createElement(v.Fragment,null,T,v.createElement(Sne,{page:E})):T});xt.displayName="Link";var Cne=v.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:c,children:u,...h},f){let p=Hy(o,{relative:h.relative}),g=pi(),x=v.useContext(Zj),{navigator:j,basename:w}=v.useContext(wl),b=x!=null&&Une(p)&&c===!0,N=j.encodeLocation?j.encodeLocation(p).pathname:p.pathname,E=g.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(E=E.toLowerCase(),A=A?A.toLowerCase():null,N=N.toLowerCase()),A&&w&&(A=Xc(A,w)||A);const O=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let M=E===N||!a&&E.startsWith(N)&&E.charAt(O)==="/",L=A!=null&&(A===N||!a&&A.startsWith(N)&&A.charAt(N.length)==="/"),I={isActive:M,isPending:L,isTransitioning:b},T=M?e:void 0,_;typeof n=="function"?_=n(I):_=[n,M?"active":null,L?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof i=="function"?i(I):i;return v.createElement(xt,{...h,"aria-current":T,className:_,ref:f,style:D,to:o,viewTransition:c},typeof u=="function"?u(I):u)});Cne.displayName="NavLink";var Ine=v.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:i,method:o=W0,action:c,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:p,...g},x)=>{let j=Rne(),w=Lne(c,{relative:h}),b=o.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&r$.test(c),E=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let O=A.nativeEvent.submitter,M=(O==null?void 0:O.getAttribute("formmethod"))||o;j(O||A.currentTarget,{fetcherKey:e,method:M,navigate:r,replace:a,state:i,relative:h,preventScrollReset:f,viewTransition:p})};return v.createElement("form",{ref:x,method:b,action:w,onSubmit:n?u:E,...g,"data-discover":!N&&t==="render"?"true":void 0})});Ine.displayName="Form";function One(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n$(t){let e=v.useContext(Op);return Qn(e,One(t)),e}function Pne(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o}={}){let c=mn(),u=pi(),h=Hy(t,{relative:i});return v.useCallback(f=>{if(dne(f,e)){f.preventDefault();let p=r!==void 0?r:ey(u)===ey(h);c(t,{replace:p,state:n,preventScrollReset:a,relative:i,viewTransition:o})}},[u,c,h,r,n,e,t,a,i,o])}var Mne=0,Dne=()=>`__${String(++Mne)}__`;function Rne(){let{router:t}=n$("useSubmit"),{basename:e}=v.useContext(wl),r=tne();return v.useCallback(async(n,a={})=>{let{action:i,method:o,encType:c,formData:u,body:h}=mne(n,e);if(a.navigate===!1){let f=a.fetcherKey||Dne();await t.fetch(f,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:h,formMethod:a.method||o,formEncType:a.encType||c,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:h,formMethod:a.method||o,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,r])}function Lne(t,{relative:e}={}){let{basename:r}=v.useContext(wl),n=v.useContext(kl);Qn(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Hy(t||".",{relative:e})},o=pi();if(t==null){i.search=o.search;let c=new URLSearchParams(i.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let f=c.toString();i.search=f?`?${f}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Hc([r,i.pathname])),ey(i)}function Une(t,{relative:e}={}){let r=v.useContext(YF);Qn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=n$("useViewTransitionState"),a=Hy(t,{relative:e});if(!r.isTransitioning)return!1;let i=Xc(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Xc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return v1(a.pathname,o)!=null||v1(a.pathname,i)!=null}var _C=$F();const a$=v.createContext(void 0),Vne=({children:t})=>{const[e,r]=v.useState(!1);v.useEffect(()=>{const i=localStorage.getItem("church_theme")==="dark";r(i),i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]);const n=()=>{const a=!e;r(a),a?(document.documentElement.classList.add("dark"),localStorage.setItem("church_theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("church_theme","light"))};return s.jsx(a$.Provider,{value:{isDark:e,toggleTheme:n},children:t})},zne="modulepreload",Fne=function(t){return"/"+t},KR={},ty=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=o(r.map(h=>{if(h=Fne(h),h in KR)return;KR[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":zne,f||(g.as="script"),g.crossOrigin="",g.href=h,u&&g.setAttribute("nonce",u),document.head.appendChild(g),f)return new Promise((x,j)=>{g.addEventListener("load",x),g.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return a.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},$ne=()=>{};var XR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},Bne=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=t[r++];e[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=t[r++],o=t[r++],c=t[r++],u=((a&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const i=t[r++],o=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|o&63)}}return e.join("")},i$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const i=t[a],o=a+1<t.length,c=o?t[a+1]:0,u=a+2<t.length,h=u?t[a+2]:0,f=i>>2,p=(i&3)<<4|c>>4;let g=(c&15)<<2|h>>6,x=h&63;u||(x=64,o||(g=64)),n.push(r[f],r[p],r[g],r[x])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Bne(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const i=r[t.charAt(a++)],c=a<t.length?r[t.charAt(a)]:0;++a;const h=a<t.length?r[t.charAt(a)]:64;++a;const p=a<t.length?r[t.charAt(a)]:64;if(++a,i==null||c==null||h==null||p==null)throw new qne;const g=i<<2|c>>4;if(n.push(g),h!==64){const x=c<<4&240|h>>2;if(n.push(x),p!==64){const j=h<<6&192|p;n.push(j)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hne=function(t){const e=s$(t);return i$.encodeByteArray(e,!0)},b1=function(t){return Hne(t).replace(/\./g,"")},o$=function(t){try{return i$.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gne=()=>Wne().__FIREBASE_DEFAULTS__,Yne=()=>{if(typeof process>"u"||typeof XR>"u")return;const t=XR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Kne=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&o$(t[1]);return e&&JSON.parse(e)},ew=()=>{try{return $ne()||Gne()||Yne()||Kne()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},l$=t=>{var e,r;return(r=(e=ew())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},c$=t=>{const e=l$(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},u$=()=>{var t;return(t=ew())==null?void 0:t.config},d$=t=>{var e;return(e=ew())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[b1(JSON.stringify(r)),b1(JSON.stringify(o)),""].join(".")}const Ix={};function Qne(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ix))Ix[e]?t.emulator.push(e):t.prod.push(e);return t}function Zne(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let QR=!1;function IC(t,e){if(typeof window>"u"||typeof document>"u"||!zd(window.location.host)||Ix[t]===e||Ix[t]||QR)return;Ix[t]=e;function r(g){return`__firebase__banner__${g}`}const n="__firebase__banner",i=Qne().prod.length>0;function o(){const g=document.getElementById(n);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,x){g.setAttribute("width","24"),g.setAttribute("id",x),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{QR=!0,o()},g}function f(g,x){g.setAttribute("id",x),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=Zne(n),x=r("text"),j=document.getElementById(x)||document.createElement("span"),w=r("learnmore"),b=document.getElementById(w)||document.createElement("a"),N=r("preprendIcon"),E=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const A=g.element;c(A),f(b,w);const O=h();u(E,N),A.append(E,j,b,O),document.body.appendChild(A)}i?(j.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ys())}function eae(){var e;const t=(e=ew())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tae(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rae(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nae(){const t=Ys();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aae(){return!eae()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m$(){try{return typeof indexedDB=="object"}catch{return!1}}function p$(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;e(((i=a.error)==null?void 0:i.message)||"")}}catch(r){e(r)}})}function sae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iae="FirebaseError";class Vo extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=iae,Object.setPrototypeOf(this,Vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pf.prototype.create)}}class pf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,i=this.errors[e],o=i?oae(i,n):"Error",c=`${this.serviceName}: ${o} (${a}).`;return new Vo(a,c,n)}}function oae(t,e){return t.replace(lae,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const lae=/\{\$([^}]+)}/g;function cae(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oc(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const i=t[a],o=e[a];if(ZR(i)&&ZR(o)){if(!oc(i,o))return!1}else if(i!==o)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function ZR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function px(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,i]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(i)}}),e}function gx(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function uae(t,e){const r=new dae(t,e);return r.subscribe.bind(r)}class dae{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let a;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");hae(e,["next","error","complete"])?a=e:a={next:e,error:r,complete:n},a.next===void 0&&(a.next=RN),a.error===void 0&&(a.error=RN),a.complete===void 0&&(a.complete=RN);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hae(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function RN(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fae=1e3,mae=2,pae=14400*1e3,gae=.5;function JR(t,e=fae,r=mae){const n=e*Math.pow(r,t),a=Math.round(gae*n*(Math.random()-.5)*2);return Math.min(pae,n+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t){return t&&t._delegate?t._delegate:t}class Mo{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xae=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Xne;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vae(e))try{this.getOrInitializeService({instanceIdentifier:bh})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(e=bh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bh){return this.instances.has(e)}getOptions(e=bh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);n===c&&o.resolve(a)}return a}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(e),this.onInitCallbacks.set(n,a);const i=this.instances.get(n);return i&&e(i,n),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:yae(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=bh){return this.component?this.component.multipleInstances?e:bh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function yae(t){return t===bh?void 0:t}function vae(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new xae(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Mr||(Mr={}));const jae={debug:Mr.DEBUG,verbose:Mr.VERBOSE,info:Mr.INFO,warn:Mr.WARN,error:Mr.ERROR,silent:Mr.SILENT},wae=Mr.INFO,kae={[Mr.DEBUG]:"log",[Mr.VERBOSE]:"log",[Mr.INFO]:"info",[Mr.WARN]:"warn",[Mr.ERROR]:"error"},Nae=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=kae[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tw{constructor(e){this.name=e,this._logLevel=wae,this._logHandler=Nae,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jae[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mr.DEBUG,...e),this._logHandler(this,Mr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mr.VERBOSE,...e),this._logHandler(this,Mr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mr.INFO,...e),this._logHandler(this,Mr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mr.WARN,...e),this._logHandler(this,Mr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mr.ERROR,...e),this._logHandler(this,Mr.ERROR,...e)}}const Sae=(t,e)=>e.some(r=>t instanceof r);let e6,t6;function Eae(){return e6||(e6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Aae(){return t6||(t6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g$=new WeakMap,PA=new WeakMap,x$=new WeakMap,LN=new WeakMap,OC=new WeakMap;function Tae(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(gd(t.result)),a()},o=()=>{n(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&g$.set(r,t)}).catch(()=>{}),OC.set(e,t),e}function _ae(t){if(PA.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),a()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});PA.set(t,e)}let MA={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return PA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||x$.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return gd(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Cae(t){MA=t(MA)}function Iae(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(UN(this),e,...r);return x$.set(n,e.sort?e.sort():[e]),gd(n)}:Aae().includes(t)?function(...e){return t.apply(UN(this),e),gd(g$.get(this))}:function(...e){return gd(t.apply(UN(this),e))}}function Oae(t){return typeof t=="function"?Iae(t):(t instanceof IDBTransaction&&_ae(t),Sae(t,Eae())?new Proxy(t,MA):t)}function gd(t){if(t instanceof IDBRequest)return Tae(t);if(LN.has(t))return LN.get(t);const e=Oae(t);return e!==t&&(LN.set(t,e),OC.set(e,t)),e}const UN=t=>OC.get(t);function y$(t,e,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const o=indexedDB.open(t,e),c=gd(o);return n&&o.addEventListener("upgradeneeded",u=>{n(gd(o.result),u.oldVersion,u.newVersion,gd(o.transaction),u)}),r&&o.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),a&&u.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const Pae=["get","getKey","getAll","getAllKeys","count"],Mae=["put","add","delete","clear"],VN=new Map;function r6(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(VN.get(e))return VN.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=Mae.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||Pae.includes(r)))return;const i=async function(o,...c){const u=this.transaction(o,a?"readwrite":"readonly");let h=u.store;return n&&(h=h.index(c.shift())),(await Promise.all([h[r](...c),a&&u.done]))[0]};return VN.set(e,i),i}Cae(t=>({...t,get:(e,r,n)=>r6(e,r)||t.get(e,r,n),has:(e,r)=>!!r6(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Rae(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Rae(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const DA="@firebase/app",n6="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new tw("@firebase/app"),Lae="@firebase/app-compat",Uae="@firebase/analytics-compat",Vae="@firebase/analytics",zae="@firebase/app-check-compat",Fae="@firebase/app-check",$ae="@firebase/auth",Bae="@firebase/auth-compat",qae="@firebase/database",Hae="@firebase/data-connect",Wae="@firebase/database-compat",Gae="@firebase/functions",Yae="@firebase/functions-compat",Kae="@firebase/installations",Xae="@firebase/installations-compat",Qae="@firebase/messaging",Zae="@firebase/messaging-compat",Jae="@firebase/performance",ese="@firebase/performance-compat",tse="@firebase/remote-config",rse="@firebase/remote-config-compat",nse="@firebase/storage",ase="@firebase/storage-compat",sse="@firebase/firestore",ise="@firebase/ai",ose="@firebase/firestore-compat",lse="firebase",cse="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="[DEFAULT]",use={[DA]:"fire-core",[Lae]:"fire-core-compat",[Vae]:"fire-analytics",[Uae]:"fire-analytics-compat",[Fae]:"fire-app-check",[zae]:"fire-app-check-compat",[$ae]:"fire-auth",[Bae]:"fire-auth-compat",[qae]:"fire-rtdb",[Hae]:"fire-data-connect",[Wae]:"fire-rtdb-compat",[Gae]:"fire-fn",[Yae]:"fire-fn-compat",[Kae]:"fire-iid",[Xae]:"fire-iid-compat",[Qae]:"fire-fcm",[Zae]:"fire-fcm-compat",[Jae]:"fire-perf",[ese]:"fire-perf-compat",[tse]:"fire-rc",[rse]:"fire-rc-compat",[nse]:"fire-gcs",[ase]:"fire-gcs-compat",[sse]:"fire-fst",[ose]:"fire-fst-compat",[ise]:"fire-vertex","fire-js":"fire-js",[lse]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new Map,dse=new Map,LA=new Map;function a6(t,e){try{t.container.addComponent(e)}catch(r){Qc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function gl(t){const e=t.name;if(LA.has(e))return Qc.debug(`There were multiple attempts to register component ${e}.`),!1;LA.set(e,t);for(const r of j1.values())a6(r,t);for(const r of dse.values())a6(r,t);return!0}function Fd(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function $s(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hse={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xd=new pf("app","Firebase",hse);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fse{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=cse;function v$(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:RA,automaticDataCollectionEnabled:!0,...e},a=n.name;if(typeof a!="string"||!a)throw xd.create("bad-app-name",{appName:String(a)});if(r||(r=u$()),!r)throw xd.create("no-options");const i=j1.get(a);if(i){if(oc(r,i.options)&&oc(n,i.config))return i;throw xd.create("duplicate-app",{appName:a})}const o=new bae(a);for(const u of LA.values())o.addComponent(u);const c=new fse(r,n,o);return j1.set(a,c),c}function rw(t=RA){const e=j1.get(t);if(!e&&t===RA&&u$())return v$();if(!e)throw xd.create("no-app",{appName:t});return e}function Ei(t,e,r){let n=use[t]??t;r&&(n+=`-${r}`);const a=n.match(/\s|\//),i=e.match(/\s|\//);if(a||i){const o=[`Unable to register library "${n}" with version "${e}":`];a&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qc.warn(o.join(" "));return}gl(new Mo(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mse="firebase-heartbeat-database",pse=1,ry="firebase-heartbeat-store";let zN=null;function b$(){return zN||(zN=y$(mse,pse,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ry)}catch(r){console.warn(r)}}}}).catch(t=>{throw xd.create("idb-open",{originalErrorMessage:t.message})})),zN}async function gse(t){try{const r=(await b$()).transaction(ry),n=await r.objectStore(ry).get(j$(t));return await r.done,n}catch(e){if(e instanceof Vo)Qc.warn(e.message);else{const r=xd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qc.warn(r.message)}}}async function s6(t,e){try{const n=(await b$()).transaction(ry,"readwrite");await n.objectStore(ry).put(e,j$(t)),await n.done}catch(r){if(r instanceof Vo)Qc.warn(r.message);else{const n=xd.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Qc.warn(n.message)}}}function j$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xse=1024,yse=30;class vse{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new jse(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=i6();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>yse){const o=wse(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Qc.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=i6(),{heartbeatsToSend:n,unsentEntries:a}=bse(this._heartbeatsCache.heartbeats),i=b1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Qc.warn(r),""}}}function i6(){return new Date().toISOString().substring(0,10)}function bse(t,e=xse){const r=[];let n=t.slice();for(const a of t){const i=r.find(o=>o.agent===a.agent);if(i){if(i.dates.push(a.date),o6(r)>e){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),o6(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class jse{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m$()?p$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await gse(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return s6(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return s6(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function o6(t){return b1(JSON.stringify({version:2,heartbeats:t})).length}function wse(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kse(t){gl(new Mo("platform-logger",e=>new Dae(e),"PRIVATE")),gl(new Mo("heartbeat",e=>new vse(e),"PRIVATE")),Ei(DA,n6,t),Ei(DA,n6,"esm2020"),Ei("fire-js","")}kse("");function w$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nse=w$,k$=new pf("auth","Firebase",w$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new tw("@firebase/auth");function Sse(t,...e){w1.logLevel<=Mr.WARN&&w1.warn(`Auth (${gf}): ${t}`,...e)}function Y0(t,...e){w1.logLevel<=Mr.ERROR&&w1.error(`Auth (${gf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(t,...e){throw MC(t,...e)}function ul(t,...e){return MC(t,...e)}function PC(t,e,r){const n={...Nse(),[e]:r};return new pf("auth","Firebase",n).create(e,{appName:t.name})}function dl(t){return PC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function N$(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Do(t,"argument-error"),PC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function MC(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return k$.create(t,...e)}function Yt(t,e,...r){if(!t)throw MC(e,...r)}function zc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Y0(e),new Error(e)}function Zc(t,e){t||zc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Ese(){return l6()==="http:"||l6()==="https:"}function l6(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ase(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ese()||f$()||"connection"in navigator)?navigator.onLine:!0}function Tse(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,r){this.shortDelay=e,this.longDelay=r,Zc(r>e,"Short delay should be less than long delay!"),this.isMobile=Jne()||rae()}get(){return Ase()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t,e){Zc(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _se={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cse=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ise=new Gy(3e4,6e4);function du(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fc(t,e,r,n,a={}){return E$(t,a,async()=>{let i={},o={};n&&(e==="GET"?o=n:i={body:JSON.stringify(n)});const c=Wy({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:u,...i};return tae()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&zd(t.emulatorConfig.host)&&(h.credentials="include"),S$.fetch()(await A$(t,t.config.apiHost,r,c),h)})}async function E$(t,e,r){t._canInitEmulator=!1;const n={..._se,...e};try{const a=new Pse(t),i=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Qb(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qb(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Qb(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Qb(t,"user-disabled",o);const f=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw PC(t,f,h);Do(t,f)}}catch(a){if(a instanceof Vo)throw a;Do(t,"network-request-failed",{message:String(a)})}}async function Yy(t,e,r,n,a={}){const i=await fc(t,e,r,n,a);return"mfaPendingCredential"in i&&Do(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function A$(t,e,r,n){const a=`${e}${r}?${n}`,i=t,o=i.config.emulator?DC(t.config,a):`${t.config.apiScheme}://${a}`;return Cse.includes(r)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function Ose(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Pse{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ul(this.auth,"network-request-failed")),Ise.get())})}}function Qb(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=ul(t,e,n);return a.customData._tokenResponse=r,a}function c6(t){return t!==void 0&&t.enterprise!==void 0}class Mse{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Ose(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Dse(t,e){return fc(t,"GET","/v2/recaptchaConfig",du(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rse(t,e){return fc(t,"POST","/v1/accounts:delete",e)}async function N1(t,e){return fc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lse(t,e=!1){const r=qr(t),n=await r.getIdToken(e),a=RC(n);Yt(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:a,token:n,authTime:Ox(FN(a.auth_time)),issuedAtTime:Ox(FN(a.iat)),expirationTime:Ox(FN(a.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function FN(t){return Number(t)*1e3}function RC(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Y0("JWT malformed, contained fewer than 3 sections"),null;try{const a=o$(r);return a?JSON.parse(a):(Y0("Failed to decode base64 JWT payload"),null)}catch(a){return Y0("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function u6(t){const e=RC(t);return Yt(e,"internal-error"),Yt(typeof e.exp<"u","internal-error"),Yt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function np(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Vo&&Use(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Use({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ox(this.lastLoginAt),this.creationTime=Ox(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(t){var p;const e=t.auth,r=await t.getIdToken(),n=await np(t,N1(e,{idToken:r}));Yt(n==null?void 0:n.users.length,e,"internal-error");const a=n.users[0];t._notifyReloadListener(a);const i=(p=a.providerUserInfo)!=null&&p.length?T$(a.providerUserInfo):[],o=Fse(t.providerData,i),c=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),h=c?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new UA(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function zse(t){const e=qr(t);await S1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fse(t,e){return[...t.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function T$(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $se(t,e){const r=await E$(t,{},async()=>{const n=Wy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:i}=t.config,o=await A$(t,a,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:n};return t.emulatorConfig&&zd(t.emulatorConfig.host)&&(u.credentials="include"),S$.fetch()(o,u)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Bse(t,e){return fc(t,"POST","/v2/accounts:revokeToken",du(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Yt(e.idToken,"internal-error"),Yt(typeof e.idToken<"u","internal-error"),Yt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u6(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Yt(e.length!==0,"internal-error");const r=u6(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Yt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:a,expiresIn:i}=await $se(e,r);this.updateTokensAndExpiration(n,a,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:a,expirationTime:i}=r,o=new zm;return n&&(Yt(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),a&&(Yt(typeof a=="string","internal-error",{appName:e}),o.accessToken=a),i&&(Yt(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zm,this.toJSON())}_performRefresh(){return zc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t,e){Yt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cl{constructor({uid:e,auth:r,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new Vse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new UA(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await np(this,this.stsTokenManager.getToken(this.auth,e));return Yt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Lse(this,e)}reload(){return zse(this)}_assign(e){this!==e&&(Yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new cl({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await S1(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($s(this.auth.app))return Promise.reject(dl(this.auth));const e=await this.getIdToken();return await np(this,Rse(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,a=r.email??void 0,i=r.phoneNumber??void 0,o=r.photoURL??void 0,c=r.tenantId??void 0,u=r._redirectEventId??void 0,h=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:x,providerData:j,stsTokenManager:w}=r;Yt(p&&w,e,"internal-error");const b=zm.fromJSON(this.name,w);Yt(typeof p=="string",e,"internal-error"),Gu(n,e.name),Gu(a,e.name),Yt(typeof g=="boolean",e,"internal-error"),Yt(typeof x=="boolean",e,"internal-error"),Gu(i,e.name),Gu(o,e.name),Gu(c,e.name),Gu(u,e.name),Gu(h,e.name),Gu(f,e.name);const N=new cl({uid:p,auth:e,email:a,emailVerified:g,displayName:n,isAnonymous:x,photoURL:o,phoneNumber:i,tenantId:c,stsTokenManager:b,createdAt:h,lastLoginAt:f});return j&&Array.isArray(j)&&(N.providerData=j.map(E=>({...E}))),u&&(N._redirectEventId=u),N}static async _fromIdTokenResponse(e,r,n=!1){const a=new zm;a.updateFromServerResponse(r);const i=new cl({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await S1(i),i}static async _fromGetAccountInfoResponse(e,r,n){const a=r.users[0];Yt(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?T$(a.providerUserInfo):[],o=!(a.email&&a.passwordHash)&&!(i!=null&&i.length),c=new zm;c.updateFromIdToken(n);const u=new cl({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new UA(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=new Map;function Fc(t){Zc(t instanceof Function,"Expected a class definition");let e=d6.get(t);return e?(Zc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,d6.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}_$.type="NONE";const h6=_$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t,e,r){return`firebase:${t}:${e}:${r}`}class Fm{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:a,name:i}=this.auth;this.fullUserKey=K0(this.userKey,a.apiKey,i),this.fullPersistenceKey=K0("persistence",a.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await N1(this.auth,{idToken:e}).catch(()=>{});return r?cl._fromGetAccountInfoResponse(this.auth,r,e):null}return cl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Fm(Fc(h6),e,n);const a=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=a[0]||Fc(h6);const o=K0(n,e.config.apiKey,e.name);let c=null;for(const h of r)try{const f=await h._get(o);if(f){let p;if(typeof f=="string"){const g=await N1(e,{idToken:f}).catch(()=>{});if(!g)break;p=await cl._fromGetAccountInfoResponse(e,g,f)}else p=cl._fromJSON(e,f);h!==i&&(c=p),i=h;break}}catch{}const u=a.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Fm(i,e,n):(i=u[0],c&&await i._set(o,c.toJSON()),await Promise.all(r.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new Fm(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D$(e))return"Blackberry";if(R$(e))return"Webos";if(I$(e))return"Safari";if((e.includes("chrome/")||O$(e))&&!e.includes("edge/"))return"Chrome";if(M$(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function C$(t=Ys()){return/firefox\//i.test(t)}function I$(t=Ys()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O$(t=Ys()){return/crios\//i.test(t)}function P$(t=Ys()){return/iemobile/i.test(t)}function M$(t=Ys()){return/android/i.test(t)}function D$(t=Ys()){return/blackberry/i.test(t)}function R$(t=Ys()){return/webos/i.test(t)}function LC(t=Ys()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qse(t=Ys()){var e;return LC(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Hse(){return nae()&&document.documentMode===10}function L$(t=Ys()){return LC(t)||M$(t)||R$(t)||D$(t)||/windows phone/i.test(t)||P$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(t,e=[]){let r;switch(t){case"Browser":r=f6(Ys());break;case"Worker":r=`${f6(Ys())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${gf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((o,c)=>{try{const u=e(i);o(u)}catch(u){c(u)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gse(t,e={}){return fc(t,"GET","/v2/passwordPolicy",du(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yse=6;class Kse{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??Yse,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),a&&(r.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,a,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xse{constructor(e,r,n,a){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m6(this),this.idTokenSubscription=new m6(this),this.beforeStateQueue=new Wse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Fc(r)),this._initializationPromise=this.queue(async()=>{var n,a,i;if(!this._deleted&&(this.persistenceManager=await Fm.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await N1(this,{idToken:e}),n=await cl._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if($s(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,c=n==null?void 0:n._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&(u!=null&&u.user)&&(n=u.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await S1(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Tse()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($s(this.app))return Promise.reject(dl(this));const r=e?qr(e):null;return r&&Yt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Yt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $s(this.app)?Promise.reject(dl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $s(this.app)?Promise.reject(dl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Gse(this),r=new Kse(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Bse(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Fc(e)||this._popupRedirectResolver;Yt(r,this,"argument-error"),this.redirectPersistenceManager=await Fm.create(this,[Fc(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,a){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Yt(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const u=e.addObserver(r,n,a);return()=>{o=!0,u()}}else{const u=e.addObserver(r);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if($s(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&Sse(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Nl(t){return qr(t)}class m6{constructor(e){this.auth=e,this.observer=null,this.addObserver=uae(r=>this.observer=r)}get next(){return Yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qse(t){nw=t}function V$(t){return nw.loadJS(t)}function Zse(){return nw.recaptchaEnterpriseScript}function Jse(){return nw.gapiScript}function eie(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class tie{constructor(){this.enterprise=new rie}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class rie{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const nie="recaptcha-enterprise",z$="NO_RECAPTCHA";class aie{constructor(e){this.type=nie,this.auth=Nl(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,c)=>{Dse(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new Mse(u);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,o(h.siteKey)}}).catch(u=>{c(u)})})}function a(i,o,c){const u=window.grecaptcha;c6(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(h=>{o(h)}).catch(()=>{o(z$)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tie().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{n(this.auth).then(c=>{if(!r&&c6(window.grecaptcha))a(c,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Zse();u.length!==0&&(u+=c),V$(u).then(()=>{a(c,i,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function p6(t,e,r,n=!1,a=!1){const i=new aie(t);let o;if(a)o=z$;else try{o=await i.verify(r)}catch{o=await i.verify(r,!0)}const c={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function E1(t,e,r,n,a){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await p6(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await p6(t,e,r,r==="getOobCode");return n(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sie(t,e){const r=Fd(t,"auth");if(r.isInitialized()){const a=r.getImmediate(),i=r.getOptions();if(oc(i,e??{}))return a;Do(a,"already-initialized")}return r.initialize({options:e})}function iie(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Fc);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function oie(t,e,r){const n=Nl(t);Yt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,i=F$(e),{host:o,port:c}=lie(e),u=c===null?"":`:${c}`,h={url:`${i}//${o}${u}/`},f=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){Yt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Yt(oc(h,n.config.emulator)&&oc(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,zd(o)?(CC(`${i}//${o}${u}`),IC("Auth",!0)):cie()}function F$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lie(t){const e=F$(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const i=a[1];return{host:i,port:g6(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:g6(o)}}}function g6(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cie(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return zc("not implemented")}_getIdTokenResponse(e){return zc("not implemented")}_linkToIdToken(e,r){return zc("not implemented")}_getReauthenticationResolver(e){return zc("not implemented")}}async function uie(t,e){return fc(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function die(t,e){return Yy(t,"POST","/v1/accounts:signInWithPassword",du(t,e))}async function hie(t,e){return fc(t,"POST","/v1/accounts:sendOobCode",du(t,e))}async function fie(t,e){return hie(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mie(t,e){return Yy(t,"POST","/v1/accounts:signInWithEmailLink",du(t,e))}async function pie(t,e){return Yy(t,"POST","/v1/accounts:signInWithEmailLink",du(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny extends UC{constructor(e,r,n,a=null){super("password",n),this._email=e,this._password=r,this._tenantId=a}static _fromEmailAndPassword(e,r){return new ny(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new ny(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E1(e,r,"signInWithPassword",die);case"emailLink":return mie(e,{email:this._email,oobCode:this._password});default:Do(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E1(e,n,"signUpPassword",uie);case"emailLink":return pie(e,{idToken:r,email:this._email,oobCode:this._password});default:Do(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $m(t,e){return Yy(t,"POST","/v1/accounts:signInWithIdp",du(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gie="http://localhost";class Gh extends UC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Gh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Do("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a,...i}=r;if(!n||!a)return null;const o=new Gh(n,a);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return $m(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,$m(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,$m(e,r)}buildRequest(){const e={requestUri:gie,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Wy(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yie(t){const e=px(gx(t)).link,r=e?px(gx(e)).deep_link_id:null,n=px(gx(t)).deep_link_id;return(n?px(gx(n)).link:null)||n||r||e||t}class aw{constructor(e){const r=px(gx(e)),n=r.apiKey??null,a=r.oobCode??null,i=xie(r.mode??null);Yt(n&&a&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=a,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=yie(e);try{return new aw(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(){this.providerId=xf.PROVIDER_ID}static credential(e,r){return ny._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=aw.parseLink(r);return Yt(n,"argument-error"),ny._fromEmailAndCode(e,n.code,n.tenantId)}}xf.PROVIDER_ID="password";xf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky extends sw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends Ky{constructor(){super("facebook.com")}static credential(e){return Gh._fromParams({providerId:ed.PROVIDER_ID,signInMethod:ed.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ed.credentialFromTaggedObject(e)}static credentialFromError(e){return ed.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ed.credential(e.oauthAccessToken)}catch{return null}}}ed.FACEBOOK_SIGN_IN_METHOD="facebook.com";ed.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Ky{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Gh._fromParams({providerId:Lc.PROVIDER_ID,signInMethod:Lc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Lc.credentialFromTaggedObject(e)}static credentialFromError(e){return Lc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Lc.credential(r,n)}catch{return null}}}Lc.GOOGLE_SIGN_IN_METHOD="google.com";Lc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends Ky{constructor(){super("github.com")}static credential(e){return Gh._fromParams({providerId:td.PROVIDER_ID,signInMethod:td.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return td.credentialFromTaggedObject(e)}static credentialFromError(e){return td.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return td.credential(e.oauthAccessToken)}catch{return null}}}td.GITHUB_SIGN_IN_METHOD="github.com";td.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends Ky{constructor(){super("twitter.com")}static credential(e,r){return Gh._fromParams({providerId:rd.PROVIDER_ID,signInMethod:rd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return rd.credentialFromTaggedObject(e)}static credentialFromError(e){return rd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return rd.credential(r,n)}catch{return null}}}rd.TWITTER_SIGN_IN_METHOD="twitter.com";rd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vie(t,e){return Yy(t,"POST","/v1/accounts:signUp",du(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,a=!1){const i=await cl._fromIdTokenResponse(e,n,a),o=x6(n);return new Yh({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const a=x6(n);return new Yh({user:e,providerId:a,_tokenResponse:n,operationType:r})}}function x6(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1 extends Vo{constructor(e,r,n,a){super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,A1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,a){return new A1(e,r,n,a)}}function $$(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?A1._fromErrorAndOperation(t,i,e,n):i})}async function bie(t,e,r=!1){const n=await np(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Yh._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jie(t,e,r=!1){const{auth:n}=t;if($s(n.app))return Promise.reject(dl(n));const a="reauthenticate";try{const i=await np(t,$$(n,a,e,t),r);Yt(i.idToken,n,"internal-error");const o=RC(i.idToken);Yt(o,n,"internal-error");const{sub:c}=o;return Yt(t.uid===c,n,"user-mismatch"),Yh._forOperation(t,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Do(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B$(t,e,r=!1){if($s(t.app))return Promise.reject(dl(t));const n="signIn",a=await $$(t,n,e),i=await Yh._fromIdTokenResponse(t,n,a);return r||await t._updateCurrentUser(i.user),i}async function q$(t,e){return B$(Nl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wie(t,e,r){var n;Yt(((n=r.url)==null?void 0:n.length)>0,t,"invalid-continue-uri"),Yt(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Yt(typeof r.linkDomain>"u"||r.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.linkDomain=r.linkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(Yt(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(Yt(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H$(t){const e=Nl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kie(t,e,r){if($s(t.app))return Promise.reject(dl(t));const n=Nl(t),o=await E1(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vie).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&H$(t),u}),c=await Yh._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(c.user),c}function Nie(t,e,r){return $s(t.app)?Promise.reject(dl(t)):q$(qr(t),xf.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&H$(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sie(t,e,r){const n=Nl(t),a={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function i(o,c){Yt(c.handleCodeInApp,n,"argument-error"),c&&wie(n,o,c)}i(a,r),await E1(n,a,"getOobCode",fie)}function Eie(t,e){const r=aw.parseLink(e);return(r==null?void 0:r.operation)==="EMAIL_SIGNIN"}async function Aie(t,e,r){if($s(t.app))return Promise.reject(dl(t));const n=qr(t),a=xf.credentialWithLink(e,r||k1());return Yt(a._tenantId===(n.tenantId||null),n,"tenant-id-mismatch"),q$(n,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tie(t,e){return fc(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _ie(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=qr(t),i={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await np(n,Tie(n.auth,i));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const c=n.providerData.find(({providerId:u})=>u==="password");c&&(c.displayName=n.displayName,c.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cie(t,e){return qr(t).setPersistence(e)}function Iie(t,e,r,n){return qr(t).onIdTokenChanged(e,r,n)}function Oie(t,e,r){return qr(t).beforeAuthStateChanged(e,r)}function Pie(t,e,r,n){return qr(t).onAuthStateChanged(e,r,n)}function fm(t){return qr(t).signOut()}const T1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(T1,"1"),this.storage.removeItem(T1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mie=1e3,Die=10;class G$ extends W${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=L$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&e(r,a,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const n=e.key;r?this.detachListener():this.stopPolling();const a=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);Hse()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Die):a()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Mie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}G$.type="LOCAL";const Rie=G$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y$ extends W${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Y$.type="SESSION";const VC=Y$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lie(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(a=>a.isListeningto(e));if(r)return r;const n=new iw(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:a,data:i}=r.data,o=this.handlersMap[a];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const c=Array.from(o).map(async h=>h(r.origin,i)),u=await Lie(c);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:u})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}iw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uie{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,o;return new Promise((c,u)=>{const h=zC("",20);a.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:a,onMessage(p){const g=p;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(g.data.response);break;default:clearTimeout(f),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),a.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[a.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(){return window}function Vie(t){Ql().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(){return typeof Ql().WorkerGlobalScope<"u"&&typeof Ql().importScripts=="function"}async function zie(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Fie(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function $ie(){return K$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$="firebaseLocalStorageDb",Bie=1,_1="firebaseLocalStorage",Q$="fbase_key";class Xy{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function ow(t,e){return t.transaction([_1],e?"readwrite":"readonly").objectStore(_1)}function qie(){const t=indexedDB.deleteDatabase(X$);return new Xy(t).toPromise()}function VA(){const t=indexedDB.open(X$,Bie);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(_1,{keyPath:Q$})}catch(a){r(a)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(_1)?e(n):(n.close(),await qie(),e(await VA()))})})}async function y6(t,e,r){const n=ow(t,!0).put({[Q$]:e,value:r});return new Xy(n).toPromise()}async function Hie(t,e){const r=ow(t,!1).get(e),n=await new Xy(r).toPromise();return n===void 0?null:n.value}function v6(t,e){const r=ow(t,!0).delete(e);return new Xy(r).toPromise()}const Wie=800,Gie=3;class Z${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await VA(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Gie)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=iw._getInstance($ie()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await zie(),!this.activeServiceWorker)return;this.sender=new Uie(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Fie()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await VA();return await y6(e,T1,"1"),await v6(e,T1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>y6(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Hie(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>v6(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const i=ow(a,!1).getAll();return new Xy(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:i}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Wie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z$.type="LOCAL";const Yie=Z$;new Gy(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t,e){return e?Fc(e):(Yt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C extends UC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $m(e,this._buildIdpRequest())}_linkToIdToken(e,r){return $m(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return $m(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Kie(t){return B$(t.auth,new $C(t),t.bypassAuthState)}function Xie(t){const{auth:e,user:r}=t;return Yt(r,e,"internal-error"),jie(r,new $C(t),t.bypassAuthState)}async function Qie(t){const{auth:e,user:r}=t;return Yt(r,e,"internal-error"),bie(r,new $C(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e,r,n,a,i=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:a,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kie;case"linkViaPopup":case"linkViaRedirect":return Qie;case"reauthViaPopup":case"reauthViaRedirect":return Xie;default:Do(this.auth,"internal-error")}}resolve(e){Zc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zie=new Gy(2e3,1e4);async function Jie(t,e,r){if($s(t.app))return Promise.reject(ul(t,"operation-not-supported-in-this-environment"));const n=Nl(t);N$(t,e,sw);const a=FC(n,r);return new Ah(n,"signInViaPopup",e,a).executeNotNull()}class Ah extends J${constructor(e,r,n,a,i){super(e,r,a,i),this.provider=n,this.authWindow=null,this.pollId=null,Ah.currentPopupAction&&Ah.currentPopupAction.cancel(),Ah.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Yt(e,this.auth,"internal-error"),e}async onExecution(){Zc(this.filter.length===1,"Popup operations only handle one event");const e=zC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ul(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ul(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ah.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ul(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Zie.get())};e()}}Ah.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eoe="pendingRedirect",X0=new Map;class toe extends J${constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=X0.get(this.auth._key());if(!e){try{const n=await roe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}X0.set(this.auth._key(),e)}return this.bypassAuthState||X0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function roe(t,e){const r=tB(e),n=eB(t);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}async function noe(t,e){return eB(t)._set(tB(e),"true")}function aoe(t,e){X0.set(t._key(),e)}function eB(t){return Fc(t._redirectPersistence)}function tB(t){return K0(eoe,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function soe(t,e,r){return ioe(t,e,r)}async function ioe(t,e,r){if($s(t.app))return Promise.reject(dl(t));const n=Nl(t);N$(t,e,sw),await n._initializationPromise;const a=FC(n,r);return await noe(a,n),a._openRedirect(n,e,"signInViaRedirect")}async function b6(t,e){return await Nl(t)._initializationPromise,rB(t,e,!1)}async function rB(t,e,r=!1){if($s(t.app))return Promise.reject(dl(t));const n=Nl(t),a=FC(n,e),o=await new toe(n,a,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ooe=600*1e3;class loe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!coe(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!nB(e)){const a=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(ul(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ooe&&this.cachedEventUids.clear(),this.cachedEventUids.has(j6(e))}saveEventToCache(e){this.cachedEventUids.add(j6(e)),this.lastProcessedEventTime=Date.now()}}function j6(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nB({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function coe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nB(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uoe(t,e={}){return fc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const doe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hoe=/^https?/;async function foe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await uoe(t);for(const r of e)try{if(moe(r))return}catch{}Do(t,"unauthorized-domain")}function moe(t){const e=k1(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!hoe.test(r))return!1;if(doe.test(t))return n===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const poe=new Gy(3e4,6e4);function w6(){const t=Ql().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function goe(t){return new Promise((e,r)=>{var a,i,o;function n(){w6(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w6(),r(ul(t,"network-request-failed"))},timeout:poe.get()})}if((i=(a=Ql().gapi)==null?void 0:a.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Ql().gapi)!=null&&o.load)n();else{const c=eie("iframefcb");return Ql()[c]=()=>{gapi.load?n():r(ul(t,"network-request-failed"))},V$(`${Jse()}?onload=${c}`).catch(u=>r(u))}}).catch(e=>{throw Q0=null,e})}let Q0=null;function xoe(t){return Q0=Q0||goe(t),Q0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yoe=new Gy(5e3,15e3),voe="__/auth/iframe",boe="emulator/auth/iframe",joe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},woe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function koe(t){const e=t.config;Yt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?DC(e,boe):`https://${t.config.authDomain}/${voe}`,n={apiKey:e.apiKey,appName:t.name,v:gf},a=woe.get(t.config.apiHost);a&&(n.eid=a);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Wy(n).slice(1)}`}async function Noe(t){const e=await xoe(t),r=Ql().gapi;return Yt(r,t,"internal-error"),e.open({where:document.body,url:koe(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:joe,dontclear:!0},n=>new Promise(async(a,i)=>{await n.restyle({setHideOnLeave:!1});const o=ul(t,"network-request-failed"),c=Ql().setTimeout(()=>{i(o)},yoe.get());function u(){Ql().clearTimeout(c),a(n)}n.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Soe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Eoe=500,Aoe=600,Toe="_blank",_oe="http://localhost";class k6{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Coe(t,e,r,n=Eoe,a=Aoe){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const u={...Soe,width:n.toString(),height:a.toString(),top:i,left:o},h=Ys().toLowerCase();r&&(c=O$(h)?Toe:r),C$(h)&&(e=e||_oe,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[x,j])=>`${g}${x}=${j},`,"");if(qse(h)&&c!=="_self")return Ioe(e||"",c),new k6(null);const p=window.open(e||"",c,f);Yt(p,t,"popup-blocked");try{p.focus()}catch{}return new k6(p)}function Ioe(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ooe="__/auth/handler",Poe="emulator/auth/handler",Moe=encodeURIComponent("fac");async function N6(t,e,r,n,a,i){Yt(t.config.authDomain,t,"auth-domain-config-required"),Yt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:gf,eventId:a};if(e instanceof sw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cae(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof Ky){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await t._getAppCheckToken(),h=u?`#${Moe}=${encodeURIComponent(u)}`:"";return`${Doe(t)}?${Wy(c).slice(1)}${h}`}function Doe({config:t}){return t.emulator?DC(t,Poe):`https://${t.authDomain}/${Ooe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="webStorageSupport";class Roe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VC,this._completeRedirectFn=rB,this._overrideRedirectResult=aoe}async _openPopup(e,r,n,a){var o;Zc((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await N6(e,r,n,k1(),a);return Coe(e,i,zC())}async _openRedirect(e,r,n,a){await this._originValidation(e);const i=await N6(e,r,n,k1(),a);return Vie(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:a,promise:i}=this.eventManagers[r];return a?Promise.resolve(a):(Zc(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Noe(e),n=new loe(e);return r.register("authEvent",a=>(Yt(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send($N,{type:$N},a=>{var o;const i=(o=a==null?void 0:a[0])==null?void 0:o[$N];i!==void 0&&r(!!i),Do(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=foe(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return L$()||I$()||LC()}}const Loe=Roe;var S6="@firebase/auth",E6="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uoe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Voe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zoe(t){gl(new Mo("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=n.options;Yt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U$(t)},h=new Xse(n,a,i,u);return iie(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),gl(new Mo("auth-internal",e=>{const r=Nl(e.getProvider("auth").getImmediate());return(n=>new Uoe(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ei(S6,E6,Voe(t)),Ei(S6,E6,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Foe=300,$oe=d$("authIdTokenMaxAge")||Foe;let A6=null;const Boe=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>$oe)return;const a=r==null?void 0:r.token;A6!==a&&(A6=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function qoe(t=rw()){const e=Fd(t,"auth");if(e.isInitialized())return e.getImmediate();const r=sie(t,{popupRedirectResolver:Loe,persistence:[Yie,Rie,VC]}),n=d$("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=Boe(i.toString());Oie(r,o,()=>o(r.currentUser)),Iie(r,c=>o(c))}}const a=l$("auth");return a&&oie(r,`http://${a}`),r}function Hoe(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Qse({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=a=>{const i=ul("internal-error");i.customData=a,r(i)},n.type="text/javascript",n.charset="UTF-8",Hoe().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zoe("Browser");var T6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yd,aB;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function _(){}_.prototype=T.prototype,I.F=T.prototype,I.prototype=new _,I.prototype.constructor=I,I.D=function(D,P,R){for(var U=Array(arguments.length-2),$=2;$<arguments.length;$++)U[$-2]=arguments[$];return T.prototype[P].apply(D,U)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,T,_){_||(_=0);const D=Array(16);if(typeof T=="string")for(var P=0;P<16;++P)D[P]=T.charCodeAt(_++)|T.charCodeAt(_++)<<8|T.charCodeAt(_++)<<16|T.charCodeAt(_++)<<24;else for(P=0;P<16;++P)D[P]=T[_++]|T[_++]<<8|T[_++]<<16|T[_++]<<24;T=I.g[0],_=I.g[1],P=I.g[2];let R=I.g[3],U;U=T+(R^_&(P^R))+D[0]+3614090360&4294967295,T=_+(U<<7&4294967295|U>>>25),U=R+(P^T&(_^P))+D[1]+3905402710&4294967295,R=T+(U<<12&4294967295|U>>>20),U=P+(_^R&(T^_))+D[2]+606105819&4294967295,P=R+(U<<17&4294967295|U>>>15),U=_+(T^P&(R^T))+D[3]+3250441966&4294967295,_=P+(U<<22&4294967295|U>>>10),U=T+(R^_&(P^R))+D[4]+4118548399&4294967295,T=_+(U<<7&4294967295|U>>>25),U=R+(P^T&(_^P))+D[5]+1200080426&4294967295,R=T+(U<<12&4294967295|U>>>20),U=P+(_^R&(T^_))+D[6]+2821735955&4294967295,P=R+(U<<17&4294967295|U>>>15),U=_+(T^P&(R^T))+D[7]+4249261313&4294967295,_=P+(U<<22&4294967295|U>>>10),U=T+(R^_&(P^R))+D[8]+1770035416&4294967295,T=_+(U<<7&4294967295|U>>>25),U=R+(P^T&(_^P))+D[9]+2336552879&4294967295,R=T+(U<<12&4294967295|U>>>20),U=P+(_^R&(T^_))+D[10]+4294925233&4294967295,P=R+(U<<17&4294967295|U>>>15),U=_+(T^P&(R^T))+D[11]+2304563134&4294967295,_=P+(U<<22&4294967295|U>>>10),U=T+(R^_&(P^R))+D[12]+1804603682&4294967295,T=_+(U<<7&4294967295|U>>>25),U=R+(P^T&(_^P))+D[13]+4254626195&4294967295,R=T+(U<<12&4294967295|U>>>20),U=P+(_^R&(T^_))+D[14]+2792965006&4294967295,P=R+(U<<17&4294967295|U>>>15),U=_+(T^P&(R^T))+D[15]+1236535329&4294967295,_=P+(U<<22&4294967295|U>>>10),U=T+(P^R&(_^P))+D[1]+4129170786&4294967295,T=_+(U<<5&4294967295|U>>>27),U=R+(_^P&(T^_))+D[6]+3225465664&4294967295,R=T+(U<<9&4294967295|U>>>23),U=P+(T^_&(R^T))+D[11]+643717713&4294967295,P=R+(U<<14&4294967295|U>>>18),U=_+(R^T&(P^R))+D[0]+3921069994&4294967295,_=P+(U<<20&4294967295|U>>>12),U=T+(P^R&(_^P))+D[5]+3593408605&4294967295,T=_+(U<<5&4294967295|U>>>27),U=R+(_^P&(T^_))+D[10]+38016083&4294967295,R=T+(U<<9&4294967295|U>>>23),U=P+(T^_&(R^T))+D[15]+3634488961&4294967295,P=R+(U<<14&4294967295|U>>>18),U=_+(R^T&(P^R))+D[4]+3889429448&4294967295,_=P+(U<<20&4294967295|U>>>12),U=T+(P^R&(_^P))+D[9]+568446438&4294967295,T=_+(U<<5&4294967295|U>>>27),U=R+(_^P&(T^_))+D[14]+3275163606&4294967295,R=T+(U<<9&4294967295|U>>>23),U=P+(T^_&(R^T))+D[3]+4107603335&4294967295,P=R+(U<<14&4294967295|U>>>18),U=_+(R^T&(P^R))+D[8]+1163531501&4294967295,_=P+(U<<20&4294967295|U>>>12),U=T+(P^R&(_^P))+D[13]+2850285829&4294967295,T=_+(U<<5&4294967295|U>>>27),U=R+(_^P&(T^_))+D[2]+4243563512&4294967295,R=T+(U<<9&4294967295|U>>>23),U=P+(T^_&(R^T))+D[7]+1735328473&4294967295,P=R+(U<<14&4294967295|U>>>18),U=_+(R^T&(P^R))+D[12]+2368359562&4294967295,_=P+(U<<20&4294967295|U>>>12),U=T+(_^P^R)+D[5]+4294588738&4294967295,T=_+(U<<4&4294967295|U>>>28),U=R+(T^_^P)+D[8]+2272392833&4294967295,R=T+(U<<11&4294967295|U>>>21),U=P+(R^T^_)+D[11]+1839030562&4294967295,P=R+(U<<16&4294967295|U>>>16),U=_+(P^R^T)+D[14]+4259657740&4294967295,_=P+(U<<23&4294967295|U>>>9),U=T+(_^P^R)+D[1]+2763975236&4294967295,T=_+(U<<4&4294967295|U>>>28),U=R+(T^_^P)+D[4]+1272893353&4294967295,R=T+(U<<11&4294967295|U>>>21),U=P+(R^T^_)+D[7]+4139469664&4294967295,P=R+(U<<16&4294967295|U>>>16),U=_+(P^R^T)+D[10]+3200236656&4294967295,_=P+(U<<23&4294967295|U>>>9),U=T+(_^P^R)+D[13]+681279174&4294967295,T=_+(U<<4&4294967295|U>>>28),U=R+(T^_^P)+D[0]+3936430074&4294967295,R=T+(U<<11&4294967295|U>>>21),U=P+(R^T^_)+D[3]+3572445317&4294967295,P=R+(U<<16&4294967295|U>>>16),U=_+(P^R^T)+D[6]+76029189&4294967295,_=P+(U<<23&4294967295|U>>>9),U=T+(_^P^R)+D[9]+3654602809&4294967295,T=_+(U<<4&4294967295|U>>>28),U=R+(T^_^P)+D[12]+3873151461&4294967295,R=T+(U<<11&4294967295|U>>>21),U=P+(R^T^_)+D[15]+530742520&4294967295,P=R+(U<<16&4294967295|U>>>16),U=_+(P^R^T)+D[2]+3299628645&4294967295,_=P+(U<<23&4294967295|U>>>9),U=T+(P^(_|~R))+D[0]+4096336452&4294967295,T=_+(U<<6&4294967295|U>>>26),U=R+(_^(T|~P))+D[7]+1126891415&4294967295,R=T+(U<<10&4294967295|U>>>22),U=P+(T^(R|~_))+D[14]+2878612391&4294967295,P=R+(U<<15&4294967295|U>>>17),U=_+(R^(P|~T))+D[5]+4237533241&4294967295,_=P+(U<<21&4294967295|U>>>11),U=T+(P^(_|~R))+D[12]+1700485571&4294967295,T=_+(U<<6&4294967295|U>>>26),U=R+(_^(T|~P))+D[3]+2399980690&4294967295,R=T+(U<<10&4294967295|U>>>22),U=P+(T^(R|~_))+D[10]+4293915773&4294967295,P=R+(U<<15&4294967295|U>>>17),U=_+(R^(P|~T))+D[1]+2240044497&4294967295,_=P+(U<<21&4294967295|U>>>11),U=T+(P^(_|~R))+D[8]+1873313359&4294967295,T=_+(U<<6&4294967295|U>>>26),U=R+(_^(T|~P))+D[15]+4264355552&4294967295,R=T+(U<<10&4294967295|U>>>22),U=P+(T^(R|~_))+D[6]+2734768916&4294967295,P=R+(U<<15&4294967295|U>>>17),U=_+(R^(P|~T))+D[13]+1309151649&4294967295,_=P+(U<<21&4294967295|U>>>11),U=T+(P^(_|~R))+D[4]+4149444226&4294967295,T=_+(U<<6&4294967295|U>>>26),U=R+(_^(T|~P))+D[11]+3174756917&4294967295,R=T+(U<<10&4294967295|U>>>22),U=P+(T^(R|~_))+D[2]+718787259&4294967295,P=R+(U<<15&4294967295|U>>>17),U=_+(R^(P|~T))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(P+(U<<21&4294967295|U>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+R&4294967295}n.prototype.v=function(I,T){T===void 0&&(T=I.length);const _=T-this.blockSize,D=this.C;let P=this.h,R=0;for(;R<T;){if(P==0)for(;R<=_;)a(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<T;)if(D[P++]=I.charCodeAt(R++),P==this.blockSize){a(this,D),P=0;break}}else for(;R<T;)if(D[P++]=I[R++],P==this.blockSize){a(this,D),P=0;break}}this.h=P,this.o+=T},n.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;T=this.o*8;for(var _=I.length-8;_<I.length;++_)I[_]=T&255,T/=256;for(this.v(I),I=Array(16),T=0,_=0;_<4;++_)for(let D=0;D<32;D+=8)I[T++]=this.g[_]>>>D&255;return I};function i(I,T){var _=c;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=T(I)}function o(I,T){this.h=T;const _=[];let D=!0;for(let P=I.length-1;P>=0;P--){const R=I[P]|0;D&&R==T||(_[P]=R,D=!1)}this.g=_}var c={};function u(I){return-128<=I&&I<128?i(I,function(T){return new o([T|0],T<0?-1:0)}):new o([I|0],I<0?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return p;if(I<0)return b(h(-I));const T=[];let _=1;for(let D=0;I>=_;D++)T[D]=I/_|0,_*=4294967296;return new o(T,0)}function f(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return b(f(I.substring(1),T));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=h(Math.pow(T,8));let D=p;for(let R=0;R<I.length;R+=8){var P=Math.min(8,I.length-R);const U=parseInt(I.substring(R,R+P),T);P<8?(P=h(Math.pow(T,P)),D=D.j(P).add(h(U))):(D=D.j(_),D=D.add(h(U)))}return D}var p=u(0),g=u(1),x=u(16777216);t=o.prototype,t.m=function(){if(w(this))return-b(this).m();let I=0,T=1;for(let _=0;_<this.g.length;_++){const D=this.i(_);I+=(D>=0?D:4294967296+D)*T,T*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(j(this))return"0";if(w(this))return"-"+b(this).toString(I);const T=h(Math.pow(I,6));var _=this;let D="";for(;;){const P=O(_,T).g;_=N(_,P.j(T));let R=((_.g.length>0?_.g[0]:_.h)>>>0).toString(I);if(_=P,j(_))return R+D;for(;R.length<6;)R="0"+R;D=R+D}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function j(I){if(I.h!=0)return!1;for(let T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function w(I){return I.h==-1}t.l=function(I){return I=N(this,I),w(I)?-1:j(I)?0:1};function b(I){const T=I.g.length,_=[];for(let D=0;D<T;D++)_[D]=~I.g[D];return new o(_,~I.h).add(g)}t.abs=function(){return w(this)?b(this):this},t.add=function(I){const T=Math.max(this.g.length,I.g.length),_=[];let D=0;for(let P=0;P<=T;P++){let R=D+(this.i(P)&65535)+(I.i(P)&65535),U=(R>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);D=U>>>16,R&=65535,U&=65535,_[P]=U<<16|R}return new o(_,_[_.length-1]&-2147483648?-1:0)};function N(I,T){return I.add(b(T))}t.j=function(I){if(j(this)||j(I))return p;if(w(this))return w(I)?b(this).j(b(I)):b(b(this).j(I));if(w(I))return b(this.j(b(I)));if(this.l(x)<0&&I.l(x)<0)return h(this.m()*I.m());const T=this.g.length+I.g.length,_=[];for(var D=0;D<2*T;D++)_[D]=0;for(D=0;D<this.g.length;D++)for(let P=0;P<I.g.length;P++){const R=this.i(D)>>>16,U=this.i(D)&65535,$=I.i(P)>>>16,K=I.i(P)&65535;_[2*D+2*P]+=U*K,E(_,2*D+2*P),_[2*D+2*P+1]+=R*K,E(_,2*D+2*P+1),_[2*D+2*P+1]+=U*$,E(_,2*D+2*P+1),_[2*D+2*P+2]+=R*$,E(_,2*D+2*P+2)}for(I=0;I<T;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=T;I<2*T;I++)_[I]=0;return new o(_,0)};function E(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function A(I,T){this.g=I,this.h=T}function O(I,T){if(j(T))throw Error("division by zero");if(j(I))return new A(p,p);if(w(I))return T=O(b(I),T),new A(b(T.g),b(T.h));if(w(T))return T=O(I,b(T)),new A(b(T.g),T.h);if(I.g.length>30){if(w(I)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var _=g,D=T;D.l(I)<=0;)_=M(_),D=M(D);var P=L(_,1),R=L(D,1);for(D=L(D,2),_=L(_,2);!j(D);){var U=R.add(D);U.l(I)<=0&&(P=P.add(_),R=U),D=L(D,1),_=L(_,1)}return T=N(I,P.j(T)),new A(P,T)}for(P=p;I.l(T)>=0;){for(_=Math.max(1,Math.floor(I.m()/T.m())),D=Math.ceil(Math.log(_)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),R=h(_),U=R.j(T);w(U)||U.l(I)>0;)_-=D,R=h(_),U=R.j(T);j(R)&&(R=g),P=P.add(R),I=N(I,U)}return new A(P,I)}t.B=function(I){return O(this,I).h},t.and=function(I){const T=Math.max(this.g.length,I.g.length),_=[];for(let D=0;D<T;D++)_[D]=this.i(D)&I.i(D);return new o(_,this.h&I.h)},t.or=function(I){const T=Math.max(this.g.length,I.g.length),_=[];for(let D=0;D<T;D++)_[D]=this.i(D)|I.i(D);return new o(_,this.h|I.h)},t.xor=function(I){const T=Math.max(this.g.length,I.g.length),_=[];for(let D=0;D<T;D++)_[D]=this.i(D)^I.i(D);return new o(_,this.h^I.h)};function M(I){const T=I.g.length+1,_=[];for(let D=0;D<T;D++)_[D]=I.i(D)<<1|I.i(D-1)>>>31;return new o(_,I.h)}function L(I,T){const _=T>>5;T%=32;const D=I.g.length-_,P=[];for(let R=0;R<D;R++)P[R]=T>0?I.i(R+_)>>>T|I.i(R+_+1)<<32-T:I.i(R+_);return new o(P,I.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,aB=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,yd=o}).apply(typeof T6<"u"?T6:typeof self<"u"?self:typeof window<"u"?window:{});var Zb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sB,xx,iB,Z0,zA,oB,lB,cB;(function(){var t,e=Object.defineProperty;function r(k){k=[typeof globalThis=="object"&&globalThis,k,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zb=="object"&&Zb];for(var V=0;V<k.length;++V){var q=k[V];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var n=r(this);function a(k,V){if(V)e:{var q=n;k=k.split(".");for(var re=0;re<k.length-1;re++){var Ne=k[re];if(!(Ne in q))break e;q=q[Ne]}k=k[k.length-1],re=q[k],V=V(re),V!=re&&V!=null&&e(q,k,{configurable:!0,writable:!0,value:V})}}a("Symbol.dispose",function(k){return k||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(k){return k||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(k){return k||function(V){var q=[],re;for(re in V)Object.prototype.hasOwnProperty.call(V,re)&&q.push([re,V[re]]);return q}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function c(k){var V=typeof k;return V=="object"&&k!=null||V=="function"}function u(k,V,q){return k.call.apply(k.bind,arguments)}function h(k,V,q){return h=u,h.apply(null,arguments)}function f(k,V){var q=Array.prototype.slice.call(arguments,1);return function(){var re=q.slice();return re.push.apply(re,arguments),k.apply(this,re)}}function p(k,V){function q(){}q.prototype=V.prototype,k.Z=V.prototype,k.prototype=new q,k.prototype.constructor=k,k.Ob=function(re,Ne,Me){for(var mt=Array(arguments.length-2),mr=2;mr<arguments.length;mr++)mt[mr-2]=arguments[mr];return V.prototype[Ne].apply(re,mt)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?k=>k&&AsyncContext.Snapshot.wrap(k):k=>k;function x(k){const V=k.length;if(V>0){const q=Array(V);for(let re=0;re<V;re++)q[re]=k[re];return q}return[]}function j(k,V){for(let re=1;re<arguments.length;re++){const Ne=arguments[re];var q=typeof Ne;if(q=q!="object"?q:Ne?Array.isArray(Ne)?"array":q:"null",q=="array"||q=="object"&&typeof Ne.length=="number"){q=k.length||0;const Me=Ne.length||0;k.length=q+Me;for(let mt=0;mt<Me;mt++)k[q+mt]=Ne[mt]}else k.push(Ne)}}class w{constructor(V,q){this.i=V,this.j=q,this.h=0,this.g=null}get(){let V;return this.h>0?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}function b(k){o.setTimeout(()=>{throw k},0)}function N(){var k=I;let V=null;return k.g&&(V=k.g,k.g=k.g.next,k.g||(k.h=null),V.next=null),V}class E{constructor(){this.h=this.g=null}add(V,q){const re=A.get();re.set(V,q),this.h?this.h.next=re:this.g=re,this.h=re}}var A=new w(()=>new O,k=>k.reset());class O{constructor(){this.next=this.g=this.h=null}set(V,q){this.h=V,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let M,L=!1,I=new E,T=()=>{const k=Promise.resolve(void 0);M=()=>{k.then(_)}};function _(){for(var k;k=N();){try{k.h.call(k.g)}catch(q){b(q)}var V=A;V.j(k),V.h<100&&(V.h++,k.next=V.g,V.g=k)}L=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(k,V){this.type=k,this.g=this.target=V,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var k=!1,V=Object.defineProperty({},"passive",{get:function(){k=!0}});try{const q=()=>{};o.addEventListener("test",q,V),o.removeEventListener("test",q,V)}catch{}return k})();function U(k){return/^[\s\xa0]*$/.test(k)}function $(k,V){P.call(this,k?k.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,k&&this.init(k,V)}p($,P),$.prototype.init=function(k,V){const q=this.type=k.type,re=k.changedTouches&&k.changedTouches.length?k.changedTouches[0]:null;this.target=k.target||k.srcElement,this.g=V,V=k.relatedTarget,V||(q=="mouseover"?V=k.fromElement:q=="mouseout"&&(V=k.toElement)),this.relatedTarget=V,re?(this.clientX=re.clientX!==void 0?re.clientX:re.pageX,this.clientY=re.clientY!==void 0?re.clientY:re.pageY,this.screenX=re.screenX||0,this.screenY=re.screenY||0):(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0),this.button=k.button,this.key=k.key||"",this.ctrlKey=k.ctrlKey,this.altKey=k.altKey,this.shiftKey=k.shiftKey,this.metaKey=k.metaKey,this.pointerId=k.pointerId||0,this.pointerType=k.pointerType,this.state=k.state,this.i=k,k.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const k=this.i;k.preventDefault?k.preventDefault():k.returnValue=!1};var K="closure_listenable_"+(Math.random()*1e6|0),F=0;function W(k,V,q,re,Ne){this.listener=k,this.proxy=null,this.src=V,this.type=q,this.capture=!!re,this.ha=Ne,this.key=++F,this.da=this.fa=!1}function te(k){k.da=!0,k.listener=null,k.proxy=null,k.src=null,k.ha=null}function X(k,V,q){for(const re in k)V.call(q,k[re],re,k)}function B(k,V){for(const q in k)V.call(void 0,k[q],q,k)}function G(k){const V={};for(const q in k)V[q]=k[q];return V}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(k,V){let q,re;for(let Ne=1;Ne<arguments.length;Ne++){re=arguments[Ne];for(q in re)k[q]=re[q];for(let Me=0;Me<J.length;Me++)q=J[Me],Object.prototype.hasOwnProperty.call(re,q)&&(k[q]=re[q])}}function ie(k){this.src=k,this.g={},this.h=0}ie.prototype.add=function(k,V,q,re,Ne){const Me=k.toString();k=this.g[Me],k||(k=this.g[Me]=[],this.h++);const mt=je(k,V,re,Ne);return mt>-1?(V=k[mt],q||(V.fa=!1)):(V=new W(V,this.src,Me,!!re,Ne),V.fa=q,k.push(V)),V};function se(k,V){const q=V.type;if(q in k.g){var re=k.g[q],Ne=Array.prototype.indexOf.call(re,V,void 0),Me;(Me=Ne>=0)&&Array.prototype.splice.call(re,Ne,1),Me&&(te(V),k.g[q].length==0&&(delete k.g[q],k.h--))}}function je(k,V,q,re){for(let Ne=0;Ne<k.length;++Ne){const Me=k[Ne];if(!Me.da&&Me.listener==V&&Me.capture==!!q&&Me.ha==re)return Ne}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),ue={};function ae(k,V,q,re,Ne){if(Array.isArray(V)){for(let Me=0;Me<V.length;Me++)ae(k,V[Me],q,re,Ne);return null}return q=it(q),k&&k[K]?k.J(V,q,c(re)?!!re.capture:!1,Ne):oe(k,V,q,!1,re,Ne)}function oe(k,V,q,re,Ne,Me){if(!V)throw Error("Invalid event type");const mt=c(Ne)?!!Ne.capture:!!Ne;let mr=Oe(k);if(mr||(k[Pe]=mr=new ie(k)),q=mr.add(V,q,re,mt,Me),q.proxy)return q;if(re=ve(),q.proxy=re,re.src=k,re.listener=q,k.addEventListener)R||(Ne=mt),Ne===void 0&&(Ne=!1),k.addEventListener(V.toString(),re,Ne);else if(k.attachEvent)k.attachEvent(ee(V.toString()),re);else if(k.addListener&&k.removeListener)k.addListener(re);else throw Error("addEventListener and attachEvent are unavailable.");return q}function ve(){function k(q){return V.call(k.src,k.listener,q)}const V=ye;return k}function Y(k,V,q,re,Ne){if(Array.isArray(V))for(var Me=0;Me<V.length;Me++)Y(k,V[Me],q,re,Ne);else re=c(re)?!!re.capture:!!re,q=it(q),k&&k[K]?(k=k.i,Me=String(V).toString(),Me in k.g&&(V=k.g[Me],q=je(V,q,re,Ne),q>-1&&(te(V[q]),Array.prototype.splice.call(V,q,1),V.length==0&&(delete k.g[Me],k.h--)))):k&&(k=Oe(k))&&(V=k.g[V.toString()],k=-1,V&&(k=je(V,q,re,Ne)),(q=k>-1?V[k]:null)&&fe(q))}function fe(k){if(typeof k!="number"&&k&&!k.da){var V=k.src;if(V&&V[K])se(V.i,k);else{var q=k.type,re=k.proxy;V.removeEventListener?V.removeEventListener(q,re,k.capture):V.detachEvent?V.detachEvent(ee(q),re):V.addListener&&V.removeListener&&V.removeListener(re),(q=Oe(V))?(se(q,k),q.h==0&&(q.src=null,V[Pe]=null)):te(k)}}}function ee(k){return k in ue?ue[k]:ue[k]="on"+k}function ye(k,V){if(k.da)k=!0;else{V=new $(V,this);const q=k.listener,re=k.ha||k.src;k.fa&&fe(k),k=q.call(re,V)}return k}function Oe(k){return k=k[Pe],k instanceof ie?k:null}var We="__closure_events_fn_"+(Math.random()*1e9>>>0);function it(k){return typeof k=="function"?k:(k[We]||(k[We]=function(V){return k.handleEvent(V)}),k[We])}function ut(){D.call(this),this.i=new ie(this),this.M=this,this.G=null}p(ut,D),ut.prototype[K]=!0,ut.prototype.removeEventListener=function(k,V,q,re){Y(this,k,V,q,re)};function At(k,V){var q,re=k.G;if(re)for(q=[];re;re=re.G)q.push(re);if(k=k.M,re=V.type||V,typeof V=="string")V=new P(V,k);else if(V instanceof P)V.target=V.target||k;else{var Ne=V;V=new P(re,k),ne(V,Ne)}Ne=!0;let Me,mt;if(q)for(mt=q.length-1;mt>=0;mt--)Me=V.g=q[mt],Ne=wt(Me,re,!0,V)&&Ne;if(Me=V.g=k,Ne=wt(Me,re,!0,V)&&Ne,Ne=wt(Me,re,!1,V)&&Ne,q)for(mt=0;mt<q.length;mt++)Me=V.g=q[mt],Ne=wt(Me,re,!1,V)&&Ne}ut.prototype.N=function(){if(ut.Z.N.call(this),this.i){var k=this.i;for(const V in k.g){const q=k.g[V];for(let re=0;re<q.length;re++)te(q[re]);delete k.g[V],k.h--}}this.G=null},ut.prototype.J=function(k,V,q,re){return this.i.add(String(k),V,!1,q,re)},ut.prototype.K=function(k,V,q,re){return this.i.add(String(k),V,!0,q,re)};function wt(k,V,q,re){if(V=k.i.g[String(V)],!V)return!0;V=V.concat();let Ne=!0;for(let Me=0;Me<V.length;++Me){const mt=V[Me];if(mt&&!mt.da&&mt.capture==q){const mr=mt.listener,Mn=mt.ha||mt.src;mt.fa&&se(k.i,mt),Ne=mr.call(Mn,re)!==!1&&Ne}}return Ne&&!re.defaultPrevented}function st(k,V){if(typeof k!="function")if(k&&typeof k.handleEvent=="function")k=h(k.handleEvent,k);else throw Error("Invalid listener argument");return Number(V)>2147483647?-1:o.setTimeout(k,V||0)}function Ce(k){k.g=st(()=>{k.g=null,k.i&&(k.i=!1,Ce(k))},k.l);const V=k.h;k.h=null,k.m.apply(null,V)}class Ve extends D{constructor(V,q){super(),this.m=V,this.l=q,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:Ce(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qe(k){D.call(this),this.h=k,this.g={}}p(Qe,D);var rt=[];function ot(k){X(k.g,function(V,q){this.g.hasOwnProperty(q)&&fe(V)},k),k.g={}}Qe.prototype.N=function(){Qe.Z.N.call(this),ot(this)},Qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gt=o.JSON.stringify,ht=o.JSON.parse,Dt=class{stringify(k){return o.JSON.stringify(k,void 0)}parse(k){return o.JSON.parse(k,void 0)}};function qt(){}function Rt(){}var Xt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){P.call(this,"d")}p(Qt,P);function pe(){P.call(this,"c")}p(pe,P);var ge={},he=null;function Te(){return he=he||new ut}ge.Ia="serverreachability";function De(k){P.call(this,ge.Ia,k)}p(De,P);function nt(k){const V=Te();At(V,new De(V))}ge.STAT_EVENT="statevent";function bt(k,V){P.call(this,ge.STAT_EVENT,k),this.stat=V}p(bt,P);function kt(k){const V=Te();At(V,new bt(V,k))}ge.Ja="timingevent";function $e(k,V){P.call(this,ge.Ja,k),this.size=V}p($e,P);function dt(k,V){if(typeof k!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){k()},V)}function Tt(){this.g=!0}Tt.prototype.ua=function(){this.g=!1};function Ge(k,V,q,re,Ne,Me){k.info(function(){if(k.g)if(Me){var mt="",mr=Me.split("&");for(let on=0;on<mr.length;on++){var Mn=mr[on].split("=");if(Mn.length>1){const xa=Mn[0];Mn=Mn[1];const Di=xa.split("_");mt=Di.length>=2&&Di[1]=="type"?mt+(xa+"="+Mn+"&"):mt+(xa+"=redacted&")}}}else mt=null;else mt=Me;return"XMLHTTP REQ ("+re+") [attempt "+Ne+"]: "+V+`
`+q+`
`+mt})}function Ct(k,V,q,re,Ne,Me,mt){k.info(function(){return"XMLHTTP RESP ("+re+") [ attempt "+Ne+"]: "+V+`
`+q+`
`+Me+" "+mt})}function sr(k,V,q,re){k.info(function(){return"XMLHTTP TEXT ("+V+"): "+St(k,q)+(re?" "+re:"")})}function fr(k,V){k.info(function(){return"TIMEOUT: "+V})}Tt.prototype.info=function(){};function St(k,V){if(!k.g)return V;if(!V)return null;try{const Me=JSON.parse(V);if(Me){for(k=0;k<Me.length;k++)if(Array.isArray(Me[k])){var q=Me[k];if(!(q.length<2)){var re=q[1];if(Array.isArray(re)&&!(re.length<1)){var Ne=re[0];if(Ne!="noop"&&Ne!="stop"&&Ne!="close")for(let mt=1;mt<re.length;mt++)re[mt]=""}}}}return gt(Me)}catch{return V}}var Se={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ir;function Gt(){}p(Gt,qt),Gt.prototype.g=function(){return new XMLHttpRequest},ir=new Gt;function kr(k){return encodeURIComponent(String(k))}function Fr(k){var V=1;k=k.split(":");const q=[];for(;V>0&&k.length;)q.push(k.shift()),V--;return k.length&&q.push(k.join(":")),q}function Pn(k,V,q,re){this.j=k,this.i=V,this.l=q,this.S=re||1,this.V=new Qe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Nn}function Nn(){this.i=null,this.g="",this.h=!1}var Ln={},pn={};function Un(k,V,q){k.M=1,k.A=Vn(Mt(V)),k.u=q,k.R=!0,Ot(k,null)}function Ot(k,V){k.F=Date.now(),pt(k),k.B=Mt(k.A);var q=k.B,re=k.S;Array.isArray(re)||(re=[String(re)]),ku(q.i,"t",re),k.C=0,q=k.j.L,k.h=new Nn,k.g=Lf(k.j,q?V:null,!k.u),k.P>0&&(k.O=new Ve(h(k.Y,k,k.g),k.P)),V=k.V,q=k.g,re=k.ba;var Ne="readystatechange";Array.isArray(Ne)||(Ne&&(rt[0]=Ne.toString()),Ne=rt);for(let Me=0;Me<Ne.length;Me++){const mt=ae(q,Ne[Me],re||V.handleEvent,!1,V.h||V);if(!mt)break;V.g[mt.key]=mt}V=k.J?G(k.J):{},k.u?(k.v||(k.v="POST"),V["Content-Type"]="application/x-www-form-urlencoded",k.g.ea(k.B,k.v,k.u,V)):(k.v="GET",k.g.ea(k.B,k.v,null,V)),nt(),Ge(k.i,k.v,k.B,k.l,k.S,k.u)}Pn.prototype.ba=function(k){k=k.target;const V=this.O;V&&le(k)==3?V.j():this.Y(k)},Pn.prototype.Y=function(k){try{if(k==this.g)e:{const mr=le(this.g),Mn=this.g.ya(),on=this.g.ca();if(!(mr<3)&&(mr!=3||this.g&&(this.h.h||this.g.la()||Re(this.g)))){this.K||mr!=4||Mn==7||(Mn==8||on<=0?nt(3):nt(2)),Fe(this);var V=this.g.ca();this.X=V;var q=pr(this);if(this.o=V==200,Ct(this.i,this.v,this.B,this.l,this.S,mr,V),this.o){if(this.U&&!this.L){t:{if(this.g){var re,Ne=this.g;if((re=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(re)){var Me=re;break t}}Me=null}if(k=Me)sr(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,an(this,k);else{this.o=!1,this.m=3,kt(12),yr(this),vt(this);break e}}if(this.R){k=!0;let xa;for(;!this.K&&this.C<q.length;)if(xa=Sn(this,q),xa==pn){mr==4&&(this.m=4,kt(14),k=!1),sr(this.i,this.l,null,"[Incomplete Response]");break}else if(xa==Ln){this.m=4,kt(15),sr(this.i,this.l,q,"[Invalid Chunk]"),k=!1;break}else sr(this.i,this.l,xa,null),an(this,xa);if(Jt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mr!=4||q.length!=0||this.h.h||(this.m=1,kt(16),k=!1),this.o=this.o&&k,!k)sr(this.i,this.l,q,"[Invalid Chunked Response]"),yr(this),vt(this);else if(q.length>0&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.aa&&!mt.P&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Mi(mt),mt.P=!0,kt(11))}}else sr(this.i,this.l,q,null),an(this,q);mr==4&&yr(this),this.o&&!this.K&&(mr==4?Ol(this.j,this):(this.o=!1,pt(this)))}else rr(this.g),V==400&&q.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),yr(this),vt(this)}}}catch{}finally{}};function pr(k){if(!Jt(k))return k.g.la();const V=Re(k.g);if(V==="")return"";let q="";const re=V.length,Ne=le(k.g)==4;if(!k.h.i){if(typeof TextDecoder>"u")return yr(k),vt(k),"";k.h.i=new o.TextDecoder}for(let Me=0;Me<re;Me++)k.h.h=!0,q+=k.h.i.decode(V[Me],{stream:!(Ne&&Me==re-1)});return V.length=0,k.h.g+=q,k.C=0,k.h.g}function Jt(k){return k.g?k.v=="GET"&&k.M!=2&&k.j.Aa:!1}function Sn(k,V){var q=k.C,re=V.indexOf(`
`,q);return re==-1?pn:(q=Number(V.substring(q,re)),isNaN(q)?Ln:(re+=1,re+q>V.length?pn:(V=V.slice(re,re+q),k.C=re+q,V)))}Pn.prototype.cancel=function(){this.K=!0,yr(this)};function pt(k){k.T=Date.now()+k.H,de(k,k.H)}function de(k,V){if(k.D!=null)throw Error("WatchDog timer not null");k.D=dt(h(k.aa,k),V)}function Fe(k){k.D&&(o.clearTimeout(k.D),k.D=null)}Pn.prototype.aa=function(){this.D=null;const k=Date.now();k-this.T>=0?(fr(this.i,this.B),this.M!=2&&(nt(),kt(17)),yr(this),this.m=2,vt(this)):de(this,this.T-k)};function vt(k){k.j.I==0||k.K||Ol(k.j,k)}function yr(k){Fe(k);var V=k.O;V&&typeof V.dispose=="function"&&V.dispose(),k.O=null,ot(k.V),k.g&&(V=k.g,k.g=null,V.abort(),V.dispose())}function an(k,V){try{var q=k.j;if(q.I!=0&&(q.g==k||et(q.h,k))){if(!k.L&&et(q.h,k)&&q.I==3){try{var re=q.Ba.g.parse(V)}catch{re=null}if(Array.isArray(re)&&re.length==3){var Ne=re;if(Ne[0]==0){e:if(!q.v){if(q.g)if(q.g.F+3e3<k.F)Ho(q),Zr(q);else break e;Js(q),kt(18)}}else q.xa=Ne[1],0<q.xa-q.K&&Ne[2]<37500&&q.F&&q.A==0&&!q.C&&(q.C=dt(h(q.Va,q),6e3));Ye(q.h)<=1&&q.ta&&(q.ta=void 0)}else bc(q,11)}else if((k.L||q.g==k)&&Ho(q),!U(V))for(Ne=q.Ba.g.parse(V),V=0;V<Ne.length;V++){let on=Ne[V];const xa=on[0];if(!(xa<=q.K))if(q.K=xa,on=on[1],q.I==2)if(on[0]=="c"){q.M=on[1],q.ba=on[2];const Di=on[3];Di!=null&&(q.ka=Di,q.j.info("VER="+q.ka));const Pl=on[4];Pl!=null&&(q.za=Pl,q.j.info("SVER="+q.za));const Wo=on[5];Wo!=null&&typeof Wo=="number"&&Wo>0&&(re=1.5*Wo,q.O=re,q.j.info("backChannelRequestTimeoutMs_="+re)),re=q;const Go=k.g;if(Go){const Yo=Go.g?Go.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yo){var Me=re.h;Me.g||Yo.indexOf("spdy")==-1&&Yo.indexOf("quic")==-1&&Yo.indexOf("h2")==-1||(Me.j=Me.l,Me.g=new Set,Me.h&&(Be(Me,Me.h),Me.h=null))}if(re.G){const ig=Go.g?Go.g.getResponseHeader("X-HTTP-Session-Id"):null;ig&&(re.wa=ig,gr(re.J,re.G,ig))}}q.I=3,q.l&&q.l.ra(),q.aa&&(q.T=Date.now()-k.F,q.j.info("Handshake RTT: "+q.T+"ms")),re=q;var mt=k;if(re.na=Gv(re,re.L?re.ba:null,re.W),mt.L){Ze(re.h,mt);var mr=mt,Mn=re.O;Mn&&(mr.H=Mn),mr.D&&(Fe(mr),pt(mr)),re.g=mt}else Pi(re);q.i.length>0&&$n(q)}else on[0]!="stop"&&on[0]!="close"||bc(q,7);else q.I==3&&(on[0]=="stop"||on[0]=="close"?on[0]=="stop"?bc(q,7):vr(q):on[0]!="noop"&&q.l&&q.l.qa(on),q.A=0)}}nt(4)}catch{}}var en=class{constructor(k,V){this.g=k,this.map=V}};function sn(k){this.l=k||10,o.PerformanceNavigationTiming?(k=o.performance.getEntriesByType("navigation"),k=k.length>0&&(k[0].nextHopProtocol=="hq"||k[0].nextHopProtocol=="h2")):k=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=k?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function me(k){return k.h?!0:k.g?k.g.size>=k.j:!1}function Ye(k){return k.h?1:k.g?k.g.size:0}function et(k,V){return k.h?k.h==V:k.g?k.g.has(V):!1}function Be(k,V){k.g?k.g.add(V):k.h=V}function Ze(k,V){k.h&&k.h==V?k.h=null:k.g&&k.g.has(V)&&k.g.delete(V)}sn.prototype.cancel=function(){if(this.i=Ue(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const k of this.g.values())k.cancel();this.g.clear()}};function Ue(k){if(k.h!=null)return k.i.concat(k.h.G);if(k.g!=null&&k.g.size!==0){let V=k.i;for(const q of k.g.values())V=V.concat(q.G);return V}return x(k.i)}var Nt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pt(k,V){if(k){k=k.split("&");for(let q=0;q<k.length;q++){const re=k[q].indexOf("=");let Ne,Me=null;re>=0?(Ne=k[q].substring(0,re),Me=k[q].substring(re+1)):Ne=k[q],V(Ne,Me?decodeURIComponent(Me.replace(/\+/g," ")):"")}}}function _t(k){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let V;k instanceof _t?(this.l=k.l,tr(this,k.j),this.o=k.o,this.g=k.g,Tr(this,k.u),this.h=k.h,Gr(this,Nu(k.i)),this.m=k.m):k&&(V=String(k).match(Nt))?(this.l=!1,tr(this,V[1]||"",!0),this.o=pa(V[2]||""),this.g=pa(V[3]||"",!0),Tr(this,V[4]),this.h=pa(V[5]||"",!0),Gr(this,V[6]||"",!0),this.m=pa(V[7]||"")):(this.l=!1,this.i=new zn(null,this.l))}_t.prototype.toString=function(){const k=[];var V=this.j;V&&k.push(tn(V,La,!0),":");var q=this.g;return(q||V=="file")&&(k.push("//"),(V=this.o)&&k.push(tn(V,La,!0),"@"),k.push(kr(q).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.u,q!=null&&k.push(":",String(q))),(q=this.h)&&(this.g&&q.charAt(0)!="/"&&k.push("/"),k.push(tn(q,q.charAt(0)=="/"?cs:ga,!0))),(q=this.i.toString())&&k.push("?",q),(q=this.m)&&k.push("#",tn(q,co)),k.join("")},_t.prototype.resolve=function(k){const V=Mt(this);let q=!!k.j;q?tr(V,k.j):q=!!k.o,q?V.o=k.o:q=!!k.g,q?V.g=k.g:q=k.u!=null;var re=k.h;if(q)Tr(V,k.u);else if(q=!!k.h){if(re.charAt(0)!="/")if(this.g&&!this.h)re="/"+re;else{var Ne=V.h.lastIndexOf("/");Ne!=-1&&(re=V.h.slice(0,Ne+1)+re)}if(Ne=re,Ne==".."||Ne==".")re="";else if(Ne.indexOf("./")!=-1||Ne.indexOf("/.")!=-1){re=Ne.lastIndexOf("/",0)==0,Ne=Ne.split("/");const Me=[];for(let mt=0;mt<Ne.length;){const mr=Ne[mt++];mr=="."?re&&mt==Ne.length&&Me.push(""):mr==".."?((Me.length>1||Me.length==1&&Me[0]!="")&&Me.pop(),re&&mt==Ne.length&&Me.push("")):(Me.push(mr),re=!0)}re=Me.join("/")}else re=Ne}return q?V.h=re:q=k.i.toString()!=="",q?Gr(V,Nu(k.i)):q=!!k.m,q&&(V.m=k.m),V};function Mt(k){return new _t(k)}function tr(k,V,q){k.j=q?pa(V,!0):V,k.j&&(k.j=k.j.replace(/:$/,""))}function Tr(k,V){if(V){if(V=Number(V),isNaN(V)||V<0)throw Error("Bad port number "+V);k.u=V}else k.u=null}function Gr(k,V,q){V instanceof zn?(k.i=V,yc(k.i,k.l)):(q||(V=tn(V,Fo)),k.i=new zn(V,k.l))}function gr(k,V,q){k.i.set(V,q)}function Vn(k){return gr(k,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),k}function pa(k,V){return k?V?decodeURI(k.replace(/%25/g,"%2525")):decodeURIComponent(k):""}function tn(k,V,q){return typeof k=="string"?(k=encodeURI(k).replace(V,Ra),q&&(k=k.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k):null}function Ra(k){return k=k.charCodeAt(0),"%"+(k>>4&15).toString(16)+(k&15).toString(16)}var La=/[#\/\?@]/g,ga=/[#\?:]/g,cs=/[#\?]/g,Fo=/[#\?@]/g,co=/#/g;function zn(k,V){this.h=this.g=null,this.i=k||null,this.j=!!V}function Ua(k){k.g||(k.g=new Map,k.h=0,k.i&&Pt(k.i,function(V,q){k.add(decodeURIComponent(V.replace(/\+/g," ")),q)}))}t=zn.prototype,t.add=function(k,V){Ua(this),this.i=null,k=Qs(this,k);let q=this.g.get(k);return q||this.g.set(k,q=[]),q.push(V),this.h+=1,this};function Xs(k,V){Ua(k),V=Qs(k,V),k.g.has(V)&&(k.i=null,k.h-=k.g.get(V).length,k.g.delete(V))}function xc(k,V){return Ua(k),V=Qs(k,V),k.g.has(V)}t.forEach=function(k,V){Ua(this),this.g.forEach(function(q,re){q.forEach(function(Ne){k.call(V,Ne,re,this)},this)},this)};function us(k,V){Ua(k);let q=[];if(typeof V=="string")xc(k,V)&&(q=q.concat(k.g.get(Qs(k,V))));else for(k=Array.from(k.g.values()),V=0;V<k.length;V++)q=q.concat(k[V]);return q}t.set=function(k,V){return Ua(this),this.i=null,k=Qs(this,k),xc(this,k)&&(this.h-=this.g.get(k).length),this.g.set(k,[V]),this.h+=1,this},t.get=function(k,V){return k?(k=us(this,k),k.length>0?String(k[0]):V):V};function ku(k,V,q){Xs(k,V),q.length>0&&(k.i=null,k.g.set(Qs(k,V),x(q)),k.h+=q.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const k=[],V=Array.from(this.g.keys());for(let re=0;re<V.length;re++){var q=V[re];const Ne=kr(q);q=us(this,q);for(let Me=0;Me<q.length;Me++){let mt=Ne;q[Me]!==""&&(mt+="="+kr(q[Me])),k.push(mt)}}return this.i=k.join("&")};function Nu(k){const V=new zn;return V.i=k.i,k.g&&(V.g=new Map(k.g),V.h=k.h),V}function Qs(k,V){return V=String(V),k.j&&(V=V.toLowerCase()),V}function yc(k,V){V&&!k.j&&(Ua(k),k.i=null,k.g.forEach(function(q,re){const Ne=re.toLowerCase();re!=Ne&&(Xs(this,re),ku(this,Ne,q))},k)),k.j=V}function Cl(k,V){const q=new Tt;if(o.Image){const re=new Image;re.onload=f(Sa,q,"TestLoadImage: loaded",!0,V,re),re.onerror=f(Sa,q,"TestLoadImage: error",!1,V,re),re.onabort=f(Sa,q,"TestLoadImage: abort",!1,V,re),re.ontimeout=f(Sa,q,"TestLoadImage: timeout",!1,V,re),o.setTimeout(function(){re.ontimeout&&re.ontimeout()},1e4),re.src=k}else V(!1)}function Fn(k,V){const q=new Tt,re=new AbortController,Ne=setTimeout(()=>{re.abort(),Sa(q,"TestPingServer: timeout",!1,V)},1e4);fetch(k,{signal:re.signal}).then(Me=>{clearTimeout(Ne),Me.ok?Sa(q,"TestPingServer: ok",!0,V):Sa(q,"TestPingServer: server error",!1,V)}).catch(()=>{clearTimeout(Ne),Sa(q,"TestPingServer: error",!1,V)})}function Sa(k,V,q,re,Ne){try{Ne&&(Ne.onload=null,Ne.onerror=null,Ne.onabort=null,Ne.ontimeout=null),re(q)}catch{}}function vc(){this.g=new Dt}function gi(k){this.i=k.Sb||null,this.h=k.ab||!1}p(gi,qt),gi.prototype.g=function(){return new Oi(this.i,this.h)};function Oi(k,V){ut.call(this),this.H=k,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Oi,ut),t=Oi.prototype,t.open=function(k,V){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=k,this.D=V,this.readyState=1,xi(this)},t.send=function(k){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const V={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};k&&(V.body=k),(this.H||o).fetch(new Request(this.D,V)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Va(this)),this.readyState=0},t.Pa=function(k){if(this.g&&(this.l=k,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=k.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")k.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in k){if(this.j=k.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zs(this)}else k.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zs(k){k.j.read().then(k.Ma.bind(k)).catch(k.ga.bind(k))}t.Ma=function(k){if(this.g){if(this.o&&k.value)this.response.push(k.value);else if(!this.o){var V=k.value?k.value:new Uint8Array(0);(V=this.B.decode(V,{stream:!k.done}))&&(this.response=this.responseText+=V)}k.done?Va(this):xi(this),this.readyState==3&&Zs(this)}},t.Oa=function(k){this.g&&(this.response=this.responseText=k,Va(this))},t.Na=function(k){this.g&&(this.response=k,Va(this))},t.ga=function(){this.g&&Va(this)};function Va(k){k.readyState=4,k.l=null,k.j=null,k.B=null,xi(k)}t.setRequestHeader=function(k,V){this.A.append(k,V)},t.getResponseHeader=function(k){return this.h&&this.h.get(k.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const k=[],V=this.h.entries();for(var q=V.next();!q.done;)q=q.value,k.push(q[0]+": "+q[1]),q=V.next();return k.join(`\r
`)};function xi(k){k.onreadystatechange&&k.onreadystatechange.call(k)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(k){this.m=k?"include":"same-origin"}});function yi(k){let V="";return X(k,function(q,re){V+=re,V+=":",V+=q,V+=`\r
`}),V}function ds(k,V,q){e:{for(re in q){var re=!1;break e}re=!0}re||(q=yi(q),typeof k=="string"?q!=null&&kr(q):gr(k,V,q))}function _r(k){ut.call(this),this.headers=new Map,this.L=k||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(_r,ut);var $o=/^https?$/i,Il=["POST","PUT"];t=_r.prototype,t.Fa=function(k){this.H=k},t.ea=function(k,V,q,re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+k);V=V?V.toUpperCase():"GET",this.D=k,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ir.g(),this.g.onreadystatechange=g(h(this.Ca,this));try{this.B=!0,this.g.open(V,String(k),!0),this.B=!1}catch(Me){Bo(this,Me);return}if(k=q||"",q=new Map(this.headers),re)if(Object.getPrototypeOf(re)===Object.prototype)for(var Ne in re)q.set(Ne,re[Ne]);else if(typeof re.keys=="function"&&typeof re.get=="function")for(const Me of re.keys())q.set(Me,re.get(Me));else throw Error("Unknown input type for opt_headers: "+String(re));re=Array.from(q.keys()).find(Me=>Me.toLowerCase()=="content-type"),Ne=o.FormData&&k instanceof o.FormData,!(Array.prototype.indexOf.call(Il,V,void 0)>=0)||re||Ne||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Me,mt]of q)this.g.setRequestHeader(Me,mt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(k),this.v=!1}catch(Me){Bo(this,Me)}};function Bo(k,V){k.h=!1,k.g&&(k.j=!0,k.g.abort(),k.j=!1),k.l=V,k.o=5,qo(k),Q(k)}function qo(k){k.A||(k.A=!0,At(k,"complete"),At(k,"error"))}t.abort=function(k){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=k||7,At(this,"complete"),At(this,"abort"),Q(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Q(this,!0)),_r.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?z(this):this.Xa())},t.Xa=function(){z(this)};function z(k){if(k.h&&typeof i<"u"){if(k.v&&le(k)==4)setTimeout(k.Ca.bind(k),0);else if(At(k,"readystatechange"),le(k)==4){k.h=!1;try{const Me=k.ca();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var q;if(!(q=V)){var re;if(re=Me===0){let mt=String(k.D).match(Nt)[1]||null;!mt&&o.self&&o.self.location&&(mt=o.self.location.protocol.slice(0,-1)),re=!$o.test(mt?mt.toLowerCase():"")}q=re}if(q)At(k,"complete"),At(k,"success");else{k.o=6;try{var Ne=le(k)>2?k.g.statusText:""}catch{Ne=""}k.l=Ne+" ["+k.ca()+"]",qo(k)}}finally{Q(k)}}}}function Q(k,V){if(k.g){k.m&&(clearTimeout(k.m),k.m=null);const q=k.g;k.g=null,V||At(k,"ready");try{q.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function le(k){return k.g?k.g.readyState:0}t.ca=function(){try{return le(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(k){if(this.g){var V=this.g.responseText;return k&&V.indexOf(k)==0&&(V=V.substring(k.length)),ht(V)}};function Re(k){try{if(!k.g)return null;if("response"in k.g)return k.g.response;switch(k.F){case"":case"text":return k.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in k.g)return k.g.mozResponseArrayBuffer}return null}catch{return null}}function rr(k){const V={};k=(k.g&&le(k)>=2&&k.g.getAllResponseHeaders()||"").split(`\r
`);for(let re=0;re<k.length;re++){if(U(k[re]))continue;var q=Fr(k[re]);const Ne=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const Me=V[Ne]||[];V[Ne]=Me,Me.push(q)}B(V,function(re){return re.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vt(k,V,q){return q&&q.internalChannelParams&&q.internalChannelParams[k]||V}function jr(k){this.za=0,this.i=[],this.j=new Tt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vt("failFast",!1,k),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vt("baseRetryDelayMs",5e3,k),this.Za=Vt("retryDelaySeedMs",1e4,k),this.Ta=Vt("forwardChannelMaxRetries",2,k),this.va=Vt("forwardChannelRequestTimeoutMs",2e4,k),this.ma=k&&k.xmlHttpFactory||void 0,this.Ua=k&&k.Rb||void 0,this.Aa=k&&k.useFetchStreams||!1,this.O=void 0,this.L=k&&k.supportsCrossDomainXhr||!1,this.M="",this.h=new sn(k&&k.concurrentRequestLimit),this.Ba=new vc,this.S=k&&k.fastHandshake||!1,this.R=k&&k.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=k&&k.Pb||!1,k&&k.ua&&this.j.ua(),k&&k.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&k&&k.detectBufferingProxy||!1,this.ia=void 0,k&&k.longPollingTimeout&&k.longPollingTimeout>0&&(this.ia=k.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=jr.prototype,t.ka=8,t.I=1,t.connect=function(k,V,q,re){kt(0),this.W=k,this.H=V||{},q&&re!==void 0&&(this.H.OSID=q,this.H.OAID=re),this.F=this.X,this.J=Gv(this,null,this.W),$n(this)};function vr(k){if(Nr(k),k.I==3){var V=k.V++,q=Mt(k.J);if(gr(q,"SID",k.M),gr(q,"RID",V),gr(q,"TYPE","terminate"),qn(k,q),V=new Pn(k,k.j,V),V.M=2,V.A=Vn(Mt(q)),q=!1,o.navigator&&o.navigator.sendBeacon)try{q=o.navigator.sendBeacon(V.A.toString(),"")}catch{}!q&&o.Image&&(new Image().src=V.A,q=!0),q||(V.g=Lf(V.j,null),V.g.ea(V.A)),V.F=Date.now(),pt(V)}Wv(k)}function Zr(k){k.g&&(Mi(k),k.g.cancel(),k.g=null)}function Nr(k){Zr(k),k.v&&(o.clearTimeout(k.v),k.v=null),Ho(k),k.h.cancel(),k.m&&(typeof k.m=="number"&&o.clearTimeout(k.m),k.m=null)}function $n(k){if(!me(k.h)&&!k.m){k.m=!0;var V=k.Ea;M||T(),L||(M(),L=!0),I.add(V,k),k.D=0}}function Ya(k,V){return Ye(k.h)>=k.h.j-(k.m?1:0)?!1:k.m?(k.i=V.G.concat(k.i),!0):k.I==1||k.I==2||k.D>=(k.Sa?0:k.Ta)?!1:(k.m=dt(h(k.Ea,k,V),Hv(k,k.D)),k.D++,!0)}t.Ea=function(k){if(this.m)if(this.m=null,this.I==1){if(!k){this.V=Math.floor(Math.random()*1e5),k=this.V++;const Ne=new Pn(this,this.j,k);let Me=this.o;if(this.U&&(Me?(Me=G(Me),ne(Me,this.U)):Me=this.U),this.u!==null||this.R||(Ne.J=Me,Me=null),this.S)e:{for(var V=0,q=0;q<this.i.length;q++){t:{var re=this.i[q];if("__data__"in re.map&&(re=re.map.__data__,typeof re=="string")){re=re.length;break t}re=void 0}if(re===void 0)break;if(V+=re,V>4096){V=q;break e}if(V===4096||q===this.i.length-1){V=q+1;break e}}V=1e3}else V=1e3;V=Hn(this,Ne,V),q=Mt(this.J),gr(q,"RID",k),gr(q,"CVER",22),this.G&&gr(q,"X-HTTP-Session-Id",this.G),qn(this,q),Me&&(this.R?V="headers="+kr(yi(Me))+"&"+V:this.u&&ds(q,this.u,Me)),Be(this.h,Ne),this.Ra&&gr(q,"TYPE","init"),this.S?(gr(q,"$req",V),gr(q,"SID","null"),Ne.U=!0,Un(Ne,q,null)):Un(Ne,q,V),this.I=2}}else this.I==3&&(k?Bn(this,k):this.i.length==0||me(this.h)||Bn(this))};function Bn(k,V){var q;V?q=V.l:q=k.V++;const re=Mt(k.J);gr(re,"SID",k.M),gr(re,"RID",q),gr(re,"AID",k.K),qn(k,re),k.u&&k.o&&ds(re,k.u,k.o),q=new Pn(k,k.j,q,k.D+1),k.u===null&&(q.J=k.o),V&&(k.i=V.G.concat(k.i)),V=Hn(k,q,1e3),q.H=Math.round(k.va*.5)+Math.round(k.va*.5*Math.random()),Be(k.h,q),Un(q,re,V)}function qn(k,V){k.H&&X(k.H,function(q,re){gr(V,re,q)}),k.l&&X({},function(q,re){gr(V,re,q)})}function Hn(k,V,q){q=Math.min(k.i.length,q);const re=k.l?h(k.l.Ka,k.l,k):null;e:{var Ne=k.i;let mr=-1;for(;;){const Mn=["count="+q];mr==-1?q>0?(mr=Ne[0].g,Mn.push("ofs="+mr)):mr=0:Mn.push("ofs="+mr);let on=!0;for(let xa=0;xa<q;xa++){var Me=Ne[xa].g;const Di=Ne[xa].map;if(Me-=mr,Me<0)mr=Math.max(0,Ne[xa].g-100),on=!1;else try{Me="req"+Me+"_"||"";try{var mt=Di instanceof Map?Di:Object.entries(Di);for(const[Pl,Wo]of mt){let Go=Wo;c(Wo)&&(Go=gt(Wo)),Mn.push(Me+Pl+"="+encodeURIComponent(Go))}}catch(Pl){throw Mn.push(Me+"type="+encodeURIComponent("_badmap")),Pl}}catch{re&&re(Di)}}if(on){mt=Mn.join("&");break e}}mt=void 0}return k=k.i.splice(0,q),V.G=k,mt}function Pi(k){if(!k.g&&!k.v){k.Y=1;var V=k.Da;M||T(),L||(M(),L=!0),I.add(V,k),k.A=0}}function Js(k){return k.g||k.v||k.A>=3?!1:(k.Y++,k.v=dt(h(k.Da,k),Hv(k,k.A)),k.A++,!0)}t.Da=function(){if(this.v=null,th(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var k=4*this.T;this.j.info("BP detection timer enabled: "+k),this.B=dt(h(this.Wa,this),k)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),Zr(this),th(this))};function Mi(k){k.B!=null&&(o.clearTimeout(k.B),k.B=null)}function th(k){k.g=new Pn(k,k.j,"rpc",k.Y),k.u===null&&(k.g.J=k.o),k.g.P=0;var V=Mt(k.na);gr(V,"RID","rpc"),gr(V,"SID",k.M),gr(V,"AID",k.K),gr(V,"CI",k.F?"0":"1"),!k.F&&k.ia&&gr(V,"TO",k.ia),gr(V,"TYPE","xmlhttp"),qn(k,V),k.u&&k.o&&ds(V,k.u,k.o),k.O&&(k.g.H=k.O);var q=k.g;k=k.ba,q.M=1,q.A=Vn(Mt(V)),q.u=null,q.R=!0,Ot(q,k)}t.Va=function(){this.C!=null&&(this.C=null,Zr(this),Js(this),kt(19))};function Ho(k){k.C!=null&&(o.clearTimeout(k.C),k.C=null)}function Ol(k,V){var q=null;if(k.g==V){Ho(k),Mi(k),k.g=null;var re=2}else if(et(k.h,V))q=V.G,Ze(k.h,V),re=1;else return;if(k.I!=0){if(V.o)if(re==1){q=V.u?V.u.length:0,V=Date.now()-V.F;var Ne=k.D;re=Te(),At(re,new $e(re,q)),$n(k)}else Pi(k);else if(Ne=V.m,Ne==3||Ne==0&&V.X>0||!(re==1&&Ya(k,V)||re==2&&Js(k)))switch(q&&q.length>0&&(V=k.h,V.i=V.i.concat(q)),Ne){case 1:bc(k,5);break;case 4:bc(k,10);break;case 3:bc(k,6);break;default:bc(k,2)}}}function Hv(k,V){let q=k.Qa+Math.floor(Math.random()*k.Za);return k.isActive()||(q*=2),q*V}function bc(k,V){if(k.j.info("Error code "+V),V==2){var q=h(k.bb,k),re=k.Ua;const Ne=!re;re=new _t(re||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||tr(re,"https"),Vn(re),Ne?Cl(re.toString(),q):Fn(re.toString(),q)}else kt(2);k.I=0,k.l&&k.l.pa(V),Wv(k),Nr(k)}t.bb=function(k){k?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Wv(k){if(k.I=0,k.ja=[],k.l){const V=Ue(k.h);(V.length!=0||k.i.length!=0)&&(j(k.ja,V),j(k.ja,k.i),k.h.i.length=0,x(k.i),k.i.length=0),k.l.oa()}}function Gv(k,V,q){var re=q instanceof _t?Mt(q):new _t(q);if(re.g!="")V&&(re.g=V+"."+re.g),Tr(re,re.u);else{var Ne=o.location;re=Ne.protocol,V=V?V+"."+Ne.hostname:Ne.hostname,Ne=+Ne.port;const Me=new _t(null);re&&tr(Me,re),V&&(Me.g=V),Ne&&Tr(Me,Ne),q&&(Me.h=q),re=Me}return q=k.G,V=k.wa,q&&V&&gr(re,q,V),gr(re,"VER",k.ka),qn(k,re),re}function Lf(k,V,q){if(V&&!k.L)throw Error("Can't create secondary domain capable XhrIo object.");return V=k.Aa&&!k.ma?new _r(new gi({ab:q})):new _r(k.ma),V.Fa(k.L),V}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yv(){}t=Yv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Uf(){}Uf.prototype.g=function(k,V){return new ei(k,V)};function ei(k,V){ut.call(this),this.g=new jr(V),this.l=k,this.h=V&&V.messageUrlParams||null,k=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(k?k["X-Client-Protocol"]="webchannel":k={"X-Client-Protocol":"webchannel"}),this.g.o=k,k=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(k?k["X-WebChannel-Content-Type"]=V.messageContentType:k={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.sa&&(k?k["X-WebChannel-Client-Profile"]=V.sa:k={"X-WebChannel-Client-Profile":V.sa}),this.g.U=k,(k=V&&V.Qb)&&!U(k)&&(this.g.u=k),this.A=V&&V.supportsCrossDomainXhr||!1,this.v=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!U(V)&&(this.g.G=V,k=this.h,k!==null&&V in k&&(k=this.h,V in k&&delete k[V])),this.j=new Su(this)}p(ei,ut),ei.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ei.prototype.close=function(){vr(this.g)},ei.prototype.o=function(k){var V=this.g;if(typeof k=="string"){var q={};q.__data__=k,k=q}else this.v&&(q={},q.__data__=gt(k),k=q);V.i.push(new en(V.Ya++,k)),V.I==3&&$n(V)},ei.prototype.N=function(){this.g.l=null,delete this.j,vr(this.g),delete this.g,ei.Z.N.call(this)};function sg(k){Qt.call(this),k.__headers__&&(this.headers=k.__headers__,this.statusCode=k.__status__,delete k.__headers__,delete k.__status__);var V=k.__sm__;if(V){e:{for(const q in V){k=q;break e}k=void 0}(this.i=k)&&(k=this.i,V=V!==null&&k in V?V[k]:void 0),this.data=V}else this.data=k}p(sg,Qt);function Kv(){pe.call(this),this.status=1}p(Kv,pe);function Su(k){this.g=k}p(Su,Yv),Su.prototype.ra=function(){At(this.g,"a")},Su.prototype.qa=function(k){At(this.g,new sg(k))},Su.prototype.pa=function(k){At(this.g,new Kv)},Su.prototype.oa=function(){At(this.g,"b")},Uf.prototype.createWebChannel=Uf.prototype.g,ei.prototype.send=ei.prototype.o,ei.prototype.open=ei.prototype.m,ei.prototype.close=ei.prototype.close,cB=function(){return new Uf},lB=function(){return Te()},oB=ge,zA={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Se.NO_ERROR=0,Se.TIMEOUT=8,Se.HTTP_ERROR=6,Z0=Se,lt.COMPLETE="complete",iB=lt,Rt.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",ut.prototype.listen=ut.prototype.J,xx=Rt,_r.prototype.listenOnce=_r.prototype.K,_r.prototype.getLastError=_r.prototype.Ha,_r.prototype.getLastErrorCode=_r.prototype.ya,_r.prototype.getStatus=_r.prototype.ca,_r.prototype.getResponseJson=_r.prototype.La,_r.prototype.getResponseText=_r.prototype.la,_r.prototype.send=_r.prototype.ea,_r.prototype.setWithCredentials=_r.prototype.Fa,sB=_r}).apply(typeof Zb<"u"?Zb:typeof self<"u"?self:typeof window<"u"?window:{});const _6="@firebase/firestore",C6="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Us=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Us.UNAUTHENTICATED=new Us(null),Us.GOOGLE_CREDENTIALS=new Us("google-credentials-uid"),Us.FIRST_PARTY=new Us("first-party-uid"),Us.MOCK_USER=new Us("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new tw("@firebase/firestore");function vm(){return Kh.logLevel}function It(t,...e){if(Kh.logLevel<=Mr.DEBUG){const r=e.map(BC);Kh.debug(`Firestore (${Dp}): ${t}`,...r)}}function Jc(t,...e){if(Kh.logLevel<=Mr.ERROR){const r=e.map(BC);Kh.error(`Firestore (${Dp}): ${t}`,...r)}}function ap(t,...e){if(Kh.logLevel<=Mr.WARN){const r=e.map(BC);Kh.warn(`Firestore (${Dp}): ${t}`,...r)}}function BC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,uB(t,n,r)}function uB(t,e,r){let n=`FIRESTORE (${Dp}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Jc(n),new Error(n)}function zr(t,e,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,t||uB(e,a,n)}function hr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Vo{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Woe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Us.UNAUTHENTICATED)))}shutdown(){}}class Goe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Yoe{constructor(e){this.t=e,this.currentUser=Us.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){zr(this.o===void 0,42304);let n=this.i;const a=u=>this.i!==n?(n=this.i,r(u)):Promise.resolve();let i=new hl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new hl,e.enqueueRetryable((()=>a(this.currentUser)))};const o=()=>{const u=i;e.enqueueRetryable((async()=>{await u.promise,await a(this.currentUser)}))},c=u=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new hl)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(zr(typeof n.accessToken=="string",31837,{l:n}),new dB(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zr(e===null||typeof e=="string",2055,{h:e}),new Us(e)}}class Koe{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Us.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Xoe{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Koe(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(Us.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class I6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qoe{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$s(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){zr(this.o===void 0,3512);const n=i=>{i.error!=null&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,It("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>n(i)))};const a=i=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>a(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new I6(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(zr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new I6(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zoe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=Zoe(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=e.charAt(a[i]%62))}return n}}function Dr(t,e){return t<e?-1:t>e?1:0}function FA(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const a=t.charAt(n),i=e.charAt(n);if(a!==i)return BN(a)===BN(i)?Dr(a,i):BN(a)?1:-1}return Dr(t.length,e.length)}const Joe=55296,ele=57343;function BN(t){const e=t.charCodeAt(0);return e>=Joe&&e<=ele}function sp(t,e,r){return t.length===e.length&&t.every(((n,a)=>r(n,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6="__name__";class Hl{constructor(e,r,n){r===void 0?r=0:r>e.length&&Zt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Zt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Hl.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Hl?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let a=0;a<n;a++){const i=Hl.compareSegments(e.get(a),r.get(a));if(i!==0)return i}return Dr(e.length,r.length)}static compareSegments(e,r){const n=Hl.isNumericId(e),a=Hl.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Hl.extractNumericId(e).compare(Hl.extractNumericId(r)):FA(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yd.fromString(e.substring(4,e.length-2))}}class rn extends Hl{construct(e,r,n){return new rn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ct(Le.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((a=>a.length>0)))}return new rn(r)}static emptyPath(){return new rn([])}}const tle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ws extends Hl{construct(e,r,n){return new ws(e,r,n)}static isValidIdentifier(e){return tle.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ws.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O6}static keyField(){return new ws([O6])}static fromServerFormat(e){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new ct(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new ct(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ct(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,a+=2}else c==="`"?(o=!o,a++):c!=="."||o?(n+=c,a++):(i(),a++)}if(i(),o)throw new ct(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ws(r)}static emptyPath(){return new ws([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.path=e}static fromPath(e){return new Ht(rn.fromString(e))}static fromName(e){return new Ht(rn.fromString(e).popFirst(5))}static empty(){return new Ht(rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return rn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ht(new rn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t,e,r){if(!r)throw new ct(Le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rle(t,e,r,n){if(e===!0&&n===!0)throw new ct(Le.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function P6(t){if(!Ht.isDocumentKey(t))throw new ct(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function M6(t){if(Ht.isDocumentKey(t))throw new ct(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hB(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function lw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Zt(12329,{type:typeof t})}function Es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ct(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=lw(t);throw new ct(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function nle(t,e){if(e<=0)throw new ct(Le.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t,e){const r={typeString:t};return e&&(r.value=e),r}function Qy(t,e){if(!hB(t))throw new ct(Le.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const a=e[n].typeString,i="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(a&&typeof o!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(i!==void 0&&o!==i.value){r=`Expected '${n}' field to equal '${i.value}'`;break}}if(r)throw new ct(Le.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=-62135596800,R6=1e6;class Wr{static now(){return Wr.fromMillis(Date.now())}static fromDate(e){return Wr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*R6);return new Wr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ct(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ct(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<D6)throw new ct(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R6}_compareTo(e){return this.seconds===e.seconds?Dr(this.nanoseconds,e.nanoseconds):Dr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qy(e,Wr._jsonSchema))return new Wr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-D6;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wr._jsonSchemaVersion="firestore/timestamp/1.0",Wr._jsonSchema={type:Oa("string",Wr._jsonSchemaVersion),seconds:Oa("number"),nanoseconds:Oa("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{static fromTimestamp(e){return new lr(e)}static min(){return new lr(new Wr(0,0))}static max(){return new lr(new Wr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=-1;function ale(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=lr.fromTimestamp(n===1e9?new Wr(r+1,0):new Wr(r,n));return new kd(a,Ht.empty(),e)}function sle(t){return new kd(t.readTime,t.key,ay)}class kd{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new kd(lr.min(),Ht.empty(),ay)}static max(){return new kd(lr.max(),Ht.empty(),ay)}}function ile(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ht.comparator(t.documentKey,e.documentKey),r!==0?r:Dr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ole="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lle{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rp(t){if(t.code!==Le.FAILED_PRECONDITION||t.message!==ole)throw t;It("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Zt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Xe(((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof Xe?r:Xe.resolve(r)}catch(r){return Xe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):Xe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):Xe.reject(r)}static resolve(e){return new Xe(((r,n)=>{r(e)}))}static reject(e){return new Xe(((r,n)=>{n(e)}))}static waitFor(e){return new Xe(((r,n)=>{let a=0,i=0,o=!1;e.forEach((c=>{++a,c.next((()=>{++i,o&&i===a&&r()}),(u=>n(u)))})),o=!0,i===a&&r()}))}static or(e){let r=Xe.resolve(!1);for(const n of e)r=r.next((a=>a?Xe.resolve(a):n()));return r}static forEach(e,r){const n=[];return e.forEach(((a,i)=>{n.push(r.call(this,a,i))})),this.waitFor(n)}static mapArray(e,r){return new Xe(((n,a)=>{const i=e.length,o=new Array(i);let c=0;for(let u=0;u<i;u++){const h=u;r(e[h]).next((f=>{o[h]=f,++c,c===i&&n(o)}),(f=>a(f)))}}))}static doWhile(e,r){return new Xe(((n,a)=>{const i=()=>{e()===!0?r().next((()=>{i()}),a):n()};i()}))}}function cle(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Lp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cw.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=-1;function Zy(t){return t==null}function C1(t){return t===0&&1/t==-1/0}function ule(t){return typeof t=="number"&&Number.isInteger(t)&&!C1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB="";function dle(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=L6(e)),e=hle(t.get(r),e);return L6(e)}function hle(t,e){let r=e;const n=t.length;for(let a=0;a<n;a++){const i=t.charAt(a);switch(i){case"\0":r+="";break;case fB:r+="";break;default:r+=i}}return r}function L6(t){return t+fB+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function $d(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function fle(t,e){const r=[];for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.push(e(t[n],n,t));return r}function mB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,r){this.comparator=e,this.root=r||ys.EMPTY}insert(e,r){return new aa(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ys.BLACK,null,null))}remove(e){return new aa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ys.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jb(this.root,e,this.comparator,!0)}}class Jb{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ys{constructor(e,r,n,a,i){this.key=e,this.value=r,this.color=n??ys.RED,this.left=a??ys.EMPTY,this.right=i??ys.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,i){return new ys(e??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const i=n(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ys.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return ys.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ys.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ys.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Zt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Zt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Zt(27949);return e+(this.isRed()?0:1)}}ys.EMPTY=null,ys.RED=!0,ys.BLACK=!1;ys.EMPTY=new class{constructor(){this.size=0}get key(){throw Zt(57766)}get value(){throw Zt(16141)}get color(){throw Zt(16727)}get left(){throw Zt(29726)}get right(){throw Zt(36894)}copy(e,r,n,a,i){return this}insert(e,r,n){return new ys(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.comparator=e,this.data=new aa(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new V6(this.data.getIterator())}getIteratorFrom(e){return new V6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof Ba)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Ba(this.comparator);return r.data=e,r}}class V6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.fields=e,e.sort(ws.comparator)}static empty(){return new Qi([])}unionWith(e){let r=new Ba(ws.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Qi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return sp(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new pB("Invalid base64 string: "+i):i}})(e);return new Ts(r)}static fromUint8Array(e){const r=(function(a){let i="";for(let o=0;o<a.length;++o)i+=String.fromCharCode(a[o]);return i})(e);return new Ts(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ts.EMPTY_BYTE_STRING=new Ts("");const mle=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nd(t){if(zr(!!t,39018),typeof t=="string"){let e=0;const r=mle.exec(t);if(zr(!!r,46558,{timestamp:t}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:wa(t.seconds),nanos:wa(t.nanos)}}function wa(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sd(t){return typeof t=="string"?Ts.fromBase64String(t):Ts.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB="server_timestamp",xB="__type__",yB="__previous_value__",vB="__local_write_time__";function uw(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[xB])==null?void 0:n.stringValue)===gB}function dw(t){const e=t.mapValue.fields[yB];return uw(e)?dw(e):e}function sy(t){const e=Nd(t.mapValue.fields[vB].timestampValue);return new Wr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ple{constructor(e,r,n,a,i,o,c,u,h,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=f}}const I1="(default)";class iy{constructor(e,r){this.projectId=e,this.database=r||I1}static empty(){return new iy("","")}get isDefaultDatabase(){return this.database===I1}isEqual(e){return e instanceof iy&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB="__type__",gle="__max__",e0={mapValue:{}},jB="__vector__",O1="value";function Ed(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uw(t)?4:yle(t)?9007199254740991:xle(t)?10:11:Zt(28295,{value:t})}function lc(t,e){if(t===e)return!0;const r=Ed(t);if(r!==Ed(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sy(t).isEqual(sy(e));case 3:return(function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const o=Nd(a.timestampValue),c=Nd(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,i){return Sd(a.bytesValue).isEqual(Sd(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,i){return wa(a.geoPointValue.latitude)===wa(i.geoPointValue.latitude)&&wa(a.geoPointValue.longitude)===wa(i.geoPointValue.longitude)})(t,e);case 2:return(function(a,i){if("integerValue"in a&&"integerValue"in i)return wa(a.integerValue)===wa(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const o=wa(a.doubleValue),c=wa(i.doubleValue);return o===c?C1(o)===C1(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return sp(t.arrayValue.values||[],e.arrayValue.values||[],lc);case 10:case 11:return(function(a,i){const o=a.mapValue.fields||{},c=i.mapValue.fields||{};if(U6(o)!==U6(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!lc(o[u],c[u])))return!1;return!0})(t,e);default:return Zt(52216,{left:t})}}function oy(t,e){return(t.values||[]).find((r=>lc(r,e)))!==void 0}function ip(t,e){if(t===e)return 0;const r=Ed(t),n=Ed(e);if(r!==n)return Dr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Dr(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const c=wa(i.integerValue||i.doubleValue),u=wa(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return z6(t.timestampValue,e.timestampValue);case 4:return z6(sy(t),sy(e));case 5:return FA(t.stringValue,e.stringValue);case 6:return(function(i,o){const c=Sd(i),u=Sd(o);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const c=i.split("/"),u=o.split("/");for(let h=0;h<c.length&&h<u.length;h++){const f=Dr(c[h],u[h]);if(f!==0)return f}return Dr(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const c=Dr(wa(i.latitude),wa(o.latitude));return c!==0?c:Dr(wa(i.longitude),wa(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return F6(t.arrayValue,e.arrayValue);case 10:return(function(i,o){var g,x,j,w;const c=i.fields||{},u=o.fields||{},h=(g=c[O1])==null?void 0:g.arrayValue,f=(x=u[O1])==null?void 0:x.arrayValue,p=Dr(((j=h==null?void 0:h.values)==null?void 0:j.length)||0,((w=f==null?void 0:f.values)==null?void 0:w.length)||0);return p!==0?p:F6(h,f)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===e0.mapValue&&o===e0.mapValue)return 0;if(i===e0.mapValue)return 1;if(o===e0.mapValue)return-1;const c=i.fields||{},u=Object.keys(c),h=o.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const g=FA(u[p],f[p]);if(g!==0)return g;const x=ip(c[u[p]],h[f[p]]);if(x!==0)return x}return Dr(u.length,f.length)})(t.mapValue,e.mapValue);default:throw Zt(23264,{he:r})}}function z6(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Dr(t,e);const r=Nd(t),n=Nd(e),a=Dr(r.seconds,n.seconds);return a!==0?a:Dr(r.nanos,n.nanos)}function F6(t,e){const r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=ip(r[a],n[a]);if(i)return i}return Dr(r.length,n.length)}function op(t){return $A(t)}function $A(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Nd(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Sd(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return Ht.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=$A(i);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const o of n)i?i=!1:a+=",",a+=`${o}:${$A(r.fields[o])}`;return a+"}"})(t.mapValue):Zt(61005,{value:t})}function J0(t){switch(Ed(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dw(t);return e?16+J0(e):16;case 5:return 2*t.stringValue.length;case 6:return Sd(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((a,i)=>a+J0(i)),0)})(t.arrayValue);case 10:case 11:return(function(n){let a=0;return $d(n.fields,((i,o)=>{a+=i.length+J0(o)})),a})(t.mapValue);default:throw Zt(13486,{value:t})}}function P1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function BA(t){return!!t&&"integerValue"in t}function GC(t){return!!t&&"arrayValue"in t}function $6(t){return!!t&&"nullValue"in t}function B6(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function e1(t){return!!t&&"mapValue"in t}function xle(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[bB])==null?void 0:n.stringValue)===jB}function Px(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $d(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Px(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Px(t.arrayValue.values[r]);return e}return{...t}}function yle(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gle}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.value=e}static empty(){return new ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!e1(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Px(r)}setAll(e){let r=ws.emptyPath(),n={},a=[];e.forEach(((o,c)=>{if(!r.isImmediateParentOf(c)){const u=this.getFieldsMap(r);this.applyChanges(u,n,a),n={},a=[],r=c.popLast()}o?n[c.lastSegment()]=Px(o):a.push(c.lastSegment())}));const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(e){const r=this.field(e.popLast());e1(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return lc(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];e1(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){$d(r,((a,i)=>e[a]=i));for(const a of n)delete e[a]}clone(){return new ii(Px(this.value))}}function wB(t){const e=[];return $d(t.fields,((r,n)=>{const a=new ws([r]);if(e1(n)){const i=wB(n.mapValue).fields;if(i.length===0)e.push(a);else for(const o of i)e.push(a.child(o))}else e.push(a)})),new Qi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,r,n,a,i,o,c){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new rs(e,0,lr.min(),lr.min(),lr.min(),ii.empty(),0)}static newFoundDocument(e,r,n,a){return new rs(e,1,r,lr.min(),n,a,0)}static newNoDocument(e,r){return new rs(e,2,r,lr.min(),lr.min(),ii.empty(),0)}static newUnknownDocument(e,r){return new rs(e,3,r,lr.min(),lr.min(),ii.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(lr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=lr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,r){this.position=e,this.inclusive=r}}function q6(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){const i=e[a],o=t.position[a];if(i.field.isKeyField()?n=Ht.comparator(Ht.fromName(o.referenceValue),r.key):n=ip(o,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function H6(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!lc(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,r="asc"){this.field=e,this.dir=r}}function vle(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{}class Ia extends kB{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new jle(e,r,n):r==="array-contains"?new Nle(e,n):r==="in"?new Sle(e,n):r==="not-in"?new Ele(e,n):r==="array-contains-any"?new Ale(e,n):new Ia(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new wle(e,n):new kle(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(ip(r,this.value)):r!==null&&Ed(this.value)===Ed(r)&&this.matchesComparison(ip(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Zt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xl extends kB{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new xl(e,r)}matches(e){return NB(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NB(t){return t.op==="and"}function SB(t){return ble(t)&&NB(t)}function ble(t){for(const e of t.filters)if(e instanceof xl)return!1;return!0}function qA(t){if(t instanceof Ia)return t.field.canonicalString()+t.op.toString()+op(t.value);if(SB(t))return t.filters.map((e=>qA(e))).join(",");{const e=t.filters.map((r=>qA(r))).join(",");return`${t.op}(${e})`}}function EB(t,e){return t instanceof Ia?(function(n,a){return a instanceof Ia&&n.op===a.op&&n.field.isEqual(a.field)&&lc(n.value,a.value)})(t,e):t instanceof xl?(function(n,a){return a instanceof xl&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce(((i,o,c)=>i&&EB(o,a.filters[c])),!0):!1})(t,e):void Zt(19439)}function AB(t){return t instanceof Ia?(function(r){return`${r.field.canonicalString()} ${r.op} ${op(r.value)}`})(t):t instanceof xl?(function(r){return r.op.toString()+" {"+r.getFilters().map(AB).join(" ,")+"}"})(t):"Filter"}class jle extends Ia{constructor(e,r,n){super(e,r,n),this.key=Ht.fromName(n.referenceValue)}matches(e){const r=Ht.comparator(e.key,this.key);return this.matchesComparison(r)}}class wle extends Ia{constructor(e,r){super(e,"in",r),this.keys=TB("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class kle extends Ia{constructor(e,r){super(e,"not-in",r),this.keys=TB("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function TB(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map((n=>Ht.fromName(n.referenceValue)))}class Nle extends Ia{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return GC(r)&&oy(r.arrayValue,this.value)}}class Sle extends Ia{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&oy(this.value.arrayValue,r)}}class Ele extends Ia{constructor(e,r){super(e,"not-in",r)}matches(e){if(oy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!oy(this.value.arrayValue,r)}}class Ale extends Ia{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!GC(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>oy(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tle{constructor(e,r=null,n=[],a=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=o,this.endAt=c,this.Te=null}}function W6(t,e=null,r=[],n=[],a=null,i=null,o=null){return new Tle(t,e,r,n,a,i,o)}function YC(t){const e=hr(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>qA(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(i){return i.field.canonicalString()+i.dir})(n))).join(","),Zy(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>op(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>op(n))).join(",")),e.Te=r}return e.Te}function KC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!vle(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!EB(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!H6(t.startAt,e.startAt)&&H6(t.endAt,e.endAt)}function HA(t){return Ht.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,r=null,n=[],a=[],i=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _le(t,e,r,n,a,i,o,c){return new Bd(t,e,r,n,a,i,o,c)}function hw(t){return new Bd(t)}function G6(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XC(t){return t.collectionGroup!==null}function Bm(t){const e=hr(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Ba(ws.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((i=>{r.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ly(i,n))})),r.has(ws.keyField().canonicalString())||e.Ie.push(new ly(ws.keyField(),n))}return e.Ie}function Zl(t){const e=hr(t);return e.Ee||(e.Ee=_B(e,Bm(t))),e.Ee}function Cle(t){const e=hr(t);return e.de||(e.de=_B(e,t.explicitOrderBy)),e.de}function _B(t,e){if(t.limitType==="F")return W6(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const i=a.dir==="desc"?"asc":"desc";return new ly(a.field,i)}));const r=t.endAt?new lp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new lp(t.startAt.position,t.startAt.inclusive):null;return W6(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function WA(t,e){const r=t.filters.concat([e]);return new Bd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function M1(t,e,r){return new Bd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function fw(t,e){return KC(Zl(t),Zl(e))&&t.limitType===e.limitType}function CB(t){return`${YC(Zl(t))}|lt:${t.limitType}`}function bm(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((a=>AB(a))).join(", ")}]`),Zy(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((a=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(a))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((a=>op(a))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((a=>op(a))).join(",")),`Target(${n})`})(Zl(t))}; limitType=${t.limitType})`}function mw(t,e){return e.isFoundDocument()&&(function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ht.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)})(t,e)&&(function(n,a){for(const i of Bm(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0})(t,e)&&(function(n,a){return!(n.startAt&&!(function(o,c,u){const h=q6(o,c,u);return o.inclusive?h<=0:h<0})(n.startAt,Bm(n),a)||n.endAt&&!(function(o,c,u){const h=q6(o,c,u);return o.inclusive?h>=0:h>0})(n.endAt,Bm(n),a))})(t,e)}function Ile(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IB(t){return(e,r)=>{let n=!1;for(const a of Bm(t)){const i=Ole(a,e,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function Ole(t,e,r){const n=t.field.isKeyField()?Ht.comparator(e.key,r.key):(function(i,o,c){const u=o.data.field(i),h=c.data.field(i);return u!==null&&h!==null?ip(u,h):Zt(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Zt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){$d(this.inner,((r,n)=>{for(const[a,i]of n)e(a,i)}))}isEmpty(){return mB(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ple=new aa(Ht.comparator);function eu(){return Ple}const OB=new aa(Ht.comparator);function yx(...t){let e=OB;for(const r of t)e=e.insert(r.key,r);return e}function PB(t){let e=OB;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function Th(){return Mx()}function MB(){return Mx()}function Mx(){return new yf((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Mle=new aa(Ht.comparator),Dle=new Ba(Ht.comparator);function Rr(...t){let e=Dle;for(const r of t)e=e.add(r);return e}const Rle=new Ba(Dr);function Lle(){return Rle}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:C1(e)?"-0":e}}function DB(t){return{integerValue:""+t}}function RB(t,e){return ule(e)?DB(e):QC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this._=void 0}}function Ule(t,e,r){return t instanceof cy?(function(a,i){const o={fields:{[xB]:{stringValue:gB},[vB]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&uw(i)&&(i=dw(i)),i&&(o.fields[yB]=i),{mapValue:o}})(r,e):t instanceof cp?UB(t,e):t instanceof up?VB(t,e):(function(a,i){const o=LB(a,i),c=Y6(o)+Y6(a.Ae);return BA(o)&&BA(a.Ae)?DB(c):QC(a.serializer,c)})(t,e)}function Vle(t,e,r){return t instanceof cp?UB(t,e):t instanceof up?VB(t,e):r}function LB(t,e){return t instanceof uy?(function(n){return BA(n)||(function(i){return!!i&&"doubleValue"in i})(n)})(e)?e:{integerValue:0}:null}class cy extends pw{}class cp extends pw{constructor(e){super(),this.elements=e}}function UB(t,e){const r=zB(e);for(const n of t.elements)r.some((a=>lc(a,n)))||r.push(n);return{arrayValue:{values:r}}}class up extends pw{constructor(e){super(),this.elements=e}}function VB(t,e){let r=zB(e);for(const n of t.elements)r=r.filter((a=>!lc(a,n)));return{arrayValue:{values:r}}}class uy extends pw{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function Y6(t){return wa(t.integerValue||t.doubleValue)}function zB(t){return GC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,r){this.field=e,this.transform=r}}function zle(t,e){return t.field.isEqual(e.field)&&(function(n,a){return n instanceof cp&&a instanceof cp||n instanceof up&&a instanceof up?sp(n.elements,a.elements,lc):n instanceof uy&&a instanceof uy?lc(n.Ae,a.Ae):n instanceof cy&&a instanceof cy})(t.transform,e.transform)}class Fle{constructor(e,r){this.version=e,this.transformResults=r}}class ks{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ks}static exists(e){return new ks(void 0,e)}static updateTime(e){return new ks(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function t1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xw{}function FB(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yw(t.key,ks.none()):new Jy(t.key,t.data,ks.none());{const r=t.data,n=ii.empty();let a=new Ba(ws.comparator);for(let i of e.fields)if(!a.has(i)){let o=r.field(i);o===null&&i.length>1&&(i=i.popLast(),o=r.field(i)),o===null?n.delete(i):n.set(i,o),a=a.add(i)}return new qd(t.key,n,new Qi(a.toArray()),ks.none())}}function $le(t,e,r){t instanceof Jy?(function(a,i,o){const c=a.value.clone(),u=X6(a.fieldTransforms,i,o.transformResults);c.setAll(u),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,r):t instanceof qd?(function(a,i,o){if(!t1(a.precondition,i))return void i.convertToUnknownDocument(o.version);const c=X6(a.fieldTransforms,i,o.transformResults),u=i.data;u.setAll($B(a)),u.setAll(c),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,r):(function(a,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function Dx(t,e,r,n){return t instanceof Jy?(function(i,o,c,u){if(!t1(i.precondition,o))return c;const h=i.value.clone(),f=Q6(i.fieldTransforms,u,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,r,n):t instanceof qd?(function(i,o,c,u){if(!t1(i.precondition,o))return c;const h=Q6(i.fieldTransforms,u,o),f=o.data;return f.setAll($B(i)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(t,e,r,n):(function(i,o,c){return t1(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,r)}function Ble(t,e){let r=null;for(const n of t.fieldTransforms){const a=e.data.field(n.field),i=LB(n.transform,a||null);i!=null&&(r===null&&(r=ii.empty()),r.set(n.field,i))}return r||null}function K6(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&sp(n,a,((i,o)=>zle(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jy extends xw{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class qd extends xw{constructor(e,r,n,a,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function $B(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function X6(t,e,r){const n=new Map;zr(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let a=0;a<r.length;a++){const i=t[a],o=i.transform,c=e.data.field(i.field);n.set(i.field,Vle(o,c,r[a]))}return n}function Q6(t,e,r){const n=new Map;for(const a of t){const i=a.transform,o=r.data.field(a.field);n.set(a.field,Ule(i,o,e))}return n}class yw extends xw{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BB extends xw{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qle{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(e.key)&&$le(i,e,n[a])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Dx(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Dx(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=MB();return this.mutations.forEach((a=>{const i=e.get(a.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=r.has(a.key)?null:c;const u=FB(o,c);u!==null&&n.set(a.key,u),o.isValidDocument()||o.convertToNoDocument(lr.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Rr())}isEqual(e){return this.batchId===e.batchId&&sp(this.mutations,e.mutations,((r,n)=>K6(r,n)))&&sp(this.baseMutations,e.baseMutations,((r,n)=>K6(r,n)))}}class ZC{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){zr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let a=(function(){return Mle})();const i=e.mutations;for(let o=0;o<i.length;o++)a=a.insert(i[o].key,n[o].version);return new ZC(e,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hle{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wle{constructor(e,r,n){this.alias=e,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gle{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ta,Br;function qB(t){switch(t){case Le.OK:return Zt(64938);case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0;default:return Zt(15467,{code:t})}}function HB(t){if(t===void 0)return Jc("GRPC error has no .code"),Le.UNKNOWN;switch(t){case Ta.OK:return Le.OK;case Ta.CANCELLED:return Le.CANCELLED;case Ta.UNKNOWN:return Le.UNKNOWN;case Ta.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case Ta.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case Ta.INTERNAL:return Le.INTERNAL;case Ta.UNAVAILABLE:return Le.UNAVAILABLE;case Ta.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case Ta.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case Ta.NOT_FOUND:return Le.NOT_FOUND;case Ta.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case Ta.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case Ta.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case Ta.ABORTED:return Le.ABORTED;case Ta.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case Ta.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case Ta.DATA_LOSS:return Le.DATA_LOSS;default:return Zt(39323,{code:t})}}(Br=Ta||(Ta={}))[Br.OK=0]="OK",Br[Br.CANCELLED=1]="CANCELLED",Br[Br.UNKNOWN=2]="UNKNOWN",Br[Br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Br[Br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Br[Br.NOT_FOUND=5]="NOT_FOUND",Br[Br.ALREADY_EXISTS=6]="ALREADY_EXISTS",Br[Br.PERMISSION_DENIED=7]="PERMISSION_DENIED",Br[Br.UNAUTHENTICATED=16]="UNAUTHENTICATED",Br[Br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Br[Br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Br[Br.ABORTED=10]="ABORTED",Br[Br.OUT_OF_RANGE=11]="OUT_OF_RANGE",Br[Br.UNIMPLEMENTED=12]="UNIMPLEMENTED",Br[Br.INTERNAL=13]="INTERNAL",Br[Br.UNAVAILABLE=14]="UNAVAILABLE",Br[Br.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yle(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kle=new yd([4294967295,4294967295],0);function Z6(t){const e=Yle().encode(t),r=new aB;return r.update(e),new Uint8Array(r.digest())}function J6(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new yd([r,n],0),new yd([a,i],0)]}class JC{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new vx(`Invalid padding: ${r}`);if(n<0)throw new vx(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new vx(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new vx(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=yd.fromNumber(this.ge)}ye(e,r,n){let a=e.add(r.multiply(yd.fromNumber(n)));return a.compare(Kle)===1&&(a=new yd([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=Z6(e),[n,a]=J6(r);for(let i=0;i<this.hashCount;i++){const o=this.ye(n,a,i);if(!this.we(o))return!1}return!0}static create(e,r,n){const a=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new JC(i,a,r);return n.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const r=Z6(e),[n,a]=J6(r);for(let i=0;i<this.hashCount;i++){const o=this.ye(n,a,i);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class vx extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,r,n,a,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const a=new Map;return a.set(e,ev.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new vw(lr.min(),a,new aa(Dr),eu(),Rr())}}class ev{constructor(e,r,n,a,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new ev(n,r,Rr(),Rr(),Rr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,r,n,a){this.be=e,this.removedTargetIds=r,this.key=n,this.De=a}}class WB{constructor(e,r){this.targetId=e,this.Ce=r}}class GB{constructor(e,r,n=Ts.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=a}}class e5{constructor(){this.ve=0,this.Fe=t5(),this.Me=Ts.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Rr(),r=Rr(),n=Rr();return this.Fe.forEach(((a,i)=>{switch(i){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:Zt(38017,{changeType:i})}})),new ev(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=t5()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,zr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Xle{constructor(e){this.Ge=e,this.ze=new Map,this.je=eu(),this.Je=t0(),this.He=t0(),this.Ye=new aa(Dr)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Zt(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,a)=>{this.rt(a)&&r(a)}))}st(e){const r=e.targetId,n=e.Ce.count,a=this.ot(r);if(a){const i=a.target;if(HA(i))if(n===0){const o=new Ht(i.path);this.et(r,o,rs.newNoDocument(o,lr.min()))}else zr(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const c=this.ut(e),u=c?this.ct(c,e,o):1;if(u!==0){this.it(r);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,h)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let o,c;try{o=Sd(n).toUint8Array()}catch(u){if(u instanceof pB)return ap("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new JC(o,a,i)}catch(u){return ap(u instanceof vx?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let a=0;return n.forEach((i=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(r,i,null),a++)})),a}Tt(e){const r=new Map;this.ze.forEach(((i,o)=>{const c=this.ot(o);if(c){if(i.current&&HA(c.target)){const u=new Ht(c.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,rs.newNoDocument(u,e))}i.Be&&(r.set(o,i.ke()),i.qe())}}));let n=Rr();this.He.forEach(((i,o)=>{let c=!0;o.forEachWhile((u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(n=n.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const a=new vw(e,r,this.Ye,this.je,n);return this.je=eu(),this.Je=t0(),this.He=t0(),this.Ye=new aa(Dr),a}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,r)?a.Qe(r,1):a.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new e5,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Ba(Dr),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Ba(Dr),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||It("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new e5),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function t0(){return new aa(Ht.comparator)}function t5(){return new aa(Ht.comparator)}const Qle={asc:"ASCENDING",desc:"DESCENDING"},Zle={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jle={and:"AND",or:"OR"};class ece{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function GA(t,e){return t.useProto3Json||Zy(e)?e:{value:e}}function D1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tce(t,e){return D1(t,e.toTimestamp())}function Ji(t){return zr(!!t,49232),lr.fromTimestamp((function(r){const n=Nd(r);return new Wr(n.seconds,n.nanos)})(t))}function e3(t,e){return YA(t,e).canonicalString()}function YA(t,e){const r=(function(a){return new rn(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?r:r.child(e)}function KB(t){const e=rn.fromString(t);return zr(rq(e),10190,{key:e.toString()}),e}function R1(t,e){return e3(t.databaseId,e.path)}function Rx(t,e){const r=KB(e);if(r.get(1)!==t.databaseId.projectId)throw new ct(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ct(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ht(QB(r))}function XB(t,e){return e3(t.databaseId,e)}function rce(t){const e=KB(t);return e.length===4?rn.emptyPath():QB(e)}function KA(t){return new rn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QB(t){return zr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function r5(t,e,r){return{name:R1(t,e),fields:r.value.mapValue.fields}}function nce(t,e){return"found"in e?(function(n,a){zr(!!a.found,43571),a.found.name,a.found.updateTime;const i=Rx(n,a.found.name),o=Ji(a.found.updateTime),c=a.found.createTime?Ji(a.found.createTime):lr.min(),u=new ii({mapValue:{fields:a.found.fields}});return rs.newFoundDocument(i,o,c,u)})(t,e):"missing"in e?(function(n,a){zr(!!a.missing,3894),zr(!!a.readTime,22933);const i=Rx(n,a.missing),o=Ji(a.readTime);return rs.newNoDocument(i,o)})(t,e):Zt(7234,{result:e})}function ace(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Zt(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],i=(function(h,f){return h.useProto3Json?(zr(f===void 0||typeof f=="string",58123),Ts.fromBase64String(f||"")):(zr(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Ts.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(h){const f=h.code===void 0?Le.UNKNOWN:HB(h.code);return new ct(f,h.message||"")})(o);r=new GB(n,a,i,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=Rx(t,n.document.name),i=Ji(n.document.updateTime),o=n.document.createTime?Ji(n.document.createTime):lr.min(),c=new ii({mapValue:{fields:n.document.fields}}),u=rs.newFoundDocument(a,i,o,c),h=n.targetIds||[],f=n.removedTargetIds||[];r=new r1(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=Rx(t,n.document),i=n.readTime?Ji(n.readTime):lr.min(),o=rs.newNoDocument(a,i),c=n.removedTargetIds||[];r=new r1([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=Rx(t,n.document),i=n.removedTargetIds||[];r=new r1([],i,a,null)}else{if(!("filter"in e))return Zt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,o=new Gle(a,i),c=n.targetId;r=new WB(c,o)}}return r}function ZB(t,e){let r;if(e instanceof Jy)r={update:r5(t,e.key,e.value)};else if(e instanceof yw)r={delete:R1(t,e.key)};else if(e instanceof qd)r={update:r5(t,e.key,e.data),updateMask:fce(e.fieldMask)};else{if(!(e instanceof BB))return Zt(16599,{Vt:e.type});r={verify:R1(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(i,o){const c=o.transform;if(c instanceof cy)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof cp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof up)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof uy)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw Zt(20930,{transform:o.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(a,i){return i.updateTime!==void 0?{updateTime:tce(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Zt(27497)})(t,e.precondition)),r}function sce(t,e){return t&&t.length>0?(zr(e!==void 0,14353),t.map((r=>(function(a,i){let o=a.updateTime?Ji(a.updateTime):Ji(i);return o.isEqual(lr.min())&&(o=Ji(i)),new Fle(o,a.transformResults||[])})(r,e)))):[]}function ice(t,e){return{documents:[XB(t,e.path)]}}function JB(t,e){const r={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=XB(t,a);const i=(function(h){if(h.length!==0)return tq(xl.create(h,"and"))})(e.filters);i&&(r.structuredQuery.where=i);const o=(function(h){if(h.length!==0)return h.map((f=>(function(g){return{field:nd(g.field),direction:uce(g.dir)}})(f)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const c=GA(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:r,parent:a}}function oce(t,e,r,n){const{ft:a,parent:i}=JB(t,e),o={},c=[];let u=0;return r.forEach((h=>{const f="aggregate_"+u++;o[f]=h.alias,h.aggregateType==="count"?c.push({alias:f,count:{}}):h.aggregateType==="avg"?c.push({alias:f,avg:{field:nd(h.fieldPath)}}):h.aggregateType==="sum"&&c.push({alias:f,sum:{field:nd(h.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:c,structuredQuery:a.structuredQuery},parent:a.parent},gt:o,parent:i}}function lce(t){let e=rce(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){zr(n===1,65062);const f=r.from[0];f.allDescendants?a=f.collectionId:e=e.child(f.collectionId)}let i=[];r.where&&(i=(function(p){const g=eq(p);return g instanceof xl&&SB(g)?g.getFilters():[g]})(r.where));let o=[];r.orderBy&&(o=(function(p){return p.map((g=>(function(j){return new ly(jm(j.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(g)))})(r.orderBy));let c=null;r.limit&&(c=(function(p){let g;return g=typeof p=="object"?p.value:p,Zy(g)?null:g})(r.limit));let u=null;r.startAt&&(u=(function(p){const g=!!p.before,x=p.values||[];return new lp(x,g)})(r.startAt));let h=null;return r.endAt&&(h=(function(p){const g=!p.before,x=p.values||[];return new lp(x,g)})(r.endAt)),_le(e,a,o,i,c,"F",u,h)}function cce(t,e){const r=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Zt(28987,{purpose:a})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function eq(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=jm(r.unaryFilter.field);return Ia.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=jm(r.unaryFilter.field);return Ia.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=jm(r.unaryFilter.field);return Ia.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=jm(r.unaryFilter.field);return Ia.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Zt(61313);default:return Zt(60726)}})(t):t.fieldFilter!==void 0?(function(r){return Ia.create(jm(r.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Zt(58110);default:return Zt(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return xl.create(r.compositeFilter.filters.map((n=>eq(n))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Zt(1026)}})(r.compositeFilter.op))})(t):Zt(30097,{filter:t})}function uce(t){return Qle[t]}function dce(t){return Zle[t]}function hce(t){return Jle[t]}function nd(t){return{fieldPath:t.canonicalString()}}function jm(t){return ws.fromServerFormat(t.fieldPath)}function tq(t){return t instanceof Ia?(function(r){if(r.op==="=="){if(B6(r.value))return{unaryFilter:{field:nd(r.field),op:"IS_NAN"}};if($6(r.value))return{unaryFilter:{field:nd(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(B6(r.value))return{unaryFilter:{field:nd(r.field),op:"IS_NOT_NAN"}};if($6(r.value))return{unaryFilter:{field:nd(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nd(r.field),op:dce(r.op),value:r.value}}})(t):t instanceof xl?(function(r){const n=r.getFilters().map((a=>tq(a)));return n.length===1?n[0]:{compositeFilter:{op:hce(r.op),filters:n}}})(t):Zt(54877,{filter:t})}function fce(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function rq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,r,n,a,i=lr.min(),o=lr.min(),c=Ts.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new ud(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ud(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ud(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ud(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mce{constructor(e){this.yt=e}}function pce(t){const e=lce({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?M1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gce{constructor(){this.Cn=new xce}addToCollectionParentIndex(e,r){return this.Cn.add(r),Xe.resolve()}getCollectionParents(e,r){return Xe.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return Xe.resolve()}deleteFieldIndex(e,r){return Xe.resolve()}deleteAllFieldIndexes(e){return Xe.resolve()}createTargetIndexes(e,r){return Xe.resolve()}getDocumentsMatchingTarget(e,r){return Xe.resolve(null)}getIndexType(e,r){return Xe.resolve(0)}getFieldIndexes(e,r){return Xe.resolve([])}getNextCollectionGroupToUpdate(e){return Xe.resolve(null)}getMinOffset(e,r){return Xe.resolve(kd.min())}getMinOffsetFromCollectionGroup(e,r){return Xe.resolve(kd.min())}updateCollectionGroup(e,r,n){return Xe.resolve()}updateIndexEntries(e,r){return Xe.resolve()}}class xce{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new Ba(rn.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new Ba(rn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nq=41943040;class ki{static withCacheSize(e){return new ki(e,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki.DEFAULT_COLLECTION_PERCENTILE=10,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ki.DEFAULT=new ki(nq,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ki.DISABLED=new ki(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new dp(0)}static cr(){return new dp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5="LruGarbageCollector",yce=1048576;function s5([t,e],[r,n]){const a=Dr(t,r);return a===0?Dr(e,n):a}class vce{constructor(e){this.Ir=e,this.buffer=new Ba(s5),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();s5(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class bce{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){It(a5,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Lp(r)?It(a5,"Ignoring IndexedDB error during garbage collection: ",r):await Rp(r)}await this.Vr(3e5)}))}}class jce{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return Xe.resolve(cw.ce);const n=new vce(r);return this.mr.forEachTarget(e,(a=>n.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>n.Ar(a))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(It("LruGarbageCollector","Garbage collection skipped; disabled"),Xe.resolve(n5)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n5):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,a,i,o,c,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),a=this.params.maximumSequenceNumbersToCollect):a=p,o=Date.now(),this.nthSequenceNumber(e,a)))).next((p=>(n=p,c=Date.now(),this.removeTargets(e,n,r)))).next((p=>(i=p,u=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(h=Date.now(),vm()<=Mr.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${a} in `+(c-o)+`ms
	Removed ${i} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),Xe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:p}))))}}function wce(t,e){return new jce(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kce{constructor(){this.changes=new yf((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,rs.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Xe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nce{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sce{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((a=>(n=a,this.remoteDocumentCache.getEntry(e,r)))).next((a=>(n!==null&&Dx(n.mutation,a,Qi.empty(),Wr.now()),a)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Rr()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Rr()){const a=Th();return this.populateOverlays(e,a,r).next((()=>this.computeViews(e,r,a,n).next((i=>{let o=yx();return i.forEach(((c,u)=>{o=o.insert(c,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=Th();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Rr())))}populateOverlays(e,r,n){const a=[];return n.forEach((i=>{r.has(i)||a.push(i)})),this.documentOverlayCache.getOverlays(e,a).next((i=>{i.forEach(((o,c)=>{r.set(o,c)}))}))}computeViews(e,r,n,a){let i=eu();const o=Mx(),c=(function(){return Mx()})();return r.forEach(((u,h)=>{const f=n.get(h.key);a.has(h.key)&&(f===void 0||f.mutation instanceof qd)?i=i.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),Dx(f.mutation,h,f.mutation.getFieldMask(),Wr.now())):o.set(h.key,Qi.empty())})),this.recalculateAndSaveOverlays(e,i).next((u=>(u.forEach(((h,f)=>o.set(h,f))),r.forEach(((h,f)=>c.set(h,new Nce(f,o.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,r){const n=Mx();let a=new aa(((o,c)=>o-c)),i=Rr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const c of o)c.keys().forEach((u=>{const h=r.get(u);if(h===null)return;let f=n.get(u)||Qi.empty();f=c.applyToLocalView(h,f),n.set(u,f);const p=(a.get(c.batchId)||Rr()).add(u);a=a.insert(c.batchId,p)}))})).next((()=>{const o=[],c=a.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,f=u.value,p=MB();f.forEach((g=>{if(!i.has(g)){const x=FB(r.get(g),n.get(g));x!==null&&p.set(g,x),i=i.add(g)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return Xe.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,a){return(function(o){return Ht.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):XC(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next((i=>{const o=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-i.size):Xe.resolve(Th());let c=ay,u=i;return o.next((h=>Xe.forEach(h,((f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),i.get(f)?Xe.resolve():this.remoteDocumentCache.getEntry(e,f).next((g=>{u=u.insert(f,g)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,u,h,Rr()))).next((f=>({batchId:c,changes:PB(f)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ht(r)).next((n=>{let a=yx();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){const i=r.collectionGroup;let o=yx();return this.indexManager.getCollectionParents(e,i).next((c=>Xe.forEach(c,(u=>{const h=(function(p,g){return new Bd(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,n,a).next((f=>{f.forEach(((p,g)=>{o=o.insert(p,g)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,a)))).next((o=>{i.forEach(((u,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,rs.newInvalidDocument(f)))}));let c=yx();return o.forEach(((u,h)=>{const f=i.get(u);f!==void 0&&Dx(f.mutation,h,Qi.empty(),Wr.now()),mw(r,h)&&(c=c.insert(u,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ece{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return Xe.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(a){return{id:a.id,version:a.version,createTime:Ji(a.createTime)}})(r)),Xe.resolve()}getNamedQuery(e,r){return Xe.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(a){return{name:a.name,query:pce(a.bundledQuery),readTime:Ji(a.readTime)}})(r)),Xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ace{constructor(){this.overlays=new aa(Ht.comparator),this.qr=new Map}getOverlay(e,r){return Xe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Th();return Xe.forEach(r,(a=>this.getOverlay(e,a).next((i=>{i!==null&&n.set(a,i)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((a,i)=>{this.St(e,r,i)})),Xe.resolve()}removeOverlaysForBatchId(e,r,n){const a=this.qr.get(n);return a!==void 0&&(a.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(n)),Xe.resolve()}getOverlaysForCollection(e,r,n){const a=Th(),i=r.length+1,o=new Ht(r.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>n&&a.set(u.getKey(),u)}return Xe.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let i=new aa(((h,f)=>h-f));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let f=i.get(h.largestBatchId);f===null&&(f=Th(),i=i.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const c=Th(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,f)=>c.set(h,f))),!(c.size()>=a)););return Xe.resolve(c)}St(e,r,n){const a=this.overlays.get(n.key);if(a!==null){const o=this.qr.get(a.largestBatchId).delete(n.key);this.qr.set(a.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Hle(r,n));let i=this.qr.get(r);i===void 0&&(i=Rr(),this.qr.set(r,i)),this.qr.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tce{constructor(){this.sessionToken=Ts.EMPTY_BYTE_STRING}getSessionToken(e){return Xe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Xe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(){this.Qr=new Ba(Ja.$r),this.Ur=new Ba(Ja.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Ja(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new Ja(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new Ht(new rn([])),n=new Ja(r,e),a=new Ja(r,e+1),i=[];return this.Ur.forEachInRange([n,a],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Ht(new rn([])),n=new Ja(r,e),a=new Ja(r,e+1);let i=Rr();return this.Ur.forEachInRange([n,a],(o=>{i=i.add(o.key)})),i}containsKey(e){const r=new Ja(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ja{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Ht.comparator(e.key,r.key)||Dr(e.Yr,r.Yr)}static Kr(e,r){return Dr(e.Yr,r.Yr)||Ht.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ce{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Ba(Ja.$r)}checkEmpty(e){return Xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new qle(i,r,n,a);this.mutationQueue.push(o);for(const c of a)this.Zr=this.Zr.add(new Ja(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Xe.resolve(o)}lookupMutationBatch(e,r){return Xe.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=this.ei(n),i=a<0?0:a;return Xe.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Xe.resolve(this.mutationQueue.length===0?WC:this.tr-1)}getAllMutationBatches(e){return Xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ja(r,0),a=new Ja(r,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,a],(o=>{const c=this.Xr(o.Yr);i.push(c)})),Xe.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ba(Dr);return r.forEach((a=>{const i=new Ja(a,0),o=new Ja(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(c=>{n=n.add(c.Yr)}))})),Xe.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1;let i=n;Ht.isDocumentKey(i)||(i=i.child(""));const o=new Ja(new Ht(i),0);let c=new Ba(Dr);return this.Zr.forEachWhile((u=>{const h=u.key.path;return!!n.isPrefixOf(h)&&(h.length===a&&(c=c.add(u.Yr)),!0)}),o),Xe.resolve(this.ti(c))}ti(e){const r=[];return e.forEach((n=>{const a=this.Xr(n);a!==null&&r.push(a)})),r}removeMutationBatch(e,r){zr(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Xe.forEach(r.mutations,(a=>{const i=new Ja(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new Ja(r,0),a=this.Zr.firstAfterOrEqual(n);return Xe.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Xe.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cce{constructor(e){this.ri=e,this.docs=(function(){return new aa(Ht.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Xe.resolve(n?n.document.mutableCopy():rs.newInvalidDocument(r))}getEntries(e,r){let n=eu();return r.forEach((a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():rs.newInvalidDocument(a))})),Xe.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let i=eu();const o=r.path,c=new Ht(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||ile(sle(f),n)<=0||(a.has(f.key)||mw(r,f))&&(i=i.insert(f.key,f.mutableCopy()))}return Xe.resolve(i)}getAllFromCollectionGroup(e,r,n,a){Zt(9500)}ii(e,r){return Xe.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new Ice(this)}getSize(e){return Xe.resolve(this.size)}}class Ice extends kce{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,a)=>{a.isValidDocument()?r.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(n)})),Xe.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oce{constructor(e){this.persistence=e,this.si=new yf((r=>YC(r)),KC),this.lastRemoteSnapshotVersion=lr.min(),this.highestTargetId=0,this.oi=0,this._i=new t3,this.targetCount=0,this.ai=dp.ur()}forEachTarget(e,r){return this.si.forEach(((n,a)=>r(a))),Xe.resolve()}getLastRemoteSnapshotVersion(e){return Xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Xe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),Xe.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new dp(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,Xe.resolve()}updateTargetData(e,r){return this.Pr(r),Xe.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Xe.resolve()}removeTargets(e,r,n){let a=0;const i=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)})),Xe.waitFor(i).next((()=>a))}getTargetCount(e){return Xe.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return Xe.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),Xe.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach((o=>{i.push(a.markPotentiallyOrphaned(e,o))})),Xe.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),Xe.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return Xe.resolve(n)}containsKey(e,r){return Xe.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e,r){this.ui={},this.overlays={},this.ci=new cw(0),this.li=!1,this.li=!0,this.hi=new Tce,this.referenceDelegate=e(this),this.Pi=new Oce(this),this.indexManager=new gce,this.remoteDocumentCache=(function(a){return new Cce(a)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new mce(r),this.Ii=new Ece(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Ace,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new _ce(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){It("MemoryPersistence","Starting transaction:",e);const a=new Pce(this.ci.next());return this.referenceDelegate.Ei(),n(a).next((i=>this.referenceDelegate.di(a).next((()=>i)))).toPromise().then((i=>(a.raiseOnCommittedEvent(),i)))}Ai(e,r){return Xe.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class Pce extends lle{constructor(e){super(),this.currentSequenceNumber=e}}class r3{constructor(e){this.persistence=e,this.Ri=new t3,this.Vi=null}static mi(e){return new r3(e)}get fi(){if(this.Vi)return this.Vi;throw Zt(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),Xe.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),Xe.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),Xe.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((a=>this.fi.add(a.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((a=>{a.forEach((i=>this.fi.add(i.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xe.forEach(this.fi,(n=>{const a=Ht.fromPath(n);return this.gi(e,a).next((i=>{i||r.removeEntry(a,lr.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return Xe.or([()=>Xe.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class L1{constructor(e,r){this.persistence=e,this.pi=new yf((n=>dle(n.path)),((n,a)=>n.isEqual(a))),this.garbageCollector=wce(this,r)}static mi(e,r){return new L1(e,r)}Ei(){}di(e){return Xe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((a=>n+a))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return Xe.forEach(this.pi,((n,a)=>this.br(e,n,a).next((i=>i?Xe.resolve():r(a)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ii(e,(o=>this.br(e,o,r).next((c=>{c||(n++,i.removeEntry(o,lr.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),Xe.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Xe.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Xe.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),Xe.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=J0(e.data.value)),r}br(e,r,n){return Xe.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const a=this.pi.get(r);return Xe.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=a}static As(e,r){let n=Rr(),a=Rr();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new n3(e,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mce{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dce{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aae()?8:cle(Ys())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,a){const i={result:null};return this.ys(e,r).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,r,a,n).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new Mce;return this.Ss(e,r,o).next((c=>{if(i.result=c,this.Vs)return this.bs(e,r,o,c.size)}))})).next((()=>i.result))}bs(e,r,n,a){return n.documentReadCount<this.fs?(vm()<=Mr.DEBUG&&It("QueryEngine","SDK will not create cache indexes for query:",bm(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Xe.resolve()):(vm()<=Mr.DEBUG&&It("QueryEngine","Query:",bm(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.gs*a?(vm()<=Mr.DEBUG&&It("QueryEngine","The SDK decides to create cache indexes for query:",bm(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zl(r))):Xe.resolve())}ys(e,r){if(G6(r))return Xe.resolve(null);let n=Zl(r);return this.indexManager.getIndexType(e,n).next((a=>a===0?null:(r.limit!==null&&a===1&&(r=M1(r,null,"F"),n=Zl(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((i=>{const o=Rr(...i);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,n).next((u=>{const h=this.Ds(r,c);return this.Cs(r,h,o,u.readTime)?this.ys(e,M1(r,null,"F")):this.vs(e,h,r,u)}))))})))))}ws(e,r,n,a){return G6(r)||a.isEqual(lr.min())?Xe.resolve(null):this.ps.getDocuments(e,n).next((i=>{const o=this.Ds(r,i);return this.Cs(r,o,n,a)?Xe.resolve(null):(vm()<=Mr.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),bm(r)),this.vs(e,o,r,ale(a,ay)).next((c=>c)))}))}Ds(e,r){let n=new Ba(IB(e));return r.forEach(((a,i)=>{mw(e,i)&&(n=n.add(i))})),n}Cs(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Ss(e,r,n){return vm()<=Mr.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",bm(r)),this.ps.getDocumentsMatchingQuery(e,r,kd.min(),n)}vs(e,r,n,a){return this.ps.getDocumentsMatchingQuery(e,n,a).next((i=>(r.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="LocalStore",Rce=3e8;class Lce{constructor(e,r,n,a){this.persistence=e,this.Fs=r,this.serializer=a,this.Ms=new aa(Dr),this.xs=new yf((i=>YC(i)),KC),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sce(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function Uce(t,e,r,n){return new Lce(t,e,r,n)}async function sq(t,e){const r=hr(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next((i=>(a=i,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((i=>{const o=[],c=[];let u=Rr();for(const h of a){o.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of i){c.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return r.localDocuments.getDocuments(n,u).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:c})))}))}))}function Vce(t,e){const r=hr(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const a=e.batch.keys(),i=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,u,h,f){const p=h.batch,g=p.keys();let x=Xe.resolve();return g.forEach((j=>{x=x.next((()=>f.getEntry(u,j))).next((w=>{const b=h.docVersions.get(j);zr(b!==null,48541),w.version.compareTo(b)<0&&(p.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),f.addEntry(w)))}))})),x.next((()=>c.mutationQueue.removeMutationBatch(u,p)))})(r,n,e,i).next((()=>i.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(c){let u=Rr();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u})(e)))).next((()=>r.localDocuments.getDocuments(n,a)))}))}function iq(t){const e=hr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function zce(t,e){const r=hr(t),n=e.snapshotVersion;let a=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});a=r.Ms;const c=[];e.targetChanges.forEach(((f,p)=>{const g=a.get(p);if(!g)return;c.push(r.Pi.removeMatchingKeys(i,f.removedDocuments,p).next((()=>r.Pi.addMatchingKeys(i,f.addedDocuments,p))));let x=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?x=x.withResumeToken(Ts.EMPTY_BYTE_STRING,lr.min()).withLastLimboFreeSnapshotVersion(lr.min()):f.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(f.resumeToken,n)),a=a.insert(p,x),(function(w,b,N){return w.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=Rce?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(g,x,f)&&c.push(r.Pi.updateTargetData(i,x))}));let u=eu(),h=Rr();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(i,f))})),c.push(Fce(i,o,e.documentUpdates).next((f=>{u=f.ks,h=f.qs}))),!n.isEqual(lr.min())){const f=r.Pi.getLastRemoteSnapshotVersion(i).next((p=>r.Pi.setTargetsMetadata(i,i.currentSequenceNumber,n)));c.push(f)}return Xe.waitFor(c).next((()=>o.apply(i))).next((()=>r.localDocuments.getLocalViewOfDocuments(i,u,h))).next((()=>u))})).then((i=>(r.Ms=a,i)))}function Fce(t,e,r){let n=Rr(),a=Rr();return r.forEach((i=>n=n.add(i))),e.getEntries(t,n).next((i=>{let o=eu();return r.forEach(((c,u)=>{const h=i.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(c)),u.isNoDocument()&&u.version.isEqual(lr.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):It(a3,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)})),{ks:o,qs:a}}))}function $ce(t,e){const r=hr(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=WC),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function Bce(t,e){const r=hr(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let a;return r.Pi.getTargetData(n,e).next((i=>i?(a=i,Xe.resolve(a)):r.Pi.allocateTargetId(n).next((o=>(a=new ud(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,a).next((()=>a)))))))})).then((n=>{const a=r.Ms.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function XA(t,e,r){const n=hr(t),a=n.Ms.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,(o=>n.persistence.referenceDelegate.removeTarget(o,a)))}catch(o){if(!Lp(o))throw o;It(a3,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(a.target)}function i5(t,e,r){const n=hr(t);let a=lr.min(),i=Rr();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,h,f){const p=hr(u),g=p.xs.get(f);return g!==void 0?Xe.resolve(p.Ms.get(g)):p.Pi.getTargetData(h,f)})(n,o,Zl(e)).next((c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,c.targetId).next((u=>{i=u}))})).next((()=>n.Fs.getDocumentsMatchingQuery(o,e,r?a:lr.min(),r?i:Rr()))).next((c=>(qce(n,Ile(e),c),{documents:c,Qs:i})))))}function qce(t,e,r){let n=t.Os.get(e)||lr.min();r.forEach(((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)})),t.Os.set(e,n)}class o5{constructor(){this.activeTargetIds=Lle()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hce{constructor(){this.Mo=new o5,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new o5,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wce{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5="ConnectivityMonitor";class c5{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){It(l5,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){It(l5,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r0=null;function QA(){return r0===null?r0=(function(){return 268435456+Math.round(2147483648*Math.random())})():r0++,"0x"+r0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="RestConnection",Gce={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Yce{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${a}`,this.Wo=this.databaseId.database===I1?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Go(e,r,n,a,i){const o=QA(),c=this.zo(e,r.toUriEncodedString());It(qN,`Sending RPC '${e}' ${o}:`,c,n);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,a,i);const{host:h}=new URL(c),f=zd(h);return this.Jo(e,c,u,n,f).then((p=>(It(qN,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw ap(qN,`RPC '${e}' ${o} failed with error: `,p,"url: ",c,"request:",n),p}))}Ho(e,r,n,a,i,o){return this.Go(e,r,n,a,i)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dp})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,i)=>e[i]=a)),n&&n.headers.forEach(((a,i)=>e[i]=a))}zo(e,r){const n=Gce[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kce{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="WebChannelConnection";class Xce extends Yce{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,a,i){const o=QA();return new Promise(((c,u)=>{const h=new sB;h.setWithCredentials(!0),h.listenOnce(iB.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Z0.NO_ERROR:const p=h.getResponseJson();It(Rs,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),c(p);break;case Z0.TIMEOUT:It(Rs,`RPC '${e}' ${o} timed out`),u(new ct(Le.DEADLINE_EXCEEDED,"Request time out"));break;case Z0.HTTP_ERROR:const g=h.getStatus();if(It(Rs,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const j=x==null?void 0:x.error;if(j&&j.status&&j.message){const w=(function(N){const E=N.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(E)>=0?E:Le.UNKNOWN})(j.status);u(new ct(w,j.message))}else u(new ct(Le.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ct(Le.UNAVAILABLE,"Connection failed."));break;default:Zt(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{It(Rs,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(a);It(Rs,`RPC '${e}' ${o} sending request:`,a),h.send(r,"POST",f,n,15)}))}T_(e,r,n){const a=QA(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=cB(),c=lB(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,r,n),u.encodeInitMessageHeaders=!0;const f=i.join("");It(Rs,`Creating RPC '${e}' stream ${a}: ${f}`,u);const p=o.createWebChannel(f,u);this.I_(p);let g=!1,x=!1;const j=new Kce({Yo:b=>{x?It(Rs,`Not sending because RPC '${e}' stream ${a} is closed:`,b):(g||(It(Rs,`Opening RPC '${e}' stream ${a} transport.`),p.open(),g=!0),It(Rs,`RPC '${e}' stream ${a} sending:`,b),p.send(b))},Zo:()=>p.close()}),w=(b,N,E)=>{b.listen(N,(A=>{try{E(A)}catch(O){setTimeout((()=>{throw O}),0)}}))};return w(p,xx.EventType.OPEN,(()=>{x||(It(Rs,`RPC '${e}' stream ${a} transport opened.`),j.o_())})),w(p,xx.EventType.CLOSE,(()=>{x||(x=!0,It(Rs,`RPC '${e}' stream ${a} transport closed`),j.a_(),this.E_(p))})),w(p,xx.EventType.ERROR,(b=>{x||(x=!0,ap(Rs,`RPC '${e}' stream ${a} transport errored. Name:`,b.name,"Message:",b.message),j.a_(new ct(Le.UNAVAILABLE,"The operation could not be completed")))})),w(p,xx.EventType.MESSAGE,(b=>{var N;if(!x){const E=b.data[0];zr(!!E,16349);const A=E,O=(A==null?void 0:A.error)||((N=A[0])==null?void 0:N.error);if(O){It(Rs,`RPC '${e}' stream ${a} received error:`,O);const M=O.status;let L=(function(_){const D=Ta[_];if(D!==void 0)return HB(D)})(M),I=O.message;L===void 0&&(L=Le.INTERNAL,I="Unknown error status: "+M+" with message "+O.message),x=!0,j.a_(new ct(L,I)),p.close()}else It(Rs,`RPC '${e}' stream ${a} received:`,E),j.u_(E)}})),w(c,oB.STAT_EVENT,(b=>{b.stat===zA.PROXY?It(Rs,`RPC '${e}' stream ${a} detected buffering proxy`):b.stat===zA.NOPROXY&&It(Rs,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function HN(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t){return new ece(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,r,n=1e3,a=1.5,i=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=a,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-n);a>0&&It("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5="PersistentStream";class oq{constructor(e,r,n,a,i,o,c,u){this.Mi=e,this.S_=n,this.b_=a,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new s3(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Le.RESOURCE_EXHAUSTED?(Jc(r.toString()),Jc("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,a])=>{this.D_===r&&this.G_(n,a)}),(n=>{e((()=>{const a=new ct(Le.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(a)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{n((()=>this.z_(a)))})),this.stream.onMessage((a=>{n((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return It(u5,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(It(u5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Qce extends oq{constructor(e,r,n,a,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,o),this.serializer=i}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=ace(this.serializer,e),n=(function(i){if(!("targetChange"in i))return lr.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?lr.min():o.readTime?Ji(o.readTime):lr.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=KA(this.serializer),r.addTarget=(function(i,o){let c;const u=o.target;if(c=HA(u)?{documents:ice(i,u)}:{query:JB(i,u).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=YB(i,o.resumeToken);const h=GA(i,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(lr.min())>0){c.readTime=D1(i,o.snapshotVersion.toTimestamp());const h=GA(i,o.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const n=cce(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=KA(this.serializer),r.removeTarget=e,this.q_(r)}}class Zce extends oq{constructor(e,r,n,a,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return zr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,zr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){zr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=sce(e.writeResults,e.commitTime),n=Ji(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=KA(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>ZB(this.serializer,n)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jce{}class eue extends Jce{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ct(Le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,YA(r,n),a,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ct(Le.UNKNOWN,i.toString())}))}Ho(e,r,n,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,YA(r,n),a,o,c,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ct(Le.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class tue{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jc(r),this.aa=!1):It("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="RemoteStore";class rue{constructor(e,r,n,a,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{n.enqueueAndForget((async()=>{vf(this)&&(It(Xh,"Restarting streams for network reachability change."),await(async function(u){const h=hr(u);h.Ea.add(4),await tv(h),h.Ra.set("Unknown"),h.Ea.delete(4),await jw(h)})(this))}))})),this.Ra=new tue(n,a)}}async function jw(t){if(vf(t))for(const e of t.da)await e(!0)}async function tv(t){for(const e of t.da)await e(!1)}function lq(t,e){const r=hr(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),c3(r)?l3(r):Up(r).O_()&&o3(r,e))}function i3(t,e){const r=hr(t),n=Up(r);r.Ia.delete(e),n.O_()&&cq(r,e),r.Ia.size===0&&(n.O_()?n.L_():vf(r)&&r.Ra.set("Unknown"))}function o3(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(lr.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Up(t).Y_(e)}function cq(t,e){t.Va.Ue(e),Up(t).Z_(e)}function l3(t){t.Va=new Xle({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Up(t).start(),t.Ra.ua()}function c3(t){return vf(t)&&!Up(t).x_()&&t.Ia.size>0}function vf(t){return hr(t).Ea.size===0}function uq(t){t.Va=void 0}async function nue(t){t.Ra.set("Online")}async function aue(t){t.Ia.forEach(((e,r)=>{o3(t,e)}))}async function sue(t,e){uq(t),c3(t)?(t.Ra.ha(e),l3(t)):t.Ra.set("Unknown")}async function iue(t,e,r){if(t.Ra.set("Online"),e instanceof GB&&e.state===2&&e.cause)try{await(async function(a,i){const o=i.cause;for(const c of i.targetIds)a.Ia.has(c)&&(await a.remoteSyncer.rejectListen(c,o),a.Ia.delete(c),a.Va.removeTarget(c))})(t,e)}catch(n){It(Xh,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await U1(t,n)}else if(e instanceof r1?t.Va.Ze(e):e instanceof WB?t.Va.st(e):t.Va.tt(e),!r.isEqual(lr.min()))try{const n=await iq(t.localStore);r.compareTo(n)>=0&&await(function(i,o){const c=i.Va.Tt(o);return c.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.Ia.get(h);f&&i.Ia.set(h,f.withResumeToken(u.resumeToken,o))}})),c.targetMismatches.forEach(((u,h)=>{const f=i.Ia.get(u);if(!f)return;i.Ia.set(u,f.withResumeToken(Ts.EMPTY_BYTE_STRING,f.snapshotVersion)),cq(i,u);const p=new ud(f.target,u,h,f.sequenceNumber);o3(i,p)})),i.remoteSyncer.applyRemoteEvent(c)})(t,r)}catch(n){It(Xh,"Failed to raise snapshot:",n),await U1(t,n)}}async function U1(t,e,r){if(!Lp(e))throw e;t.Ea.add(1),await tv(t),t.Ra.set("Offline"),r||(r=()=>iq(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{It(Xh,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await jw(t)}))}function dq(t,e){return e().catch((r=>U1(t,r,e)))}async function ww(t){const e=hr(t),r=Ad(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:WC;for(;oue(e);)try{const a=await $ce(e.localStore,n);if(a===null){e.Ta.length===0&&r.L_();break}n=a.batchId,lue(e,a)}catch(a){await U1(e,a)}hq(e)&&fq(e)}function oue(t){return vf(t)&&t.Ta.length<10}function lue(t,e){t.Ta.push(e);const r=Ad(t);r.O_()&&r.X_&&r.ea(e.mutations)}function hq(t){return vf(t)&&!Ad(t).x_()&&t.Ta.length>0}function fq(t){Ad(t).start()}async function cue(t){Ad(t).ra()}async function uue(t){const e=Ad(t);for(const r of t.Ta)e.ea(r.mutations)}async function due(t,e,r){const n=t.Ta.shift(),a=ZC.from(n,e,r);await dq(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await ww(t)}async function hue(t,e){e&&Ad(t).X_&&await(async function(n,a){if((function(o){return qB(o)&&o!==Le.ABORTED})(a.code)){const i=n.Ta.shift();Ad(n).B_(),await dq(n,(()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a))),await ww(n)}})(t,e),hq(t)&&fq(t)}async function d5(t,e){const r=hr(t);r.asyncQueue.verifyOperationInProgress(),It(Xh,"RemoteStore received new credentials");const n=vf(r);r.Ea.add(3),await tv(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await jw(r)}async function fue(t,e){const r=hr(t);e?(r.Ea.delete(2),await jw(r)):e||(r.Ea.add(2),await tv(r),r.Ra.set("Unknown"))}function Up(t){return t.ma||(t.ma=(function(r,n,a){const i=hr(r);return i.sa(),new Qce(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)})(t.datastore,t.asyncQueue,{Xo:nue.bind(null,t),t_:aue.bind(null,t),r_:sue.bind(null,t),H_:iue.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),c3(t)?l3(t):t.Ra.set("Unknown")):(await t.ma.stop(),uq(t))}))),t.ma}function Ad(t){return t.fa||(t.fa=(function(r,n,a){const i=hr(r);return i.sa(),new Zce(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:cue.bind(null,t),r_:hue.bind(null,t),ta:uue.bind(null,t),na:due.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await ww(t)):(await t.fa.stop(),t.Ta.length>0&&(It(Xh,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,r,n,a,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new hl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,i){const o=Date.now()+n,c=new u3(e,r,o,a,i);return c.start(n),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d3(t,e){if(Jc("AsyncQueue",`${e}: ${t}`),Lp(t))return new ct(Le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{static emptySet(e){return new qm(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ht.comparator(r.key,n.key):(r,n)=>Ht.comparator(r.key,n.key),this.keyedMap=yx(),this.sortedSet=new aa(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof qm)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new qm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(){this.ga=new aa(Ht.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Zt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class hp{constructor(e,r,n,a,i,o,c,u,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,a,i){const o=[];return r.forEach((c=>{o.push({type:0,doc:c})})),new hp(e,r,qm.emptySet(r),o,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mue{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class pue{constructor(){this.queries=f5(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=hr(r),i=a.queries;a.queries=f5(),i.forEach(((o,c)=>{for(const u of c.Sa)u.onError(n)}))})(this,new ct(Le.ABORTED,"Firestore shutting down"))}}function f5(){return new yf((t=>CB(t)),fw)}async function h3(t,e){const r=hr(t);let n=3;const a=e.query;let i=r.queries.get(a);i?!i.ba()&&e.Da()&&(n=2):(i=new mue,n=e.Da()?0:1);try{switch(n){case 0:i.wa=await r.onListen(a,!0);break;case 1:i.wa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(o){const c=d3(o,`Initialization of query '${bm(e.query)}' failed`);return void e.onError(c)}r.queries.set(a,i),i.Sa.push(e),e.va(r.onlineState),i.wa&&e.Fa(i.wa)&&m3(r)}async function f3(t,e){const r=hr(t),n=e.query;let a=3;const i=r.queries.get(n);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?a=e.Da()?0:1:!i.ba()&&e.Da()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function gue(t,e){const r=hr(t);let n=!1;for(const a of e){const i=a.query,o=r.queries.get(i);if(o){for(const c of o.Sa)c.Fa(a)&&(n=!0);o.wa=a}}n&&m3(r)}function xue(t,e,r){const n=hr(t),a=n.queries.get(e);if(a)for(const i of a.Sa)i.onError(r);n.queries.delete(e)}function m3(t){t.Ca.forEach((e=>{e.next()}))}var ZA,m5;(m5=ZA||(ZA={})).Ma="default",m5.Cache="cache";class p3{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new hp(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=hp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ZA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e){this.key=e}}class pq{constructor(e){this.key=e}}class yue{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Rr(),this.mutatedKeys=Rr(),this.eu=IB(e),this.tu=new qm(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new h5,a=r?r.tu:this.tu;let i=r?r.mutatedKeys:this.mutatedKeys,o=a,c=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((f,p)=>{const g=a.get(f),x=mw(this.query,p)?p:null,j=!!g&&this.mutatedKeys.has(g.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;g&&x?g.data.isEqual(x.data)?j!==w&&(n.track({type:3,doc:x}),b=!0):this.su(g,x)||(n.track({type:2,doc:x}),b=!0,(u&&this.eu(x,u)>0||h&&this.eu(x,h)<0)&&(c=!0)):!g&&x?(n.track({type:0,doc:x}),b=!0):g&&!x&&(n.track({type:1,doc:g}),b=!0,(u||h)&&(c=!0)),b&&(x?(o=o.add(x),i=w?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),n.track({type:1,doc:f})}return{tu:o,iu:n,Cs:c,mutatedKeys:i}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,a){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,p)=>(function(x,j){const w=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zt(20277,{Rt:b})}};return w(x)-w(j)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(n),a=a??!1;const c=r&&!a?this._u():[],u=this.Xa.size===0&&this.current&&!a?1:0,h=u!==this.Za;return this.Za=u,o.length!==0||h?{snapshot:new hp(this.query,e.tu,i,o,e.mutatedKeys,u===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new h5,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Rr(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new pq(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new mq(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=Rr();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return hp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const g3="SyncEngine";class vue{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class bue{constructor(e){this.key=e,this.hu=!1}}class jue{constructor(e,r,n,a,i,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new yf((c=>CB(c)),fw),this.Iu=new Map,this.Eu=new Set,this.du=new aa(Ht.comparator),this.Au=new Map,this.Ru=new t3,this.Vu={},this.mu=new Map,this.fu=dp.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wue(t,e,r=!0){const n=jq(t);let a;const i=n.Tu.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await gq(n,e,r,!0),a}async function kue(t,e){const r=jq(t);await gq(r,e,!0,!1)}async function gq(t,e,r,n){const a=await Bce(t.localStore,Zl(e)),i=a.targetId,o=t.sharedClientState.addLocalQueryTarget(i,r);let c;return n&&(c=await Nue(t,e,i,o==="current",a.resumeToken)),t.isPrimaryClient&&r&&lq(t.remoteStore,a),c}async function Nue(t,e,r,n,a){t.pu=(p,g,x)=>(async function(w,b,N,E){let A=b.view.ru(N);A.Cs&&(A=await i5(w.localStore,b.query,!1).then((({documents:I})=>b.view.ru(I,A))));const O=E&&E.targetChanges.get(b.targetId),M=E&&E.targetMismatches.get(b.targetId)!=null,L=b.view.applyChanges(A,w.isPrimaryClient,O,M);return g5(w,b.targetId,L.au),L.snapshot})(t,p,g,x);const i=await i5(t.localStore,e,!0),o=new yue(e,i.Qs),c=o.ru(i.documents),u=ev.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",a),h=o.applyChanges(c,t.isPrimaryClient,u);g5(t,r,h.au);const f=new vue(e,r,o);return t.Tu.set(e,f),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),h.snapshot}async function Sue(t,e,r){const n=hr(t),a=n.Tu.get(e),i=n.Iu.get(a.targetId);if(i.length>1)return n.Iu.set(a.targetId,i.filter((o=>!fw(o,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await XA(n.localStore,a.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(a.targetId),r&&i3(n.remoteStore,a.targetId),JA(n,a.targetId)})).catch(Rp)):(JA(n,a.targetId),await XA(n.localStore,a.targetId,!0))}async function Eue(t,e){const r=hr(t),n=r.Tu.get(e),a=r.Iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),i3(r.remoteStore,n.targetId))}async function Aue(t,e,r){const n=Mue(t);try{const a=await(function(o,c){const u=hr(o),h=Wr.now(),f=c.reduce(((x,j)=>x.add(j.key)),Rr());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let j=eu(),w=Rr();return u.Ns.getEntries(x,f).next((b=>{j=b,j.forEach(((N,E)=>{E.isValidDocument()||(w=w.add(N))}))})).next((()=>u.localDocuments.getOverlayedDocuments(x,j))).next((b=>{p=b;const N=[];for(const E of c){const A=Ble(E,p.get(E.key).overlayedDocument);A!=null&&N.push(new qd(E.key,A,wB(A.value.mapValue),ks.exists(!0)))}return u.mutationQueue.addMutationBatch(x,h,N,c)})).next((b=>{g=b;const N=b.applyToLocalDocumentSet(p,w);return u.documentOverlayCache.saveOverlays(x,b.batchId,N)}))})).then((()=>({batchId:g.batchId,changes:PB(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),(function(o,c,u){let h=o.Vu[o.currentUser.toKey()];h||(h=new aa(Dr)),h=h.insert(c,u),o.Vu[o.currentUser.toKey()]=h})(n,a.batchId,r),await rv(n,a.changes),await ww(n.remoteStore)}catch(a){const i=d3(a,"Failed to persist write");r.reject(i)}}async function xq(t,e){const r=hr(t);try{const n=await zce(r.localStore,e);e.targetChanges.forEach(((a,i)=>{const o=r.Au.get(i);o&&(zr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?o.hu=!0:a.modifiedDocuments.size>0?zr(o.hu,14607):a.removedDocuments.size>0&&(zr(o.hu,42227),o.hu=!1))})),await rv(r,n,e)}catch(n){await Rp(n)}}function p5(t,e,r){const n=hr(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Tu.forEach(((i,o)=>{const c=o.view.va(e);c.snapshot&&a.push(c.snapshot)})),(function(o,c){const u=hr(o);u.onlineState=c;let h=!1;u.queries.forEach(((f,p)=>{for(const g of p.Sa)g.va(c)&&(h=!0)})),h&&m3(u)})(n.eventManager,e),a.length&&n.Pu.H_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Tue(t,e,r){const n=hr(t);n.sharedClientState.updateQueryState(e,"rejected",r);const a=n.Au.get(e),i=a&&a.key;if(i){let o=new aa(Ht.comparator);o=o.insert(i,rs.newNoDocument(i,lr.min()));const c=Rr().add(i),u=new vw(lr.min(),new Map,new aa(Dr),o,c);await xq(n,u),n.du=n.du.remove(i),n.Au.delete(e),x3(n)}else await XA(n.localStore,e,!1).then((()=>JA(n,e,r))).catch(Rp)}async function _ue(t,e){const r=hr(t),n=e.batch.batchId;try{const a=await Vce(r.localStore,e);vq(r,n,null),yq(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await rv(r,a)}catch(a){await Rp(a)}}async function Cue(t,e,r){const n=hr(t);try{const a=await(function(o,c){const u=hr(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let f;return u.mutationQueue.lookupMutationBatch(h,c).next((p=>(zr(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(h,p)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f))).next((()=>u.localDocuments.getDocuments(h,f)))}))})(n.localStore,e);vq(n,e,r),yq(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await rv(n,a)}catch(a){await Rp(a)}}function yq(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function vq(t,e,r){const n=hr(t);let a=n.Vu[n.currentUser.toKey()];if(a){const i=a.get(e);i&&(r?i.reject(r):i.resolve(),a=a.remove(e)),n.Vu[n.currentUser.toKey()]=a}}function JA(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||bq(t,n)}))}function bq(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(i3(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),x3(t))}function g5(t,e,r){for(const n of r)n instanceof mq?(t.Ru.addReference(n.key,e),Iue(t,n)):n instanceof pq?(It(g3,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||bq(t,n.key)):Zt(19791,{wu:n})}function Iue(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(It(g3,"New document in limbo: "+r),t.Eu.add(n),x3(t))}function x3(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Ht(rn.fromString(e)),n=t.fu.next();t.Au.set(n,new bue(r)),t.du=t.du.insert(r,n),lq(t.remoteStore,new ud(Zl(hw(r.path)),n,"TargetPurposeLimboResolution",cw.ce))}}async function rv(t,e,r){const n=hr(t),a=[],i=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach(((c,u)=>{o.push(n.pu(u,e,r).then((h=>{var f;if((h||r)&&n.isPrimaryClient){const p=h?!h.fromCache:(f=r==null?void 0:r.targetChanges.get(u.targetId))==null?void 0:f.current;n.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){a.push(h);const p=n3.As(u.targetId,h);i.push(p)}})))})),await Promise.all(o),n.Pu.H_(a),await(async function(u,h){const f=hr(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Xe.forEach(h,(g=>Xe.forEach(g.Es,(x=>f.persistence.referenceDelegate.addReference(p,g.targetId,x))).next((()=>Xe.forEach(g.ds,(x=>f.persistence.referenceDelegate.removeReference(p,g.targetId,x)))))))))}catch(p){if(!Lp(p))throw p;It(a3,"Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const x=f.Ms.get(g),j=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(j);f.Ms=f.Ms.insert(g,w)}}})(n.localStore,i))}async function Oue(t,e){const r=hr(t);if(!r.currentUser.isEqual(e)){It(g3,"User change. New user:",e.toKey());const n=await sq(r.localStore,e);r.currentUser=e,(function(i,o){i.mu.forEach((c=>{c.forEach((u=>{u.reject(new ct(Le.CANCELLED,o))}))})),i.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await rv(r,n.Ls)}}function Pue(t,e){const r=hr(t),n=r.Au.get(e);if(n&&n.hu)return Rr().add(n.key);{let a=Rr();const i=r.Iu.get(e);if(!i)return a;for(const o of i){const c=r.Tu.get(o);a=a.unionWith(c.view.nu)}return a}}function jq(t){const e=hr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tue.bind(null,e),e.Pu.H_=gue.bind(null,e.eventManager),e.Pu.yu=xue.bind(null,e.eventManager),e}function Mue(t){const e=hr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_ue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cue.bind(null,e),e}class V1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bw(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return Uce(this.persistence,new Dce,e.initialUser,this.serializer)}Cu(e){return new aq(r3.mi,this.serializer)}Du(e){return new Hce}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}V1.provider={build:()=>new V1};class Due extends V1{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){zr(this.persistence.referenceDelegate instanceof L1,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new bce(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?ki.withCacheSize(this.cacheSizeBytes):ki.DEFAULT;return new aq((n=>L1.mi(n,r)),this.serializer)}}class eT{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>p5(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Oue.bind(null,this.syncEngine),await fue(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new pue})()}createDatastore(e){const r=bw(e.databaseInfo.databaseId),n=(function(i){return new Xce(i)})(e.databaseInfo);return(function(i,o,c,u){return new eue(i,o,c,u)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,a,i,o,c){return new rue(n,a,i,o,c)})(this.localStore,this.datastore,e.asyncQueue,(r=>p5(this.syncEngine,r,0)),(function(){return c5.v()?new c5:new Wce})())}createSyncEngine(e,r){return(function(a,i,o,c,u,h,f){const p=new jue(a,i,o,c,u,h);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(a){const i=hr(a);It(Xh,"RemoteStore shutting down."),i.Ea.add(5),await tv(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}eT.provider={build:()=>new eT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Jc("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rue{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ct(Le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await(async function(a,i){const o=hr(a),c={documents:i.map((p=>R1(o.serializer,p)))},u=await o.Ho("BatchGetDocuments",o.serializer.databaseId,rn.emptyPath(),c,i.length),h=new Map;u.forEach((p=>{const g=nce(o.serializer,p);h.set(g.key.toString(),g)}));const f=[];return i.forEach((p=>{const g=h.get(p.toString());zr(!!g,55234,{key:p}),f.push(g)})),f})(this.datastore,e);return r.forEach((n=>this.recordVersion(n))),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new yw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((r=>{e.delete(r.key.toString())})),e.forEach(((r,n)=>{const a=Ht.fromPath(n);this.mutations.push(new BB(a,this.precondition(a)))})),await(async function(n,a){const i=hr(n),o={writes:a.map((c=>ZB(i.serializer,c)))};await i.Go("Commit",i.serializer.databaseId,rn.emptyPath(),o)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Zt(50498,{Gu:e.constructor.name});r=lr.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new ct(Le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(lr.min())?ks.exists(!1):ks.updateTime(r):ks.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(lr.min()))throw new ct(Le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ks.updateTime(r)}return ks.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lue{constructor(e,r,n,a,i){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=a,this.deferred=i,this.zu=n.maxAttempts,this.M_=new s3(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new Rue(this.datastore),r=this.Hu(e);r&&r.then((n=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(n)})).catch((a=>{this.Yu(a)}))))})).catch((n=>{this.Yu(n)}))}))}Hu(e){try{const r=this.updateFunction(e);return!Zy(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!qB(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="FirestoreClient";class Uue{constructor(e,r,n,a,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=Us.UNAUTHENTICATED,this.clientId=qC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async o=>{It(Td,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(It(Td,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=d3(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function WN(t,e){t.asyncQueue.verifyOperationInProgress(),It(Td,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async a=>{n.isEqual(a)||(await sq(e.localStore,a),n=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function x5(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Vue(t);It(Td,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>d5(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,a)=>d5(e.remoteStore,a))),t._onlineComponents=e}async function Vue(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){It(Td,"Using user provided OfflineComponentProvider");try{await WN(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Le.FAILED_PRECONDITION||a.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(r))throw r;ap("Error using user provided cache. Falling back to memory cache: "+r),await WN(t,new V1)}}else It(Td,"Using default OfflineComponentProvider"),await WN(t,new Due(void 0));return t._offlineComponents}async function v3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(It(Td,"Using user provided OnlineComponentProvider"),await x5(t,t._uninitializedComponentsProvider._online)):(It(Td,"Using default OnlineComponentProvider"),await x5(t,new eT))),t._onlineComponents}function zue(t){return v3(t).then((e=>e.syncEngine))}function wq(t){return v3(t).then((e=>e.datastore))}async function z1(t){const e=await v3(t),r=e.eventManager;return r.onListen=wue.bind(null,e.syncEngine),r.onUnlisten=Sue.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=kue.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Eue.bind(null,e.syncEngine),r}function Fue(t,e,r={}){const n=new hl;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,c,u,h){const f=new y3({next:g=>{f.Nu(),o.enqueueAndForget((()=>f3(i,p)));const x=g.docs.has(c);!x&&g.fromCache?h.reject(new ct(Le.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&g.fromCache&&u&&u.source==="server"?h.reject(new ct(Le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new p3(hw(c.path),f,{includeMetadataChanges:!0,qa:!0});return h3(i,p)})(await z1(t),t.asyncQueue,e,r,n))),n.promise}function $ue(t,e,r={}){const n=new hl;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,c,u,h){const f=new y3({next:g=>{f.Nu(),o.enqueueAndForget((()=>f3(i,p))),g.fromCache&&u.source==="server"?h.reject(new ct(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new p3(c,f,{includeMetadataChanges:!0,qa:!0});return h3(i,p)})(await z1(t),t.asyncQueue,e,r,n))),n.promise}function Bue(t,e,r){const n=new hl;return t.asyncQueue.enqueueAndForget((async()=>{try{const a=await wq(t);n.resolve((async function(o,c,u){var w;const h=hr(o),{request:f,gt:p,parent:g}=oce(h.serializer,Cle(c),u);h.connection.$o||delete f.parent;const x=(await h.Ho("RunAggregationQuery",h.serializer.databaseId,g,f,1)).filter((b=>!!b.result));zr(x.length===1,64727);const j=(w=x[0].result)==null?void 0:w.aggregateFields;return Object.keys(j).reduce(((b,N)=>(b[p[N]]=j[N],b)),{})})(a,e,r))}catch(a){n.reject(a)}})),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq="firestore.googleapis.com",v5=!0;class b5{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ct(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nq,this.ssl=v5}else this.host=e.host,this.ssl=e.ssl??v5;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nq;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yce)throw new ct(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rle("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kq(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ct(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ct(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ct(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,a){return n.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nv{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new Woe;switch(n.type){case"firstParty":return new Xoe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ct(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=y5.get(r);n&&(It("ComponentProvider","Removing Datastore"),y5.delete(r),n.terminate())})(this),Promise.resolve()}}function que(t,e,r,n={}){var h;t=Es(t,nv);const a=zd(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${r}`;a&&(CC(`https://${c}`),IC("Firestore",!0)),i.host!==Nq&&i.host!==c&&ap("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:c,ssl:a,emulatorOptions:n};if(!oc(u,o)&&(t._setSettings(u),n.mockUserToken)){let f,p;if(typeof n.mockUserToken=="string")f=n.mockUserToken,p=Us.MOCK_USER;else{f=h$(n.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new ct(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Us(g)}t._authCredentials=new Goe(new dB(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Sl(this.firestore,e,this._query)}}class na{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new na(this.firestore,e,this._key)}toJSON(){return{type:na._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Qy(r,na._jsonSchema))return new na(e,n||null,new Ht(rn.fromString(r.referencePath)))}}na._jsonSchemaVersion="firestore/documentReference/1.0",na._jsonSchema={type:Oa("string",na._jsonSchemaVersion),referencePath:Oa("string")};class vd extends Sl{constructor(e,r,n){super(e,r,hw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new na(this.firestore,null,new Ht(e))}withConverter(e){return new vd(this.firestore,e,this._path)}}function Et(t,e,...r){if(t=qr(t),HC("collection","path",e),t instanceof nv){const n=rn.fromString(e,...r);return M6(n),new vd(t,null,n)}{if(!(t instanceof na||t instanceof vd))throw new ct(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(rn.fromString(e,...r));return M6(n),new vd(t.firestore,null,n)}}function j5(t,e){if(t=Es(t,nv),HC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ct(Le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Sl(t,null,(function(n){return new Bd(rn.emptyPath(),n)})(e))}function at(t,e,...r){if(t=qr(t),arguments.length===1&&(e=qC.newId()),HC("doc","path",e),t instanceof nv){const n=rn.fromString(e,...r);return P6(n),new na(t,null,new Ht(n))}{if(!(t instanceof na||t instanceof vd))throw new ct(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(rn.fromString(e,...r));return P6(n),new na(t.firestore,t instanceof vd?t.converter:null,new Ht(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="AsyncQueue";class k5{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new s3(this,"async_queue_retry"),this._c=()=>{const n=HN();n&&It(w5,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=HN();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=HN();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new hl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Lp(e))throw e;It(w5,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,Jc("INTERNAL UNHANDLED ERROR: ",N5(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const a=u3.createAndSchedule(this,e,r,n,(i=>this.hc(i)));return this.tc.push(a),a}uc(){this.nc&&Zt(47125,{Pc:N5(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function N5(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const i of n)if(i in a&&typeof a[i]=="function")return!0;return!1})(t,["next","error","complete"])}class yl extends nv{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new k5,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k5(e),this._firestoreClient=void 0,await e}}}function Hue(t,e){const r=typeof t=="object"?t:rw(),n=typeof t=="string"?t:I1,a=Fd(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=c$("firestore");i&&que(a,...i)}return a}function Vp(t){if(t._terminated)throw new ct(Le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Wue(t),t._firestoreClient}function Wue(t){var n,a,i;const e=t._freezeSettings(),r=(function(c,u,h,f){return new ple(c,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,kq(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Uue(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gue{constructor(e="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=e}}class Yue{constructor(e,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ki(Ts.fromBase64String(e))}catch(r){throw new ct(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ki(Ts.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ki._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qy(e,Ki._jsonSchema))return Ki.fromBase64String(e.bytes)}}Ki._jsonSchemaVersion="firestore/bytes/1.0",Ki._jsonSchema={type:Oa("string",Ki._jsonSchemaVersion),bytes:Oa("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ct(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ws(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ct(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ct(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Dr(this._lat,e._lat)||Dr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jl._jsonSchemaVersion}}static fromJSON(e){if(Qy(e,Jl._jsonSchema))return new Jl(e.latitude,e.longitude)}}Jl._jsonSchemaVersion="firestore/geoPoint/1.0",Jl._jsonSchema={type:Oa("string",Jl._jsonSchemaVersion),latitude:Oa("number"),longitude:Oa("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ec._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qy(e,ec._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new ec(e.vectorValues);throw new ct(Le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ec._jsonSchemaVersion="firestore/vectorValue/1.0",ec._jsonSchema={type:Oa("string",ec._jsonSchemaVersion),vectorValues:Oa("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kue=/^__.*__$/;class Xue{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new qd(e,this.data,this.fieldMask,r,this.fieldTransforms):new Jy(e,this.data,r,this.fieldTransforms)}}class Sq{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new qd(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Eq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zt(40011,{Ac:t})}}class kw{constructor(e,r,n,a,i,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const r=(a=this.path)==null?void 0:a.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var a;const r=(a=this.path)==null?void 0:a.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return F1(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Eq(this.Ac)&&Kue.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Que{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||bw(e)}Cc(e,r,n,a=!1){return new kw({Ac:e,methodName:r,Dc:n,path:ws.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zp(t){const e=t._freezeSettings(),r=bw(t._databaseId);return new Que(t._databaseId,!!e.ignoreUndefinedProperties,r)}function b3(t,e,r,n,a,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,r,a);S3("Data must be an object, but it was:",o,n);const c=Iq(n,o);let u,h;if(i.merge)u=new Qi(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const p of i.mergeFields){const g=tT(e,p,r);if(!o.contains(g))throw new ct(Le.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Pq(f,g)||f.push(g)}u=new Qi(f),h=o.fieldTransforms.filter((p=>u.covers(p.field)))}else u=null,h=o.fieldTransforms;return new Xue(new ii(c),u,h)}class Nw extends bf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nw}}function Aq(t,e,r){return new kw({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class j3 extends bf{_toFieldTransform(e){return new gw(e.path,new cy)}isEqual(e){return e instanceof j3}}class w3 extends bf{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=Aq(this,e,!0),n=this.vc.map((i=>jf(i,r))),a=new cp(n);return new gw(e.path,a)}isEqual(e){return e instanceof w3&&oc(this.vc,e.vc)}}class k3 extends bf{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=Aq(this,e,!0),n=this.vc.map((i=>jf(i,r))),a=new up(n);return new gw(e.path,a)}isEqual(e){return e instanceof k3&&oc(this.vc,e.vc)}}class N3 extends bf{constructor(e,r){super(e),this.Fc=r}_toFieldTransform(e){const r=new uy(e.serializer,RB(e.serializer,this.Fc));return new gw(e.path,r)}isEqual(e){return e instanceof N3&&this.Fc===e.Fc}}function Tq(t,e,r,n){const a=t.Cc(1,e,r);S3("Data must be an object, but it was:",a,n);const i=[],o=ii.empty();$d(n,((u,h)=>{const f=E3(e,u,r);h=qr(h);const p=a.yc(f);if(h instanceof Nw)i.push(f);else{const g=jf(h,p);g!=null&&(i.push(f),o.set(f,g))}}));const c=new Qi(i);return new Sq(o,c,a.fieldTransforms)}function _q(t,e,r,n,a,i){const o=t.Cc(1,e,r),c=[tT(e,n,r)],u=[a];if(i.length%2!=0)throw new ct(Le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)c.push(tT(e,i[g])),u.push(i[g+1]);const h=[],f=ii.empty();for(let g=c.length-1;g>=0;--g)if(!Pq(h,c[g])){const x=c[g];let j=u[g];j=qr(j);const w=o.yc(x);if(j instanceof Nw)h.push(x);else{const b=jf(j,w);b!=null&&(h.push(x),f.set(x,b))}}const p=new Qi(h);return new Sq(f,p,o.fieldTransforms)}function Cq(t,e,r,n=!1){return jf(r,t.Cc(n?4:3,e))}function jf(t,e){if(Oq(t=qr(t)))return S3("Unsupported field value:",e,t),Iq(t,e);if(t instanceof bf)return(function(n,a){if(!Eq(a.Ac))throw a.Sc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,a){const i=[];let o=0;for(const c of n){let u=jf(c,a.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}})(t,e)}return(function(n,a){if((n=qr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return RB(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Wr.fromDate(n);return{timestampValue:D1(a.serializer,i)}}if(n instanceof Wr){const i=new Wr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:D1(a.serializer,i)}}if(n instanceof Jl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ki)return{bytesValue:YB(a.serializer,n._byteString)};if(n instanceof na){const i=a.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw a.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:e3(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof ec)return(function(o,c){return{mapValue:{fields:{[bB]:{stringValue:jB},[O1]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return QC(c.serializer,h)}))}}}}}})(n,a);throw a.Sc(`Unsupported field value: ${lw(n)}`)})(t,e)}function Iq(t,e){const r={};return mB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$d(t,((n,a)=>{const i=jf(a,e.mc(n));i!=null&&(r[n]=i)})),{mapValue:{fields:r}}}function Oq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wr||t instanceof Jl||t instanceof Ki||t instanceof na||t instanceof bf||t instanceof ec)}function S3(t,e,r){if(!Oq(r)||!hB(r)){const n=lw(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function tT(t,e,r){if((e=qr(e))instanceof av)return e._internalPath;if(typeof e=="string")return E3(t,e);throw F1("Field path arguments must be of type string or ",t,!1,void 0,r)}const Zue=new RegExp("[~\\*/\\[\\]]");function E3(t,e,r){if(e.search(Zue)>=0)throw F1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new av(...e.split("."))._internalPath}catch{throw F1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function F1(t,e,r,n,a){const i=n&&!n.isEmpty(),o=a!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${n}`),o&&(u+=` in document ${a}`),u+=")"),new ct(Le.INVALID_ARGUMENT,c+t+u)}function Pq(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,r,n,a,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new na(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Jue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Sw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Jue extends dy{data(){return super.data()}}function Sw(t,e){return typeof e=="string"?E3(t,e):e instanceof av?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ct(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A3{}class Ew extends A3{}function Er(t,e,...r){let n=[];e instanceof A3&&n.push(e),n=n.concat(r),(function(i){const o=i.filter((u=>u instanceof T3)).length,c=i.filter((u=>u instanceof Aw)).length;if(o>1||o>0&&c>0)throw new ct(Le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const a of n)t=a._apply(t);return t}class Aw extends Ew{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Aw(e,r,n)}_apply(e){const r=this._parse(e);return Dq(e._query,r),new Sl(e.firestore,e.converter,WA(e._query,r))}_parse(e){const r=zp(e.firestore);return(function(i,o,c,u,h,f,p){let g;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ct(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){A5(p,f);const j=[];for(const w of p)j.push(E5(u,i,w));g={arrayValue:{values:j}}}else g=E5(u,i,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||A5(p,f),g=Cq(c,o,p,f==="in"||f==="not-in");return Ia.create(h,f,g)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Vr(t,e,r){const n=e,a=Sw("where",t);return Aw._create(a,n,r)}class T3 extends A3{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new T3(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:xl.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(a,i){let o=a;const c=i.getFlattenedFilters();for(const u of c)Dq(o,u),o=WA(o,u)})(e._query,r),new Sl(e.firestore,e.converter,WA(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _3 extends Ew{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new _3(e,r)}_apply(e){const r=(function(a,i,o){if(a.startAt!==null)throw new ct(Le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ct(Le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ly(i,o)})(e._query,this._field,this._direction);return new Sl(e.firestore,e.converter,(function(a,i){const o=a.explicitOrderBy.concat([i]);return new Bd(a.path,a.collectionGroup,o,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,r))}}function li(t,e="asc"){const r=e,n=Sw("orderBy",t);return _3._create(n,r)}class C3 extends Ew{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new C3(e,r,n)}_apply(e){return new Sl(e.firestore,e.converter,M1(e._query,this._limit,this._limitType))}}function $1(t){return nle("limit",t),C3._create("limit",t,"F")}class I3 extends Ew{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new I3(e,r,n)}_apply(e){const r=tde(e,this.type,this._docOrFields,this._inclusive);return new Sl(e.firestore,e.converter,(function(a,i){return new Bd(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,i,a.endAt)})(e._query,r))}}function ede(...t){return I3._create("startAfter",t,!1)}function tde(t,e,r,n){if(r[0]=qr(r[0]),r[0]instanceof dy)return(function(i,o,c,u,h){if(!u)throw new ct(Le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const f=[];for(const p of Bm(i))if(p.field.isKeyField())f.push(P1(o,u.key));else{const g=u.data.field(p.field);if(uw(g))throw new ct(Le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){const x=p.field.canonicalString();throw new ct(Le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}f.push(g)}return new lp(f,h)})(t._query,t.firestore._databaseId,e,r[0]._document,n);{const a=zp(t.firestore);return(function(o,c,u,h,f,p){const g=o.explicitOrderBy;if(f.length>g.length)throw new ct(Le.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let j=0;j<f.length;j++){const w=f[j];if(g[j].field.isKeyField()){if(typeof w!="string")throw new ct(Le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof w}`);if(!XC(o)&&w.indexOf("/")!==-1)throw new ct(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${w}' contains a slash.`);const b=o.path.child(rn.fromString(w));if(!Ht.isDocumentKey(b))throw new ct(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const N=new Ht(b);x.push(P1(c,N))}else{const b=Cq(u,h,w);x.push(b)}}return new lp(x,p)})(t._query,t.firestore._databaseId,a,e,r,n)}}function E5(t,e,r){if(typeof(r=qr(r))=="string"){if(r==="")throw new ct(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XC(e)&&r.indexOf("/")!==-1)throw new ct(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(rn.fromString(r));if(!Ht.isDocumentKey(n))throw new ct(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return P1(t,new Ht(n))}if(r instanceof na)return P1(t,r._key);throw new ct(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lw(r)}.`)}function A5(t,e){if(!Array.isArray(t)||t.length===0)throw new ct(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Dq(t,e){const r=(function(a,i){for(const o of a)for(const c of o.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new ct(Le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ct(Le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Rq{convertValue(e,r="none"){switch(Ed(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wa(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Sd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Zt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return $d(e,((a,i)=>{n[a]=this.convertValue(i,r)})),n}convertVectorValue(e){var n,a,i;const r=(i=(a=(n=e.fields)==null?void 0:n[O1].arrayValue)==null?void 0:a.values)==null?void 0:i.map((o=>wa(o.doubleValue)));return new ec(r)}convertGeoPoint(e){return new Jl(wa(e.latitude),wa(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=dw(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(sy(e));default:return null}}convertTimestamp(e){const r=Nd(e);return new Wr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=rn.fromString(e);zr(rq(n),9688,{name:e});const a=new iy(n.get(1),n.get(3)),i=new Ht(n.popFirst(5));return a.isEqual(r)||Jc(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class rde extends Rq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ki(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new na(this.firestore,null,r)}}function nde(){return new Gue("count")}class _m{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bd extends dy{constructor(e,r,n,a,i,o){super(e,r,n,a,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new n1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Sw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=bd._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}bd._jsonSchemaVersion="firestore/documentSnapshot/1.0",bd._jsonSchema={type:Oa("string",bd._jsonSchemaVersion),bundleSource:Oa("string","DocumentSnapshot"),bundleName:Oa("string"),bundle:Oa("string")};class n1 extends bd{data(e={}){return super.data(e)}}class Lh{constructor(e,r,n,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new _m(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new n1(this._firestore,this._userDataWriter,n.key,n,new _m(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ct(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(a,i){if(a._snapshot.oldDocs.isEmpty()){let o=0;return a._snapshot.docChanges.map((c=>{const u=new n1(a._firestore,a._userDataWriter,c.doc.key,c.doc,new _m(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((c=>i||c.type!==3)).map((c=>{const u=new n1(a._firestore,a._userDataWriter,c.doc.key,c.doc,new _m(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,f=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:ade(c.type),doc:u,oldIndex:h,newIndex:f}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],a=[];return this.docs.forEach((i=>{i._document!==null&&(r.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ade(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t){t=Es(t,na);const e=Es(t.firestore,yl);return Fue(Vp(e),t._key).then((r=>Lq(e,t,r)))}Lh._jsonSchemaVersion="firestore/querySnapshot/1.0",Lh._jsonSchema={type:Oa("string",Lh._jsonSchemaVersion),bundleSource:Oa("string","QuerySnapshot"),bundleName:Oa("string"),bundle:Oa("string")};class sv extends Rq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ki(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new na(this.firestore,null,r)}}function hn(t){t=Es(t,Sl);const e=Es(t.firestore,yl),r=Vp(e),n=new sv(e);return Mq(t._query),$ue(r,t._query).then((a=>new Lh(e,n,t,a)))}function oi(t,e,r){t=Es(t,na);const n=Es(t.firestore,yl),a=O3(t.converter,e,r);return Tw(n,[b3(zp(n),"setDoc",t._key,a,t.converter!==null,r).toMutation(t._key,ks.none())])}function Pr(t,e,r,...n){t=Es(t,na);const a=Es(t.firestore,yl),i=zp(a);let o;return o=typeof(e=qr(e))=="string"||e instanceof av?_q(i,"updateDoc",t._key,e,r,n):Tq(i,"updateDoc",t._key,e),Tw(a,[o.toMutation(t._key,ks.exists(!0))])}function ha(t){return Tw(Es(t.firestore,yl),[new yw(t._key,ks.none())])}function qa(t,e){const r=Es(t.firestore,yl),n=at(t),a=O3(t.converter,e);return Tw(r,[b3(zp(t.firestore),"addDoc",n._key,a,t.converter!==null,{}).toMutation(n._key,ks.exists(!1))]).then((()=>n))}function Gn(t,...e){var u,h,f;t=qr(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||S5(e[n])||(r=e[n++]);const a={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(S5(e[n])){const p=e[n];e[n]=(u=p.next)==null?void 0:u.bind(p),e[n+1]=(h=p.error)==null?void 0:h.bind(p),e[n+2]=(f=p.complete)==null?void 0:f.bind(p)}let i,o,c;if(t instanceof na)o=Es(t.firestore,yl),c=hw(t._key.path),i={next:p=>{e[n]&&e[n](Lq(o,t,p))},error:e[n+1],complete:e[n+2]};else{const p=Es(t,Sl);o=Es(p.firestore,yl),c=p._query;const g=new sv(o);i={next:x=>{e[n]&&e[n](new Lh(o,g,p,x))},error:e[n+1],complete:e[n+2]},Mq(t._query)}return(function(g,x,j,w){const b=new y3(w),N=new p3(x,b,j);return g.asyncQueue.enqueueAndForget((async()=>h3(await z1(g),N))),()=>{b.Nu(),g.asyncQueue.enqueueAndForget((async()=>f3(await z1(g),N)))}})(Vp(o),c,a,i)}function Tw(t,e){return(function(n,a){const i=new hl;return n.asyncQueue.enqueueAndForget((async()=>Aue(await zue(n),a,i))),i.promise})(Vp(t),e)}function Lq(t,e,r){const n=r.docs.get(e._key),a=new sv(t);return new bd(t,a,e._key,n,new _m(r.hasPendingWrites,r.fromCache),e.converter)}function B1(t){return sde(t,{count:nde()})}function sde(t,e){const r=Es(t.firestore,yl),n=Vp(r),a=fle(e,((i,o)=>new Wle(o,i.aggregateType,i._internalFieldPath)));return Bue(n,t._query,a).then((i=>(function(c,u,h){const f=new sv(c);return new Yue(u,f,h)})(r,t,i)))}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ide={maxAttempts:5};function bx(t,e){if((t=qr(t)).firestore!==e)throw new ct(Le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ode{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=zp(e)}get(e){const r=bx(e,this._firestore),n=new rde(this._firestore);return this._transaction.lookup([r._key]).then((a=>{if(!a||a.length!==1)return Zt(24041);const i=a[0];if(i.isFoundDocument())return new dy(this._firestore,n,i.key,i,r.converter);if(i.isNoDocument())return new dy(this._firestore,n,r._key,null,r.converter);throw Zt(18433,{doc:i})}))}set(e,r,n){const a=bx(e,this._firestore),i=O3(a.converter,r,n),o=b3(this._dataReader,"Transaction.set",a._key,i,a.converter!==null,n);return this._transaction.set(a._key,o),this}update(e,r,n,...a){const i=bx(e,this._firestore);let o;return o=typeof(r=qr(r))=="string"||r instanceof av?_q(this._dataReader,"Transaction.update",i._key,r,n,a):Tq(this._dataReader,"Transaction.update",i._key,r),this._transaction.update(i._key,o),this}delete(e){const r=bx(e,this._firestore);return this._transaction.delete(r._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lde extends ode{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=bx(e,this._firestore),n=new sv(this._firestore);return super.get(e).then((a=>new bd(this._firestore,n,r._key,a._document,new _m(!1,!1),r.converter)))}}function cde(t,e,r){t=Es(t,yl);const n={...ide,...r};return(function(i){if(i.maxAttempts<1)throw new ct(Le.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n),(function(i,o,c){const u=new hl;return i.asyncQueue.enqueueAndForget((async()=>{const h=await wq(i);new Lue(i.asyncQueue,h,c,o,u).ju()})),u.promise})(Vp(t),(a=>e(new lde(t,a))),n)}function fn(){return new j3("serverTimestamp")}function ude(...t){return new w3("arrayUnion",t)}function dde(...t){return new k3("arrayRemove",t)}function Bi(t){return new N3("increment",t)}(function(e,r=!0){(function(a){Dp=a})(gf),gl(new Mo("firestore",((n,{instanceIdentifier:a,options:i})=>{const o=n.getProvider("app").getImmediate(),c=new yl(new Yoe(n.getProvider("auth-internal")),new Qoe(o,n.getProvider("app-check-internal")),(function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ct(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iy(h.options.projectId,f)})(o,a),o);return i={useFetchStreams:r,...i},c._setSettings(i),c}),"PUBLIC").setMultipleInstances(!0)),Ei(_6,C6,e),Ei(_6,C6,"esm2020")})();var hde="firebase",fde="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei(hde,fde,"app");const Uq="@firebase/installations",P3="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq=1e4,zq=`w:${P3}`,Fq="FIS_v2",mde="https://firebaseinstallations.googleapis.com/v1",pde=3600*1e3,gde="installations",xde="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yde={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qh=new pf(gde,xde,yde);function $q(t){return t instanceof Vo&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bq({projectId:t}){return`${mde}/projects/${t}/installations`}function qq(t){return{token:t.token,requestStatus:2,expiresIn:bde(t.expiresIn),creationTime:Date.now()}}async function Hq(t,e){const n=(await e.json()).error;return Qh.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Wq({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function vde(t,{refreshToken:e}){const r=Wq(t);return r.append("Authorization",jde(e)),r}async function Gq(t){const e=await t();return e.status>=500&&e.status<600?t():e}function bde(t){return Number(t.replace("s","000"))}function jde(t){return`${Fq} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wde({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=Bq(t),a=Wq(t),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const o={fid:r,authVersion:Fq,appId:t.appId,sdkVersion:zq},c={method:"POST",headers:a,body:JSON.stringify(o)},u=await Gq(()=>fetch(n,c));if(u.ok){const h=await u.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:qq(h.authToken)}}else throw await Hq("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kde(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nde=/^[cdef][\w-]{21}$/,rT="";function Sde(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=Ede(t);return Nde.test(r)?r:rT}catch{return rT}}function Ede(t){return kde(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq=new Map;function Xq(t,e){const r=_w(t);Qq(r,e),Ade(r,e)}function Qq(t,e){const r=Kq.get(t);if(r)for(const n of r)n(e)}function Ade(t,e){const r=Tde();r&&r.postMessage({key:t,fid:e}),_de()}let _h=null;function Tde(){return!_h&&"BroadcastChannel"in self&&(_h=new BroadcastChannel("[Firebase] FID Change"),_h.onmessage=t=>{Qq(t.data.key,t.data.fid)}),_h}function _de(){Kq.size===0&&_h&&(_h.close(),_h=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cde="firebase-installations-database",Ide=1,Zh="firebase-installations-store";let GN=null;function M3(){return GN||(GN=y$(Cde,Ide,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zh)}}})),GN}async function q1(t,e){const r=_w(t),a=(await M3()).transaction(Zh,"readwrite"),i=a.objectStore(Zh),o=await i.get(r);return await i.put(e,r),await a.done,(!o||o.fid!==e.fid)&&Xq(t,e.fid),e}async function Zq(t){const e=_w(t),n=(await M3()).transaction(Zh,"readwrite");await n.objectStore(Zh).delete(e),await n.done}async function Cw(t,e){const r=_w(t),a=(await M3()).transaction(Zh,"readwrite"),i=a.objectStore(Zh),o=await i.get(r),c=e(o);return c===void 0?await i.delete(r):await i.put(c,r),await a.done,c&&(!o||o.fid!==c.fid)&&Xq(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(t){let e;const r=await Cw(t.appConfig,n=>{const a=Ode(n),i=Pde(t,a);return e=i.registrationPromise,i.installationEntry});return r.fid===rT?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function Ode(t){const e=t||{fid:Sde(),registrationStatus:0};return Jq(e)}function Pde(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Qh.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=Mde(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Dde(t)}:{installationEntry:e}}async function Mde(t,e){try{const r=await wde(t,e);return q1(t.appConfig,r)}catch(r){throw $q(r)&&r.customData.serverCode===409?await Zq(t.appConfig):await q1(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function Dde(t){let e=await T5(t.appConfig);for(;e.registrationStatus===1;)await Yq(100),e=await T5(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await D3(t);return n||r}return e}function T5(t){return Cw(t,e=>{if(!e)throw Qh.create("installation-not-found");return Jq(e)})}function Jq(t){return Rde(t)?{fid:t.fid,registrationStatus:0}:t}function Rde(t){return t.registrationStatus===1&&t.registrationTime+Vq<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lde({appConfig:t,heartbeatServiceProvider:e},r){const n=Ude(t,r),a=vde(t,r),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const o={installation:{sdkVersion:zq,appId:t.appId}},c={method:"POST",headers:a,body:JSON.stringify(o)},u=await Gq(()=>fetch(n,c));if(u.ok){const h=await u.json();return qq(h)}else throw await Hq("Generate Auth Token",u)}function Ude(t,{fid:e}){return`${Bq(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3(t,e=!1){let r;const n=await Cw(t.appConfig,i=>{if(!eH(i))throw Qh.create("not-registered");const o=i.authToken;if(!e&&Fde(o))return i;if(o.requestStatus===1)return r=Vde(t,e),i;{if(!navigator.onLine)throw Qh.create("app-offline");const c=Bde(i);return r=zde(t,c),c}});return r?await r:n.authToken}async function Vde(t,e){let r=await _5(t.appConfig);for(;r.authToken.requestStatus===1;)await Yq(100),r=await _5(t.appConfig);const n=r.authToken;return n.requestStatus===0?R3(t,e):n}function _5(t){return Cw(t,e=>{if(!eH(e))throw Qh.create("not-registered");const r=e.authToken;return qde(r)?{...e,authToken:{requestStatus:0}}:e})}async function zde(t,e){try{const r=await Lde(t,e),n={...e,authToken:r};return await q1(t.appConfig,n),r}catch(r){if($q(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await Zq(t.appConfig);else{const n={...e,authToken:{requestStatus:0}};await q1(t.appConfig,n)}throw r}}function eH(t){return t!==void 0&&t.registrationStatus===2}function Fde(t){return t.requestStatus===2&&!$de(t)}function $de(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+pde}function Bde(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function qde(t){return t.requestStatus===1&&t.requestTime+Vq<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hde(t){const e=t,{installationEntry:r,registrationPromise:n}=await D3(e);return n?n.catch(console.error):R3(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wde(t,e=!1){const r=t;return await Gde(r),(await R3(r,e)).token}async function Gde(t){const{registrationPromise:e}=await D3(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yde(t){if(!t||!t.options)throw YN("App Configuration");if(!t.name)throw YN("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw YN(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function YN(t){return Qh.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH="installations",Kde="installations-internal",Xde=t=>{const e=t.getProvider("app").getImmediate(),r=Yde(e),n=Fd(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Qde=t=>{const e=t.getProvider("app").getImmediate(),r=Fd(e,tH).getImmediate();return{getId:()=>Hde(r),getToken:a=>Wde(r,a)}};function Zde(){gl(new Mo(tH,Xde,"PUBLIC")),gl(new Mo(Kde,Qde,"PRIVATE"))}Zde();Ei(Uq,P3);Ei(Uq,P3,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="analytics",Jde="firebase_id",ehe="origin",the=60*1e3,rhe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",L3="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new tw("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nhe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},eo=new pf("analytics","Analytics",nhe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ahe(t){if(!t.startsWith(L3)){const e=eo.create("invalid-gtag-resource",{gtagURL:t});return Ai.warn(e.message),""}return t}function rH(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function she(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function ihe(t,e){const r=she("firebase-js-sdk-policy",{createScriptURL:ahe}),n=document.createElement("script"),a=`${L3}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(a):a,n.async=!0,document.head.appendChild(n)}function ohe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function lhe(t,e,r,n,a,i){const o=n[a];try{if(o)await e[o];else{const u=(await rH(r)).find(h=>h.measurementId===a);u&&await e[u.appId]}}catch(c){Ai.error(c)}t("config",a,i)}async function che(t,e,r,n,a){try{let i=[];if(a&&a.send_to){let o=a.send_to;Array.isArray(o)||(o=[o]);const c=await rH(r);for(const u of o){const h=c.find(p=>p.measurementId===u),f=h&&e[h.appId];if(f)i.push(f);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",n,a||{})}catch(i){Ai.error(i)}}function uhe(t,e,r,n){async function a(i,...o){try{if(i==="event"){const[c,u]=o;await che(t,e,r,c,u)}else if(i==="config"){const[c,u]=o;await lhe(t,e,r,n,c,u)}else if(i==="consent"){const[c,u]=o;t("consent",c,u)}else if(i==="get"){const[c,u,h]=o;t("get",c,u,h)}else if(i==="set"){const[c]=o;t("set",c)}else t(i,...o)}catch(c){Ai.error(c)}}return a}function dhe(t,e,r,n,a){let i=function(...o){window[n].push(arguments)};return window[a]&&typeof window[a]=="function"&&(i=window[a]),window[a]=uhe(i,t,e,r),{gtagCore:i,wrappedGtag:window[a]}}function hhe(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(L3)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fhe=30,mhe=1e3;class phe{constructor(e={},r=mhe){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nH=new phe;function ghe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function xhe(t){var o;const{appId:e,apiKey:r}=t,n={method:"GET",headers:ghe(r)},a=rhe.replace("{app-id}",e),i=await fetch(a,n);if(i.status!==200&&i.status!==304){let c="";try{const u=await i.json();(o=u.error)!=null&&o.message&&(c=u.error.message)}catch{}throw eo.create("config-fetch-failed",{httpStatus:i.status,responseMessage:c})}return i.json()}async function yhe(t,e=nH,r){const{appId:n,apiKey:a,measurementId:i}=t.options;if(!n)throw eo.create("no-app-id");if(!a){if(i)return{measurementId:i,appId:n};throw eo.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new jhe;return setTimeout(async()=>{c.abort()},the),aH({appId:n,apiKey:a,measurementId:i},o,c,e)}async function aH(t,{throttleEndTimeMillis:e,backoffCount:r},n,a=nH){var c;const{appId:i,measurementId:o}=t;try{await vhe(n,e)}catch(u){if(o)return Ai.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:o};throw u}try{const u=await xhe(t);return a.deleteThrottleMetadata(i),u}catch(u){const h=u;if(!bhe(h)){if(a.deleteThrottleMetadata(i),o)return Ai.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:i,measurementId:o};throw u}const f=Number((c=h==null?void 0:h.customData)==null?void 0:c.httpStatus)===503?JR(r,a.intervalMillis,fhe):JR(r,a.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:r+1};return a.setThrottleMetadata(i,p),Ai.debug(`Calling attemptFetch again in ${f} millis`),aH(t,p,n,a)}}function vhe(t,e){return new Promise((r,n)=>{const a=Math.max(e-Date.now(),0),i=setTimeout(r,a);t.addEventListener(()=>{clearTimeout(i),n(eo.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bhe(t){if(!(t instanceof Vo)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class jhe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function whe(t,e,r,n,a){if(a&&a.global){t("event",r,n);return}else{const i=await e,o={...n,send_to:i};t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function khe(){if(m$())try{await p$()}catch(t){return Ai.warn(eo.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ai.warn(eo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Nhe(t,e,r,n,a,i,o){const c=yhe(t);c.then(g=>{r[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Ai.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Ai.error(g)),e.push(c);const u=khe().then(g=>{if(g)return n.getId()}),[h,f]=await Promise.all([c,u]);hhe(i)||ihe(i,h.measurementId),a("js",new Date);const p=(o==null?void 0:o.config)??{};return p[ehe]="firebase",p.update=!0,f!=null&&(p[Jde]=f),a("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class She{constructor(e){this.app=e}_delete(){return delete Lx[this.app.options.appId],Promise.resolve()}}let Lx={},C5=[];const I5={};let KN="dataLayer",Ehe="gtag",O5,sH,P5=!1;function Ahe(){const t=[];if(f$()&&t.push("This is a browser extension environment."),sae()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,a)=>`(${a+1}) ${n}`).join(" "),r=eo.create("invalid-analytics-context",{errorInfo:e});Ai.warn(r.message)}}function The(t,e,r){Ahe();const n=t.options.appId;if(!n)throw eo.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ai.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw eo.create("no-api-key");if(Lx[n]!=null)throw eo.create("already-exists",{id:n});if(!P5){ohe(KN);const{wrappedGtag:i,gtagCore:o}=dhe(Lx,C5,I5,KN,Ehe);sH=i,O5=o,P5=!0}return Lx[n]=Nhe(t,C5,I5,e,O5,KN,r),new She(t)}function _he(t=rw()){t=qr(t);const e=Fd(t,H1);return e.isInitialized()?e.getImmediate():Che(t)}function Che(t,e={}){const r=Fd(t,H1);if(r.isInitialized()){const a=r.getImmediate();if(oc(e,r.getOptions()))return a;throw eo.create("already-initialized")}return r.initialize({options:e})}function Ihe(t,e,r,n){t=qr(t),whe(sH,Lx[t.app.options.appId],e,r,n).catch(a=>Ai.error(a))}const M5="@firebase/analytics",D5="0.10.18";function Ohe(){gl(new Mo(H1,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return The(n,a,r)},"PUBLIC")),gl(new Mo("analytics-internal",t,"PRIVATE")),Ei(M5,D5),Ei(M5,D5,"esm2020");function t(e){try{const r=e.getProvider(H1).getImmediate();return{logEvent:(n,a,i)=>Ihe(r,n,a,i)}}catch(r){throw eo.create("interop-component-reg-failed",{reason:r})}}}Ohe();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH="firebasestorage.googleapis.com",oH="storageBucket",Phe=120*1e3,Mhe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends Vo{constructor(e,r,n=0){super(XN(e),`Firebase Storage: ${r} (${XN(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ma.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return XN(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fa;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fa||(fa={}));function XN(t){return"storage/"+t}function U3(){const t="An unknown error occurred, please check the error payload for server response.";return new ma(fa.UNKNOWN,t)}function Dhe(t){return new ma(fa.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Rhe(t){return new ma(fa.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Lhe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ma(fa.UNAUTHENTICATED,t)}function Uhe(){return new ma(fa.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Vhe(t){return new ma(fa.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function zhe(){return new ma(fa.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Fhe(){return new ma(fa.CANCELED,"User canceled the upload/download.")}function $he(t){return new ma(fa.INVALID_URL,"Invalid URL '"+t+"'.")}function Bhe(t){return new ma(fa.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function qhe(){return new ma(fa.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oH+"' property when initializing the app?")}function Hhe(){return new ma(fa.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Whe(){return new ma(fa.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Ghe(t){return new ma(fa.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function nT(t){return new ma(fa.INVALID_ARGUMENT,t)}function lH(){return new ma(fa.APP_DELETED,"The Firebase app was deleted.")}function Yhe(t){return new ma(fa.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ux(t,e){return new ma(fa.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Qg(t){throw new ma(fa.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=ci.makeFromUrl(e,r)}catch{return new ci(e,"")}if(n.path==="")return n;throw Bhe(e)}static makeFromUrl(e,r){let n=null;const a="([A-Za-z0-9.\\-_]+)";function i(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+a+o,"i"),u={bucket:1,path:3};function h(O){O.path_=decodeURIComponent(O.path)}const f="v[A-Za-z0-9_]+",p=r.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",x=new RegExp(`^https?://${p}/${f}/b/${a}/o${g}`,"i"),j={bucket:1,path:3},w=r===iH?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",N=new RegExp(`^https?://${w}/${a}/${b}`,"i"),A=[{regex:c,indices:u,postModify:i},{regex:x,indices:j,postModify:h},{regex:N,indices:{bucket:1,path:2},postModify:h}];for(let O=0;O<A.length;O++){const M=A[O],L=M.regex.exec(e);if(L){const I=L[M.indices.bucket];let T=L[M.indices.path];T||(T=""),n=new ci(I,T),M.postModify(n);break}}if(n==null)throw $he(e);return n}}class Khe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xhe(t,e,r){let n=1,a=null,i=null,o=!1,c=0;function u(){return c===2}let h=!1;function f(...b){h||(h=!0,e.apply(null,b))}function p(b){a=setTimeout(()=>{a=null,t(x,u())},b)}function g(){i&&clearTimeout(i)}function x(b,...N){if(h){g();return}if(b){g(),f.call(null,b,...N);return}if(u()||o){g(),f.call(null,b,...N);return}n<64&&(n*=2);let A;c===1?(c=2,A=0):A=(n+Math.random())*1e3,p(A)}let j=!1;function w(b){j||(j=!0,g(),!h&&(a!==null?(b||(c=2),clearTimeout(a),p(0)):b||(c=1)))}return p(0),i=setTimeout(()=>{o=!0,w(!0)},r),w}function Qhe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zhe(t){return t!==void 0}function Jhe(t){return typeof t=="object"&&!Array.isArray(t)}function V3(t){return typeof t=="string"||t instanceof String}function R5(t){return z3()&&t instanceof Blob}function z3(){return typeof Blob<"u"}function aT(t,e,r,n){if(n<e)throw nT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw nT(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function cH(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const a=e(n)+"="+e(t[n]);r=r+a+"&"}return r=r.slice(0,-1),r}var Uh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Uh||(Uh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function efe(t,e){const r=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return r||a||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tfe{constructor(e,r,n,a,i,o,c,u,h,f,p,g=!0,x=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=u,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,w)=>{this.resolve_=j,this.reject_=w,this.start_()})}start_(){const e=(n,a)=>{if(a){n(!1,new n0(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=c=>{const u=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,h)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const c=i.getErrorCode()===Uh.NO_ERROR,u=i.getStatus();if(!c||efe(u,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===Uh.ABORT;n(!1,new n0(!1,null,f));return}const h=this.successCodes_.indexOf(u)!==-1;n(!0,new n0(h,i))})},r=(n,a)=>{const i=this.resolve_,o=this.reject_,c=a.connection;if(a.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());Zhe(u)?i(u):i()}catch(u){o(u)}else if(c!==null){const u=U3();u.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,u)):o(u)}else if(a.canceled){const u=this.appDelete_?lH():Fhe();o(u)}else{const u=zhe();o(u)}};this.canceled_?r(!1,new n0(!1,null,!0)):this.backoffId_=Xhe(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Qhe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class n0{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function rfe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function nfe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function afe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function sfe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ife(t,e,r,n,a,i,o=!0,c=!1){const u=cH(t.urlParams),h=t.url+u,f=Object.assign({},t.headers);return afe(f,e),rfe(f,r),nfe(f,i),sfe(f,n),new tfe(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ofe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function lfe(...t){const e=ofe();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(z3())return new Blob(t);throw new ma(fa.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function cfe(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ufe(t){if(typeof atob>"u")throw Ghe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class QN{constructor(e,r){this.data=e,this.contentType=r||null}}function dfe(t,e){switch(t){case Kl.RAW:return new QN(uH(e));case Kl.BASE64:case Kl.BASE64URL:return new QN(dH(t,e));case Kl.DATA_URL:return new QN(ffe(e),mfe(e))}throw U3()}function uH(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const i=n,o=t.charCodeAt(++r);n=65536|(i&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function hfe(t){let e;try{e=decodeURIComponent(t)}catch{throw Ux(Kl.DATA_URL,"Malformed data URL.")}return uH(e)}function dH(t,e){switch(t){case Kl.BASE64:{const a=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(a||i)throw Ux(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Kl.BASE64URL:{const a=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(a||i)throw Ux(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=ufe(e)}catch(a){throw a.message.includes("polyfill")?a:Ux(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}class hH{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Ux(Kl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=pfe(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function ffe(t){const e=new hH(t);return e.base64?dH(Kl.BASE64,e.rest):hfe(e.rest)}function mfe(t){return new hH(t).contentType}function pfe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,r){let n=0,a="";R5(e)?(this.data_=e,n=e.size,a=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,r){if(R5(this.data_)){const n=this.data_,a=cfe(n,e,r);return a===null?null:new ad(a)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new ad(n,!0)}}static getBlob(...e){if(z3()){const r=e.map(n=>n instanceof ad?n.data_:n);return new ad(lfe.apply(null,r))}else{const r=e.map(o=>V3(o)?dfe(Kl.RAW,o).data:o.data_);let n=0;r.forEach(o=>{n+=o.byteLength});const a=new Uint8Array(n);let i=0;return r.forEach(o=>{for(let c=0;c<o.length;c++)a[i++]=o[c]}),new ad(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(t){let e;try{e=JSON.parse(t)}catch{return null}return Jhe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gfe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xfe(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function fH(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yfe(t,e){return e}class ri{constructor(e,r,n,a){this.server=e,this.local=r||e,this.writable=!!n,this.xform=a||yfe}}let a0=null;function vfe(t){return!V3(t)||t.length<2?t:fH(t)}function mH(){if(a0)return a0;const t=[];t.push(new ri("bucket")),t.push(new ri("generation")),t.push(new ri("metageneration")),t.push(new ri("name","fullPath",!0));function e(i,o){return vfe(o)}const r=new ri("name");r.xform=e,t.push(r);function n(i,o){return o!==void 0?Number(o):o}const a=new ri("size");return a.xform=n,t.push(a),t.push(new ri("timeCreated")),t.push(new ri("updated")),t.push(new ri("md5Hash",null,!0)),t.push(new ri("cacheControl",null,!0)),t.push(new ri("contentDisposition",null,!0)),t.push(new ri("contentEncoding",null,!0)),t.push(new ri("contentLanguage",null,!0)),t.push(new ri("contentType",null,!0)),t.push(new ri("metadata","customMetadata",!0)),a0=t,a0}function bfe(t,e){function r(){const n=t.bucket,a=t.fullPath,i=new ci(n,a);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:r})}function jfe(t,e,r){const n={};n.type="file";const a=r.length;for(let i=0;i<a;i++){const o=r[i];n[o.local]=o.xform(n,e[o.server])}return bfe(n,t),n}function pH(t,e,r){const n=F3(e);return n===null?null:jfe(t,n,r)}function wfe(t,e,r,n){const a=F3(e);if(a===null||!V3(a.downloadTokens))return null;const i=a.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(h=>{const f=t.bucket,p=t.fullPath,g="/b/"+o(f)+"/o/"+o(p),x=Fp(g,r,n),j=cH({alt:"media",token:h});return x+j})[0]}function kfe(t,e){const r={},n=e.length;for(let a=0;a<n;a++){const i=e[a];i.writable&&(r[i.server]=t[i.local])}return JSON.stringify(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="prefixes",U5="items";function Nfe(t,e,r){const n={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[L5])for(const a of r[L5]){const i=a.replace(/\/$/,""),o=t._makeStorageReference(new ci(e,i));n.prefixes.push(o)}if(r[U5])for(const a of r[U5]){const i=t._makeStorageReference(new ci(e,a.name));n.items.push(i)}return n}function Sfe(t,e,r){const n=F3(r);return n===null?null:Nfe(t,e,n)}class iv{constructor(e,r,n,a){this.url=e,this.method=r,this.handler=n,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t){if(!t)throw U3()}function Efe(t,e){function r(n,a){const i=pH(t,a,e);return $3(i!==null),i}return r}function Afe(t,e){function r(n,a){const i=Sfe(t,e,a);return $3(i!==null),i}return r}function Tfe(t,e){function r(n,a){const i=pH(t,a,e);return $3(i!==null),wfe(i,a,t.host,t._protocol)}return r}function B3(t){function e(r,n){let a;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?a=Uhe():a=Lhe():r.getStatus()===402?a=Rhe(t.bucket):r.getStatus()===403?a=Vhe(t.path):a=n,a.status=r.getStatus(),a.serverResponse=n.serverResponse,a}return e}function q3(t){const e=B3(t);function r(n,a){let i=e(n,a);return n.getStatus()===404&&(i=Dhe(t.path)),i.serverResponse=a.serverResponse,i}return r}function _fe(t,e,r,n,a){const i={};e.isRoot?i.prefix="":i.prefix=e.path+"/",r.length>0&&(i.delimiter=r),n&&(i.pageToken=n),a&&(i.maxResults=a);const o=e.bucketOnlyServerUrl(),c=Fp(o,t.host,t._protocol),u="GET",h=t.maxOperationRetryTime,f=new iv(c,u,Afe(t,e.bucket),h);return f.urlParams=i,f.errorHandler=B3(e),f}function Cfe(t,e,r){const n=e.fullServerUrl(),a=Fp(n,t.host,t._protocol)+"?alt=media",i="GET",o=t.maxOperationRetryTime,c=new iv(a,i,(u,h)=>h,o);return c.errorHandler=q3(e),c}function Ife(t,e,r){const n=e.fullServerUrl(),a=Fp(n,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,c=new iv(a,i,Tfe(t,r),o);return c.errorHandler=q3(e),c}function Ofe(t,e){const r=e.fullServerUrl(),n=Fp(r,t.host,t._protocol),a="DELETE",i=t.maxOperationRetryTime;function o(u,h){}const c=new iv(n,a,o,i);return c.successCodes=[200,204],c.errorHandler=q3(e),c}function Pfe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Mfe(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=Pfe(null,e)),n}function Dfe(t,e,r,n,a){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let A="";for(let O=0;O<2;O++)A=A+Math.random().toString().slice(2);return A}const u=c();o["Content-Type"]="multipart/related; boundary="+u;const h=Mfe(e,n,a),f=kfe(h,r),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+u+"--",x=ad.getBlob(p,n,g);if(x===null)throw Hhe();const j={name:h.fullPath},w=Fp(i,t.host,t._protocol),b="POST",N=t.maxUploadRetryTime,E=new iv(w,b,Efe(t,r),N);return E.urlParams=j,E.headers=o,E.body=x.uploadData(),E.errorHandler=B3(e),E}class gH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Uh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Uh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Uh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,a,i){if(this.sent_)throw Qg("cannot .send() more than once");if(zd(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Rfe extends gH{initXhr(){this.xhr_.responseType="text"}}function Iw(){return new Rfe}class Lfe extends gH{initXhr(){this.xhr_.responseType="blob"}}function Ufe(){return new Lfe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,r){this._service=e,r instanceof ci?this._location=r:this._location=ci.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Jh(e,r)}get root(){const e=new ci(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fH(this._location.path)}get storage(){return this._service}get parent(){const e=gfe(this._location.path);if(e===null)return null;const r=new ci(this._location.bucket,e);return new Jh(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw Yhe(e)}}function Vfe(t,e){t._throwIfRoot("getBlob");const r=Cfe(t.storage,t._location);return t.storage.makeRequestWithTokens(r,Ufe).then(n=>n)}function zfe(t,e,r){t._throwIfRoot("uploadBytes");const n=Dfe(t.storage,t._location,mH(),new ad(e,!0),r);return t.storage.makeRequestWithTokens(n,Iw).then(a=>({metadata:a,ref:t}))}function Ffe(t){const e={prefixes:[],items:[]};return xH(t,e).then(()=>e)}async function xH(t,e,r){const a=await $fe(t,{pageToken:r});e.prefixes.push(...a.prefixes),e.items.push(...a.items),a.nextPageToken!=null&&await xH(t,e,a.nextPageToken)}function $fe(t,e){e!=null&&typeof e.maxResults=="number"&&aT("options.maxResults",1,1e3,e.maxResults);const r=e||{},n=_fe(t.storage,t._location,"/",r.pageToken,r.maxResults);return t.storage.makeRequestWithTokens(n,Iw)}function Bfe(t){t._throwIfRoot("getDownloadURL");const e=Ife(t.storage,t._location,mH());return t.storage.makeRequestWithTokens(e,Iw).then(r=>{if(r===null)throw Whe();return r})}function qfe(t){t._throwIfRoot("deleteObject");const e=Ofe(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Iw)}function Hfe(t,e){const r=xfe(t._location.path,e),n=new ci(t._location.bucket,r);return new Jh(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wfe(t){return/^[A-Za-z]+:\/\//.test(t)}function Gfe(t,e){return new Jh(t,e)}function yH(t,e){if(t instanceof H3){const r=t;if(r._bucket==null)throw qhe();const n=new Jh(r,r._bucket);return e!=null?yH(n,e):n}else return e!==void 0?Hfe(t,e):t}function Yfe(t,e){if(e&&Wfe(e)){if(t instanceof H3)return Gfe(t,e);throw nT("To use ref(service, url), the first argument must be a Storage instance.")}else return yH(t,e)}function V5(t,e){const r=e==null?void 0:e[oH];return r==null?null:ci.makeFromBucketSpec(r,t)}function Kfe(t,e,r,n={}){t.host=`${e}:${r}`;const a=zd(e);a&&(CC(`https://${t.host}/b`),IC("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:h$(i,t.app.options.projectId))}class H3{constructor(e,r,n,a,i,o=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=a,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=iH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Phe,this._maxUploadRetryTime=Mhe,this._requests=new Set,a!=null?this._bucket=ci.makeFromBucketSpec(a,this._host):this._bucket=V5(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ci.makeFromBucketSpec(this._url,e):this._bucket=V5(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if($s(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jh(this,e)}_makeRequest(e,r,n,a,i=!0){if(this._deleted)return new Khe(lH());{const o=ife(e,this._appId,n,a,r,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,a).getPromise()}}const z5="@firebase/storage",F5="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH="storage";function io(t,e,r){return t=qr(t),zfe(t,e,r)}function Xfe(t){return t=qr(t),Ffe(t)}function Ci(t){return t=qr(t),Bfe(t)}function hu(t){return t=qr(t),qfe(t)}function kn(t,e){return t=qr(t),Yfe(t,e)}function bH(t=rw(),e){t=qr(t);const n=Fd(t,vH).getImmediate({identifier:e}),a=c$("storage");return a&&Qfe(n,...a),n}function Qfe(t,e,r,n={}){Kfe(t,e,r,n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t,e){return t=qr(t),Vfe(t)}function Zfe(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new H3(r,n,a,e,gf)}function Jfe(){gl(new Mo(vH,Zfe,"PUBLIC").setMultipleInstances(!0)),Ei(z5,F5,""),Ei(z5,F5,"esm2020")}Jfe();const eme={apiKey:"AIzaSyAWQz-_BDuMtGdGwS9KpAUZvC4_0kpjoAM",authDomain:"fontenews-877a3.firebaseapp.com",projectId:"fontenews-877a3",storageBucket:"fontenews-877a3.firebasestorage.app",messagingSenderId:"920658565832",appId:"1:920658565832:web:33f3aea58c6a9377f4e3fd",measurementId:"G-6C8W88C3XN"},ov=v$(eme),ft=qoe(ov),we=Hue(ov),da=bH(ov);_he(ov);Cie(ft,VC).catch(t=>{console.error("Error setting auth persistence:",t)});var sT=["MO","TU","WE","TH","FR","SA","SU"],bs=(function(){function t(e,r){if(r===0)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=r}return t.fromStr=function(e){return new t(sT.indexOf(e))},t.prototype.nth=function(e){return this.n===e?this:new t(this.weekday,e)},t.prototype.equals=function(e){return this.weekday===e.weekday&&this.n===e.n},t.prototype.toString=function(){var e=sT[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e},t.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},t})(),_a=function(t){return t!=null},zl=function(t){return typeof t=="number"},$5=function(t){return typeof t=="string"&&sT.includes(t)},Zi=Array.isArray,mc=function(t,e){e===void 0&&(e=t),arguments.length===1&&(e=t,t=0);for(var r=[],n=t;n<e;n++)r.push(n);return r},Kr=function(t,e){var r=0,n=[];if(Zi(t))for(;r<e;r++)n[r]=[].concat(t);else for(;r<e;r++)n[r]=t;return n},tme=function(t){return Zi(t)?t:[t]};function mm(t,e,r){r===void 0&&(r=" ");var n=String(t);return e=e>>0,n.length>e?String(n):(e=e-n.length,e>r.length&&(r+=Kr(r,e/r.length)),r.slice(0,e)+String(n))}var rme=function(t,e,r){var n=t.split(e);return r?n.slice(0,r).concat([n.slice(r).join(e)]):n},No=function(t,e){var r=t%e;return r*e<0?r+e:r},JN=function(t,e){return{div:Math.floor(t/e),mod:No(t,e)}},Wl=function(t){return!_a(t)||t.length===0},ts=function(t){return!Wl(t)},jn=function(t,e){return ts(t)&&t.indexOf(e)!==-1},ef=function(t,e,r,n,a,i){return n===void 0&&(n=0),a===void 0&&(a=0),i===void 0&&(i=0),new Date(Date.UTC(t,e-1,r,n,a,i))},nme=[31,28,31,30,31,30,31,31,30,31,30,31],jH=1e3*60*60*24,wH=9999,kH=ef(1970,1,1),ame=[6,0,1,2,3,4,5],Vx=function(t){return t%4===0&&t%100!==0||t%400===0},NH=function(t){return t instanceof Date},jx=function(t){return NH(t)&&!isNaN(t.getTime())},sme=function(t,e){var r=t.getTime(),n=e.getTime(),a=r-n;return Math.round(a/jH)},iT=function(t){return sme(t,kH)},SH=function(t){return new Date(kH.getTime()+t*jH)},ime=function(t){var e=t.getUTCMonth();return e===1&&Vx(t.getUTCFullYear())?29:nme[e]},fp=function(t){return ame[t.getUTCDay()]},B5=function(t,e){var r=ef(t,e+1,1);return[fp(r),ime(r)]},EH=function(t,e){return e=e||t,new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},oT=function(t){var e=new Date(t.getTime());return e},q5=function(t){for(var e=[],r=0;r<t.length;r++)e.push(oT(t[r]));return e},hy=function(t){t.sort(function(e,r){return e.getTime()-r.getTime()})},W3=function(t,e){e===void 0&&(e=!0);var r=new Date(t);return[mm(r.getUTCFullYear().toString(),4,"0"),mm(r.getUTCMonth()+1,2,"0"),mm(r.getUTCDate(),2,"0"),"T",mm(r.getUTCHours(),2,"0"),mm(r.getUTCMinutes(),2,"0"),mm(r.getUTCSeconds(),2,"0"),e?"Z":""].join("")},G3=function(t){var e=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,r=e.exec(t);if(!r)throw new Error("Invalid UNTIL value: ".concat(t));return new Date(Date.UTC(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[5],10)||0,parseInt(r[6],10)||0,parseInt(r[7],10)||0))},H5=function(t,e){var r=t.toLocaleString("sv-SE",{timeZone:e});return r.replace(" ","T")+"Z"},ome=function(t,e){var r=Intl.DateTimeFormat().resolvedOptions().timeZone,n=new Date(H5(t,r)),a=new Date(H5(t,e??"UTC")),i=a.getTime()-n.getTime();return new Date(t.getTime()-i)},Cm=(function(){function t(e,r){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=r,e==="between"?(this.maxDate=r.inc?r.before:new Date(r.before.getTime()-1),this.minDate=r.inc?r.after:new Date(r.after.getTime()+1)):e==="before"?this.maxDate=r.inc?r.dt:new Date(r.dt.getTime()-1):e==="after"&&(this.minDate=r.inc?r.dt:new Date(r.dt.getTime()+1))}return t.prototype.accept=function(e){++this.total;var r=this.minDate&&e<this.minDate,n=this.maxDate&&e>this.maxDate;if(this.method==="between"){if(r)return!0;if(n)return!1}else if(this.method==="before"){if(n)return!1}else if(this.method==="after")return r?!0:(this.add(e),!1);return this.add(e)},t.prototype.add=function(e){return this._result.push(e),!0},t.prototype.getValue=function(){var e=this._result;switch(this.method){case"all":case"between":return e;case"before":case"after":default:return e.length?e[e.length-1]:null}},t.prototype.clone=function(){return new t(this.method,this.args)},t})(),lT=function(t,e){return lT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},lT(t,e)};function Y3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");lT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ro=function(){return ro=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ro.apply(this,arguments)};function jt(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var W5=(function(t){Y3(e,t);function e(r,n,a){var i=t.call(this,r,n)||this;return i.iterator=a,i}return e.prototype.add=function(r){return this.iterator(r,this._result.length)?(this._result.push(r),!0):!1},e})(Cm),W1={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},G5=function(t,e){return t.indexOf(e)!==-1},lme=function(t){return t.toString()},cme=function(t,e,r){return"".concat(e," ").concat(r,", ").concat(t)},fu=(function(){function t(e,r,n,a){if(r===void 0&&(r=lme),n===void 0&&(n=W1),a===void 0&&(a=cme),this.text=[],this.language=n||W1,this.gettext=r,this.dateFormatter=a,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){var i=[].concat(this.options.bymonthday),o=[].concat(this.options.bynmonthday);i.sort(function(f,p){return f-p}),o.sort(function(f,p){return p-f}),this.bymonthday=i.concat(o),this.bymonthday.length||(this.bymonthday=null)}if(_a(this.origOptions.byweekday)){var c=Zi(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],u=String(c);this.byweekday={allWeeks:c.filter(function(f){return!f.n}),someWeeks:c.filter(function(f){return!!f.n}),isWeekdays:u.indexOf("MO")!==-1&&u.indexOf("TU")!==-1&&u.indexOf("WE")!==-1&&u.indexOf("TH")!==-1&&u.indexOf("FR")!==-1&&u.indexOf("SA")===-1&&u.indexOf("SU")===-1,isEveryDay:u.indexOf("MO")!==-1&&u.indexOf("TU")!==-1&&u.indexOf("WE")!==-1&&u.indexOf("TH")!==-1&&u.indexOf("FR")!==-1&&u.indexOf("SA")!==-1&&u.indexOf("SU")!==-1};var h=function(f,p){return f.weekday-p.weekday};this.byweekday.allWeeks.sort(h),this.byweekday.someWeeks.sort(h),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return t.isFullyConvertible=function(e){var r=!0;if(!(e.options.freq in t.IMPLEMENTED)||e.origOptions.until&&e.origOptions.count)return!1;for(var n in e.origOptions){if(G5(["dtstart","tzid","wkst","freq"],n))return!0;if(!G5(t.IMPLEMENTED[e.options.freq],n))return!1}return r},t.prototype.isFullyConvertible=function(){return t.isFullyConvertible(this.rrule)},t.prototype.toString=function(){var e=this.gettext;if(!(this.options.freq in t.IMPLEMENTED))return e("RRule error: Unable to fully convert this rrule to text");if(this.text=[e("every")],this[Je.FREQUENCIES[this.options.freq]](),this.options.until){this.add(e("until"));var r=this.options.until;this.add(this.dateFormatter(r.getUTCFullYear(),this.language.monthNames[r.getUTCMonth()],r.getUTCDate()))}else this.options.count&&this.add(e("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?e("times"):e("time"));return this.isFullyConvertible()||this.add(e("(~ approximate)")),this.text.join("")},t.prototype.HOURLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))},t.prototype.MINUTELY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))},t.prototype.DAILY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},t.prototype.WEEKLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?e("days"):e("day")):(this.options.interval===1&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.origOptions.byhour&&this._byhour())},t.prototype.MONTHLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()},t.prototype.YEARLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))},t.prototype._bymonthday=function(){var e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))},t.prototype._byweekday=function(){var e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))},t.prototype._byhour=function(){var e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))},t.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},t.prototype.nth=function(e){e=parseInt(e.toString(),10);var r,n=this.gettext;if(e===-1)return n("last");var a=Math.abs(e);switch(a){case 1:case 21:case 31:r=a+n("st");break;case 2:case 22:r=a+n("nd");break;case 3:case 23:r=a+n("rd");break;default:r=a+n("th")}return e<0?r+" "+n("last"):r},t.prototype.monthtext=function(e){return this.language.monthNames[e-1]},t.prototype.weekdaytext=function(e){var r=zl(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[r]},t.prototype.plural=function(e){return e%100!==1},t.prototype.add=function(e){return this.text.push(" "),this.text.push(e),this},t.prototype.list=function(e,r,n,a){var i=this;a===void 0&&(a=","),Zi(e)||(e=[e]);var o=function(u,h,f){for(var p="",g=0;g<u.length;g++)g!==0&&(g===u.length-1?p+=" "+f+" ":p+=h+" "),p+=u[g];return p};r=r||function(u){return u.toString()};var c=function(u){return r&&r.call(i,u)};return n?o(e.map(c),a,n):e.map(c).join(a+" ")},t})(),ume=(function(){function t(e){this.done=!0,this.rules=e}return t.prototype.start=function(e){return this.text=e,this.done=!1,this.nextSymbol()},t.prototype.isDone=function(){return this.done&&this.symbol===null},t.prototype.nextSymbol=function(){var e,r;this.symbol=null,this.value=null;do{if(this.done)return!1;var n=void 0;e=null;for(var a in this.rules){n=this.rules[a];var i=n.exec(this.text);i&&(e===null||i[0].length>e[0].length)&&(e=i,r=a)}if(e!=null&&(this.text=this.text.substr(e[0].length),this.text===""&&(this.done=!0)),e==null){this.done=!0,this.symbol=null,this.value=null;return}}while(r==="SKIP");return this.symbol=r,this.value=e,!0},t.prototype.accept=function(e){if(this.symbol===e){if(this.value){var r=this.value;return this.nextSymbol(),r}return this.nextSymbol(),!0}return!1},t.prototype.acceptNumber=function(){return this.accept("number")},t.prototype.expect=function(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)},t})();function AH(t,e){e===void 0&&(e=W1);var r={},n=new ume(e.tokens);if(!n.start(t))return null;return a(),r;function a(){n.expect("every");var g=n.acceptNumber();if(g&&(r.interval=parseInt(g[0],10)),n.isDone())throw new Error("Unexpected end");switch(n.symbol){case"day(s)":r.freq=Je.DAILY,n.nextSymbol()&&(o(),p());break;case"weekday(s)":r.freq=Je.WEEKLY,r.byweekday=[Je.MO,Je.TU,Je.WE,Je.TH,Je.FR],n.nextSymbol(),o(),p();break;case"week(s)":r.freq=Je.WEEKLY,n.nextSymbol()&&(i(),o(),p());break;case"hour(s)":r.freq=Je.HOURLY,n.nextSymbol()&&(i(),p());break;case"minute(s)":r.freq=Je.MINUTELY,n.nextSymbol()&&(i(),p());break;case"month(s)":r.freq=Je.MONTHLY,n.nextSymbol()&&(i(),p());break;case"year(s)":r.freq=Je.YEARLY,n.nextSymbol()&&(i(),p());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":r.freq=Je.WEEKLY;var x=n.symbol.substr(0,2).toUpperCase();if(r.byweekday=[Je[x]],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var j=u();if(!j)throw new Error("Unexpected symbol "+n.symbol+", expected weekday");r.byweekday.push(Je[j]),n.nextSymbol()}o(),f(),p();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(r.freq=Je.YEARLY,r.bymonth=[c()],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var w=c();if(!w)throw new Error("Unexpected symbol "+n.symbol+", expected month");r.bymonth.push(w),n.nextSymbol()}i(),p();break;default:throw new Error("Unknown symbol")}}function i(){var g=n.accept("on"),x=n.accept("the");if(g||x)do{var j=h(),w=u(),b=c();if(j)w?(n.nextSymbol(),r.byweekday||(r.byweekday=[]),r.byweekday.push(Je[w].nth(j))):(r.bymonthday||(r.bymonthday=[]),r.bymonthday.push(j),n.accept("day(s)"));else if(w)n.nextSymbol(),r.byweekday||(r.byweekday=[]),r.byweekday.push(Je[w]);else if(n.symbol==="weekday(s)")n.nextSymbol(),r.byweekday||(r.byweekday=[Je.MO,Je.TU,Je.WE,Je.TH,Je.FR]);else if(n.symbol==="week(s)"){n.nextSymbol();var N=n.acceptNumber();if(!N)throw new Error("Unexpected symbol "+n.symbol+", expected week number");for(r.byweekno=[parseInt(N[0],10)];n.accept("comma");){if(N=n.acceptNumber(),!N)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");r.byweekno.push(parseInt(N[0],10))}}else if(b)n.nextSymbol(),r.bymonth||(r.bymonth=[]),r.bymonth.push(b);else return}while(n.accept("comma")||n.accept("the")||n.accept("on"))}function o(){var g=n.accept("at");if(g)do{var x=n.acceptNumber();if(!x)throw new Error("Unexpected symbol "+n.symbol+", expected hour");for(r.byhour=[parseInt(x[0],10)];n.accept("comma");){if(x=n.acceptNumber(),!x)throw new Error("Unexpected symbol "+n.symbol+"; expected hour");r.byhour.push(parseInt(x[0],10))}}while(n.accept("comma")||n.accept("at"))}function c(){switch(n.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function u(){switch(n.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return n.symbol.substr(0,2).toUpperCase();default:return!1}}function h(){switch(n.symbol){case"last":return n.nextSymbol(),-1;case"first":return n.nextSymbol(),1;case"second":return n.nextSymbol(),n.accept("last")?-2:2;case"third":return n.nextSymbol(),n.accept("last")?-3:3;case"nth":var g=parseInt(n.value[1],10);if(g<-366||g>366)throw new Error("Nth out of range: "+g);return n.nextSymbol(),n.accept("last")?-g:g;default:return!1}}function f(){n.accept("on"),n.accept("the");var g=h();if(g)for(r.bymonthday=[g],n.nextSymbol();n.accept("comma");){if(g=h(),!g)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");r.bymonthday.push(g),n.nextSymbol()}}function p(){if(n.symbol==="until"){var g=Date.parse(n.text);if(!g)throw new Error("Cannot parse until date:"+n.text);r.until=new Date(g)}else n.accept("for")&&(r.count=parseInt(n.value[0],10),n.expect("number"))}}var Xr;(function(t){t[t.YEARLY=0]="YEARLY",t[t.MONTHLY=1]="MONTHLY",t[t.WEEKLY=2]="WEEKLY",t[t.DAILY=3]="DAILY",t[t.HOURLY=4]="HOURLY",t[t.MINUTELY=5]="MINUTELY",t[t.SECONDLY=6]="SECONDLY"})(Xr||(Xr={}));function K3(t){return t<Xr.HOURLY}var dme=function(t,e){return e===void 0&&(e=W1),new Je(AH(t,e)||void 0)},$p=["count","until","interval","byweekday","bymonthday","bymonth"];fu.IMPLEMENTED=[];fu.IMPLEMENTED[Xr.HOURLY]=$p;fu.IMPLEMENTED[Xr.MINUTELY]=$p;fu.IMPLEMENTED[Xr.DAILY]=["byhour"].concat($p);fu.IMPLEMENTED[Xr.WEEKLY]=$p;fu.IMPLEMENTED[Xr.MONTHLY]=$p;fu.IMPLEMENTED[Xr.YEARLY]=["byweekno","byyearday"].concat($p);var hme=function(t,e,r,n){return new fu(t,e,r,n).toString()},fme=fu.isFullyConvertible,G1=(function(){function t(e,r,n,a){this.hour=e,this.minute=r,this.second=n,this.millisecond=a||0}return t.prototype.getHours=function(){return this.hour},t.prototype.getMinutes=function(){return this.minute},t.prototype.getSeconds=function(){return this.second},t.prototype.getMilliseconds=function(){return this.millisecond},t.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},t})(),mme=(function(t){Y3(e,t);function e(r,n,a,i,o,c,u){var h=t.call(this,i,o,c,u)||this;return h.year=r,h.month=n,h.day=a,h}return e.fromDate=function(r){return new this(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.valueOf()%1e3)},e.prototype.getWeekday=function(){return fp(new Date(this.getTime()))},e.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},e.prototype.getDay=function(){return this.day},e.prototype.getMonth=function(){return this.month},e.prototype.getYear=function(){return this.year},e.prototype.addYears=function(r){this.year+=r},e.prototype.addMonths=function(r){if(this.month+=r,this.month>12){var n=Math.floor(this.month/12),a=No(this.month,12);this.month=a,this.year+=n,this.month===0&&(this.month=12,--this.year)}},e.prototype.addWeekly=function(r,n){n>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-n))+r*7:this.day+=-(this.getWeekday()-n)+r*7,this.fixDay()},e.prototype.addDaily=function(r){this.day+=r,this.fixDay()},e.prototype.addHours=function(r,n,a){for(n&&(this.hour+=Math.floor((23-this.hour)/r)*r);;){this.hour+=r;var i=JN(this.hour,24),o=i.div,c=i.mod;if(o&&(this.hour=c,this.addDaily(o)),Wl(a)||jn(a,this.hour))break}},e.prototype.addMinutes=function(r,n,a,i){for(n&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/r)*r);;){this.minute+=r;var o=JN(this.minute,60),c=o.div,u=o.mod;if(c&&(this.minute=u,this.addHours(c,!1,a)),(Wl(a)||jn(a,this.hour))&&(Wl(i)||jn(i,this.minute)))break}},e.prototype.addSeconds=function(r,n,a,i,o){for(n&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/r)*r);;){this.second+=r;var c=JN(this.second,60),u=c.div,h=c.mod;if(u&&(this.second=h,this.addMinutes(u,!1,a,i)),(Wl(a)||jn(a,this.hour))&&(Wl(i)||jn(i,this.minute))&&(Wl(o)||jn(o,this.second)))break}},e.prototype.fixDay=function(){if(!(this.day<=28)){var r=B5(this.year,this.month-1)[1];if(!(this.day<=r))for(;this.day>r;){if(this.day-=r,++this.month,this.month===13&&(this.month=1,++this.year,this.year>wH))return;r=B5(this.year,this.month-1)[1]}}},e.prototype.add=function(r,n){var a=r.freq,i=r.interval,o=r.wkst,c=r.byhour,u=r.byminute,h=r.bysecond;switch(a){case Xr.YEARLY:return this.addYears(i);case Xr.MONTHLY:return this.addMonths(i);case Xr.WEEKLY:return this.addWeekly(i,o);case Xr.DAILY:return this.addDaily(i);case Xr.HOURLY:return this.addHours(i,n,c);case Xr.MINUTELY:return this.addMinutes(i,n,c,u);case Xr.SECONDLY:return this.addSeconds(i,n,c,u,h)}},e})(G1);function TH(t){for(var e=[],r=Object.keys(t),n=0,a=r;n<a.length;n++){var i=a[n];jn(qme,i)||e.push(i),NH(t[i])&&!jx(t[i])&&e.push(i)}if(e.length)throw new Error("Invalid options: "+e.join(", "));return ro({},t)}function pme(t){var e=ro(ro({},X3),TH(t));if(_a(e.byeaster)&&(e.freq=Je.YEARLY),!(_a(e.freq)&&Je.FREQUENCIES[e.freq]))throw new Error("Invalid frequency: ".concat(e.freq," ").concat(t.freq));if(e.dtstart||(e.dtstart=new Date(new Date().setMilliseconds(0))),_a(e.wkst)?zl(e.wkst)||(e.wkst=e.wkst.weekday):e.wkst=Je.MO.weekday,_a(e.bysetpos)){zl(e.bysetpos)&&(e.bysetpos=[e.bysetpos]);for(var r=0;r<e.bysetpos.length;r++){var n=e.bysetpos[r];if(n===0||!(n>=-366&&n<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(e.byweekno||ts(e.byweekno)||ts(e.byyearday)||e.bymonthday||ts(e.bymonthday)||_a(e.byweekday)||_a(e.byeaster)))switch(e.freq){case Je.YEARLY:e.bymonth||(e.bymonth=e.dtstart.getUTCMonth()+1),e.bymonthday=e.dtstart.getUTCDate();break;case Je.MONTHLY:e.bymonthday=e.dtstart.getUTCDate();break;case Je.WEEKLY:e.byweekday=[fp(e.dtstart)];break}if(_a(e.bymonth)&&!Zi(e.bymonth)&&(e.bymonth=[e.bymonth]),_a(e.byyearday)&&!Zi(e.byyearday)&&zl(e.byyearday)&&(e.byyearday=[e.byyearday]),!_a(e.bymonthday))e.bymonthday=[],e.bynmonthday=[];else if(Zi(e.bymonthday)){for(var a=[],i=[],r=0;r<e.bymonthday.length;r++){var n=e.bymonthday[r];n>0?a.push(n):n<0&&i.push(n)}e.bymonthday=a,e.bynmonthday=i}else e.bymonthday<0?(e.bynmonthday=[e.bymonthday],e.bymonthday=[]):(e.bynmonthday=[],e.bymonthday=[e.bymonthday]);if(_a(e.byweekno)&&!Zi(e.byweekno)&&(e.byweekno=[e.byweekno]),!_a(e.byweekday))e.bynweekday=null;else if(zl(e.byweekday))e.byweekday=[e.byweekday],e.bynweekday=null;else if($5(e.byweekday))e.byweekday=[bs.fromStr(e.byweekday).weekday],e.bynweekday=null;else if(e.byweekday instanceof bs)!e.byweekday.n||e.freq>Je.MONTHLY?(e.byweekday=[e.byweekday.weekday],e.bynweekday=null):(e.bynweekday=[[e.byweekday.weekday,e.byweekday.n]],e.byweekday=null);else{for(var o=[],c=[],r=0;r<e.byweekday.length;r++){var u=e.byweekday[r];if(zl(u)){o.push(u);continue}else if($5(u)){o.push(bs.fromStr(u).weekday);continue}!u.n||e.freq>Je.MONTHLY?o.push(u.weekday):c.push([u.weekday,u.n])}e.byweekday=ts(o)?o:null,e.bynweekday=ts(c)?c:null}return _a(e.byhour)?zl(e.byhour)&&(e.byhour=[e.byhour]):e.byhour=e.freq<Je.HOURLY?[e.dtstart.getUTCHours()]:null,_a(e.byminute)?zl(e.byminute)&&(e.byminute=[e.byminute]):e.byminute=e.freq<Je.MINUTELY?[e.dtstart.getUTCMinutes()]:null,_a(e.bysecond)?zl(e.bysecond)&&(e.bysecond=[e.bysecond]):e.bysecond=e.freq<Je.SECONDLY?[e.dtstart.getUTCSeconds()]:null,{parsedOptions:e}}function gme(t){var e=t.dtstart.getTime()%1e3;if(!K3(t.freq))return[];var r=[];return t.byhour.forEach(function(n){t.byminute.forEach(function(a){t.bysecond.forEach(function(i){r.push(new G1(n,a,i,e))})})}),r}function cT(t){var e=t.split(`
`).map(xme).filter(function(r){return r!==null});return ro(ro({},e[0]),e[1])}function Y1(t){var e={},r=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(t);if(!r)return e;var n=r[1],a=r[2];return n&&(e.tzid=n),e.dtstart=G3(a),e}function xme(t){if(t=t.replace(/^\s+|\s+$/,""),!t.length)return null;var e=/^([A-Z]+?)[:;]/.exec(t.toUpperCase());if(!e)return Y5(t);var r=e[1];switch(r.toUpperCase()){case"RRULE":case"EXRULE":return Y5(t);case"DTSTART":return Y1(t);default:throw new Error("Unsupported RFC prop ".concat(r," in ").concat(t))}}function Y5(t){var e=t.replace(/^RRULE:/i,""),r=Y1(e),n=t.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return n.forEach(function(a){var i=a.split("="),o=i[0],c=i[1];switch(o.toUpperCase()){case"FREQ":r.freq=Xr[c.toUpperCase()];break;case"WKST":r.wkst=nl[c.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var u=yme(c),h=o.toLowerCase();r[h]=u;break;case"BYWEEKDAY":case"BYDAY":r.byweekday=vme(c);break;case"DTSTART":case"TZID":var f=Y1(t);r.tzid=f.tzid,r.dtstart=f.dtstart;break;case"UNTIL":r.until=G3(c);break;case"BYEASTER":r.byeaster=Number(c);break;default:throw new Error("Unknown RRULE property '"+o+"'")}}),r}function yme(t){if(t.indexOf(",")!==-1){var e=t.split(",");return e.map(K5)}return K5(t)}function K5(t){return/^[+-]?\d+$/.test(t)?Number(t):t}function vme(t){var e=t.split(",");return e.map(function(r){if(r.length===2)return nl[r];var n=r.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!n||n.length<3)throw new SyntaxError("Invalid weekday string: ".concat(r));var a=Number(n[1]),i=n[2],o=nl[i].weekday;return new bs(o,a)})}var K1=(function(){function t(e,r){if(isNaN(e.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=e,this.tzid=r}return Object.defineProperty(t.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var e=W3(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(e):";TZID=".concat(this.tzid,":").concat(e)},t.prototype.getTime=function(){return this.date.getTime()},t.prototype.rezonedDate=function(){return this.isUTC?this.date:ome(this.date,this.tzid)},t})();function uT(t){for(var e=[],r="",n=Object.keys(t),a=Object.keys(X3),i=0;i<n.length;i++)if(n[i]!=="tzid"&&jn(a,n[i])){var o=n[i].toUpperCase(),c=t[n[i]],u="";if(!(!_a(c)||Zi(c)&&!c.length)){switch(o){case"FREQ":u=Je.FREQUENCIES[t.freq];break;case"WKST":zl(c)?u=new bs(c).toString():u=c.toString();break;case"BYWEEKDAY":o="BYDAY",u=tme(c).map(function(x){return x instanceof bs?x:Zi(x)?new bs(x[0],x[1]):new bs(x)}).toString();break;case"DTSTART":r=bme(c,t.tzid);break;case"UNTIL":u=W3(c,!t.tzid);break;default:if(Zi(c)){for(var h=[],f=0;f<c.length;f++)h[f]=String(c[f]);u=h.toString()}else u=String(c)}u&&e.push([o,u])}}var p=e.map(function(x){var j=x[0],w=x[1];return"".concat(j,"=").concat(w.toString())}).join(";"),g="";return p!==""&&(g="RRULE:".concat(p)),[r,g].filter(function(x){return!!x}).join(`
`)}function bme(t,e){return t?"DTSTART"+new K1(new Date(t),e).toString():""}function jme(t,e){return Array.isArray(t)?!Array.isArray(e)||t.length!==e.length?!1:t.every(function(r,n){return r.getTime()===e[n].getTime()}):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():t===e}var wme=(function(){function t(){this.all=!1,this.before=[],this.after=[],this.between=[]}return t.prototype._cacheAdd=function(e,r,n){r&&(r=r instanceof Date?oT(r):q5(r)),e==="all"?this.all=r:(n._value=r,this[e].push(n))},t.prototype._cacheGet=function(e,r){var n=!1,a=r?Object.keys(r):[],i=function(f){for(var p=0;p<a.length;p++){var g=a[p];if(!jme(r[g],f[g]))return!0}return!1},o=this[e];if(e==="all")n=this.all;else if(Zi(o))for(var c=0;c<o.length;c++){var u=o[c];if(!(a.length&&i(u))){n=u._value;break}}if(!n&&this.all){for(var h=new Cm(e,r),c=0;c<this.all.length&&h.accept(this.all[c]);c++);n=h.getValue(),this._cacheAdd(e,n,r)}return Zi(n)?q5(n):n instanceof Date?oT(n):n},t})(),kme=jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt([],Kr(1,31),!0),Kr(2,28),!0),Kr(3,31),!0),Kr(4,30),!0),Kr(5,31),!0),Kr(6,30),!0),Kr(7,31),!0),Kr(8,31),!0),Kr(9,30),!0),Kr(10,31),!0),Kr(11,30),!0),Kr(12,31),!0),Kr(1,7),!0),Nme=jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt([],Kr(1,31),!0),Kr(2,29),!0),Kr(3,31),!0),Kr(4,30),!0),Kr(5,31),!0),Kr(6,30),!0),Kr(7,31),!0),Kr(8,31),!0),Kr(9,30),!0),Kr(10,31),!0),Kr(11,30),!0),Kr(12,31),!0),Kr(1,7),!0),Sme=mc(1,29),Eme=mc(1,30),dd=mc(1,31),Vs=mc(1,32),Ame=jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt([],Vs,!0),Eme,!0),Vs,!0),dd,!0),Vs,!0),dd,!0),Vs,!0),Vs,!0),dd,!0),Vs,!0),dd,!0),Vs,!0),Vs.slice(0,7),!0),Tme=jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt([],Vs,!0),Sme,!0),Vs,!0),dd,!0),Vs,!0),dd,!0),Vs,!0),Vs,!0),dd,!0),Vs,!0),dd,!0),Vs,!0),Vs.slice(0,7),!0),_me=mc(-28,0),Cme=mc(-29,0),hd=mc(-30,0),zs=mc(-31,0),Ime=jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt([],zs,!0),Cme,!0),zs,!0),hd,!0),zs,!0),hd,!0),zs,!0),zs,!0),hd,!0),zs,!0),hd,!0),zs,!0),zs.slice(0,7),!0),Ome=jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt([],zs,!0),_me,!0),zs,!0),hd,!0),zs,!0),hd,!0),zs,!0),zs,!0),hd,!0),zs,!0),hd,!0),zs,!0),zs.slice(0,7),!0),Pme=[0,31,60,91,121,152,182,213,244,274,305,335,366],Mme=[0,31,59,90,120,151,181,212,243,273,304,334,365],X5=(function(){for(var t=[],e=0;e<55;e++)t=t.concat(mc(7));return t})();function Dme(t,e){var r=ef(t,1,1),n=Vx(t)?366:365,a=Vx(t+1)?366:365,i=iT(r),o=fp(r),c=ro(ro({yearlen:n,nextyearlen:a,yearordinal:i,yearweekday:o},Rme(t)),{wnomask:null});if(Wl(e.byweekno))return c;c.wnomask=Kr(0,n+7);var u,h,f=u=No(7-o+e.wkst,7);f>=4?(f=0,h=c.yearlen+No(o-e.wkst,7)):h=n-f;for(var p=Math.floor(h/7),g=No(h,7),x=Math.floor(p+g/4),j=0;j<e.byweekno.length;j++){var w=e.byweekno[j];if(w<0&&(w+=x+1),w>0&&w<=x){var b=void 0;w>1?(b=f+(w-1)*7,f!==u&&(b-=7-u)):b=f;for(var N=0;N<7&&(c.wnomask[b]=1,b++,c.wdaymask[b]!==e.wkst);N++);}}if(jn(e.byweekno,1)){var b=f+x*7;if(f!==u&&(b-=7-u),b<n)for(var j=0;j<7&&(c.wnomask[b]=1,b+=1,c.wdaymask[b]!==e.wkst);j++);}if(f){var E=void 0;if(jn(e.byweekno,-1))E=-1;else{var A=fp(ef(t-1,1,1)),O=No(7-A.valueOf()+e.wkst,7),M=Vx(t-1)?366:365,L=void 0;O>=4?(O=0,L=M+No(A-e.wkst,7)):L=n-f,E=Math.floor(52+No(L,7)/4)}if(jn(e.byweekno,E))for(var b=0;b<f;b++)c.wnomask[b]=1}return c}function Rme(t){var e=Vx(t)?366:365,r=ef(t,1,1),n=fp(r);return e===365?{mmask:kme,mdaymask:Tme,nmdaymask:Ome,wdaymask:X5.slice(n),mrange:Mme}:{mmask:Nme,mdaymask:Ame,nmdaymask:Ime,wdaymask:X5.slice(n),mrange:Pme}}function Lme(t,e,r,n,a,i){var o={lastyear:t,lastmonth:e,nwdaymask:[]},c=[];if(i.freq===Je.YEARLY)if(Wl(i.bymonth))c=[[0,r]];else for(var u=0;u<i.bymonth.length;u++)e=i.bymonth[u],c.push(n.slice(e-1,e+1));else i.freq===Je.MONTHLY&&(c=[n.slice(e-1,e+1)]);if(Wl(c))return o;o.nwdaymask=Kr(0,r);for(var u=0;u<c.length;u++)for(var h=c[u],f=h[0],p=h[1]-1,g=0;g<i.bynweekday.length;g++){var x=void 0,j=i.bynweekday[g],w=j[0],b=j[1];b<0?(x=p+(b+1)*7,x-=No(a[x]-w,7)):(x=f+(b-1)*7,x+=No(7-a[x]+w,7)),f<=x&&x<=p&&(o.nwdaymask[x]=1)}return o}function Ume(t,e){e===void 0&&(e=0);var r=t%19,n=Math.floor(t/100),a=t%100,i=Math.floor(n/4),o=n%4,c=Math.floor((n+8)/25),u=Math.floor((n-c+1)/3),h=Math.floor(19*r+n-i-u+15)%30,f=Math.floor(a/4),p=a%4,g=Math.floor(32+2*o+2*f-h-p)%7,x=Math.floor((r+11*h+22*g)/451),j=Math.floor((h+g-7*x+114)/31),w=(h+g-7*x+114)%31+1,b=Date.UTC(t,j-1,w+e),N=Date.UTC(t,0,1);return[Math.ceil((b-N)/(1e3*60*60*24))]}var Vme=(function(){function t(e){this.options=e}return t.prototype.rebuild=function(e,r){var n=this.options;if(e!==this.lastyear&&(this.yearinfo=Dme(e,n)),ts(n.bynweekday)&&(r!==this.lastmonth||e!==this.lastyear)){var a=this.yearinfo,i=a.yearlen,o=a.mrange,c=a.wdaymask;this.monthinfo=Lme(e,r,i,o,c,n)}_a(n.byeaster)&&(this.eastermask=Ume(e,n.byeaster))},Object.defineProperty(t.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),t.prototype.ydayset=function(){return[mc(this.yearlen),0,this.yearlen]},t.prototype.mdayset=function(e,r){for(var n=this.mrange[r-1],a=this.mrange[r],i=Kr(null,this.yearlen),o=n;o<a;o++)i[o]=o;return[i,n,a]},t.prototype.wdayset=function(e,r,n){for(var a=Kr(null,this.yearlen+7),i=iT(ef(e,r,n))-this.yearordinal,o=i,c=0;c<7&&(a[i]=i,++i,this.wdaymask[i]!==this.options.wkst);c++);return[a,o,i]},t.prototype.ddayset=function(e,r,n){var a=Kr(null,this.yearlen),i=iT(ef(e,r,n))-this.yearordinal;return a[i]=i,[a,i,i+1]},t.prototype.htimeset=function(e,r,n,a){var i=this,o=[];return this.options.byminute.forEach(function(c){o=o.concat(i.mtimeset(e,c,n,a))}),hy(o),o},t.prototype.mtimeset=function(e,r,n,a){var i=this.options.bysecond.map(function(o){return new G1(e,r,o,a)});return hy(i),i},t.prototype.stimeset=function(e,r,n,a){return[new G1(e,r,n,a)]},t.prototype.getdayset=function(e){switch(e){case Xr.YEARLY:return this.ydayset.bind(this);case Xr.MONTHLY:return this.mdayset.bind(this);case Xr.WEEKLY:return this.wdayset.bind(this);case Xr.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},t.prototype.gettimeset=function(e){switch(e){case Xr.HOURLY:return this.htimeset.bind(this);case Xr.MINUTELY:return this.mtimeset.bind(this);case Xr.SECONDLY:return this.stimeset.bind(this)}},t})();function zme(t,e,r,n,a,i){for(var o=[],c=0;c<t.length;c++){var u=void 0,h=void 0,f=t[c];f<0?(u=Math.floor(f/e.length),h=No(f,e.length)):(u=Math.floor((f-1)/e.length),h=No(f-1,e.length));for(var p=[],g=r;g<n;g++){var x=i[g];_a(x)&&p.push(x)}var j=void 0;u<0?j=p.slice(u)[0]:j=p[u];var w=e[h],b=SH(a.yearordinal+j),N=EH(b,w);jn(o,N)||o.push(N)}return hy(o),o}function _H(t,e){var r=e.dtstart,n=e.freq,a=e.interval,i=e.until,o=e.bysetpos,c=e.count;if(c===0||a===0)return Mc(t);var u=mme.fromDate(r),h=new Vme(e);h.rebuild(u.year,u.month);for(var f=Bme(h,u,e);;){var p=h.getdayset(n)(u.year,u.month,u.day),g=p[0],x=p[1],j=p[2],w=$me(g,x,j,h,e);if(ts(o))for(var b=zme(o,f,x,j,h,g),N=0;N<b.length;N++){var E=b[N];if(i&&E>i)return Mc(t);if(E>=r){var A=Q5(E,e);if(!t.accept(A)||c&&(--c,!c))return Mc(t)}}else for(var N=x;N<j;N++){var O=g[N];if(_a(O))for(var M=SH(h.yearordinal+O),L=0;L<f.length;L++){var I=f[L],E=EH(M,I);if(i&&E>i)return Mc(t);if(E>=r){var A=Q5(E,e);if(!t.accept(A)||c&&(--c,!c))return Mc(t)}}}if(e.interval===0||(u.add(e,w),u.year>wH))return Mc(t);K3(n)||(f=h.gettimeset(n)(u.hour,u.minute,u.second,0)),h.rebuild(u.year,u.month)}}function Fme(t,e,r){var n=r.bymonth,a=r.byweekno,i=r.byweekday,o=r.byeaster,c=r.bymonthday,u=r.bynmonthday,h=r.byyearday;return ts(n)&&!jn(n,t.mmask[e])||ts(a)&&!t.wnomask[e]||ts(i)&&!jn(i,t.wdaymask[e])||ts(t.nwdaymask)&&!t.nwdaymask[e]||o!==null&&!jn(t.eastermask,e)||(ts(c)||ts(u))&&!jn(c,t.mdaymask[e])&&!jn(u,t.nmdaymask[e])||ts(h)&&(e<t.yearlen&&!jn(h,e+1)&&!jn(h,-t.yearlen+e)||e>=t.yearlen&&!jn(h,e+1-t.yearlen)&&!jn(h,-t.nextyearlen+e-t.yearlen))}function Q5(t,e){return new K1(t,e.tzid).rezonedDate()}function Mc(t){return t.getValue()}function $me(t,e,r,n,a){for(var i=!1,o=e;o<r;o++){var c=t[o];i=Fme(n,c,a),i&&(t[c]=null)}return i}function Bme(t,e,r){var n=r.freq,a=r.byhour,i=r.byminute,o=r.bysecond;return K3(n)?gme(r):n>=Je.HOURLY&&ts(a)&&!jn(a,e.hour)||n>=Je.MINUTELY&&ts(i)&&!jn(i,e.minute)||n>=Je.SECONDLY&&ts(o)&&!jn(o,e.second)?[]:t.gettimeset(n)(e.hour,e.minute,e.second,e.millisecond)}var nl={MO:new bs(0),TU:new bs(1),WE:new bs(2),TH:new bs(3),FR:new bs(4),SA:new bs(5),SU:new bs(6)},X3={freq:Xr.YEARLY,dtstart:null,interval:1,wkst:nl.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},qme=Object.keys(X3),Je=(function(){function t(e,r){e===void 0&&(e={}),r===void 0&&(r=!1),this._cache=r?null:new wme,this.origOptions=TH(e);var n=pme(e).parsedOptions;this.options=n}return t.parseText=function(e,r){return AH(e,r)},t.fromText=function(e,r){return dme(e,r)},t.fromString=function(e){return new t(t.parseString(e)||void 0)},t.prototype._iter=function(e){return _H(e,this.options)},t.prototype._cacheGet=function(e,r){return this._cache?this._cache._cacheGet(e,r):!1},t.prototype._cacheAdd=function(e,r,n){if(this._cache)return this._cache._cacheAdd(e,r,n)},t.prototype.all=function(e){if(e)return this._iter(new W5("all",{},e));var r=this._cacheGet("all");return r===!1&&(r=this._iter(new Cm("all",{})),this._cacheAdd("all",r)),r},t.prototype.between=function(e,r,n,a){if(n===void 0&&(n=!1),!jx(e)||!jx(r))throw new Error("Invalid date passed in to RRule.between");var i={before:r,after:e,inc:n};if(a)return this._iter(new W5("between",i,a));var o=this._cacheGet("between",i);return o===!1&&(o=this._iter(new Cm("between",i)),this._cacheAdd("between",o,i)),o},t.prototype.before=function(e,r){if(r===void 0&&(r=!1),!jx(e))throw new Error("Invalid date passed in to RRule.before");var n={dt:e,inc:r},a=this._cacheGet("before",n);return a===!1&&(a=this._iter(new Cm("before",n)),this._cacheAdd("before",a,n)),a},t.prototype.after=function(e,r){if(r===void 0&&(r=!1),!jx(e))throw new Error("Invalid date passed in to RRule.after");var n={dt:e,inc:r},a=this._cacheGet("after",n);return a===!1&&(a=this._iter(new Cm("after",n)),this._cacheAdd("after",a,n)),a},t.prototype.count=function(){return this.all().length},t.prototype.toString=function(){return uT(this.origOptions)},t.prototype.toText=function(e,r,n){return hme(this,e,r,n)},t.prototype.isFullyConvertibleToText=function(){return fme(this)},t.prototype.clone=function(){return new t(this.origOptions)},t.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],t.YEARLY=Xr.YEARLY,t.MONTHLY=Xr.MONTHLY,t.WEEKLY=Xr.WEEKLY,t.DAILY=Xr.DAILY,t.HOURLY=Xr.HOURLY,t.MINUTELY=Xr.MINUTELY,t.SECONDLY=Xr.SECONDLY,t.MO=nl.MO,t.TU=nl.TU,t.WE=nl.WE,t.TH=nl.TH,t.FR=nl.FR,t.SA=nl.SA,t.SU=nl.SU,t.parseString=cT,t.optionsToString=uT,t})();function Hme(t,e,r,n,a,i){var o={},c=t.accept;function u(g,x){r.forEach(function(j){j.between(g,x,!0).forEach(function(w){o[Number(w)]=!0})})}a.forEach(function(g){var x=new K1(g,i).rezonedDate();o[Number(x)]=!0}),t.accept=function(g){var x=Number(g);return isNaN(x)?c.call(this,g):!o[x]&&(u(new Date(x-1),new Date(x+1)),!o[x])?(o[x]=!0,c.call(this,g)):!0},t.method==="between"&&(u(t.args.after,t.args.before),t.accept=function(g){var x=Number(g);return o[x]?!0:(o[x]=!0,c.call(this,g))});for(var h=0;h<n.length;h++){var f=new K1(n[h],i).rezonedDate();if(!t.accept(new Date(f.getTime())))break}e.forEach(function(g){_H(t,g.options)});var p=t._result;switch(hy(p),t.method){case"all":case"between":return p;case"before":return p.length&&p[p.length-1]||null;case"after":default:return p.length&&p[0]||null}}var Z5={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function Wme(t,e){var r=[],n=[],a=[],i=[],o=Y1(t),c=o.dtstart,u=o.tzid,h=Qme(t,e.unfold);return h.forEach(function(f){var p;if(f){var g=Xme(f),x=g.name,j=g.parms,w=g.value;switch(x.toUpperCase()){case"RRULE":if(j.length)throw new Error("unsupported RRULE parm: ".concat(j.join(",")));r.push(cT(f));break;case"RDATE":var b=(p=/RDATE(?:;TZID=([^:=]+))?/i.exec(f))!==null&&p!==void 0?p:[],N=b[1];N&&!u&&(u=N),n=n.concat(J5(w,j));break;case"EXRULE":if(j.length)throw new Error("unsupported EXRULE parm: ".concat(j.join(",")));a.push(cT(w));break;case"EXDATE":i=i.concat(J5(w,j));break;case"DTSTART":break;default:throw new Error("unsupported property: "+x)}}}),{dtstart:c,tzid:u,rrulevals:r,rdatevals:n,exrulevals:a,exdatevals:i}}function Gme(t,e){var r=Wme(t,e),n=r.rrulevals,a=r.rdatevals,i=r.exrulevals,o=r.exdatevals,c=r.dtstart,u=r.tzid,h=e.cache===!1;if(e.compatible&&(e.forceset=!0,e.unfold=!0),e.forceset||n.length>1||a.length||i.length||o.length){var f=new CH(h);return f.dtstart(c),f.tzid(u||void 0),n.forEach(function(g){f.rrule(new Je(eS(g,c,u),h))}),a.forEach(function(g){f.rdate(g)}),i.forEach(function(g){f.exrule(new Je(eS(g,c,u),h))}),o.forEach(function(g){f.exdate(g)}),e.compatible&&e.dtstart&&f.rdate(c),f}var p=n[0]||{};return new Je(eS(p,p.dtstart||e.dtstart||c,p.tzid||e.tzid||u),h)}function X1(t,e){return e===void 0&&(e={}),Gme(t,Yme(e))}function eS(t,e,r){return ro(ro({},t),{dtstart:e,tzid:r})}function Yme(t){var e=[],r=Object.keys(t),n=Object.keys(Z5);if(r.forEach(function(a){jn(n,a)||e.push(a)}),e.length)throw new Error("Invalid options: "+e.join(", "));return ro(ro({},Z5),t)}function Kme(t){if(t.indexOf(":")===-1)return{name:"RRULE",value:t};var e=rme(t,":",1),r=e[0],n=e[1];return{name:r,value:n}}function Xme(t){var e=Kme(t),r=e.name,n=e.value,a=r.split(";");if(!a)throw new Error("empty property name");return{name:a[0].toUpperCase(),parms:a.slice(1),value:n}}function Qme(t,e){if(e===void 0&&(e=!1),t=t&&t.trim(),!t)throw new Error("Invalid empty string");if(!e)return t.split(/\s/);for(var r=t.split(`
`),n=0;n<r.length;){var a=r[n]=r[n].replace(/\s+$/g,"");a?n>0&&a[0]===" "?(r[n-1]+=a.slice(1),r.splice(n,1)):n+=1:r.splice(n,1)}return r}function Zme(t){t.forEach(function(e){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)})}function J5(t,e){return Zme(e),t.split(",").map(function(r){return G3(r)})}function eL(t){var e=this;return function(r){if(r!==void 0&&(e["_".concat(t)]=r),e["_".concat(t)]!==void 0)return e["_".concat(t)];for(var n=0;n<e._rrule.length;n++){var a=e._rrule[n].origOptions[t];if(a)return a}}}var CH=(function(t){Y3(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this,{},r)||this;return n.dtstart=eL.apply(n,["dtstart"]),n.tzid=eL.apply(n,["tzid"]),n._rrule=[],n._rdate=[],n._exrule=[],n._exdate=[],n}return e.prototype._iter=function(r){return Hme(r,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},e.prototype.rrule=function(r){tL(r,this._rrule)},e.prototype.exrule=function(r){tL(r,this._exrule)},e.prototype.rdate=function(r){rL(r,this._rdate)},e.prototype.exdate=function(r){rL(r,this._exdate)},e.prototype.rrules=function(){return this._rrule.map(function(r){return X1(r.toString())})},e.prototype.exrules=function(){return this._exrule.map(function(r){return X1(r.toString())})},e.prototype.rdates=function(){return this._rdate.map(function(r){return new Date(r.getTime())})},e.prototype.exdates=function(){return this._exdate.map(function(r){return new Date(r.getTime())})},e.prototype.valueOf=function(){var r=[];return!this._rrule.length&&this._dtstart&&(r=r.concat(uT({dtstart:this._dtstart}))),this._rrule.forEach(function(n){r=r.concat(n.toString().split(`
`))}),this._exrule.forEach(function(n){r=r.concat(n.toString().split(`
`).map(function(a){return a.replace(/^RRULE:/,"EXRULE:")}).filter(function(a){return!/^DTSTART/.test(a)}))}),this._rdate.length&&r.push(nL("RDATE",this._rdate,this.tzid())),this._exdate.length&&r.push(nL("EXDATE",this._exdate,this.tzid())),r},e.prototype.toString=function(){return this.valueOf().join(`
`)},e.prototype.clone=function(){var r=new e(!!this._cache);return this._rrule.forEach(function(n){return r.rrule(n.clone())}),this._exrule.forEach(function(n){return r.exrule(n.clone())}),this._rdate.forEach(function(n){return r.rdate(new Date(n.getTime()))}),this._exdate.forEach(function(n){return r.exdate(new Date(n.getTime()))}),r},e})(Je);function tL(t,e){if(!(t instanceof Je))throw new TypeError(String(t)+" is not RRule instance");jn(e.map(String),String(t))||e.push(t)}function rL(t,e){if(!(t instanceof Date))throw new TypeError(String(t)+" is not Date instance");jn(e.map(Number),Number(t))||(e.push(t),hy(e))}function nL(t,e,r){var n=!r||r.toUpperCase()==="UTC",a=n?"".concat(t,":"):"".concat(t,";TZID=").concat(r,":"),i=e.map(function(o){return W3(o.valueOf(),n)}).join(",");return"".concat(a).concat(i)}const Jme=async t=>{var e;try{if(console.log(" [FirestoreService] Salvando anncio no Firestore:",t),console.log(" [FirestoreService] Auth object:",ft),console.log(" [FirestoreService] Auth currentUser:",ft.currentUser),console.log(" [FirestoreService] Auth currentUser UID:",(e=ft.currentUser)==null?void 0:e.uid),!ft.currentUser){const a="Usurio no autenticado. Faa login novamente.";throw console.error(" [FirestoreService]",a),new Error(a)}console.log(" [FirestoreService] Usurio autenticado:",ft.currentUser.uid);const r={...t,createdAt:fn(),authorFirebaseUid:ft.currentUser.uid};console.log(" [FirestoreService] Dados preparados para salvamento:",r),console.log(" [FirestoreService] DB object:",we),console.log(" [FirestoreService] Collection reference:",Et(we,"announcements"));const n=await qa(Et(we,"announcements"),r);return console.log(" [FirestoreService] Anncio salvo com ID:",n.id),n.id}catch(r){throw console.error(" [FirestoreService] Erro ao salvar anncio:",r),console.error(" [FirestoreService] Error message:",r.message),console.error(" [FirestoreService] Error stack:",r.stack),r}},epe=async(t,e)=>{try{const r=at(we,"announcements",t),{createdAt:n,...a}=e;await Pr(r,{...a,updatedAt:fn()})}catch(r){throw console.error("Erro ao atualizar anncio:",r),r}},IH=async()=>{try{if(!ft.currentUser)return console.log(" [Auth Check] Usurio no autenticado"),!1;const t=ft.currentUser.email||"",e=ft.currentUser.uid;if(console.log(" [Auth Check] Verificando permisses para:",t,"UID:",e),["fontedevidalaranjeiras@gmail.com","secretaria.adfdevidalaranjeiras@gmail.com"].includes(t))return console.log(" [Auth Check] Usurio  admin por email autorizado:",t),!0;const n=await ft.currentUser.getIdTokenResult(),a=n.claims.admin===!0;console.log(" [Auth Check] Custom claims:",n.claims),console.log(" [Auth Check] Tem admin claim:",a);try{const i=await hn(Er(Et(we,"authorizedUsers"),Vr("firebaseUid","==",e)));if(i.empty)return console.log(" [Auth Check] Usurio no encontrado em authorizedUsers"),a;const o=i.docs[0].data(),c=o.role==="admin"&&o.status==="active";console.log(" [Auth Check] Dados do authorizedUser:",{role:o.role,status:o.status,email:o.email});let u=!1;try{const f=await nn(at(we,"users",e));if(f.exists()){const p=f.data();u=(p==null?void 0:p.role)==="admin",console.log(" [Auth Check] /users mapeado:",{role:p==null?void 0:p.role,usersDocIsAdmin:u})}}catch(f){console.warn(" [Auth Check] Falha ao ler /users para checagem de role:",f)}const h=!!(a||c||u);return console.log(h?" [Auth Check] Usurio confirmado como admin (claim/authorizedUsers/users)":" [Auth Check] Usurio sem privilgios admin aps checagens combinadas"),h}catch(i){return console.error(" [Auth Check] Erro ao verificar authorizedUsers:",i),a}}catch(t){return console.error(" [Auth Check] Erro ao verificar permisses:",t),!1}},aL=async t=>{try{if(console.log(" [DELETE ANNOUNCEMENT] Iniciando excluso:",t),!ft.currentUser)throw new Error("Voc precisa estar logado para excluir programaes.");if(console.log(" [DELETE ANNOUNCEMENT] Usurio:",ft.currentUser.email),!await IH())throw new Error("Apenas administradores podem excluir programaes. Entre em contato com a secretaria se voc deveria ter essa permisso.");console.log(" [DELETE ANNOUNCEMENT] Permisses verificadas, prosseguindo com excluso");const r=at(we,"announcements",t);if(!(await nn(r)).exists())throw console.log(" [DELETE ANNOUNCEMENT] Documento no existe:",t),new Error("Programao no encontrada. Pode ter sido excluda por outro usurio.");console.log(" [DELETE ANNOUNCEMENT] Documento encontrado, executando excluso..."),await ha(r),console.log(" [DELETE ANNOUNCEMENT] deleteDoc executado"),await new Promise(i=>setTimeout(i,500));const a=await nn(r);if(!a.exists())console.log(" [DELETE ANNOUNCEMENT] CONFIRMADO: Documento foi excludo do Firestore");else throw console.log(" [DELETE ANNOUNCEMENT] PROBLEMA: Documento ainda existe aps deleteDoc"),console.log(" [DELETE ANNOUNCEMENT] Dados do documento:",a.data()),new Error("Falha na excluso: documento ainda existe no Firestore");console.log(" [DELETE ANNOUNCEMENT] Programao excluda com sucesso:",t)}catch(e){throw console.error(" [DELETE ANNOUNCEMENT] Erro:",e),e.code==="permission-denied"?new Error("Permisso negada pelo servidor. Apenas administradores podem excluir programaes."):e.code==="not-found"?new Error("Programao no encontrada. Pode ter sido excluda por outro usurio."):e.code==="unauthenticated"?new Error("Sua sesso expirou. Faa login novamente."):e.message?e:new Error("Erro inesperado ao excluir programao. Tente novamente.")}},tpe=async t=>{try{if(console.log(" Salvando culto no Firestore:",t),!ft.currentUser)throw new Error("Usurio no autenticado. Faa login novamente.");console.log(" Usurio autenticado:",ft.currentUser.uid);const e=t.createdAt instanceof Date?t.createdAt:new Date;console.log(" Data de criao:",e);const r={...t,createdAt:Wr.fromDate(e),authorFirebaseUid:ft.currentUser.uid};console.log(" Dados preparados para salvamento:",r);const n=await qa(Et(we,"cultos"),r);return console.log(" Culto salvo com ID:",n.id),n.id}catch(e){throw console.error(" Erro ao salvar culto:",e),console.error(" Detalhes do erro:",e.message),console.error(" Stack trace:",e.stack),e}},rpe=async(t,e)=>{try{const r=at(we,"cultos",t);await Pr(r,e)}catch(r){throw console.error("Erro ao atualizar culto:",r),r}},npe=async t=>{try{if(console.log(" [DELETE CULTO] Iniciando excluso:",t),!ft.currentUser)throw new Error("Voc precisa estar logado para excluir cultos.");if(console.log(" [DELETE CULTO] Usurio:",ft.currentUser.email),!await IH())throw new Error("Apenas administradores podem excluir cultos. Entre em contato com a secretaria se voc deveria ter essa permisso.");console.log(" [DELETE CULTO] Permisses verificadas, prosseguindo com excluso");const r=at(we,"cultos",t);await ha(r),console.log(" [DELETE CULTO] Culto excludo com sucesso:",t)}catch(e){throw console.error(" [DELETE CULTO] Erro:",e),e.code==="permission-denied"?new Error("Permisso negada pelo servidor. Apenas administradores podem excluir cultos."):e.code==="not-found"?new Error("Culto no encontrado. Pode ter sido excludo por outro usurio."):e.code==="unauthenticated"?new Error("Sua sesso expirou. Faa login novamente."):e.message?e:new Error("Erro inesperado ao excluir culto. Tente novamente.")}},ape=async t=>{try{if(console.log(" Salvando roteiro no Firestore:",t),!ft.currentUser)throw new Error("Usurio no autenticado. Faa login novamente.");console.log(" Usurio autenticado:",ft.currentUser.uid);const e={...t,createdAt:Wr.fromDate(t.createdAt),updatedAt:Wr.fromDate(t.updatedAt),authorFirebaseUid:ft.currentUser.uid};console.log(" Dados preparados para salvamento:",e);const r=await qa(Et(we,"roteiros"),e);return console.log(" Roteiro salvo com ID:",r.id),r.id}catch(e){throw console.error(" Erro ao salvar roteiro:",e),e}},spe=async(t,e)=>{try{console.log(" Atualizando roteiro:",t,e);const r={...e,updatedAt:Wr.now()},n=at(we,"roteiros",t);await Pr(n,r),console.log(" Roteiro atualizado com sucesso:",t)}catch(r){throw console.error(" Erro ao atualizar roteiro:",r),r}},ipe=async t=>{var e,r;try{if(console.log(" [FirestoreService] Iniciando excluso de roteiro:",t),console.log(" [FirestoreService] Usurio autenticado:",(e=ft.currentUser)==null?void 0:e.uid),console.log(" [FirestoreService] Email do usurio:",(r=ft.currentUser)==null?void 0:r.email),!ft.currentUser){const c="Usurio no autenticado. Faa login novamente.";throw console.error(" [FirestoreService]",c),new Error(c)}if(!t||t.trim()===""){const c="ID do roteiro  invlido ou vazio.";throw console.error(" [FirestoreService]",c),new Error(c)}const n=await ft.currentUser.getIdTokenResult();console.log(" [FirestoreService] Claims do usurio:",n.claims);const a=at(we,"roteiros",t);console.log(" [FirestoreService] Referncia do documento criada:",a.path),console.log(" [FirestoreService] Verificando se o documento existe...");const i=await nn(a);if(!i.exists())throw console.log(" [FirestoreService] Documento no existe:",t),new Error("Roteiro no encontrado. Pode ter sido excludo por outro usurio.");console.log(" [FirestoreService] Documento encontrado, dados:",i.data()),console.log(" [FirestoreService] Executando excluso..."),console.log(" [FirestoreService] Executando deleteDoc..."),await ha(a),console.log(" [FirestoreService] deleteDoc executado sem erro"),await new Promise(c=>setTimeout(c,500)),console.log(" [FirestoreService] Verificando se a excluso foi bem-sucedida...");const o=await nn(a);if(!o.exists())console.log(" [FirestoreService] CONFIRMADO: Documento foi excludo do Firestore");else throw console.log(" [FirestoreService] PROBLEMA: Documento ainda existe aps deleteDoc"),console.log(" [FirestoreService] Dados do documento:",o.data()),new Error("Falha na excluso: roteiro ainda existe no Firestore");console.log(" [FirestoreService] Roteiro deletado com sucesso:",t)}catch(n){throw console.error(" [FirestoreService] Erro ao deletar roteiro:",n),console.error(" [FirestoreService] Error code:",n.code),console.error(" [FirestoreService] Error message:",n.message),console.error(" [FirestoreService] Error stack:",n.stack),n.code==="permission-denied"?new Error("Voc no tem permisso para excluir este roteiro. Apenas administradores podem excluir roteiros."):n.code==="not-found"?new Error("Roteiro no encontrado. Pode ter sido excludo por outro usurio."):n.code==="unauthenticated"?new Error("Sesso expirada. Faa login novamente."):n.message&&n.message.includes("Falha na excluso")||n.message&&n.message.includes("ID do roteiro  invlido")?n:new Error(`Erro ao excluir roteiro: ${n.message}`)}},ope=async t=>{try{const e=at(we,"settings","church-settings");await oi(e,t)}catch(e){throw console.error("Erro ao salvar configuraes:",e),e}},sL=async()=>{try{const t=at(we,"settings","church-settings"),e=await nn(t);return e.exists()?e.data():null}catch(t){throw console.error("Erro ao buscar configuraes:",t),t}},lpe=async t=>{try{console.log(" Salvando usurio autorizado no Firestore:",t);const e=await qa(Et(we,"authorizedUsers"),{...t,createdAt:Wr.now()});return console.log(" Usurio autorizado salvo com ID:",e.id),e.id}catch(e){throw console.error(" Erro ao salvar usurio autorizado:",e),e}},cpe=async(t,e)=>{try{console.log(" Atualizando usurio autorizado no Firestore:",t,e);const r=at(we,"authorizedUsers",t),n=await nn(r);if(!n.exists()){console.warn(" Documento no encontrado para atualizao (ignorado):",t);return}console.log(" Dados atuais do documento:",n.data());let a={...e};e.status&&(["active","blocked","inactive"].includes(e.status)?console.log(" Status vlido sendo salvo:",e.status):(console.warn(" Tentativa de salvar status invlido:",e.status,"- Ignorando atualizao de status"),delete a.status));const i={...a,updatedAt:Wr.now()};if(console.log(" Dados que sero salvos no Firestore:",i),!ft.currentUser)throw new Error("Usurio no autenticado");await Pr(r,i);const o=await nn(r);console.log(" Dados aps atualizao:",o.data()),console.log(" Usurio autorizado atualizado:",t)}catch(r){throw console.error(" Erro ao atualizar usurio autorizado:",r),r}},upe=async t=>{try{console.log(" Deletando usurio autorizado do Firestore:",t);const e=at(we,"authorizedUsers",t);await ha(e),console.log(" Usurio autorizado deletado:",t)}catch(e){throw console.error(" Erro ao deletar usurio autorizado:",e),e}},dpe=async t=>{try{if(console.log(" Salvando mensagem no Firestore:",t),!ft.currentUser)throw new Error("Usurio no autenticado. Faa login novamente.");console.log(" Usurio autenticado:",ft.currentUser.uid);const e={...t,createdAt:Wr.fromDate(t.createdAt),authorFirebaseUid:ft.currentUser.uid,senderFirebaseUid:ft.currentUser.uid,recipientFirebaseUids:Array.isArray(t.recipientFirebaseUids)?t.recipientFirebaseUids:[]};console.log(" Dados preparados para salvamento:",e);const r=await qa(Et(we,"messages"),e);return console.log(" Mensagem salva com ID:",r.id),r.id}catch(e){throw console.error(" Erro ao salvar mensagem:",e),e}},hpe=async t=>{try{const{id:e,createdAt:r,...n}=t;return(await qa(Et(we,"leaderRequests"),{...n,createdAt:Wr.fromDate(r)})).id}catch(e){throw console.error("Erro ao salvar solicitao de liderana:",e),e}},fpe=async(t,e)=>{try{console.log(" Atualizando solicitao de liderana no Firestore:",t,e);const r=at(we,"leaderRequests",t);await Pr(r,e),console.log(" Solicitao de liderana atualizada:",t)}catch(r){throw console.error(" Erro ao atualizar solicitao de liderana:",r),r}},mpe=async t=>{try{const e=await qa(Et(we,"ministryDepartments"),t);return console.log("Departamento ministerial salvo com ID:",e.id),e.id}catch(e){throw console.error("Erro ao salvar departamento ministerial:",e),e}},zx=async(t,e)=>{try{await Pr(at(we,"ministryDepartments",t),e),console.log("Departamento ministerial atualizado:",t)}catch(r){throw console.error("Erro ao atualizar departamento ministerial:",r),r}},ppe=async t=>{try{await ha(at(we,"ministryDepartments",t)),console.log("Departamento ministerial deletado:",t)}catch(e){throw console.error("Erro ao deletar departamento ministerial:",e),e}},iL=async(t,e)=>{try{const r=at(we,"messages",t);await Pr(r,e),console.log(" Mensagem atualizada:",t,e)}catch(r){throw console.error(" Erro ao atualizar mensagem:",r),r}},gpe=(t,e)=>[t,e].sort().join("_"),xpe=async(t,e)=>{const r=gpe(t,e),n=at(we,"chats",r);try{return(await nn(n)).exists()||await oi(n,{participants:[t,e],createdAt:new Date},{merge:!0}),r}catch(a){throw console.error(" Erro ao garantir sala de chat:",a),a}},ype=async(t,e,r,n)=>{try{const a=Et(we,"chats",t,"messages");await qa(a,{senderId:e,text:r,attachments:n&&n.length?n:[],createdAt:new Date});const i=at(we,"chats",t);await Pr(i,{lastMessageAt:new Date,lastMessageSenderId:e})}catch(a){throw console.error(" Erro ao enviar mensagem no chat:",a),a}},oL=async(t,e)=>{try{const r=at(we,"chats",t,"messages",e),n=await nn(r);if(n.exists()){const a=n.data(),o=(Array.isArray(a.attachments)?a.attachments:[]).filter(c=>c&&c.storagePath).map(c=>hu(kn(da,c.storagePath)).catch(()=>{}));o.length&&await Promise.allSettled(o)}await ha(r)}catch(r){throw console.error(" Erro ao excluir mensagem do chat:",r),r}},vpe=async t=>{try{const e=Et(we,"chats",t,"messages"),r=await hn(e),n=[];r.forEach(a=>{const i=a.data();(Array.isArray(i.attachments)?i.attachments:[]).forEach(c=>{c&&c.storagePath&&n.push(hu(kn(da,c.storagePath)).catch(()=>{}))}),n.push(ha(at(we,"chats",t,"messages",a.id)))}),await Promise.allSettled(n)}catch(e){throw console.error(" Erro ao esvaziar conversa:",e),e}},bpe=async t=>{try{const e=new Date;e.setHours(0,0,0,0);const r=Et(we,"chats",t,"messages"),n=Er(r,li("createdAt","asc")),a=await hn(n),i=[];a.forEach(o=>{var h;const c=o.data();((h=c.createdAt)!=null&&h.toDate?c.createdAt.toDate():c.createdAt||new Date(0))<e&&((Array.isArray(c.attachments)?c.attachments:[]).forEach(p=>{p&&p.storagePath&&i.push(hu(kn(da,p.storagePath)).catch(()=>{}))}),i.push(ha(at(we,"chats",t,"messages",o.id))))}),await Promise.allSettled(i)}catch(e){throw console.error(" Erro ao limpar mensagens antigas:",e),e}};async function jpe(t,e){const r=at(we,"chats",t);await Pr(r,{[`clearUntil.${e}`]:fn()})}async function lL(t,e,r,n){const a=at(we,"chats",t,"messages",e);await Pr(a,{[`pinnedBy.${r}`]:!!n})}async function cL(t,e,r,n){const a=at(we,"chats",t,"messages",e);await Pr(a,{[`hiddenBy.${r}`]:!0})}const wpe=async(t,e=[])=>{const r=at(we,"groupChats",t);try{return(await nn(r)).exists()?e&&e.length>0&&await Pr(r,{participants:e}):await oi(r,{groupId:t,participants:e,createdAt:new Date},{merge:!0}),t}catch(n){throw console.error(" Erro ao garantir sala de chat de grupo:",n),n}},kpe=async(t,e,r,n)=>{try{const a=Et(we,"groupChats",t,"messages");await qa(a,{senderId:e,text:r,attachments:n&&n.length?n:[],createdAt:new Date});const i=at(we,"groupChats",t);await Pr(i,{lastMessageAt:new Date,lastMessageSenderId:e})}catch(a){throw console.error(" Erro ao enviar mensagem no chat de grupo:",a),a}},uL=async(t,e)=>{try{const r=at(we,"groupChats",t,"messages",e),n=await nn(r);if(n.exists()){const a=n.data(),o=(Array.isArray(a.attachments)?a.attachments:[]).filter(c=>c&&c.storagePath).map(c=>hu(kn(da,c.storagePath)).catch(()=>{}));o.length&&await Promise.allSettled(o)}await ha(r)}catch(r){throw console.error(" Erro ao excluir mensagem do chat de grupo:",r),r}},Npe=async t=>{try{const e=Et(we,"groupChats",t,"messages"),r=await hn(e),n=[];r.forEach(a=>{const i=a.data();(Array.isArray(i.attachments)?i.attachments:[]).forEach(c=>{c&&c.storagePath&&n.push(hu(kn(da,c.storagePath)).catch(()=>{}))}),n.push(ha(at(we,"groupChats",t,"messages",a.id)))}),await Promise.allSettled(n)}catch(e){throw console.error(" Erro ao esvaziar conversa de grupo:",e),e}},Spe=async t=>{try{const e=new Date;e.setHours(0,0,0,0);const r=Et(we,"groupChats",t,"messages"),n=Er(r,li("createdAt","asc")),a=await hn(n),i=[];a.forEach(o=>{var h;const c=o.data();((h=c.createdAt)!=null&&h.toDate?c.createdAt.toDate():c.createdAt||new Date(0))<e&&((Array.isArray(c.attachments)?c.attachments:[]).forEach(p=>{p&&p.storagePath&&i.push(hu(kn(da,p.storagePath)).catch(()=>{}))}),i.push(ha(at(we,"groupChats",t,"messages",o.id))))}),await Promise.allSettled(i)}catch(e){throw console.error(" Erro ao limpar mensagens antigas do grupo:",e),e}};async function Epe(t,e){const r=at(we,"groupChats",t);await Pr(r,{[`lastViewed.${e}`]:fn(),[`clearUntil.${e}`]:fn()})}async function dL(t,e,r,n){const a=at(we,"groupChats",t,"messages",e);await Pr(a,{[`pinnedBy.${r}`]:!!n})}async function hL(t,e,r,n){const a=at(we,"groupChats",t,"messages",e);await Pr(a,{[`hiddenBy.${r}`]:!0})}const Q3=v.createContext({});function Z3(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const J3=typeof window<"u",OH=J3?v.useLayoutEffect:v.useEffect,Ow=v.createContext(null);function eI(t,e){t.indexOf(e)===-1&&t.push(e)}function tI(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const tu=(t,e,r)=>r>e?e:r<t?t:r;let rI=()=>{};const ru={},PH=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function MH(t){return typeof t=="object"&&t!==null}const DH=t=>/^0[^.\s]+$/u.test(t);function nI(t){let e;return()=>(e===void 0&&(e=t()),e)}const Po=t=>t,Ape=(t,e)=>r=>e(t(r)),lv=(...t)=>t.reduce(Ape),fy=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class aI{constructor(){this.subscriptions=[]}add(e){return eI(this.subscriptions,e),()=>tI(this.subscriptions,e)}notify(e,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const tc=t=>t*1e3,Co=t=>t/1e3;function RH(t,e){return e?t*(1e3/e):0}const LH=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Tpe=1e-7,_pe=12;function Cpe(t,e,r,n,a){let i,o,c=0;do o=e+(r-e)/2,i=LH(o,n,a)-t,i>0?r=o:e=o;while(Math.abs(i)>Tpe&&++c<_pe);return o}function cv(t,e,r,n){if(t===e&&r===n)return Po;const a=i=>Cpe(i,0,1,t,r);return i=>i===0||i===1?i:LH(a(i),e,n)}const UH=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,VH=t=>e=>1-t(1-e),zH=cv(.33,1.53,.69,.99),sI=VH(zH),FH=UH(sI),$H=t=>(t*=2)<1?.5*sI(t):.5*(2-Math.pow(2,-10*(t-1))),iI=t=>1-Math.sin(Math.acos(t)),BH=VH(iI),qH=UH(iI),Ipe=cv(.42,0,1,1),Ope=cv(0,0,.58,1),HH=cv(.42,0,.58,1),Ppe=t=>Array.isArray(t)&&typeof t[0]!="number",WH=t=>Array.isArray(t)&&typeof t[0]=="number",Mpe={linear:Po,easeIn:Ipe,easeInOut:HH,easeOut:Ope,circIn:iI,circInOut:qH,circOut:BH,backIn:sI,backInOut:FH,backOut:zH,anticipate:$H},Dpe=t=>typeof t=="string",fL=t=>{if(WH(t)){rI(t.length===4);const[e,r,n,a]=t;return cv(e,r,n,a)}else if(Dpe(t))return Mpe[t];return t},s0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Rpe(t,e){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(h.schedule(f),t()),f(c)}const h={schedule:(f,p=!1,g=!1)=>{const j=g&&a?r:n;return p&&o.add(f),j.has(f)||j.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(c=f,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(u),r.clear(),a=!1,i&&(i=!1,h.process(f))}};return h}const Lpe=40;function GH(t,e){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=s0.reduce((A,O)=>(A[O]=Rpe(i),A),{}),{setup:c,read:u,resolveKeyframes:h,preUpdate:f,update:p,preRender:g,render:x,postRender:j}=o,w=()=>{const A=ru.useManualTiming?a.timestamp:performance.now();r=!1,ru.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(A-a.timestamp,Lpe),1)),a.timestamp=A,a.isProcessing=!0,c.process(a),u.process(a),h.process(a),f.process(a),p.process(a),g.process(a),x.process(a),j.process(a),a.isProcessing=!1,r&&e&&(n=!1,t(w))},b=()=>{r=!0,n=!0,a.isProcessing||t(w)};return{schedule:s0.reduce((A,O)=>{const M=o[O];return A[O]=(L,I=!1,T=!1)=>(r||b(),M.schedule(L,I,T)),A},{}),cancel:A=>{for(let O=0;O<s0.length;O++)o[s0[O]].cancel(A)},state:a,steps:o}}const{schedule:Kn,cancel:_d,state:xs,steps:tS}=GH(typeof requestAnimationFrame<"u"?requestAnimationFrame:Po,!0);let a1;function Upe(){a1=void 0}const Ni={now:()=>(a1===void 0&&Ni.set(xs.isProcessing||ru.useManualTiming?xs.timestamp:performance.now()),a1),set:t=>{a1=t,queueMicrotask(Upe)}},YH=t=>e=>typeof e=="string"&&e.startsWith(t),oI=YH("--"),Vpe=YH("var(--"),lI=t=>Vpe(t)?zpe.test(t.split("/*")[0].trim()):!1,zpe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},my={...Bp,transform:t=>tu(0,1,t)},i0={...Bp,default:1},Fx=t=>Math.round(t*1e5)/1e5,cI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Fpe(t){return t==null}const $pe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uI=(t,e)=>r=>!!(typeof r=="string"&&$pe.test(r)&&r.startsWith(t)||e&&!Fpe(r)&&Object.prototype.hasOwnProperty.call(r,e)),KH=(t,e,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,c]=n.match(cI);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},Bpe=t=>tu(0,255,t),rS={...Bp,transform:t=>Math.round(Bpe(t))},Ch={test:uI("rgb","red"),parse:KH("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+rS.transform(t)+", "+rS.transform(e)+", "+rS.transform(r)+", "+Fx(my.transform(n))+")"};function qpe(t){let e="",r="",n="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const dT={test:uI("#"),parse:qpe,transform:Ch.transform},uv=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Xu=uv("deg"),rc=uv("%"),dr=uv("px"),Hpe=uv("vh"),Wpe=uv("vw"),mL={...rc,parse:t=>rc.parse(t)/100,transform:t=>rc.transform(t*100)},Im={test:uI("hsl","hue"),parse:KH("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+rc.transform(Fx(e))+", "+rc.transform(Fx(r))+", "+Fx(my.transform(n))+")"},Ca={test:t=>Ch.test(t)||dT.test(t)||Im.test(t),parse:t=>Ch.test(t)?Ch.parse(t):Im.test(t)?Im.parse(t):dT.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ch.transform(t):Im.transform(t),getAnimatableNone:t=>{const e=Ca.parse(t);return e.alpha=0,Ca.transform(e)}},Gpe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ype(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(cI))==null?void 0:e.length)||0)+(((r=t.match(Gpe))==null?void 0:r.length)||0)>0}const XH="number",QH="color",Kpe="var",Xpe="var(",pL="${}",Qpe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function py(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const c=e.replace(Qpe,u=>(Ca.test(u)?(n.color.push(i),a.push(QH),r.push(Ca.parse(u))):u.startsWith(Xpe)?(n.var.push(i),a.push(Kpe),r.push(u)):(n.number.push(i),a.push(XH),r.push(parseFloat(u))),++i,pL)).split(pL);return{values:r,split:c,indexes:n,types:a}}function ZH(t){return py(t).values}function JH(t){const{split:e,types:r}=py(t),n=e.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],a[o]!==void 0){const c=r[o];c===XH?i+=Fx(a[o]):c===QH?i+=Ca.transform(a[o]):i+=a[o]}return i}}const Zpe=t=>typeof t=="number"?0:Ca.test(t)?Ca.getAnimatableNone(t):t;function Jpe(t){const e=ZH(t);return JH(t)(e.map(Zpe))}const Cd={test:Ype,parse:ZH,createTransformer:JH,getAnimatableNone:Jpe};function nS(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function ege({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let a=0,i=0,o=0;if(!e)a=i=o=r;else{const c=r<.5?r*(1+e):r+e-r*e,u=2*r-c;a=nS(u,c,t+1/3),i=nS(u,c,t),o=nS(u,c,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Q1(t,e){return r=>r>0?e:t}const ra=(t,e,r)=>t+(e-t)*r,aS=(t,e,r)=>{const n=t*t,a=r*(e*e-n)+n;return a<0?0:Math.sqrt(a)},tge=[dT,Ch,Im],rge=t=>tge.find(e=>e.test(t));function gL(t){const e=rge(t);if(!e)return!1;let r=e.parse(t);return e===Im&&(r=ege(r)),r}const xL=(t,e)=>{const r=gL(t),n=gL(e);if(!r||!n)return Q1(t,e);const a={...r};return i=>(a.red=aS(r.red,n.red,i),a.green=aS(r.green,n.green,i),a.blue=aS(r.blue,n.blue,i),a.alpha=ra(r.alpha,n.alpha,i),Ch.transform(a))},hT=new Set(["none","hidden"]);function nge(t,e){return hT.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function age(t,e){return r=>ra(t,e,r)}function dI(t){return typeof t=="number"?age:typeof t=="string"?lI(t)?Q1:Ca.test(t)?xL:oge:Array.isArray(t)?eW:typeof t=="object"?Ca.test(t)?xL:sge:Q1}function eW(t,e){const r=[...t],n=r.length,a=t.map((i,o)=>dI(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function sge(t,e){const r={...t,...e},n={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(n[a]=dI(t[a])(t[a],e[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function ige(t,e){const r=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=t.indexes[i][n[i]],c=t.values[o]??0;r[a]=c,n[i]++}return r}const oge=(t,e)=>{const r=Cd.createTransformer(e),n=py(t),a=py(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?hT.has(t)&&!a.values.length||hT.has(e)&&!n.values.length?nge(t,e):lv(eW(ige(n,a),a.values),r):Q1(t,e)};function tW(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?ra(t,e,r):dI(t)(t,e)}const lge=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Kn.update(e,r),stop:()=>_d(e),now:()=>xs.isProcessing?xs.timestamp:Ni.now()}},rW=(t,e,r=10)=>{let n="";const a=Math.max(Math.round(e/r),2);for(let i=0;i<a;i++)n+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Z1=2e4;function hI(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Z1;)e+=r,n=t.next(e);return e>=Z1?1/0:e}function cge(t,e=100,r){const n=r({...t,keyframes:[0,e]}),a=Math.min(hI(n),Z1);return{type:"keyframes",ease:i=>n.next(a*i).value/e,duration:Co(a)}}const uge=5;function nW(t,e,r){const n=Math.max(e-uge,0);return RH(r-t(n),e-n)}const ca={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sS=.001;function dge({duration:t=ca.duration,bounce:e=ca.bounce,velocity:r=ca.velocity,mass:n=ca.mass}){let a,i,o=1-e;o=tu(ca.minDamping,ca.maxDamping,o),t=tu(ca.minDuration,ca.maxDuration,Co(t)),o<1?(a=h=>{const f=h*o,p=f*t,g=f-r,x=fT(h,o),j=Math.exp(-p);return sS-g/x*j},i=h=>{const p=h*o*t,g=p*r+r,x=Math.pow(o,2)*Math.pow(h,2)*t,j=Math.exp(-p),w=fT(Math.pow(h,2),o);return(-a(h)+sS>0?-1:1)*((g-x)*j)/w}):(a=h=>{const f=Math.exp(-h*t),p=(h-r)*t+1;return-sS+f*p},i=h=>{const f=Math.exp(-h*t),p=(r-h)*(t*t);return f*p});const c=5/t,u=fge(a,i,c);if(t=tc(t),isNaN(u))return{stiffness:ca.stiffness,damping:ca.damping,duration:t};{const h=Math.pow(u,2)*n;return{stiffness:h,damping:o*2*Math.sqrt(n*h),duration:t}}}const hge=12;function fge(t,e,r){let n=r;for(let a=1;a<hge;a++)n=n-t(n)/e(n);return n}function fT(t,e){return t*Math.sqrt(1-e*e)}const mge=["duration","bounce"],pge=["stiffness","damping","mass"];function yL(t,e){return e.some(r=>t[r]!==void 0)}function gge(t){let e={velocity:ca.velocity,stiffness:ca.stiffness,damping:ca.damping,mass:ca.mass,isResolvedFromDuration:!1,...t};if(!yL(t,pge)&&yL(t,mge))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*tu(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:ca.mass,stiffness:a,damping:i}}else{const r=dge(t);e={...e,...r,mass:ca.mass},e.isResolvedFromDuration=!0}return e}function J1(t=ca.visualDuration,e=ca.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],c={done:!1,value:i},{stiffness:u,damping:h,mass:f,duration:p,velocity:g,isResolvedFromDuration:x}=gge({...r,velocity:-Co(r.velocity||0)}),j=g||0,w=h/(2*Math.sqrt(u*f)),b=o-i,N=Co(Math.sqrt(u/f)),E=Math.abs(b)<5;n||(n=E?ca.restSpeed.granular:ca.restSpeed.default),a||(a=E?ca.restDelta.granular:ca.restDelta.default);let A;if(w<1){const M=fT(N,w);A=L=>{const I=Math.exp(-w*N*L);return o-I*((j+w*N*b)/M*Math.sin(M*L)+b*Math.cos(M*L))}}else if(w===1)A=M=>o-Math.exp(-N*M)*(b+(j+N*b)*M);else{const M=N*Math.sqrt(w*w-1);A=L=>{const I=Math.exp(-w*N*L),T=Math.min(M*L,300);return o-I*((j+w*N*b)*Math.sinh(T)+M*b*Math.cosh(T))/M}}const O={calculatedDuration:x&&p||null,next:M=>{const L=A(M);if(x)c.done=M>=p;else{let I=M===0?j:0;w<1&&(I=M===0?tc(j):nW(A,M,L));const T=Math.abs(I)<=n,_=Math.abs(o-L)<=a;c.done=T&&_}return c.value=c.done?o:L,c},toString:()=>{const M=Math.min(hI(O),Z1),L=rW(I=>O.next(M*I).value,M,30);return M+"ms "+L},toTransition:()=>{}};return O}J1.applyToOptions=t=>{const e=cge(t,100,J1);return t.ease=e.ease,t.duration=tc(e.duration),t.type="keyframes",t};function mT({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:c,max:u,restDelta:h=.5,restSpeed:f}){const p=t[0],g={done:!1,value:p},x=T=>c!==void 0&&T<c||u!==void 0&&T>u,j=T=>c===void 0?u:u===void 0||Math.abs(c-T)<Math.abs(u-T)?c:u;let w=r*e;const b=p+w,N=o===void 0?b:o(b);N!==b&&(w=N-p);const E=T=>-w*Math.exp(-T/n),A=T=>N+E(T),O=T=>{const _=E(T),D=A(T);g.done=Math.abs(_)<=h,g.value=g.done?N:D};let M,L;const I=T=>{x(g.value)&&(M=T,L=J1({keyframes:[g.value,j(g.value)],velocity:nW(A,T,g.value),damping:a,stiffness:i,restDelta:h,restSpeed:f}))};return I(0),{calculatedDuration:null,next:T=>{let _=!1;return!L&&M===void 0&&(_=!0,O(T),I(T)),M!==void 0&&T>=M?L.next(T-M):(!_&&O(T),g)}}}function xge(t,e,r){const n=[],a=r||ru.mix||tW,i=t.length-1;for(let o=0;o<i;o++){let c=a(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Po:e;c=lv(u,c)}n.push(c)}return n}function yge(t,e,{clamp:r=!0,ease:n,mixer:a}={}){const i=t.length;if(rI(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=xge(e,n,a),u=c.length,h=f=>{if(o&&f<t[0])return e[0];let p=0;if(u>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const g=fy(t[p],t[p+1],f);return c[p](g)};return r?f=>h(tu(t[0],t[i-1],f)):h}function vge(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const a=fy(0,e,n);t.push(ra(r,1,a))}}function bge(t){const e=[0];return vge(e,t.length-1),e}function jge(t,e){return t.map(r=>r*e)}function wge(t,e){return t.map(()=>e||HH).splice(0,t.length-1)}function $x({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const a=Ppe(n)?n.map(fL):fL(n),i={done:!1,value:e[0]},o=jge(r&&r.length===e.length?r:bge(e),t),c=yge(o,e,{ease:Array.isArray(a)?a:wge(e,a)});return{calculatedDuration:t,next:u=>(i.value=c(u),i.done=u>=t,i)}}const kge=t=>t!==null;function fI(t,{repeat:e,repeatType:r="loop"},n,a=1){const i=t.filter(kge),c=a<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!c||n===void 0?i[c]:n}const Nge={decay:mT,inertia:mT,tween:$x,keyframes:$x,spring:J1};function aW(t){typeof t.type=="string"&&(t.type=Nge[t.type])}class mI{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Sge=t=>t/100;class pI extends mI{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==Ni.now()&&this.tick(Ni.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;aW(e);const{type:r=$x,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:c}=e;const u=r||$x;u!==$x&&typeof c[0]!="number"&&(this.mixKeyframes=lv(Sge,tW(c[0],c[1])),c=[0,100]);const h=u({...e,keyframes:c});i==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=hI(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=h}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:f,repeat:p,repeatType:g,repeatDelay:x,type:j,onUpdate:w,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const N=this.currentTime-h*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?N<0:N>a;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let A=this.currentTime,O=n;if(p){const T=Math.min(this.currentTime,a)/c;let _=Math.floor(T),D=T%1;!D&&T>=1&&(D=1),D===1&&_--,_=Math.min(_,p+1),!!(_%2)&&(g==="reverse"?(D=1-D,x&&(D-=x/c)):g==="mirror"&&(O=o)),A=tu(0,1,D)*c}const M=E?{done:!1,value:f[0]}:O.next(A);i&&(M.value=i(M.value));let{done:L}=M;!E&&u!==null&&(L=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return I&&j!==mT&&(M.value=fI(f,this.options,b,this.speed)),w&&w(M.value),I&&this.finish(),M}then(e,r){return this.finished.then(e,r)}get duration(){return Co(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Co(e)}get time(){return Co(this.currentTime)}set time(e){var r;e=tc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ni.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Co(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:e=lge,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ni.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function Ege(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ih=t=>t*180/Math.PI,pT=t=>{const e=Ih(Math.atan2(t[1],t[0]));return gT(e)},Age={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:pT,rotateZ:pT,skewX:t=>Ih(Math.atan(t[1])),skewY:t=>Ih(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},gT=t=>(t=t%360,t<0&&(t+=360),t),vL=pT,bL=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),jL=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Tge={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bL,scaleY:jL,scale:t=>(bL(t)+jL(t))/2,rotateX:t=>gT(Ih(Math.atan2(t[6],t[5]))),rotateY:t=>gT(Ih(Math.atan2(-t[2],t[0]))),rotateZ:vL,rotate:vL,skewX:t=>Ih(Math.atan(t[4])),skewY:t=>Ih(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function xT(t){return t.includes("scale")?1:0}function yT(t,e){if(!t||t==="none")return xT(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Tge,a=r;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Age,a=c}if(!a)return xT(e);const i=n[e],o=a[1].split(",").map(Cge);return typeof i=="function"?i(o):o[i]}const _ge=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return yT(r,e)};function Cge(t){return parseFloat(t.trim())}const qp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hp=new Set(qp),wL=t=>t===Bp||t===dr,Ige=new Set(["x","y","z"]),Oge=qp.filter(t=>!Ige.has(t));function Pge(t){const e=[];return Oge.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Vh={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>yT(e,"x"),y:(t,{transform:e})=>yT(e,"y")};Vh.translateX=Vh.x;Vh.translateY=Vh.y;const zh=new Set;let vT=!1,bT=!1,jT=!1;function sW(){if(bT){const t=Array.from(zh).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const a=Pge(n);a.length&&(r.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var c;(c=n.getValue(i))==null||c.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}bT=!1,vT=!1,zh.forEach(t=>t.complete(jT)),zh.clear()}function iW(){zh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(bT=!0)})}function Mge(){jT=!0,iW(),sW(),jT=!1}class gI{constructor(e,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(zh.add(this),vT||(vT=!0,Kn.read(iW),Kn.resolveKeyframes(sW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:a}=this;if(e[0]===null){const i=a==null?void 0:a.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const c=n.readValue(r,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}Ege(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zh.delete(this)}cancel(){this.state==="scheduled"&&(zh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Dge=t=>t.startsWith("--");function Rge(t,e,r){Dge(e)?t.style.setProperty(e,r):t.style[e]=r}const Lge=nI(()=>window.ScrollTimeline!==void 0),Uge={};function Vge(t,e){const r=nI(t);return()=>Uge[e]??r()}const oW=Vge(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wx=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,kL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wx([0,.65,.55,1]),circOut:wx([.55,0,1,.45]),backIn:wx([.31,.01,.66,-.59]),backOut:wx([.33,1.53,.69,.99])};function lW(t,e){if(t)return typeof t=="function"?oW()?rW(t,e):"ease-out":WH(t)?wx(t):Array.isArray(t)?t.map(r=>lW(r,e)||kL.easeOut):kL[t]}function zge(t,e,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:c="easeOut",times:u}={},h=void 0){const f={[e]:r};u&&(f.offset=u);const p=lW(c,a);Array.isArray(p)&&(f.easing=p);const g={delay:n,duration:a,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),t.animate(f,g)}function cW(t){return typeof t=="function"&&"applyToOptions"in t}function Fge({type:t,...e}){return cW(t)&&oW()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class $ge extends mI{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,rI(typeof e.type!="string");const h=Fge(e);this.animation=zge(r,n,a,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const f=fI(a,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):Rge(r,n,f),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Co(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Co(e)}get time(){return Co(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=tc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Lge()?(this.animation.timeline=e,Po):r(this)}}const uW={anticipate:$H,backInOut:FH,circInOut:qH};function Bge(t){return t in uW}function qge(t){typeof t.ease=="string"&&Bge(t.ease)&&(t.ease=uW[t.ease])}const NL=10;class Hge extends $ge{constructor(e){qge(e),aW(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const c=new pI({...o,autoplay:!1}),u=tc(this.finishedTime??this.time);r.setWithVelocity(c.sample(u-NL).value,c.sample(u).value,NL),c.stop()}}const SL=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Cd.test(t)||t==="0")&&!t.startsWith("url("));function Wge(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Gge(t,e,r,n){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=SL(a,e),c=SL(i,e);return!o||!c?!1:Wge(t)||(r==="spring"||cW(r))&&n}function wT(t){t.duration=0,t.type="keyframes"}const Yge=new Set(["opacity","clipPath","filter","transform"]),Kge=nI(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Xge(t){var f;const{motionValue:e,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return Kge()&&r&&Yge.has(r)&&(r!=="transform"||!h)&&!u&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const Qge=40;class Zge extends mI{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:c,name:u,motionValue:h,element:f,...p}){var j;super(),this.stop=()=>{var w,b;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Ni.now();const g={autoplay:e,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:u,motionValue:h,element:f,...p},x=(f==null?void 0:f.KeyframeResolver)||gI;this.keyframeResolver=new x(c,(w,b,N)=>this.onKeyframesResolved(w,b,g,!N),u,h,f),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(e,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:c,delay:u,isHandoff:h,onUpdate:f}=n;this.resolvedAt=Ni.now(),Gge(e,i,o,c)||((ru.instantAnimations||!u)&&(f==null||f(fI(e,n,r))),e[0]=e[e.length-1],wT(n),n.repeat=0);const g={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Qge?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},x=!h&&Xge(g)?new Hge({...g,element:g.motionValue.owner.current}):new pI(g);x.finished.then(()=>this.notifyFinished()).catch(Po),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Mge()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Jge=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function exe(t){const e=Jge.exec(t);if(!e)return[,];const[,r,n,a]=e;return[`--${r??n}`,a]}function dW(t,e,r=1){const[n,a]=exe(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return PH(o)?parseFloat(o):o}return lI(a)?dW(a,e,r+1):a}function xI(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const hW=new Set(["width","height","top","left","right","bottom",...qp]),txe={test:t=>t==="auto",parse:t=>t},fW=t=>e=>e.test(t),mW=[Bp,dr,rc,Xu,Wpe,Hpe,txe],EL=t=>mW.find(fW(t));function rxe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||DH(t):!0}const nxe=new Set(["brightness","contrast","saturate","opacity"]);function axe(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(cI)||[];if(!n)return t;const a=r.replace(n,"");let i=nxe.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+a+")"}const sxe=/\b([a-z-]*)\(.*?\)/gu,kT={...Cd,getAnimatableNone:t=>{const e=t.match(sxe);return e?e.map(axe).join(" "):t}},AL={...Bp,transform:Math.round},ixe={rotate:Xu,rotateX:Xu,rotateY:Xu,rotateZ:Xu,scale:i0,scaleX:i0,scaleY:i0,scaleZ:i0,skew:Xu,skewX:Xu,skewY:Xu,distance:dr,translateX:dr,translateY:dr,translateZ:dr,x:dr,y:dr,z:dr,perspective:dr,transformPerspective:dr,opacity:my,originX:mL,originY:mL,originZ:dr},yI={borderWidth:dr,borderTopWidth:dr,borderRightWidth:dr,borderBottomWidth:dr,borderLeftWidth:dr,borderRadius:dr,radius:dr,borderTopLeftRadius:dr,borderTopRightRadius:dr,borderBottomRightRadius:dr,borderBottomLeftRadius:dr,width:dr,maxWidth:dr,height:dr,maxHeight:dr,top:dr,right:dr,bottom:dr,left:dr,padding:dr,paddingTop:dr,paddingRight:dr,paddingBottom:dr,paddingLeft:dr,margin:dr,marginTop:dr,marginRight:dr,marginBottom:dr,marginLeft:dr,backgroundPositionX:dr,backgroundPositionY:dr,...ixe,zIndex:AL,fillOpacity:my,strokeOpacity:my,numOctaves:AL},oxe={...yI,color:Ca,backgroundColor:Ca,outlineColor:Ca,fill:Ca,stroke:Ca,borderColor:Ca,borderTopColor:Ca,borderRightColor:Ca,borderBottomColor:Ca,borderLeftColor:Ca,filter:kT,WebkitFilter:kT},pW=t=>oxe[t];function gW(t,e){let r=pW(t);return r!==kT&&(r=Cd),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const lxe=new Set(["auto","none","0"]);function cxe(t,e,r){let n=0,a;for(;n<t.length&&!a;){const i=t[n];typeof i=="string"&&!lxe.has(i)&&py(i).values.length&&(a=t[n]),n++}if(a&&r)for(const i of e)t[i]=gW(r,a)}class uxe extends gI{constructor(e,r,n,a,i){super(e,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),lI(h))){const f=dW(h,r.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!hW.has(n)||e.length!==2)return;const[a,i]=e,o=EL(a),c=EL(i);if(o!==c)if(wL(o)&&wL(c))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else Vh[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let a=0;a<e.length;a++)(e[a]===null||rxe(e[a]))&&n.push(a);n.length&&cxe(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vh[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){var c;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Vh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function dxe(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const a=(r==null?void 0:r[t])??n.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const xW=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function yW(t){return MH(t)&&"offsetHeight"in t}const TL=30,hxe=t=>!isNaN(parseFloat(t));class fxe{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const a=Ni.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Ni.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hxe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new aI);const n=this.events[e].add(r);return e==="change"?()=>{n(),Kn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ni.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>TL)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,TL);return RH(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mp(t,e){return new fxe(t,e)}const{schedule:vI}=GH(queueMicrotask,!1),el={x:!1,y:!1};function vW(){return el.x||el.y}function mxe(t){return t==="x"||t==="y"?el[t]?null:(el[t]=!0,()=>{el[t]=!1}):el.x||el.y?null:(el.x=el.y=!0,()=>{el.x=el.y=!1})}function bW(t,e){const r=dxe(t),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[r,a,()=>n.abort()]}function _L(t){return!(t.pointerType==="touch"||vW())}function pxe(t,e,r={}){const[n,a,i]=bW(t,r),o=c=>{if(!_L(c))return;const{target:u}=c,h=e(u,c);if(typeof h!="function"||!u)return;const f=p=>{_L(p)&&(h(p),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,a)};return n.forEach(c=>{c.addEventListener("pointerenter",o,a)}),i}const jW=(t,e)=>e?t===e?!0:jW(t,e.parentElement):!1,bI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,gxe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xxe(t){return gxe.has(t.tagName)||t.tabIndex!==-1}const s1=new WeakSet;function CL(t){return e=>{e.key==="Enter"&&t(e)}}function iS(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yxe=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=CL(()=>{if(s1.has(r))return;iS(r,"down");const a=CL(()=>{iS(r,"up")}),i=()=>iS(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function IL(t){return bI(t)&&!vW()}function vxe(t,e,r={}){const[n,a,i]=bW(t,r),o=c=>{const u=c.currentTarget;if(!IL(c))return;s1.add(u);const h=e(u,c),f=(x,j)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),s1.has(u)&&s1.delete(u),IL(x)&&typeof h=="function"&&h(x,{success:j})},p=x=>{f(x,u===window||u===document||r.useGlobalTarget||jW(u,x.target))},g=x=>{f(x,!1)};window.addEventListener("pointerup",p,a),window.addEventListener("pointercancel",g,a)};return n.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",o,a),yW(c)&&(c.addEventListener("focus",h=>yxe(h,a)),!xxe(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function wW(t){return MH(t)&&"ownerSVGElement"in t}function bxe(t){return wW(t)&&t.tagName==="svg"}const qs=t=>!!(t&&t.getVelocity),jxe=[...mW,Ca,Cd],wxe=t=>jxe.find(fW(t)),jI=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function OL(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function kxe(...t){return e=>{let r=!1;const n=t.map(a=>{const i=OL(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():OL(t[a],null)}}}}function Nxe(...t){return v.useCallback(kxe(...t),t)}class Sxe extends v.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=yW(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Exe({children:t,isPresent:e,anchorX:r,root:n}){const a=v.useId(),i=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=v.useContext(jI),u=Nxe(i,t==null?void 0:t.ref);return v.useInsertionEffect(()=>{const{width:h,height:f,top:p,left:g,right:x}=o.current;if(e||!i.current||!h||!f)return;const j=r==="left"?`left: ${g}`:`right: ${x}`;i.current.dataset.motionPopId=a;const w=document.createElement("style");c&&(w.nonce=c);const b=n??document.head;return b.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${j}px !important;
            top: ${p}px !important;
          }
        `),()=>{b.contains(w)&&b.removeChild(w)}},[e]),s.jsx(Sxe,{isPresent:e,childRef:i,sizeRef:o,children:v.cloneElement(t,{ref:u})})}const Axe=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:c,root:u})=>{const h=Z3(Txe),f=v.useId();let p=!0,g=v.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:r,custom:a,onExitComplete:x=>{h.set(x,!0);for(const j of h.values())if(!j)return;n&&n()},register:x=>(h.set(x,!1),()=>h.delete(x))}),[r,h,n]);return i&&p&&(g={...g}),v.useMemo(()=>{h.forEach((x,j)=>h.set(j,!1))},[r]),v.useEffect(()=>{!r&&!h.size&&n&&n()},[r]),o==="popLayout"&&(t=s.jsx(Exe,{isPresent:r,anchorX:c,root:u,children:t})),s.jsx(Ow.Provider,{value:g,children:t})};function Txe(){return new Map}function kW(t=!0){const e=v.useContext(Ow);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=e,i=v.useId();v.useEffect(()=>{if(t)return a(i)},[t]);const o=v.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}const o0=t=>t.key||"";function PL(t){const e=[];return v.Children.forEach(t,r=>{v.isValidElement(r)&&e.push(r)}),e}const Ti=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:c="left",root:u})=>{const[h,f]=kW(o),p=v.useMemo(()=>PL(t),[t]),g=o&&!h?[]:p.map(o0),x=v.useRef(!0),j=v.useRef(p),w=Z3(()=>new Map),[b,N]=v.useState(p),[E,A]=v.useState(p);OH(()=>{x.current=!1,j.current=p;for(let L=0;L<E.length;L++){const I=o0(E[L]);g.includes(I)?w.delete(I):w.get(I)!==!0&&w.set(I,!1)}},[E,g.length,g.join("-")]);const O=[];if(p!==b){let L=[...p];for(let I=0;I<E.length;I++){const T=E[I],_=o0(T);g.includes(_)||(L.splice(I,0,T),O.push(T))}return i==="wait"&&O.length&&(L=O),A(PL(L)),N(p),null}const{forceRender:M}=v.useContext(Q3);return s.jsx(s.Fragment,{children:E.map(L=>{const I=o0(L),T=o&&!h?!1:p===E||g.includes(I),_=()=>{if(w.has(I))w.set(I,!0);else return;let D=!0;w.forEach(P=>{P||(D=!1)}),D&&(M==null||M(),A(j.current),o&&(f==null||f()),n&&n())};return s.jsx(Axe,{isPresent:T,initial:!x.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:i,root:u,onExitComplete:T?void 0:_,anchorX:c,children:L},I)})})},NW=v.createContext({strict:!1}),ML={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pp={};for(const t in ML)pp[t]={isEnabled:e=>ML[t].some(r=>!!e[r])};function _xe(t){for(const e in t)pp[e]={...pp[e],...t[e]}}const Cxe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ej(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Cxe.has(t)}let SW=t=>!ej(t);function Ixe(t){typeof t=="function"&&(SW=e=>e.startsWith("on")?!ej(e):t(e))}try{Ixe(require("@emotion/is-prop-valid").default)}catch{}function Oxe(t,e,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(SW(a)||r===!0&&ej(a)||!e&&!ej(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}const Pw=v.createContext({});function Mw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gy(t){return typeof t=="string"||Array.isArray(t)}const wI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kI=["initial",...wI];function Dw(t){return Mw(t.animate)||kI.some(e=>gy(t[e]))}function EW(t){return!!(Dw(t)||t.variants)}function Pxe(t,e){if(Dw(t)){const{initial:r,animate:n}=t;return{initial:r===!1||gy(r)?r:void 0,animate:gy(n)?n:void 0}}return t.inherit!==!1?e:{}}function Mxe(t){const{initial:e,animate:r}=Pxe(t,v.useContext(Pw));return v.useMemo(()=>({initial:e,animate:r}),[DL(e),DL(r)])}function DL(t){return Array.isArray(t)?t.join(" "):t}const xy={};function Dxe(t){for(const e in t)xy[e]=t[e],oI(e)&&(xy[e].isCSSVariable=!0)}function AW(t,{layout:e,layoutId:r}){return Hp.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!xy[t]||t==="opacity")}const Rxe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lxe=qp.length;function Uxe(t,e,r){let n="",a=!0;for(let i=0;i<Lxe;i++){const o=qp[i],c=t[o];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(o.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||r){const h=xW(c,yI[o]);if(!u){a=!1;const f=Rxe[o]||o;n+=`${f}(${h}) `}r&&(e[o]=h)}}return n=n.trim(),r?n=r(e,a?"":n):a&&(n="none"),n}function NI(t,e,r){const{style:n,vars:a,transformOrigin:i}=t;let o=!1,c=!1;for(const u in e){const h=e[u];if(Hp.has(u)){o=!0;continue}else if(oI(u)){a[u]=h;continue}else{const f=xW(h,yI[u]);u.startsWith("origin")?(c=!0,i[u]=f):n[u]=f}}if(e.transform||(o||r?n.transform=Uxe(e,t.transform,r):n.transform&&(n.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:f=0}=i;n.transformOrigin=`${u} ${h} ${f}`}}const SI=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TW(t,e,r){for(const n in e)!qs(e[n])&&!AW(n,r)&&(t[n]=e[n])}function Vxe({transformTemplate:t},e){return v.useMemo(()=>{const r=SI();return NI(r,e,t),Object.assign({},r.vars,r.style)},[e])}function zxe(t,e){const r=t.style||{},n={};return TW(n,r,t),Object.assign(n,Vxe(t,e)),n}function Fxe(t,e){const r={},n=zxe(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const $xe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Bxe={offset:"strokeDashoffset",array:"strokeDasharray"};function qxe(t,e,r=1,n=0,a=!0){t.pathLength=1;const i=a?$xe:Bxe;t[i.offset]=dr.transform(-n);const o=dr.transform(e),c=dr.transform(r);t[i.array]=`${o} ${c}`}function _W(t,{attrX:e,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...c},u,h,f){if(NI(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),a!==void 0&&qxe(p,a,i,o,!1)}const CW=()=>({...SI(),attrs:{}}),IW=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Hxe(t,e,r,n){const a=v.useMemo(()=>{const i=CW();return _W(i,e,IW(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};TW(i,t.style,t),a.style={...i,...a.style}}return a}const Wxe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function EI(t){return typeof t!="string"||t.includes("-")?!1:!!(Wxe.indexOf(t)>-1||/[A-Z]/u.test(t))}function Gxe(t,e,r,{latestValues:n},a,i=!1){const c=(EI(t)?Hxe:Fxe)(e,n,a,t),u=Oxe(e,typeof t=="string",i),h=t!==v.Fragment?{...u,...c,ref:r}:{},{children:f}=e,p=v.useMemo(()=>qs(f)?f.get():f,[f]);return v.createElement(t,{...h,children:p})}function RL(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function AI(t,e,r,n){if(typeof e=="function"){const[a,i]=RL(n);e=e(r!==void 0?r:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=RL(n);e=e(r!==void 0?r:t.custom,a,i)}return e}function i1(t){return qs(t)?t.get():t}function Yxe({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,a){return{latestValues:Kxe(r,n,a,t),renderState:e()}}function Kxe(t,e,r,n){const a={},i=n(t,{});for(const g in i)a[g]=i1(i[g]);let{initial:o,animate:c}=t;const u=Dw(t),h=EW(t);e&&h&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const p=f?c:o;if(p&&typeof p!="boolean"&&!Mw(p)){const g=Array.isArray(p)?p:[p];for(let x=0;x<g.length;x++){const j=AI(t,g[x]);if(j){const{transitionEnd:w,transition:b,...N}=j;for(const E in N){let A=N[E];if(Array.isArray(A)){const O=f?A.length-1:0;A=A[O]}A!==null&&(a[E]=A)}for(const E in w)a[E]=w[E]}}}return a}const OW=t=>(e,r)=>{const n=v.useContext(Pw),a=v.useContext(Ow),i=()=>Yxe(t,e,n,a);return r?i():Z3(i)};function TI(t,e,r){var i;const{style:n}=t,a={};for(const o in n)(qs(n[o])||e.style&&qs(e.style[o])||AW(o,t)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const Xxe=OW({scrapeMotionValuesFromProps:TI,createRenderState:SI});function PW(t,e,r){const n=TI(t,e,r);for(const a in t)if(qs(t[a])||qs(e[a])){const i=qp.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=t[a]}return n}const Qxe=OW({scrapeMotionValuesFromProps:PW,createRenderState:CW}),Zxe=Symbol.for("motionComponentSymbol");function Om(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Jxe(t,e,r){return v.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Om(r)&&(r.current=n))},[e])}const _I=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eye="framerAppearId",MW="data-"+_I(eye),DW=v.createContext({});function tye(t,e,r,n,a){var w,b;const{visualElement:i}=v.useContext(Pw),o=v.useContext(NW),c=v.useContext(Ow),u=v.useContext(jI).reducedMotion,h=v.useRef(null);n=n||o.renderer,!h.current&&n&&(h.current=n(t,{visualState:e,parent:i,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,p=v.useContext(DW);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&rye(h.current,r,a,p);const g=v.useRef(!1);v.useInsertionEffect(()=>{f&&g.current&&f.update(r,c)});const x=r[MW],j=v.useRef(!!x&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,x))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,x)));return OH(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),j.current&&f.animationState&&f.animationState.animateChanges())}),v.useEffect(()=>{f&&(!j.current&&f.animationState&&f.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,x)}),j.current=!1),f.enteringChildren=void 0)}),f}function rye(t,e,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:c,layoutScroll:u,layoutRoot:h,layoutCrossfade:f}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:RW(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||c&&Om(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:u,layoutRoot:h})}function RW(t){if(t)return t.options.allowProjection!==!1?t.projection:RW(t.parent)}function oS(t,{forwardMotionProps:e=!1}={},r,n){r&&_xe(r);const a=EI(t)?Qxe:Xxe;function i(c,u){let h;const f={...v.useContext(jI),...c,layoutId:nye(c)},{isStatic:p}=f,g=Mxe(c),x=a(c,p);if(!p&&J3){aye();const j=sye(f);h=j.MeasureLayout,g.visualElement=tye(t,x,f,n,j.ProjectionNode)}return s.jsxs(Pw.Provider,{value:g,children:[h&&g.visualElement?s.jsx(h,{visualElement:g.visualElement,...f}):null,Gxe(t,c,Jxe(x,g.visualElement,u),x,p,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=v.forwardRef(i);return o[Zxe]=t,o}function nye({layoutId:t}){const e=v.useContext(Q3).id;return e&&t!==void 0?e+"-"+t:t}function aye(t,e){v.useContext(NW).strict}function sye(t){const{drag:e,layout:r}=pp;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function iye(t,e){if(typeof Proxy>"u")return oS;const r=new Map,n=(i,o)=>oS(i,o,t,e),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,oS(o,void 0,t,e)),r.get(o))})}function LW({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function oye({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function lye(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function lS(t){return t===void 0||t===1}function NT({scale:t,scaleX:e,scaleY:r}){return!lS(t)||!lS(e)||!lS(r)}function jh(t){return NT(t)||UW(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function UW(t){return LL(t.x)||LL(t.y)}function LL(t){return t&&t!=="0%"}function tj(t,e,r){const n=t-r,a=e*n;return r+a}function UL(t,e,r,n,a){return a!==void 0&&(t=tj(t,a,n)),tj(t,r,n)+e}function ST(t,e=0,r=1,n,a){t.min=UL(t.min,e,r,n,a),t.max=UL(t.max,e,r,n,a)}function VW(t,{x:e,y:r}){ST(t.x,e.translate,e.scale,e.originPoint),ST(t.y,r.translate,r.scale,r.originPoint)}const VL=.999999999999,zL=1.0000000000001;function cye(t,e,r,n=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,o;for(let c=0;c<a;c++){i=r[c],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Mm(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,VW(t,o)),n&&jh(i.latestValues)&&Mm(t,i.latestValues))}e.x<zL&&e.x>VL&&(e.x=1),e.y<zL&&e.y>VL&&(e.y=1)}function Pm(t,e){t.min=t.min+e,t.max=t.max+e}function FL(t,e,r,n,a=.5){const i=ra(t.min,t.max,a);ST(t,e,r,i,n)}function Mm(t,e){FL(t.x,e.x,e.scaleX,e.scale,e.originX),FL(t.y,e.y,e.scaleY,e.scale,e.originY)}function zW(t,e){return LW(lye(t.getBoundingClientRect(),e))}function uye(t,e,r){const n=zW(t,r),{scroll:a}=e;return a&&(Pm(n.x,a.offset.x),Pm(n.y,a.offset.y)),n}const $L=()=>({translate:0,scale:1,origin:0,originPoint:0}),Dm=()=>({x:$L(),y:$L()}),BL=()=>({min:0,max:0}),ja=()=>({x:BL(),y:BL()}),ET={current:null},FW={current:!1};function dye(){if(FW.current=!0,!!J3)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ET.current=t.matches;t.addEventListener("change",e),e()}else ET.current=!1}const hye=new WeakMap;function fye(t,e,r){for(const n in e){const a=e[n],i=r[n];if(qs(a))t.addValue(n,a);else if(qs(i))t.addValue(n,mp(a,{owner:t}));else if(i!==a)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(n);t.addValue(n,mp(o!==void 0?o:a,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const qL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mye{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gI,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Ni.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Kn.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=Dw(r),this.isVariantNode=EW(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in p){const x=p[g];u[g]!==void 0&&qs(x)&&x.set(u[g])}}mount(e){var r;this.current=e,hye.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),FW.current||dye(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ET.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),_d(this.notifyUpdate),_d(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Hp.has(e);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Kn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pp){const r=pp[e];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ja()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<qL.length;n++){const a=qL[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=fye(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=mp(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(PH(n)||DH(n))?n=parseFloat(n):!wxe(n)&&Cd.test(r)&&(n=gW(e,r)),this.setBaseTarget(e,qs(n)?n.get():n)),qs(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=AI(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!qs(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new aI),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){vI.render(this.render)}}class $W extends mye{constructor(){super(...arguments),this.KeyframeResolver=uxe}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qs(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function BW(t,{style:e,vars:r},n,a){const i=t.style;let o;for(o in e)i[o]=e[o];a==null||a.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function pye(t){return window.getComputedStyle(t)}class gye extends $W{constructor(){super(...arguments),this.type="html",this.renderInstance=BW}readValueFromInstance(e,r){var n;if(Hp.has(r))return(n=this.projection)!=null&&n.isProjecting?xT(r):_ge(e,r);{const a=pye(e),i=(oI(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return zW(e,r)}build(e,r,n){NI(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return TI(e,r,n)}}const qW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xye(t,e,r,n){BW(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(qW.has(a)?a:_I(a),e.attrs[a])}class yye extends $W{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ja}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Hp.has(r)){const n=pW(r);return n&&n.default||0}return r=qW.has(r)?r:_I(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return PW(e,r,n)}build(e,r,n){_W(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,a){xye(e,r,n,a)}mount(e){this.isSVGTag=IW(e.tagName),super.mount(e)}}const vye=(t,e)=>EI(t)?new yye(e):new gye(e,{allowProjection:t!==v.Fragment});function Hm(t,e,r){const n=t.getProps();return AI(n,e,r!==void 0?r:n.custom,t)}const AT=t=>Array.isArray(t);function bye(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,mp(r))}function jye(t){return AT(t)?t[t.length-1]||0:t}function wye(t,e){const r=Hm(t,e);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const c=jye(i[o]);bye(t,o,c)}}function kye(t){return!!(qs(t)&&t.add)}function TT(t,e){const r=t.getValue("willChange");if(kye(r))return r.add(e);if(!r&&ru.WillChange){const n=new ru.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function HW(t){return t.props[MW]}const Nye=t=>t!==null;function Sye(t,{repeat:e,repeatType:r="loop"},n){const a=t.filter(Nye),i=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[i]}const Eye={type:"spring",stiffness:500,damping:25,restSpeed:10},Aye=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Tye={type:"keyframes",duration:.8},_ye={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Cye=(t,{keyframes:e})=>e.length>2?Tye:Hp.has(t)?t.startsWith("scale")?Aye(e[1]):Eye:_ye;function Iye({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:c,from:u,elapsed:h,...f}){return!!Object.keys(f).length}const CI=(t,e,r,n={},a,i)=>o=>{const c=xI(n,t)||{},u=c.delay||n.delay||0;let{elapsed:h=0}=n;h=h-tc(u);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:i?void 0:a};Iye(c)||Object.assign(f,Cye(t,f)),f.duration&&(f.duration=tc(f.duration)),f.repeatDelay&&(f.repeatDelay=tc(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(wT(f),f.delay===0&&(p=!0)),(ru.instantAnimations||ru.skipAnimations)&&(p=!0,wT(f),f.delay=0),f.allowFlatten=!c.type&&!c.ease,p&&!i&&e.get()!==void 0){const g=Sye(f.keyframes,c);if(g!==void 0){Kn.update(()=>{f.onUpdate(g),f.onComplete()});return}}return c.isSync?new pI(f):new Zge(f)};function Oye({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function WW(t,e,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...c}=e;n&&(i=n);const u=[],h=a&&t.animationState&&t.animationState.getState()[a];for(const f in c){const p=t.getValue(f,t.latestValues[f]??null),g=c[f];if(g===void 0||h&&Oye(h,f))continue;const x={delay:r,...xI(i||{},f)},j=p.get();if(j!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===j&&!x.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const N=HW(t);if(N){const E=window.MotionHandoffAnimation(N,f,Kn);E!==null&&(x.startTime=E,w=!0)}}TT(t,f),p.start(CI(f,p,g,t.shouldReduceMotion&&hW.has(f)?{type:!1}:x,t,w));const b=p.animation;b&&u.push(b)}return o&&Promise.all(u).then(()=>{Kn.update(()=>{o&&wye(t,o)})}),u}function GW(t,e,r,n=0,a=1){const i=Array.from(t).sort((h,f)=>h.sortNodePosition(f)).indexOf(e),o=t.size,c=(o-1)*n;return typeof r=="function"?r(i,o):a===1?i*n:c-i*n}function _T(t,e,r={}){var u;const n=Hm(t,e,r.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(WW(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=a;return Pye(t,e,h,f,p,g,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[h,f]=c==="beforeChildren"?[i,o]:[o,i];return h().then(()=>f())}else return Promise.all([i(),o(r.delay)])}function Pye(t,e,r=0,n=0,a=0,i=1,o){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(_T(u,e,{...o,delay:r+(typeof n=="function"?0:n)+GW(t.variantChildren,u,n,a,i)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function Mye(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(i=>_T(t,i,r));n=Promise.all(a)}else if(typeof e=="string")n=_T(t,e,r);else{const a=typeof e=="function"?Hm(t,e,r.custom):e;n=Promise.all(WW(t,a,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function YW(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Dye=kI.length;function KW(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?KW(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Dye;r++){const n=kI[r],a=t.props[n];(gy(a)||a===!1)&&(e[n]=a)}return e}const Rye=[...wI].reverse(),Lye=wI.length;function Uye(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Mye(t,r,n)))}function Vye(t){let e=Uye(t),r=HL(),n=!0;const a=u=>(h,f)=>{var g;const p=Hm(t,f,u==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:x,transitionEnd:j,...w}=p;h={...h,...w,...j}}return h};function i(u){e=u(t)}function o(u){const{props:h}=t,f=KW(t.parent)||{},p=[],g=new Set;let x={},j=1/0;for(let b=0;b<Lye;b++){const N=Rye[b],E=r[N],A=h[N]!==void 0?h[N]:f[N],O=gy(A),M=N===u?E.isActive:null;M===!1&&(j=b);let L=A===f[N]&&A!==h[N]&&O;if(L&&n&&t.manuallyAnimateOnMount&&(L=!1),E.protectedKeys={...x},!E.isActive&&M===null||!A&&!E.prevProp||Mw(A)||typeof A=="boolean")continue;const I=zye(E.prevProp,A);let T=I||N===u&&E.isActive&&!L&&O||b>j&&O,_=!1;const D=Array.isArray(A)?A:[A];let P=D.reduce(a(N),{});M===!1&&(P={});const{prevResolvedValues:R={}}=E,U={...R,...P},$=W=>{T=!0,g.has(W)&&(_=!0,g.delete(W)),E.needsAnimating[W]=!0;const te=t.getValue(W);te&&(te.liveStyle=!1)};for(const W in U){const te=P[W],X=R[W];if(x.hasOwnProperty(W))continue;let B=!1;AT(te)&&AT(X)?B=!YW(te,X):B=te!==X,B?te!=null?$(W):g.add(W):te!==void 0&&g.has(W)?$(W):E.protectedKeys[W]=!0}E.prevProp=A,E.prevResolvedValues=P,E.isActive&&(x={...x,...P}),n&&t.blockInitialAnimation&&(T=!1);const K=L&&I;T&&(!K||_)&&p.push(...D.map(W=>{const te={type:N};if(typeof W=="string"&&n&&!K&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,B=Hm(X,W);if(X.enteringChildren&&B){const{delayChildren:G}=B.transition||{};te.delay=GW(X.enteringChildren,t,G)}}return{animation:W,options:te}}))}if(g.size){const b={};if(typeof h.initial!="boolean"){const N=Hm(t,Array.isArray(h.initial)?h.initial[0]:h.initial);N&&N.transition&&(b.transition=N.transition)}g.forEach(N=>{const E=t.getBaseTarget(N),A=t.getValue(N);A&&(A.liveStyle=!0),b[N]=E??null}),p.push({animation:b})}let w=!!p.length;return n&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(p):Promise.resolve()}function c(u,h){var p;if(r[u].isActive===h)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(g=>{var x;return(x=g.animationState)==null?void 0:x.setActive(u,h)}),r[u].isActive=h;const f=o(u);for(const g in r)r[g].protectedKeys={};return f}return{animateChanges:o,setActive:c,setAnimateFunction:i,getState:()=>r,reset:()=>{r=HL(),n=!0}}}function zye(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!YW(e,t):!1}function xh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HL(){return{animate:xh(!0),whileInView:xh(),whileHover:xh(),whileTap:xh(),whileDrag:xh(),whileFocus:xh(),exit:xh()}}class Hd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Fye extends Hd{constructor(e){super(e),e.animationState||(e.animationState=Vye(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let $ye=0;class Bye extends Hd{constructor(){super(...arguments),this.id=$ye++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const qye={animation:{Feature:Fye},exit:{Feature:Bye}};function yy(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function dv(t){return{point:{x:t.pageX,y:t.pageY}}}const Hye=t=>e=>bI(e)&&t(e,dv(e));function Bx(t,e,r,n){return yy(t,e,Hye(r),n)}const XW=1e-4,Wye=1-XW,Gye=1+XW,QW=.01,Yye=0-QW,Kye=0+QW;function ui(t){return t.max-t.min}function Xye(t,e,r){return Math.abs(t-e)<=r}function WL(t,e,r,n=.5){t.origin=n,t.originPoint=ra(e.min,e.max,t.origin),t.scale=ui(r)/ui(e),t.translate=ra(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Wye&&t.scale<=Gye||isNaN(t.scale))&&(t.scale=1),(t.translate>=Yye&&t.translate<=Kye||isNaN(t.translate))&&(t.translate=0)}function qx(t,e,r,n){WL(t.x,e.x,r.x,n?n.originX:void 0),WL(t.y,e.y,r.y,n?n.originY:void 0)}function GL(t,e,r){t.min=r.min+e.min,t.max=t.min+ui(e)}function Qye(t,e,r){GL(t.x,e.x,r.x),GL(t.y,e.y,r.y)}function YL(t,e,r){t.min=e.min-r.min,t.max=t.min+ui(e)}function Hx(t,e,r){YL(t.x,e.x,r.x),YL(t.y,e.y,r.y)}function ko(t){return[t("x"),t("y")]}const ZW=({current:t})=>t?t.ownerDocument.defaultView:null,KL=(t,e)=>Math.abs(t-e);function Zye(t,e){const r=KL(t.x,e.x),n=KL(t.y,e.y);return Math.sqrt(r**2+n**2)}class JW{constructor(e,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=uS(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,j=Zye(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!j)return;const{point:w}=g,{timestamp:b}=xs;this.history.push({...w,timestamp:b});const{onStart:N,onMove:E}=this.handlers;x||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=cS(x,this.transformPagePoint),Kn.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:j,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=uS(g.type==="pointercancel"?this.lastMoveEventInfo:cS(x,this.transformPagePoint),this.history);this.startEvent&&j&&j(g,N),w&&w(g,N)},!bI(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const c=dv(e),u=cS(c,this.transformPagePoint),{point:h}=u,{timestamp:f}=xs;this.history=[{...h,timestamp:f}];const{onSessionStart:p}=r;p&&p(e,uS(u,this.history)),this.removeListeners=lv(Bx(this.contextWindow,"pointermove",this.handlePointerMove),Bx(this.contextWindow,"pointerup",this.handlePointerUp),Bx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_d(this.updatePoint)}}function cS(t,e){return e?{point:e(t.point)}:t}function XL(t,e){return{x:t.x-e.x,y:t.y-e.y}}function uS({point:t},e){return{point:t,delta:XL(t,eG(e)),offset:XL(t,Jye(e)),velocity:eve(e,.1)}}function Jye(t){return t[0]}function eG(t){return t[t.length-1]}function eve(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=eG(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>tc(e)));)r--;if(!n)return{x:0,y:0};const i=Co(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function tve(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?ra(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?ra(r,t,n.max):Math.min(t,r)),t}function QL(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function rve(t,{top:e,left:r,bottom:n,right:a}){return{x:QL(t.x,r,a),y:QL(t.y,e,n)}}function ZL(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function nve(t,e){return{x:ZL(t.x,e.x),y:ZL(t.y,e.y)}}function ave(t,e){let r=.5;const n=ui(t),a=ui(e);return a>n?r=fy(e.min,e.max-n,t.min):n>a&&(r=fy(t.min,t.max-a,e.min)),tu(0,1,r)}function sve(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const CT=.35;function ive(t=CT){return t===!1?t=0:t===!0&&(t=CT),{x:JL(t,"left","right"),y:JL(t,"top","bottom")}}function JL(t,e,r){return{min:e9(t,e),max:e9(t,r)}}function e9(t,e){return typeof t=="number"?t:t[e]||0}const ove=new WeakMap;class lve{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ja(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(dv(p).point)},o=(p,g)=>{const{drag:x,dragPropagation:j,onDragStart:w}=this.getProps();if(x&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mxe(x),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ko(N=>{let E=this.getAxisMotionValue(N).get()||0;if(rc.test(E)){const{projection:A}=this.visualElement;if(A&&A.layout){const O=A.layout.layoutBox[N];O&&(E=ui(O)*(parseFloat(E)/100))}}this.originPoint[N]=E}),w&&Kn.postRender(()=>w(p,g)),TT(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:x,dragDirectionLock:j,onDirectionLock:w,onDrag:b}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:N}=g;if(j&&this.currentDirection===null){this.currentDirection=cve(N),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),b&&b(p,g)},u=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>ko(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new JW(e,{onSessionStart:i,onStart:o,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:ZW(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&Kn.postRender(()=>c(n,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:a}=this.getProps();if(!n||!l0(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=tve(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;e&&Om(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=rve(n.layoutBox,e):this.constraints=!1,this.elastic=ive(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ko(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=sve(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Om(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=uye(n,a.root,this.visualElement.getTransformPagePoint());let o=nve(a.layout.layoutBox,i);if(r){const c=r(oye(o));this.hasMutatedConstraints=!!c,c&&(o=LW(c))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=ko(f=>{if(!l0(f,r,this.currentDirection))return;let p=u&&u[f]||{};o&&(p={min:0,max:0});const g=a?200:1e6,x=a?40:1e7,j={type:"inertia",velocity:n?e[f]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(f,j)});return Promise.all(h).then(c)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return TT(this.visualElement,e),n.start(CI(e,n,0,r,this.visualElement,!1))}stopAnimation(){ko(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ko(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ko(r=>{const{drag:n}=this.getProps();if(!l0(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:c}=a.layout.layoutBox[r];i.set(e[r]-ra(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Om(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ko(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const u=c.get();a[o]=ave({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ko(o=>{if(!l0(o,e,null))return;const c=this.getAxisMotionValue(o),{min:u,max:h}=this.constraints[o];c.set(ra(u,h,a[o]))})}addListeners(){if(!this.visualElement.current)return;ove.set(this.visualElement,this);const e=this.visualElement.current,r=Bx(e,"pointerdown",u=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();Om(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Kn.read(n);const o=yy(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(ko(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=CT,dragMomentum:c=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:c}}}function l0(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function cve(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class uve extends Hd{constructor(e){super(e),this.removeGroupControls=Po,this.removeListeners=Po,this.controls=new lve(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Po}unmount(){this.removeGroupControls(),this.removeListeners()}}const t9=t=>(e,r)=>{t&&Kn.postRender(()=>t(e,r))};class dve extends Hd{constructor(){super(...arguments),this.removePointerDownListener=Po}onPointerDown(e){this.session=new JW(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZW(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:t9(e),onStart:t9(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&Kn.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Bx(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const o1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function r9(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Zg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(dr.test(t))t=parseFloat(t);else return t;const r=r9(t,e.target.x),n=r9(t,e.target.y);return`${r}% ${n}%`}},hve={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,a=Cd.parse(t);if(a.length>5)return n;const i=Cd.createTransformer(t),o=typeof a[0]!="number"?1:0,c=r.x.scale*e.x,u=r.y.scale*e.y;a[0+o]/=c,a[1+o]/=u;const h=ra(c,u,.5);return typeof a[2+o]=="number"&&(a[2+o]/=h),typeof a[3+o]=="number"&&(a[3+o]/=h),i(a)}};let dS=!1;class fve extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=e;Dxe(mve),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),dS&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),o1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,dS=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Kn.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),vI.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=e;dS=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tG(t){const[e,r]=kW(),n=v.useContext(Q3);return s.jsx(fve,{...t,layoutGroup:n,switchLayoutGroup:v.useContext(DW),isPresent:e,safeToRemove:r})}const mve={borderRadius:{...Zg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zg,borderTopRightRadius:Zg,borderBottomLeftRadius:Zg,borderBottomRightRadius:Zg,boxShadow:hve};function pve(t,e,r){const n=qs(t)?t:mp(t);return n.start(CI("",n,e,r)),n.animation}const gve=(t,e)=>t.depth-e.depth;class xve{constructor(){this.children=[],this.isDirty=!1}add(e){eI(this.children,e),this.isDirty=!0}remove(e){tI(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(gve),this.isDirty=!1,this.children.forEach(e)}}function yve(t,e){const r=Ni.now(),n=({timestamp:a})=>{const i=a-r;i>=e&&(_d(n),t(i-e))};return Kn.setup(n,!0),()=>_d(n)}const rG=["TopLeft","TopRight","BottomLeft","BottomRight"],vve=rG.length,n9=t=>typeof t=="string"?parseFloat(t):t,a9=t=>typeof t=="number"||dr.test(t);function bve(t,e,r,n,a,i){a?(t.opacity=ra(0,r.opacity??1,jve(n)),t.opacityExit=ra(e.opacity??1,0,wve(n))):i&&(t.opacity=ra(e.opacity??1,r.opacity??1,n));for(let o=0;o<vve;o++){const c=`border${rG[o]}Radius`;let u=s9(e,c),h=s9(r,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||a9(u)===a9(h)?(t[c]=Math.max(ra(n9(u),n9(h),n),0),(rc.test(h)||rc.test(u))&&(t[c]+="%")):t[c]=h}(e.rotate||r.rotate)&&(t.rotate=ra(e.rotate||0,r.rotate||0,n))}function s9(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const jve=nG(0,.5,BH),wve=nG(.5,.95,Po);function nG(t,e,r){return n=>n<t?0:n>e?1:r(fy(t,e,n))}function i9(t,e){t.min=e.min,t.max=e.max}function yo(t,e){i9(t.x,e.x),i9(t.y,e.y)}function o9(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function l9(t,e,r,n,a){return t-=e,t=tj(t,1/r,n),a!==void 0&&(t=tj(t,1/a,n)),t}function kve(t,e=0,r=1,n=.5,a,i=t,o=t){if(rc.test(e)&&(e=parseFloat(e),e=ra(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=ra(i.min,i.max,n);t===i&&(c-=e),t.min=l9(t.min,e,r,c,a),t.max=l9(t.max,e,r,c,a)}function c9(t,e,[r,n,a],i,o){kve(t,e[r],e[n],e[a],e.scale,i,o)}const Nve=["x","scaleX","originX"],Sve=["y","scaleY","originY"];function u9(t,e,r,n){c9(t.x,e,Nve,r?r.x:void 0,n?n.x:void 0),c9(t.y,e,Sve,r?r.y:void 0,n?n.y:void 0)}function d9(t){return t.translate===0&&t.scale===1}function aG(t){return d9(t.x)&&d9(t.y)}function h9(t,e){return t.min===e.min&&t.max===e.max}function Eve(t,e){return h9(t.x,e.x)&&h9(t.y,e.y)}function f9(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function sG(t,e){return f9(t.x,e.x)&&f9(t.y,e.y)}function m9(t){return ui(t.x)/ui(t.y)}function p9(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Ave{constructor(){this.members=[]}add(e){eI(this.members,e),e.scheduleRender()}remove(e){if(tI(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Tve(t,e,r){let n="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:h,rotate:f,rotateX:p,rotateY:g,skewX:x,skewY:j}=r;h&&(n=`perspective(${h}px) ${n}`),f&&(n+=`rotate(${f}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),x&&(n+=`skewX(${x}deg) `),j&&(n+=`skewY(${j}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(n+=`scale(${c}, ${u})`),n||"none"}const hS=["","X","Y","Z"],_ve=1e3;let Cve=0;function fS(t,e,r,n){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),n&&(n[t]=0))}function iG(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=HW(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Kn,!(a||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&iG(n)}function oG({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},c=e==null?void 0:e()){this.id=Cve++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Pve),this.nodes.forEach(Lve),this.nodes.forEach(Uve),this.nodes.forEach(Mve)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new xve)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new aI),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const u=this.eventHandlers.get(o);u&&u.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=wW(o)&&!bxe(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let f,p=0;const g=()=>this.root.updateBlockedByResize=!1;Kn.read(()=>{p=window.innerWidth}),t(o,()=>{const x=window.innerWidth;x!==p&&(p=x,this.root.updateBlockedByResize=!0,f&&f(),f=yve(g,250),o1.hasAnimatedSinceResize&&(o1.hasAnimatedSinceResize=!1,this.nodes.forEach(y9)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||h.getDefaultTransition()||Bve,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=h.getProps(),N=!this.targetLayout||!sG(this.targetLayout,x),E=!p&&g;if(this.options.layoutRoot||this.resumeFrom||E||p&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...xI(j,"layout"),onPlay:w,onComplete:b};(h.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(f,E)}else p||y9(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_d(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Vve),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iG(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(g9);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(x9);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Rve),this.nodes.forEach(Ive),this.nodes.forEach(Ove)):this.nodes.forEach(x9),this.clearAllSnapshots();const c=Ni.now();xs.delta=tu(0,1e3/60,c-xs.timestamp),xs.timestamp=c,xs.isProcessing=!0,tS.update.process(xs),tS.preRender.process(xs),tS.render.process(xs),xs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Dve),this.sharedNodes.forEach(zve)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Kn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Kn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ui(this.snapshot.measuredBox.x)&&!ui(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ja(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!aG(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||jh(this.latestValues)||f)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return o&&(u=this.removeTransform(u)),qve(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:o}=this.options;if(!o)return ja();const c=o.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(Hve))){const{scroll:f}=this.root;f&&(Pm(c.x,f.offset.x),Pm(c.y,f.offset.y))}return c}removeElementScroll(o){var u;const c=ja();if(yo(c,o),(u=this.scroll)!=null&&u.wasRoot)return c;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&yo(c,o),Pm(c.x,p.offset.x),Pm(c.y,p.offset.y))}return c}applyTransform(o,c=!1){const u=ja();yo(u,o);for(let h=0;h<this.path.length;h++){const f=this.path[h];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Mm(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),jh(f.latestValues)&&Mm(u,f.latestValues)}return jh(this.latestValues)&&Mm(u,this.latestValues),u}removeTransform(o){const c=ja();yo(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!jh(h.latestValues))continue;NT(h.latestValues)&&h.updateSnapshot();const f=ja(),p=h.measurePageBox();yo(f,p),u9(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return jh(this.latestValues)&&u9(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=xs.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ja(),this.relativeTargetOrigin=ja(),Hx(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ja(),this.targetWithTransforms=ja()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Qye(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yo(this.target,this.layout.layoutBox),VW(this.target,this.targetDelta)):yo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ja(),this.relativeTargetOrigin=ja(),Hx(this.relativeTargetOrigin,this.target,x.target),yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||NT(this.parent.latestValues)||UW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===xs.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;yo(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;cye(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ja());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(o9(this.prevProjectionDelta.x,this.projectionDelta.x),o9(this.prevProjectionDelta.y,this.projectionDelta.y)),qx(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!p9(this.projectionDelta.x,this.prevProjectionDelta.x)||!p9(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Dm(),this.projectionDelta=Dm(),this.projectionDeltaWithTransform=Dm()}setAnimationOrigin(o,c=!1){const u=this.snapshot,h=u?u.latestValues:{},f={...this.latestValues},p=Dm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=ja(),x=u?u.source:void 0,j=this.layout?this.layout.source:void 0,w=x!==j,b=this.getStack(),N=!b||b.members.length<=1,E=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some($ve));this.animationProgress=0;let A;this.mixTargetDelta=O=>{const M=O/1e3;v9(p.x,o.x,M),v9(p.y,o.y,M),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hx(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Fve(this.relativeTarget,this.relativeTargetOrigin,g,M),A&&Eve(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=ja()),yo(A,this.relativeTarget)),w&&(this.animationValues=f,bve(f,h,this.latestValues,M,E,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,u,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||h.stop(),this.pendingAnimation&&(_d(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kn.update(()=>{o1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=mp(0)),this.currentAnimation=pve(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_ve),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:f}=o;if(!(!c||!u||!h)){if(this!==o&&this.layout&&h&&lG(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||ja();const p=ui(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const g=ui(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+g}yo(c,u),Mm(c,f),qx(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Ave),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&fS("z",o,h,this.animationValues);for(let f=0;f<hS.length;f++)fS(`rotate${hS[f]}`,o,h,this.animationValues),fS(`skew${hS[f]}`,o,h,this.animationValues);o.render();for(const f in h)o.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=i1(c==null?void 0:c.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=i1(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!jh(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let p=Tve(this.projectionDeltaWithTransform,this.treeScale,f);u&&(p=u(f,p)),o.transform=p;const{x:g,y:x}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,h.animationValues?o.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const j in xy){if(f[j]===void 0)continue;const{correct:w,applyTo:b,isCSSVariable:N}=xy[j],E=p==="none"?f[j]:w(f[j],h);if(b){const A=b.length;for(let O=0;O<A;O++)o[b[O]]=E}else N?this.options.visualElement.renderState.vars[j]=E:o[j]=E}this.options.layoutId&&(o.pointerEvents=h===this?i1(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(g9),this.root.sharedNodes.clear()}}}function Ive(t){t.updateLayout()}function Ove(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?ko(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],x=ui(g);g.min=n[p].min,g.max=g.min+x}):lG(i,e.layoutBox,n)&&ko(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],x=ui(n[p]);g.max=g.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+x)});const c=Dm();qx(c,n,e.layoutBox);const u=Dm();o?qx(u,t.applyTransform(a,!0),e.measuredBox):qx(u,n,e.layoutBox);const h=!aG(c);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:x}=p;if(g&&x){const j=ja();Hx(j,e.layoutBox,g.layoutBox);const w=ja();Hx(w,n,x.layoutBox),sG(j,w)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=j,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Pve(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Mve(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Dve(t){t.clearSnapshot()}function g9(t){t.clearMeasurements()}function x9(t){t.isLayoutDirty=!1}function Rve(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function y9(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Lve(t){t.resolveTargetDelta()}function Uve(t){t.calcProjection()}function Vve(t){t.resetSkewAndRotation()}function zve(t){t.removeLeadSnapshot()}function v9(t,e,r){t.translate=ra(e.translate,0,r),t.scale=ra(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function b9(t,e,r,n){t.min=ra(e.min,r.min,n),t.max=ra(e.max,r.max,n)}function Fve(t,e,r,n){b9(t.x,e.x,r.x,n),b9(t.y,e.y,r.y,n)}function $ve(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Bve={duration:.45,ease:[.4,0,.1,1]},j9=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),w9=j9("applewebkit/")&&!j9("chrome/")?Math.round:Po;function k9(t){t.min=w9(t.min),t.max=w9(t.max)}function qve(t){k9(t.x),k9(t.y)}function lG(t,e,r){return t==="position"||t==="preserve-aspect"&&!Xye(m9(e),m9(r),.2)}function Hve(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Wve=oG({attachResizeListener:(t,e)=>yy(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mS={current:void 0},cG=oG({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!mS.current){const t=new Wve({});t.mount(window),t.setOptions({layoutScroll:!0}),mS.current=t}return mS.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Gve={pan:{Feature:dve},drag:{Feature:uve,ProjectionNode:cG,MeasureLayout:tG}};function N9(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Kn.postRender(()=>i(e,dv(e)))}class Yve extends Hd{mount(){const{current:e}=this.node;e&&(this.unmount=pxe(e,(r,n)=>(N9(this.node,n,"Start"),a=>N9(this.node,a,"End"))))}unmount(){}}class Kve extends Hd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lv(yy(this.node.current,"focus",()=>this.onFocus()),yy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function S9(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Kn.postRender(()=>i(e,dv(e)))}class Xve extends Hd{mount(){const{current:e}=this.node;e&&(this.unmount=vxe(e,(r,n)=>(S9(this.node,n,"Start"),(a,{success:i})=>S9(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const IT=new WeakMap,pS=new WeakMap,Qve=t=>{const e=IT.get(t.target);e&&e(t)},Zve=t=>{t.forEach(Qve)};function Jve({root:t,...e}){const r=t||document;pS.has(r)||pS.set(r,{});const n=pS.get(r),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(Zve,{root:t,...e})),n[a]}function ebe(t,e,r){const n=Jve(e);return IT.set(t,r),n.observe(t),()=>{IT.delete(t),n.unobserve(t)}}const tbe={some:0,all:1};class rbe extends Hd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:tbe[a]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=h?f:p;g&&g(u)};return ebe(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(nbe(e,r))&&this.startObserver()}unmount(){}}function nbe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const abe={inView:{Feature:rbe},tap:{Feature:Xve},focus:{Feature:Kve},hover:{Feature:Yve}},sbe={layout:{ProjectionNode:cG,MeasureLayout:tG}},ibe={...qye,...abe,...Gve,...sbe},ar=iye(ibe,vye);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const obe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lbe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),E9=t=>{const e=lbe(t);return e.charAt(0).toUpperCase()+e.slice(1)},uG=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),cbe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ube={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dbe=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...c},u)=>v.createElement("svg",{ref:u,...ube,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:uG("lucide",a),...!i&&!cbe(c)&&{"aria-hidden":"true"},...c},[...o.map(([h,f])=>v.createElement(h,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(t,e)=>{const r=v.forwardRef(({className:n,...a},i)=>v.createElement(dbe,{ref:i,iconNode:e,className:uG(`lucide-${obe(E9(t))}`,`lucide-${t}`,n),...a}));return r.displayName=E9(t),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hbe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Jg=tt("activity",hbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fbe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_s=tt("arrow-left",fbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mbe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],dG=tt("arrow-right",mbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pbe=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],gbe=tt("arrow-up",pbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xbe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],tf=tt("bell",xbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ybe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],vbe=tt("calendar-days",ybe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bbe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Cs=tt("calendar",bbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jbe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],A9=tt("chart-column",jbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wbe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vy=tt("check",wbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kbe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Nbe=tt("chevron-down",kbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sbe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ebe=tt("chevron-left",Sbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Abe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],l1=tt("chevron-right",Abe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tbe=[["path",{d:"M10 9h4",key:"u4k05v"}],["path",{d:"M12 7v5",key:"ma6bk"}],["path",{d:"M14 22v-4a2 2 0 0 0-4 0v4",key:"1pdhuj"}],["path",{d:"M18 22V5.618a1 1 0 0 0-.553-.894l-4.553-2.277a2 2 0 0 0-1.788 0L6.553 4.724A1 1 0 0 0 6 5.618V22",key:"1rkokr"}],["path",{d:"m18 7 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9.618a1 1 0 0 1 .553-.894L6 7",key:"1w6esw"}]],rf=tt("church",Tbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _be=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rj=tt("circle-alert",_be);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cbe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],Ibe=tt("circle-arrow-down",Cbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Obe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],Pbe=tt("circle-arrow-up",Obe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mbe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wf=tt("circle-check-big",Mbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dbe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Rbe=tt("circle-check",Dbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lbe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],by=tt("circle-help",Lbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ube=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Vbe=tt("circle-plus",Ube);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zbe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],kf=tt("clock",zbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fbe=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],ns=tt("cloud-upload",Fbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $be=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Bbe=tt("code",$be);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qbe=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],Hbe=tt("cog",qbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wbe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],II=tt("copy",Wbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gbe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M14.83 14.83a4 4 0 1 1 0-5.66",key:"1i56pz"}]],Ybe=tt("copyright",Gbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kbe=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],hG=tt("crown",Kbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xbe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],fG=tt("download",Xbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qbe=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],OT=tt("eraser",Qbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zbe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],OI=tt("external-link",Zbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jbe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],e0e=tt("eye-off",Jbe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0e=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rw=tt("eye",t0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0e=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],T9=tt("file-down",r0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0e=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Nf=tt("file-text",n0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],jy=tt("film",a0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0e=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],c0=tt("folder-tree",s0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0e=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],o0e=tt("funnel",i0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0e=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],c0e=tt("history",l0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0e=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],d0e=tt("image-plus",u0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Is=tt("image",h0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0e=[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]],gp=tt("images",f0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],To=tt("info",m0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0e=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],gS=tt("key",p0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0e=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],hv=tt("link",g0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0e=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],y0e=tt("list-checks",x0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0e=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],b0e=tt("lock-open",v0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0e=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],w0e=tt("lock",j0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0e=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],N0e=tt("log-in",k0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0e=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],PT=tt("log-out",S0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0e=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],nj=tt("mail",E0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0e=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],T0e=tt("map-pin",A0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0e=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],MT=tt("megaphone",_0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0e=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],mG=tt("menu",C0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0e=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],nc=tt("message-circle",I0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0e=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],P0e=tt("message-square",O0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0e=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],_9=tt("mic",M0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0e=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],pG=tt("moon",D0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0e=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],PI=tt("newspaper",R0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0e=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Lw=tt("palette",L0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0e=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],V0e=tt("paperclip",U0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0e=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],F0e=tt("pause",z0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0e=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],aj=tt("pen-line",$0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0e=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],q0e=tt("pencil",B0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0e=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],gG=tt("phone",H0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0e=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],ka=tt("play",W0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0e=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vl=tt("plus",G0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0e=[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]],K0e=tt("radio",Y0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0e=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Q0e=tt("repeat",X0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0e=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],J0e=tt("reply",Z0e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1e=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],xG=tt("rotate-ccw",e1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1e=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],as=tt("save",t1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1e=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Uw=tt("search",r1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1e=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],a1e=tt("send-horizontal",n1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1e=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],MI=tt("send",s1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1e=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Id=tt("settings",i1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1e=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],C9=tt("shield-check",o1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1e=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],yG=tt("shield",l1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1e=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],I9=tt("sliders-horizontal",c1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],d1e=tt("smile",u1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1e=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Od=tt("square-pen",h1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1e=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],vG=tt("sun",f1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1e=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],DT=tt("tags",m1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1e=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Wx=tt("toggle-left",p1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1e=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Gx=tt("toggle-right",g1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1e=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ss=tt("trash-2",x1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1e=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],v1e=tt("trash",y1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1e=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_i=tt("triangle-alert",b1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1e=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],w1e=tt("type",j1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1e=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Wm=tt("upload",k1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1e=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],RT=tt("user-check",N1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],E1e=tt("user-minus",S1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],T1e=tt("user-plus",A1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],bG=tt("user-x",_1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1e=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hi=tt("user",C1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1e=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],O9=tt("users-round",I1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wc=tt("users",O1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1e=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],DI=tt("video",P1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1e=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],P9=tt("volume-2",M1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1e=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],On=tt("x",D1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1e=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],jG=tt("youtube",R1e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1e=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],wG=tt("zoom-in",L1e),kG=v.createContext(void 0),U1e=({children:t})=>{const[e,r]=v.useState([]),n=v.useCallback((o,c)=>{const u=crypto.randomUUID(),h={id:u,type:o,message:c};r(f=>[...f,h]),setTimeout(()=>r(f=>f.filter(p=>p.id!==u)),5e3)},[]),a=v.useCallback(o=>{r(c=>c.filter(u=>u.id!==o))},[]),i=o=>{switch(o){case"success":return{classes:"bg-green-600 ring-1 ring-green-300/30",icon:s.jsx(wf,{className:"h-5 w-5 text-white"})};case"error":return{classes:"bg-red-600 ring-1 ring-red-300/30",icon:s.jsx(_i,{className:"h-5 w-5 text-white"})};case"warning":return{classes:"bg-amber-500 ring-1 ring-amber-300/30",icon:s.jsx(_i,{className:"h-5 w-5 text-white"})};default:return{classes:"bg-church-primary ring-1 ring-white/20",icon:s.jsx(To,{className:"h-5 w-5 text-white"})}}};return s.jsxs(kG.Provider,{value:{showToast:n},children:[t,s.jsx("div",{id:"__app_toast_container","aria-live":"polite",className:"fixed top-6 right-6 z-[9999] flex flex-col gap-3",children:s.jsx(Ti,{initial:!1,children:e.map(o=>{const c=i(o.type);return s.jsx(ar.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.18},className:`min-w-[260px] max-w-[360px] text-white rounded-xl shadow-2xl ${c.classes}`,children:s.jsxs("div",{className:"px-4 py-3 flex items-start gap-3",children:[s.jsx("div",{className:"mt-0.5",children:c.icon}),s.jsx("div",{className:"flex-1 text-sm leading-snug",children:o.message}),s.jsx("button",{className:"p-1 rounded-md/80 hover:bg-white/10 transition-colors","aria-label":"Fechar aviso",onClick:()=>a(o.id),children:s.jsx(On,{className:"h-4 w-4 text-white/80"})})]})},o.id)})})})]})},Da=()=>{const t=v.useContext(kG);if(!t)throw new Error("useToast must be used within ToastProvider");return t},xS=()=>{var t,e,r,n;return console.log(" Debug Auth State:"),console.log("- auth object:",ft),console.log("- auth.currentUser:",ft.currentUser),console.log("- auth.currentUser?.uid:",(t=ft.currentUser)==null?void 0:t.uid),console.log("- auth.currentUser?.email:",(e=ft.currentUser)==null?void 0:e.email),{hasAuth:!!ft,hasCurrentUser:!!ft.currentUser,uid:(r=ft.currentUser)==null?void 0:r.uid,email:(n=ft.currentUser)==null?void 0:n.email}};function V1e(t){let e="0",r="0",n="0";return t.length===4?(e="0x"+t[1]+t[1],r="0x"+t[2]+t[2],n="0x"+t[3]+t[3]):t.length===7&&(e="0x"+t[1]+t[2],r="0x"+t[3]+t[4],n="0x"+t[5]+t[6]),`${+e} ${+r} ${+n}`}const NG=v.createContext(void 0),z1e=[],M9=[{id:"group-geral",name:"Liderana Geral",leaderIds:[]},{id:"group-worship",name:"Fonte Worship",leaderIds:[]},{id:"group-kids",name:"Fonte Kids",leaderIds:[]},{id:"group-diaconia",name:"Diaconia",leaderIds:[]},{id:"group-atos",name:"Fonte Atos",leaderIds:[]}],F1e=({children:t})=>{const{showToast:e}=Da(),[r,n]=v.useState([]),[a,i]=v.useState([]),[o,c]=v.useState([]),[u,h]=v.useState(z1e),[f,p]=v.useState([]),[g,x]=v.useState([]),[j,w]=v.useState(M9),[b,N]=v.useState([]),[E,A]=v.useState(!0),[O,M]=v.useState({logoUrl:"",churchName:"Igreja Fonte de Vida Laranjeiras",cultosLogoUrl:"/fonte-news-logo-cam.svg",primaryColor:"#6f83a5",titleGradient:{enabled:!1,from:"#c084fc",via:"#ec4899",to:"#ef4444",durationSec:6},copyrightText:" 2025 Fonte News. Todos os direitos reservados.",audioAlertChatUrl:"",audioAlertApprovalsUrl:"",audioAlertRequestsUrl:"",programStartAudioUrl:"",programStartAudioMuted:!1,sliderUrl:"",sliderAutoRefreshMinutes:5,sliderScrollEnabled:!0,sliderMessageOrigin:"",sliderScrollAnchors:[],contactInfo:{email:"secretaria@fontevida.com",phone:"(21) 98765-4321",address:"Laranjeiras, Rio de Janeiro",services:"Domingos s 19h"},tickerSettings:{enabled:!0,direction:"left",scope:"week",speed:50,startDelaySec:0,restartDelaySec:1},videoNewsSettings:{enabled:!0,sourceType:"youtube",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},youtubeLive:{enabled:!0,apiKey:"",channelId:"",cacheSeconds:60,forceVideoId:"",backgroundAutoplayMuted:!0,backgroundOpacity:1,hideBackgroundOnPopup:!0,monthlyLimit:1e4},maintenanceMode:{enabled:!1,redirectMode:!1,redirectUrl:""},awarenessCalendar:{text:"",imageSource:"url",imageUrl:"",imageUploadUrl:"",priorityEnabled:!1},parallaxBgUrl:"https://images.unsplash.com/photo-1507608869274-d3177c8bb4c7?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",siteHome:{bgImageSource:"url",bgImageUrl:"",bgImageUploadUrl:"",bgRepeat:!1,bgSize:"cover",bgPosition:"center",bgOpacity:.35,leftColSpan:4,rightColSpan:8},leaderChatAppearance:{messageSentBgColorHex:"#DCF8C6",messageReceivedBgColorHex:"#FFFFFF",messageSentTextColorHex:"#000000",messageReceivedTextColorHex:"#000000",overlayImageSource:"url",overlayImageUrl:"",overlayImageUploadUrl:"",overlayRepeat:!1,overlaySize:"cover",overlayPosition:"center",overlayOpacity:.2}}),[L,I]=v.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[T,_]=v.useState({isOpen:!1,title:"",message:"",inputLabel:"",onConfirm:()=>{}}),[D,P]=v.useState({isOpen:!1}),[R,U]=v.useState(!1),[$,K]=v.useState(null),[F,W]=v.useState({isOpen:!1,script:null});v.useEffect(()=>{try{const pe=localStorage.getItem("churchSettings");let ge={};pe&&(ge=JSON.parse(pe),console.log(" Configuraes carregadas do localStorage")),ge={...ge,cultosLogoUrl:"/fonte-news-logo-cam.svg"},ge.logoUrl||(ge.logoUrl="/fonte-news-logo-cam.svg"),M(he=>({...he,...ge}))}catch(pe){console.warn("Falha ao carregar configuraes do localStorage",pe)}},[]),v.useEffect(()=>{console.log(" Inicializando listeners em tempo real do Firestore...");const pe=Gn(Et(we,"announcements"),$e=>{const dt=$e.docs.map(Tt=>{var Ct;const Ge=Tt.data();return{...Ge,id:Tt.id,createdAt:(Ct=Ge.createdAt)!=null&&Ct.toDate?Ge.createdAt.toDate():Ge.createdAt}}).sort((Tt,Ge)=>new Date(Ge.createdAt).getTime()-new Date(Tt.createdAt).getTime());n(dt)},$e=>console.error(" Erro no listener de anncios:",$e)),ge=Gn(Et(we,"cultos"),$e=>{const dt=$e.docs.map(Tt=>{var Ct;const Ge=Tt.data();return{id:Tt.id,...Ge,createdAt:(Ct=Ge.createdAt)!=null&&Ct.toDate?Ge.createdAt.toDate():Ge.createdAt}});i(dt)},$e=>console.error(" Erro no listener de cultos:",$e)),he=Gn(Et(we,"roteiros"),$e=>{const dt=$e.docs.map(Tt=>{var Ct,sr,fr;const Ge=Tt.data();return{...Ge,id:Tt.id,createdAt:(Ct=Ge.createdAt)!=null&&Ct.toDate?Ge.createdAt.toDate():Ge.createdAt,updatedAt:(sr=Ge.updatedAt)!=null&&sr.toDate?Ge.updatedAt.toDate():Ge.updatedAt,history:((fr=Ge.history)==null?void 0:fr.map(St=>{var Se;return{...St,date:(Se=St.date)!=null&&Se.toDate?St.date.toDate():St.date}}))||[]}});c(dt.sort((Tt,Ge)=>{const Ct=Tt.updatedAt instanceof Date?Tt.updatedAt.getTime():new Date(Tt.updatedAt).getTime();return(Ge.updatedAt instanceof Date?Ge.updatedAt.getTime():new Date(Ge.updatedAt).getTime())-Ct}))},$e=>{console.error(" Erro no listener de roteiros:",$e)}),Te=Gn(Et(we,"authorizedUsers"),$e=>{const dt=$e.docs.map(Tt=>{var Ct;const Ge=Tt.data();return{...Ge,id:Tt.id,createdAt:(Ct=Ge.createdAt)!=null&&Ct.toDate?Ge.createdAt.toDate():Ge.createdAt,isProtected:Ge.isProtected||!1}});h(dt)},$e=>console.error("Erro no listener de usurios:",$e)),De=Gn(Et(we,"messages"),$e=>{const dt=$e.docs.map(Tt=>{var Ct;const Ge=Tt.data();return{id:Tt.id,...Ge,createdAt:(Ct=Ge.createdAt)!=null&&Ct.toDate?Ge.createdAt.toDate():Ge.createdAt}});x(dt)},$e=>console.error("Erro no listener de mensagens:",$e)),nt=Gn(Et(we,"leaderRequests"),$e=>{const dt=$e.docs.map(Tt=>{const Ge=Tt.data(),{id:Ct,createdAt:sr,...fr}=Ge||{};return{...fr,id:Tt.id,createdAt:sr!=null&&sr.toDate?sr.toDate():sr}});p(dt)},$e=>console.error("Erro no listener de solicitaes:",$e)),bt=Gn(Et(we,"ministryDepartments"),$e=>{const dt=$e.docs.map(Tt=>({id:Tt.id,...Tt.data()}));w(dt.length>0?dt:M9)},$e=>console.error("Erro no listener de departamentos:",$e)),kt=Gn(at(we,"settings","church-settings"),$e=>{var dt,Tt,Ge,Ct,sr,fr,St,Se,lt,ir;if(console.log("[AppContext]  LISTENER DE CONFIGURAES DISPARADO"),console.log("[AppContext] Documento existe:",$e.exists()),console.log("[AppContext] Auth atual:",((dt=ft.currentUser)==null?void 0:dt.uid)||"Usurio no autenticado"),$e.exists()){const Gt=$e.data();console.log("[AppContext] ===== CONFIGURAES RECEBIDAS DO FIRESTORE ====="),console.log("[AppContext] Configuraes completas:",Gt),console.log("[AppContext] MaintenanceMode completo:",Gt.maintenanceMode),console.log("[AppContext] HeaderImageUrl:",(Tt=Gt.maintenanceMode)==null?void 0:Tt.headerImageUrl),console.log("[AppContext] LogoUrl:",(Ge=Gt.maintenanceMode)==null?void 0:Ge.logoUrl),console.log("[AppContext] ShowLogo:",(Ct=Gt.maintenanceMode)==null?void 0:Ct.showLogo),console.log("[AppContext] Enabled:",(sr=Gt.maintenanceMode)==null?void 0:sr.enabled),console.log("[AppContext]  VERIFICAO HEADERIMAGEURL:"),console.log("[AppContext] headerImageUrl existe?",((fr=Gt.maintenanceMode)==null?void 0:fr.headerImageUrl)!==void 0),console.log("[AppContext] headerImageUrl valor:",(St=Gt.maintenanceMode)==null?void 0:St.headerImageUrl),console.log("[AppContext] headerImageUrl tipo:",typeof((Se=Gt.maintenanceMode)==null?void 0:Se.headerImageUrl)),console.log("[AppContext] headerImageUrl length:",(ir=(lt=Gt.maintenanceMode)==null?void 0:lt.headerImageUrl)==null?void 0:ir.length),console.log("[AppContext] ===== FIM CONFIGURAES =====");let kr={...Gt,cultosLogoUrl:"/fonte-news-logo-cam.svg"};kr.logoUrl||(kr.logoUrl="/fonte-news-logo-cam.svg"),M(kr),console.log(" Configuraes sincronizadas em tempo real do Firestore")}},$e=>{console.error(" Erro no listener de configuraes:",$e),console.error(" Detalhes do erro:",{code:$e.code,message:$e.message,name:$e.name}),sL().then(dt=>{var Tt;if(dt){console.log("[AppContext] Fallback: Configuraes carregadas via getSettings:",dt),console.log("[AppContext] Fallback: HeaderImageUrl:",(Tt=dt.maintenanceMode)==null?void 0:Tt.headerImageUrl);let Ge={...dt,cultosLogoUrl:"/fonte-news-logo-cam.svg"};Ge.logoUrl||(Ge.logoUrl="/fonte-news-logo-cam.svg"),M(Ge)}}).catch(dt=>console.error("Erro no fallback de configuraes:",dt))});return(async()=>{try{const $e=await sL();if($e){let dt={...$e,cultosLogoUrl:"/fonte-news-logo-cam.svg"};dt.logoUrl||(dt.logoUrl="/fonte-news-logo-cam.svg"),M(dt),console.log(" Configuraes carregadas e mescladas com novas logos")}}catch($e){console.error("Erro ao carregar configuraes:",$e)}finally{A(!1)}})(),()=>{pe(),ge(),he(),Te(),De(),nt(),bt(),kt()}},[]),v.useEffect(()=>{let pe=null,ge=null,he=!0;const Te=()=>{if(he)try{pe=Gn(Et(we,"onlineUsers"),De=>{if(!he)return;const nt=new Map;De.docs.forEach($e=>{var fr;const dt=$e.data(),Tt=dt.userId,Ge=((fr=dt.lastSeen)==null?void 0:fr.toDate())||new Date,Ct=!dt.inactive,sr=nt.get(Tt);(!sr||Ge>sr.lastSeen||Ct&&!sr.isActive)&&nt.set(Tt,{lastSeen:Ge,isActive:Ct})});const bt=new Date(Date.now()-120*1e3),kt=Array.from(nt.entries()).filter(([$e,dt])=>dt.lastSeen>bt).map(([$e,dt])=>$e);N(kt),ge&&(clearTimeout(ge),ge=null)},De=>{console.error("Erro no listener de usurios online:",De),he&&!ge&&(ge=setTimeout(()=>{if(he){if(pe)try{pe()}catch(nt){console.warn("Erro ao desconectar listener anterior:",nt)}Te()}},5e3))})}catch(De){console.error("Erro ao configurar listener de usurios online:",De),he&&!ge&&(ge=setTimeout(()=>{he&&Te()},3e3))}};return Te(),()=>{if(console.log(" Desconectando listener de usurios online..."),he=!1,ge&&clearTimeout(ge),pe)try{pe()}catch(De){console.warn(" Erro ao desconectar listener:",De)}}},[]),v.useEffect(()=>{const pe=async()=>{try{const he=new Date(Date.now()-12e4),Te=Et(we,"onlineUsers"),De=await hn(Te),nt=[];De.docs.forEach(bt=>{var dt;const $e=(dt=bt.data().lastSeen)==null?void 0:dt.toDate();$e&&$e<he&&nt.push(ha(at(we,"onlineUsers",bt.id)))}),nt.length>0&&(await Promise.all(nt),console.log(` Limpeza: ${nt.length} registros de presena antigos removidos`))}catch(he){console.warn(" Erro na limpeza de usurios offline:",he)}},ge=setInterval(pe,6e4);return pe(),()=>clearInterval(ge)},[]),v.useEffect(()=>{const pe=async()=>{try{const he=ft.currentUser;if(!he)return;let Te=!1;try{Te=(await he.getIdTokenResult()).claims.admin===!0}catch{}const De=u.find(St=>St.firebaseUid===he.uid),nt=(De==null?void 0:De.role)==="admin"&&(De==null?void 0:De.status)==="active";let bt=!1;try{const St=await nn(at(we,"users",he.uid));if(St.exists()){const Se=St.data();bt=(Se==null?void 0:Se.role)==="admin"}}catch{}if(!!!(Te||nt||bt))return;const $e=new Date,dt=720*60*60*1e3,Tt=new Date(2e3,0,1),Ge=new Date(2100,0,1),Ct=St=>{try{return X(St.rruleString,Tt,Ge).length<=1}catch{return!1}},sr=St=>{try{const Se=X(St.rruleString,Tt,$e);if(Se.length===0)return null;const lt=Se[Se.length-1];if(St.endTime){const[ir,Gt]=St.endTime.split(":").map(Number),kr=new Date(lt);return kr.setHours(ir||0,Gt||0,0,0),kr}return lt}catch{return null}},fr=[];r.forEach(St=>{if(!Ct(St))return;const Se=sr(St);if(!Se)return;$e.getTime()-Se.getTime()>dt&&fr.push(aL(St.id))}),fr.length>0&&await Promise.allSettled(fr)}catch(he){console.warn(" Falha na limpeza automtica de programaes no recorrentes:",he)}},ge=window.setInterval(pe,432e5);return pe(),()=>clearInterval(ge)},[r,u]),v.useEffect(()=>{if(O.primaryColor){const pe=V1e(O.primaryColor);document.documentElement.style.setProperty("--church-primary",pe)}},[O.primaryColor]);const te=v.useCallback(async(pe,ge)=>{try{const he=ft.currentUser?ft.currentUser.uid:null,Te=u.find(De=>De.id===pe&&De.firebaseUid&&he&&De.firebaseUid===he);try{const De="fonte:auth-log",nt=localStorage.getItem(De),bt=nt?JSON.parse(nt):[];bt.push({ts:new Date().toISOString(),event:"setOnlineStatus",userId:pe,isOnline:ge,currentFirebaseUid:he,mapped:!!Te}),localStorage.setItem(De,JSON.stringify(bt.slice(-200)))}catch{}if(!Te)return;if(ge){const{presenceManager:De}=await ty(async()=>{const{presenceManager:nt}=await import("./presenceManager-Dvzb647r.js");return{presenceManager:nt}},[]);await De.setOnline(pe)}else{const{presenceManager:De}=await ty(async()=>{const{presenceManager:nt}=await import("./presenceManager-Dvzb647r.js");return{presenceManager:nt}},[]);await De.setOffline()}}catch(he){console.error(" Erro ao atualizar status online:",he),he.code==="permission-denied"?console.error(" Permisso negada para atualizar status online. Verifique as regras do Firestore."):he.code==="unavailable"?console.error(" Firestore temporariamente indisponvel. Tentativa ser feita novamente automaticamente."):he.code==="unauthenticated"&&console.error(" Usurio no autenticado. Faa login novamente.")}},[u]),X=v.useCallback((pe,ge,he)=>{try{const Te=pe.replace(/DTSTART:(\d{8}T\d{6})Z/g,"DTSTART:$1").replace(/UNTIL=(\d{8}T\d{6})Z/g,"UNTIL=$1"),De=X1(Te,{forceset:!0});return De instanceof CH,De.between(ge,he,!0)}catch{try{return Je.fromString(pe).between(ge,he,!0)}catch{return[]}}},[]),B=async(pe,ge)=>{try{console.log(" Iniciando criao de anncio:",pe),console.log(" Usurio:",ge);const he=xS();if(console.log(" Auth Debug Info:",he),!ft.currentUser){console.error(" Usurio no autenticado no Firebase"),console.error(" Auth state:",he),e("error","Usurio no autenticado. Faa login novamente.");return}console.log(" Usurio autenticado no Firebase:",ft.currentUser.uid);const Te={...pe,id:crypto.randomUUID(),createdAt:new Date,author:ge.name,authorId:ge.id,status:ge.role==="admin"?"approved":"pending"};console.log(" Anncio preparado:",Te);const De=await Jme(Te);console.log(" Anncio salvo no Firestore com ID:",De),console.log(" O listener onSnapshot ir sincronizar automaticamente o novo anncio"),e("success","Anncio criado com sucesso!")}catch(he){console.error(" Erro ao criar anncio:",he),console.error(" Detalhes do erro:",he.message),console.error(" Stack trace:",he.stack),e("error",`Erro ao criar anncio: ${he.message}`)}},G=async(pe,ge)=>{var he;try{const Te=new Date,De=new Date(Te.getFullYear(),Te.getMonth(),Te.getDate(),0,0,0,0),nt=new Date(Te.getFullYear(),Te.getMonth(),Te.getDate(),23,59,59,999),bt=new Date(Te.getFullYear()+1,Te.getMonth(),Te.getDate()),kt=r.find(dt=>dt.id===pe);let $e={...ge};if(kt){const dt=fr=>X(fr.rruleString,Te,bt).length>0,Tt=fr=>{if(!fr.endTime)return!1;const St=X(fr.rruleString,De,nt);if(St.length===0)return!1;const Se=St[0],[lt,ir]=fr.endTime.split(":").map(Number),Gt=new Date(Se);return Gt.setHours(lt||0,ir||0,0,0),Se<=Te&&Gt>=Te},Ge=!(dt(kt)||Tt(kt)),Ct={...kt,...ge},sr=dt(Ct)||Tt(Ct);if(kt.status==="rejected"&&Ge&&sr){e("warning","Programaes rejeitadas no podem ser restauradas.");return}if(Ge&&sr){let fr;try{const St=(he=ft.currentUser)==null?void 0:he.uid;if(St){const Se=u.find(lt=>lt.firebaseUid===St);fr=Se==null?void 0:Se.role}}catch{}fr==="admin"?($e.status="approved",$e.restoreRequested=!1,e("success","Programao restaurada e aprovada automaticamente (Administrador).")):($e.status="pending",$e.restoreRequested=!0,e("info",'Programao restaurada: enviada para aprovao em "Restaurados". Avise o Administrador via chat.'))}else typeof ge.status<"u"&&($e.restoreRequested=!1)}await epe(pe,$e),console.log(" Anncio atualizado no Firestore:",pe),console.log(" O listener onSnapshot ir sincronizar automaticamente as alteraes")}catch(Te){console.error(" Erro ao atualizar anncio:",Te),e("error","Erro ao atualizar anncio: verifique sua autenticao/permisses. A atualizao no foi aplicada no servidor.");return}},J=async pe=>{try{console.log(" [AppContext] Iniciando excluso de programao:",pe),await aL(pe),console.log(" [AppContext] Programao excluda com sucesso do Firestore:",pe),console.log(" [AppContext] Forando atualizao do estado local - removendo programao:",pe),n(ge=>{const he=ge.filter(Te=>Te.id!==pe);return console.log(" [AppContext] Estado local atualizado - programaes restantes:",he.length),he}),e("success","Programao excluda com sucesso!")}catch(ge){console.error(" [AppContext] Erro ao excluir programao:",ge);let he="Erro inesperado ao excluir programao.";ge.message?he=ge.message:ge.code==="permission-denied"?he="Voc no tem permisso para excluir programaes.":ge.code==="unauthenticated"&&(he="Sua sesso expirou. Faa login novamente."),e("error",he);return}},ne=async pe=>{const ge={...O,...pe};pe.tickerSettings&&(ge.tickerSettings={...O.tickerSettings,...pe.tickerSettings}),pe.videoNewsSettings&&(ge.videoNewsSettings={...O.videoNewsSettings,...pe.videoNewsSettings}),pe.youtubeLive&&(ge.youtubeLive={...O.youtubeLive,...pe.youtubeLive}),pe.siteHome&&(ge.siteHome={...O.siteHome||{},...pe.siteHome}),pe.leaderChatAppearance&&(ge.leaderChatAppearance={...O.leaderChatAppearance||{},...pe.leaderChatAppearance}),pe.maintenanceMode&&(ge.maintenanceMode={...O.maintenanceMode||{},...pe.maintenanceMode}),pe.sliderScrollAnchors&&(ge.sliderScrollAnchors=[...pe.sliderScrollAnchors]),typeof pe.sliderScrollEnabled<"u"&&(ge.sliderScrollEnabled=pe.sliderScrollEnabled),typeof pe.sliderMessageOrigin<"u"&&(ge.sliderMessageOrigin=pe.sliderMessageOrigin);try{await ope(ge),M(ge);try{localStorage.setItem("churchSettings",JSON.stringify(ge))}catch{}console.log(" Configuraes salvas no Firestore")}catch(he){console.error(" Erro ao salvar configuraes:",he),M(ge);try{localStorage.setItem("churchSettings",JSON.stringify(ge))}catch{}}},ie=pe=>r.find(ge=>ge.id===pe),se=async pe=>{try{console.log(" Iniciando criao de culto:",pe);const ge=xS();if(console.log(" Auth Debug Info:",ge),!ft.currentUser){console.error(" Usurio no autenticado no Firebase"),console.error(" Auth state:",ge),e("error","Usurio no autenticado. Faa login novamente.");return}console.log(" Usurio autenticado no Firebase:",ft.currentUser.uid);const he={...pe,id:crypto.randomUUID()};console.log(" Culto preparado:",he);const Te=await tpe(he);console.log(" Culto salvo no Firestore com ID:",Te),he.id=Te,i(De=>[...De,he]),console.log(" Estado local atualizado"),e("success","Culto criado com sucesso!")}catch(ge){console.error(" Erro ao criar culto:",ge),console.error(" Detalhes do erro:",ge.message),console.error(" Stack trace:",ge.stack),e("error",`Erro ao criar culto: ${ge.message}`)}},je=async(pe,ge)=>{try{await rpe(pe,ge),i(he=>he.map(Te=>Te.id===pe?{...Te,...ge}:Te)),console.log(" Culto atualizado no Firestore:",pe)}catch(he){console.error(" Erro ao atualizar culto:",he),e("error","Erro ao atualizar culto: verifique sua autenticao/permisses. A atualizao no foi aplicada no servidor.");return}},Pe=async pe=>{try{console.log(" [AppContext] Iniciando excluso de culto:",pe),await npe(pe),console.log(" [AppContext] Culto excludo com sucesso do Firestore:",pe),console.log(" [AppContext] O listener onSnapshot ir sincronizar automaticamente a remoo"),e("success","Culto excludo com sucesso!")}catch(ge){console.error(" [AppContext] Erro ao excluir culto:",ge);let he="Erro inesperado ao excluir culto.";ge.message?he=ge.message:ge.code==="permission-denied"?he="Voc no tem permisso para excluir cultos.":ge.code==="unauthenticated"&&(he="Sua sesso expirou. Faa login novamente."),e("error",he);return}},ue=async pe=>{const ge=crypto.randomUUID(),he={...pe,id:ge,createdAt:new Date};try{const Te=await lpe(he),De={...he,id:Te};return console.log(" Usurio autorizado salvo no Firestore:",Te),Te}catch(Te){return console.error(" Erro ao salvar usurio autorizado:",Te),e("error","Erro ao salvar usurio autorizado: verifique sua autenticao/permisses. A operao no foi salva no servidor."),ge}},ae=async(pe,ge)=>{try{console.log(" Iniciando atualizao de usurio:",pe,"Campos:",ge),await cpe(pe,ge),console.log(" Usurio autorizado atualizado no Firestore:",pe)}catch(he){console.error(" Erro ao atualizar usurio autorizado:",he);const Te=he instanceof Error?he.message:String(he);e("error",`Erro ao atualizar usurio autorizado: ${Te}`);return}},oe=async pe=>{try{const ge=j.filter(he=>he.leaderIds.includes(pe));ge.length>0&&(await Promise.all(ge.map(async he=>{const Te=he.leaderIds.filter(De=>De!==pe);await zx(he.id,{leaderIds:Te})})),console.log(` Removidas ${ge.length} associaes de ministrio/departamento para o usurio:`,pe)),await upe(pe),console.log(" Usurio autorizado deletado do Firestore:",pe)}catch(ge){console.error(" Erro ao deletar usurio autorizado:",ge);let he="Erro ao deletar usurio autorizado: verifique sua autenticao/permisses. A excluso no foi feita no servidor.";(ge==null?void 0:ge.code)==="permission-denied"?he="Permisso negada para excluir este usurio. Somente administradores (custom claim) ou contas administrativas podem excluir usurios.":(ge==null?void 0:ge.code)==="unauthenticated"&&(he="Sua sesso expirou. Faa login novamente para continuar."),e("error",he);return}},ve=pe=>u.find(ge=>ge.id===pe),Y=async pe=>{const ge={...pe,id:crypto.randomUUID(),createdAt:new Date,status:"pending"};try{const he=await hpe(ge),Te={...ge,id:he};p(De=>[Te,...De]),console.log(" Solicitao de liderana salva no Firestore:",he)}catch(he){console.error(" Erro ao salvar solicitao de liderana:",he),e("error","Erro ao enviar solicitao de liderana: verifique sua conexo e tente novamente.");return}},fe=async(pe,ge)=>{const he=f.find(Te=>Te.id===pe);try{await fpe(pe,{status:ge})}catch(Te){console.error(" Erro ao atualizar status da solicitao no Firestore:",Te);let De="Erro ao atualizar status da solicitao: a operao foi bloqueada.";const nt=Te==null?void 0:Te.code;nt==="permission-denied"?De="Permisso negada para atualizar a solicitao. Faa login como administrador.":nt==="unauthenticated"?De="Sua sesso expirou. Faa login novamente e tente de novo.":Te!=null&&Te.message&&(De=`Erro ao atualizar status da solicitao: ${Te.message}`),e("error",De);return}if(he&&ge==="approved")try{const Te=u.find(nt=>{var bt,kt;return((bt=nt.email)==null?void 0:bt.toLowerCase())===((kt=he.email)==null?void 0:kt.toLowerCase())});let De;if(Te?(await ae(Te.id,{status:"active"}),De=Te.id):De=await ue({name:he.name,email:he.email,phone:he.phone,role:"leader",status:"active",password:crypto.randomUUID().slice(0,8)}),De&&he.ministry){const nt=j.find(bt=>{var kt,$e;return((kt=bt.name)==null?void 0:kt.toLowerCase())===(($e=he.ministry)==null?void 0:$e.toLowerCase())});nt&&await wt(De,[nt.id])}}catch(Te){console.error(" Solicitao aprovada, mas falha ao criar/ativar usurio autorizado:",Te);let De="Solicitao aprovada, mas houve falha ao criar o usurio. Verifique se voc est autenticado.";(Te==null?void 0:Te.code)==="permission-denied"?De="Solicitao aprovada, porm sem permisso para criar usurio. Faa login como administrador.":(Te==null?void 0:Te.code)==="unauthenticated"&&(De="Solicitao aprovada, mas sua sesso expirou. Faa login novamente."),e("warning",De)}p(Te=>Te.map(De=>De.id===pe?{...De,status:ge}:De)),console.log(" Status da solicitao atualizado (UI sincronizada):",pe,ge)},ee=async pe=>{var he;const ge={...pe,id:crypto.randomUUID(),createdAt:new Date,readBy:[pe.senderId]};try{if(!ft.currentUser){try{const bt="fonte:auth-log",kt=localStorage.getItem(bt),$e=kt?JSON.parse(kt):[];$e.push({ts:new Date().toISOString(),event:"blocked-addMessage-no-auth",message:{subject:pe.subject||((he=pe.content)==null?void 0:he.slice(0,40))}}),localStorage.setItem(bt,JSON.stringify($e.slice(-200)))}catch{}console.warn("addMessage blocked: auth.currentUser is null"),e("error","Sua sesso no est pronta. Aguarde alguns segundos e tente novamente.");return}const Te=Array.isArray(ge.recipientIds)?ge.recipientIds.map(bt=>{var kt;return(kt=u.find($e=>$e.id===bt))==null?void 0:kt.firebaseUid}).filter(bt=>!!bt):[],De=await dpe({...ge,senderFirebaseUid:ft.currentUser.uid,recipientFirebaseUids:Te}),nt={...ge,id:De};x(bt=>[nt,...bt]),console.log(" Mensagem salva no Firestore:",De)}catch(Te){console.error(" Erro ao salvar mensagem:",Te),e("error","Erro ao salvar mensagem: verifique sua autenticao/permisses. A operao no foi salva no servidor.");return}},ye=(pe,ge)=>{x(he=>he.map(Te=>Te.id===pe&&!Te.readBy.includes(ge)?{...Te,readBy:[...Te.readBy,ge]}:Te))},Oe=pe=>g.filter(ge=>(ge.recipientIds.includes(pe)||ge.senderId===pe)&&!(Array.isArray(ge.deletedForUserIds)&&ge.deletedForUserIds.includes(pe))).sort((ge,he)=>{const Te=ge.createdAt instanceof Date?ge.createdAt.getTime():0;return(he.createdAt instanceof Date?he.createdAt.getTime():0)-Te}),We=async(pe,ge)=>{try{const he=g.find(nt=>nt.id===pe),Te=Array.isArray(he==null?void 0:he.deletedForUserIds)?he.deletedForUserIds:[],De=Array.from(new Set([...Te,ge]));await iL(pe,{deletedForUserIds:De}),x(nt=>nt.map(bt=>bt.id===pe?{...bt,deletedForUserIds:De}:bt)),e("success","Mensagem excluda para voc.")}catch(he){console.error(" Erro ao excluir mensagem para usurio:",he);let Te="Erro ao excluir mensagem.";(he==null?void 0:he.code)==="permission-denied"&&(Te="Permisso negada para excluir esta mensagem."),(he==null?void 0:he.code)==="unauthenticated"&&(Te="Sesso expirada. Faa login novamente."),e("error",Te)}},it=async(pe,ge)=>{try{const he=g.filter(De=>ge==="sent"?De.senderId===pe:De.recipientIds.includes(pe)&&De.senderId!==pe),Te=he.map(De=>{const nt=Array.isArray(De.deletedForUserIds)?De.deletedForUserIds:[],bt=Array.from(new Set([...nt,pe]));return iL(De.id,{deletedForUserIds:bt})});await Promise.all(Te),x(De=>De.map(nt=>{if(he.some(bt=>bt.id===nt.id)){const bt=Array.isArray(nt.deletedForUserIds)?nt.deletedForUserIds:[],kt=Array.from(new Set([...bt,pe]));return{...nt,deletedForUserIds:kt}}return nt})),e("success","Mensagens esvaziadas para voc.")}catch(he){console.error(" Erro ao esvaziar mensagens:",he);let Te="Erro ao esvaziar mensagens.";(he==null?void 0:he.code)==="permission-denied"&&(Te="Permisso negada para esvaziar mensagens."),(he==null?void 0:he.code)==="unauthenticated"&&(Te="Sesso expirada. Faa login novamente."),e("error",Te)}},ut=async pe=>{try{const ge=await mpe(pe);console.log(" Ministrio/Departamento salvo no Firestore com sucesso:",pe.name,"ID:",ge)}catch(ge){console.error(" Erro ao salvar ministrio/departamento:",ge),e("error","Erro ao salvar ministrio/departamento: verifique sua autenticao/permisses. A operao no foi salva no servidor.");return}},At=async pe=>{try{await ppe(pe),w(ge=>ge.filter(he=>he.id!==pe)),console.log(" Ministrio/Departamento deletado com sucesso:",pe)}catch(ge){console.error(" Erro ao deletar ministrio/departamento:",ge),e("error","Erro ao deletar ministrio/departamento: verifique sua autenticao/permisses. A excluso no foi feita no servidor.");return}},wt=async(pe,ge)=>{try{const he=j.filter(nt=>{const bt=nt.leaderIds.includes(pe),kt=ge.includes(nt.id);return bt!==kt});if(he.length===0){console.log(" Nenhuma mudana necessria nas associaes de ministrio/departamento");return}const Te=he.map(async nt=>{const bt=nt.leaderIds.includes(pe),kt=ge.includes(nt.id);if(bt&&!kt){const $e=nt.leaderIds.filter(dt=>dt!==pe);return await zx(nt.id,{leaderIds:$e}),{...nt,leaderIds:$e}}else if(!bt&&kt){const $e=[...nt.leaderIds,pe];return await zx(nt.id,{leaderIds:$e}),{...nt,leaderIds:$e}}return nt}),De=await Promise.all(Te);w(nt=>nt.map(bt=>De.find($e=>$e.id===bt.id)||bt)),console.log(` ${he.length} associaes de ministrio/departamento atualizadas no Firestore para usurio:`,pe)}catch(he){console.error(" Erro ao atualizar associaes de ministrio/departamento:",he),e("error","Erro ao atualizar associaes de ministrio/departamento: verifique sua autenticao/permisses. As alteraes no foram aplicadas no servidor.");return}},st=async(pe,ge)=>{try{console.log(" Iniciando criao de script:",pe);const he=xS();if(console.log(" Auth Debug Info:",he),!ft.currentUser){console.error(" Usurio no autenticado no Firebase"),console.error(" Auth state:",he),e("error","Usurio no autenticado. Faa login novamente.");return}console.log(" Usurio autenticado no Firebase:",ft.currentUser.uid);const Te=new Date,De={...pe,createdAt:Te,updatedAt:Te,history:[{userId:ge,date:Te}],attachments:[]};console.log(" Script preparado (sem ID):",De);const nt=await ape(De);console.log(" Script salvo no Firestore com ID:",nt),console.log(" O listener onSnapshot ir sincronizar automaticamente o novo roteiro"),e("success","Roteiro criado com sucesso!")}catch(he){console.error(" Erro ao criar script:",he),console.error(" Detalhes do erro:",he.message),console.error(" Stack trace:",he.stack),e("error",`Erro ao criar script: ${he.message}`)}},Ce=async(pe,ge,he)=>{var bt;const Te=new Date,De={userId:he,date:Te},nt={...ge,updatedAt:Te,history:[...((bt=o.find(kt=>kt.id===pe))==null?void 0:bt.history)||[],De]};try{await spe(pe,nt),c(kt=>kt.map($e=>$e.id===pe?{...$e,...nt}:$e)),console.log(" Script atualizado no Firestore:",pe)}catch(kt){console.error(" Erro ao atualizar script:",kt),e("error","Erro ao atualizar roteiro: verifique sua autenticao/permisses. A atualizao no foi aplicada no servidor.");return}},Ve=async pe=>{try{console.log(" [AppContext] Iniciando excluso de roteiro:",pe),await ipe(pe),console.log(" [AppContext] Roteiro excludo com sucesso do Firestore:",pe),console.log(" [AppContext] Forando atualizao do estado local - removendo roteiro:",pe),c(ge=>{const he=ge.filter(Te=>Te.id!==pe);return console.log(" [AppContext] Estado local atualizado - roteiros restantes:",he.length),he}),e("success","Roteiro excludo com sucesso!")}catch(ge){console.error(" [AppContext] Erro ao excluir roteiro:",ge);let he="Erro inesperado ao excluir roteiro.";ge.message?he=ge.message:ge.code==="permission-denied"?he="Voc no tem permisso para excluir roteiros.":ge.code==="unauthenticated"&&(he="Sua sesso expirou. Faa login novamente."),e("error",he);return}},Qe=pe=>o.find(ge=>ge.id===pe),rt=v.useCallback((pe,ge,he)=>I({isOpen:!0,title:pe,message:ge,onConfirm:()=>{he(),ot()}}),[]),ot=v.useCallback(()=>I(pe=>({...pe,isOpen:!1})),[]),gt=v.useCallback((pe,ge,he,Te)=>_({isOpen:!0,title:pe,message:ge,inputLabel:he,onConfirm:De=>{Te(De),ht()}}),[]),ht=v.useCallback(()=>_(pe=>({...pe,isOpen:!1})),[]),Dt=v.useCallback(pe=>P({isOpen:!0,replyTo:pe}),[]),qt=v.useCallback(()=>P({isOpen:!1}),[]),Rt=v.useCallback((pe,ge)=>{U(pe),pe&&ge&&K(ge),pe||K(null)},[]),Xt=v.useCallback(pe=>W({isOpen:!0,script:pe}),[]),Qt=v.useCallback(()=>W({isOpen:!1,script:null}),[]);return s.jsx(NG.Provider,{value:{announcements:r,cultos:a,scripts:o,settings:O,authorizedUsers:u,leaderRequests:f,messages:g,ministryDepartments:j,onlineUserIds:b,isLoading:E,setOnlineStatus:te,addAnnouncement:B,updateAnnouncement:G,deleteAnnouncement:J,updateSettings:ne,getAnnouncementById:ie,getOccurrences:X,addCulto:se,updateCulto:je,deleteCulto:Pe,addAuthorizedUser:ue,updateAuthorizedUser:ae,removeAuthorizedUser:oe,getAuthorizedUserById:ve,addLeaderRequest:Y,updateLeaderRequestStatus:fe,addMessage:ee,markMessageAsRead:ye,getMessagesForUser:Oe,deleteMessageForUser:We,clearMessagesForUser:it,addMinistryDepartment:ut,deleteMinistryDepartment:At,updateLeaderMinistryDepartmentMembership:wt,addScript:st,updateScript:Ce,deleteScript:Ve,getScriptById:Qe,confirmation:L,showConfirmation:rt,hideConfirmation:ot,inputPrompt:T,showInputPrompt:gt,hideInputPrompt:ht,composeMessage:D,showComposeMessage:Dt,hideComposeMessage:qt,isVideoModalOpen:R,videoSettingsOverride:$,toggleVideoModal:Rt,scriptView:F,showScriptView:Xt,hideScriptView:Qt},children:t})},cr=()=>{const t=v.useContext(NG);if(!t)throw new Error("useApp deve ser usado dentro de um AppProvider");return t};class $1e{constructor(){yt(this,"SESSION_KEY","fontenews_session");yt(this,"TAB_ID_KEY","fontenews_tab_id");yt(this,"tabId");this.tabId=this.generateTabId(),sessionStorage.setItem(this.TAB_ID_KEY,this.tabId)}generateTabId(){return`tab_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}setSession(e,r){const n={userId:e,userEmail:r,loginTime:Date.now(),tabId:this.tabId};sessionStorage.setItem(this.SESSION_KEY,JSON.stringify(n))}getSession(){try{const e=sessionStorage.getItem(this.SESSION_KEY);if(!e)return null;const r=JSON.parse(e);return r.tabId!==this.tabId?null:r}catch(e){return console.error("Erro ao obter sesso:",e),null}}clearSession(){sessionStorage.removeItem(this.SESSION_KEY)}hasActiveSession(){return this.getSession()!==null}isCurrentUser(e){const r=this.getSession();return(r==null?void 0:r.userId)===e}getTabId(){return this.tabId}}const Yu=new $1e,SG=v.createContext(void 0),B1e=({children:t})=>{const[e,r]=v.useState(null),[n,a]=v.useState(null),[i,o]=v.useState(!0),{authorizedUsers:c,settings:u,setOnlineStatus:h,addLeaderRequest:f}=cr(),p=v.useRef([]);v.useEffect(()=>{p.current=c},[c]);const g=async A=>{try{let O=p.current.find(M=>M.firebaseUid===A.uid);if(!O&&A.email){const M=p.current.find(L=>(L.email||"").toLowerCase()===A.email.toLowerCase());if(M)try{await oi(at(we,"authorizedUsers",M.id),{firebaseUid:A.uid},{merge:!0}),console.log(" Vinculado firebaseUid ao authorizedUser via email:",M.email),O={...M,firebaseUid:A.uid}}catch(L){console.error(" Falha ao vincular firebaseUid no authorizedUsers:",L)}}if(O&&O.status==="active"){Yu.setSession(O.id,O.email);const M={id:O.id,name:O.name,email:O.email,role:O.role,ministry:O.ministry,avatarUrl:O.avatarUrl||A.photoURL||""};r(M);try{const{presenceManager:L}=await ty(async()=>{const{presenceManager:I}=await import("./presenceManager-Dvzb647r.js");return{presenceManager:I}},[]);await L.setOnline(O.id)}catch(L){console.error(" Erro ao inicializar sistema de presena:",L)}try{await oi(at(we,"users",A.uid),{authorizedUserId:O.id,role:O.role,email:O.email,name:O.name,status:O.status,updatedAt:new Date},{merge:!0}),console.log(" Mapeamento de segurana atualizado em /users:",A.uid)}catch(L){console.error(" Falha ao atualizar mapeamento de segurana do usurio:",L)}h(O.id,!0),console.log(" Usurio autenticado:",M.name,"Tab ID:",Yu.getTabId())}else console.warn(" FirebaseUser no mapeado em authorizedUsers ou inativo. Aguardando lista carregar."),Yu.clearSession(),r(null)}finally{o(!1)}};v.useEffect(()=>{const A=Pie(ft,async O=>{o(!0),O?(a(O),await g(O)):(a(null),r(null),Yu.clearSession(),console.log(" Usurio deslogado da aba:",Yu.getTabId())),O||o(!1)});return rp.isNativePlatform()&&b6(ft).catch(()=>{}),()=>A()},[h]),v.useEffect(()=>{n&&!e&&(o(!0),g(n))},[c,n,e]),v.useEffect(()=>{if(n&&e){const A=c.find(O=>O.firebaseUid===n.uid);A&&A.status!=="active"&&(console.warn(" Status do usurio atual alterado para:",A.status),console.log(" Fazendo logout devido  mudana de status"),Yu.clearSession(),r(null),a(null),fm(ft).catch(O=>{console.error(" Erro ao fazer signOut:",O)}))}},[c,n,e]);const x=`Seu acesso no foi autorizado. Por gentileza, entre em contato com a secretaria (${u.contactInfo.email}) para regularizar sua situao, ou envie uma solicitao on-line.`,j=async(A,O)=>{try{o(!0),await Nie(ft,A.trim(),O);const M=ft.currentUser;if(!M)return o(!1),{success:!1,message:"Falha ao autenticar. Tente novamente."};let L=c.find(I=>I.firebaseUid===M.uid);if(!L&&M.email){const I=c.find(T=>(T.email||"").toLowerCase()===M.email.toLowerCase());if(I)try{await oi(at(we,"authorizedUsers",I.id),{firebaseUid:M.uid},{merge:!0}),L={...I,firebaseUid:M.uid}}catch(T){console.error(" Falha ao vincular firebaseUid no authorizedUsers:",T)}}return L?L.status==="blocked"?(await fm(ft),o(!1),{success:!1,message:"Sua conta est bloqueada. Entre em contato com a secretaria."}):L.status==="inactive"?(await fm(ft),o(!1),{success:!1,message:"Sua conta est inativa. Entre em contato com a secretaria."}):(o(!1),{success:!0}):(await fm(ft),o(!1),{success:!1,message:x})}catch(M){if(o(!1),console.error("Erro no login:",M),M.code==="auth/operation-not-allowed")return{success:!1,message:'Login por e-mail/senha est desabilitado. Pea ao administrador para ativar "Email/Password" em Firebase Authentication.'};if(M.code==="auth/user-not-found"){const L=(A||"").trim().toLowerCase(),I=c.find(T=>(T.email||"").toLowerCase()===L);if(I){if(I.status==="blocked")return{success:!1,message:"Sua conta est bloqueada. Entre em contato com a secretaria."};if(I.status==="inactive")return{success:!1,message:"Sua conta est inativa. Entre em contato com a secretaria."};const T=I.password?String(I.password):"";if(T.trim().length>0&&T!==O)return{success:!1,message:"Senha incorreta. Utilize a senha definida pela secretaria no menu Lderes."};try{await kie(ft,A.trim(),O);const _=ft.currentUser;if(_){try{await _ie(_,{displayName:I.name||""})}catch{}try{await oi(at(we,"authorizedUsers",I.id),{firebaseUid:_.uid},{merge:!0}),await oi(at(we,"users",_.uid),{authorizedUserId:I.id,role:I.role,email:I.email,name:I.name,status:I.status,updatedAt:new Date},{merge:!0})}catch(D){console.error(" Falha ao vincular novo usurio criado:",D)}return{success:!0}}else return{success:!1,message:"Conta criada, mas falha ao autenticar. Tente novamente."}}catch(_){return console.error(" Erro ao criar usurio no Firebase Auth:",_),_.code==="auth/operation-not-allowed"?{success:!1,message:'Cadastro por e-mail/senha est desabilitado. Ative "Email/Password" no Firebase Authentication.'}:_.code==="auth/email-already-in-use"?{success:!1,message:"Este e-mail j possui uma conta. Tente novamente."}:{success:!1,message:"No foi possvel criar sua conta. Tente novamente."}}}try{await f({name:"",email:A.trim(),phone:"",ministry:""})}catch{}return{success:!1,message:x}}else if(M.code==="auth/wrong-password"){const L=(A||"").trim().toLowerCase(),I=c.find(_=>(_.email||"").toLowerCase()===L),T=I&&I.password?String(I.password):"";return T&&T===O?{success:!1,message:'A senha definida pela secretaria difere da senha atual. Clique em "Esqueci minha senha" para receber o e-mail de redefinio.'}:{success:!1,message:"Senha incorreta."}}else{if(M.code==="auth/invalid-email")return{success:!1,message:"Email invlido."};if(M.code==="auth/too-many-requests")return{success:!1,message:"Muitas tentativas de login. Tente novamente mais tarde."};if(M.code==="auth/invalid-credential")return{success:!1,message:"E-mail ou senha invlidos."}}return{success:!1,message:"Erro no login. Tente novamente."}}},w=async(A,O)=>{const M=await j(A,O);if(!M.success&&(M.message||"").includes("Seu acesso no foi autorizado"))try{await f({name:"",email:A.trim(),phone:"",ministry:""})}catch{}return M},b=async()=>{try{o(!0);const A=new Lc;if(rp.isNativePlatform()){await soe(ft,A);try{await b6(ft)}catch{}return o(!1),{success:!0}}else return await Jie(ft,A),o(!1),{success:!0}}catch(A){return o(!1),console.error("Erro no login com Google:",A),A.code==="auth/popup-closed-by-user"?{success:!1,message:"Login cancelado pelo usurio."}:A.code==="auth/popup-blocked"?{success:!1,message:"Popup bloqueado pelo navegador. Permita popups para este site."}:{success:!1,message:"Erro no login com Google. Tente novamente."}}},N=async()=>{try{if(e!=null&&e.id){const{presenceManager:A}=await ty(async()=>{const{presenceManager:O}=await import("./presenceManager-Dvzb647r.js");return{presenceManager:O}},[]);await A.setOffline()}Yu.clearSession(),await fm(ft),console.log(" Logout realizado com sucesso")}catch(A){console.error(" Erro durante logout:",A),Yu.clearSession();try{await fm(ft)}catch(O){console.error(" Erro ao fazer signOut do Firebase:",O)}}},E=A=>{if(e){const O={...e,...A};r(O)}};return s.jsx(SG.Provider,{value:{user:e,firebaseUser:n,login:j,loginEmailExclusive:w,loginWithGoogle:b,logout:N,updateUser:E,isLoading:i},children:t})},Ur={isActive:!1,useRedirect:!1,redirectUrl:"",backgroundImage:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=1920&q=80",overlayImage:"",overlayOpacity:.3,backgroundColor:"#1a1a2e",title:"Estamos em Manuteno",titleSize:"4xl",titleColor:"#ffffff",titleWeight:"bold",description:"Nosso site est passando por melhorias. Voltaremos em breve com novidades incrveis!",descriptionSize:"xl",descriptionColor:"#e0e0e0",descriptionWeight:"normal",contentAlignment:"center",verticalAlignment:"center",buttons:[{id:"1",text:"Entre em Contato",url:"mailto:contato@exemplo.com",backgroundColor:"#3b82f6",textColor:"#ffffff",showButton:!0}],showLogo:!1,logoUrl:"",logoSize:"md",headerImageUrl:"",containerMaxWidth:"4xl",textShadow:!0,backdropBlur:!0,showCountdown:!1,countdownDate:new Date(Date.now()+1440*60*1e3).toISOString().split("T")[0],customCSS:""},EG=async t=>{try{if(console.log(" [MaintenanceImageService] Iniciando upload de imagem para modo manuteno"),console.log(" [MaintenanceImageService] Arquivo recebido:",{name:t==null?void 0:t.name,size:t==null?void 0:t.size,type:t==null?void 0:t.type,exists:!!t}),!ft.currentUser)throw console.error(" [MaintenanceImageService] Usurio no autenticado"),new Error("Usurio no autenticado. Faa login novamente.");if(console.log(" [MaintenanceImageService] Usurio autenticado:",ft.currentUser.uid),!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(t.type))throw new Error("Tipo de arquivo invlido. Use apenas JPG, PNG, GIF ou WebP.");const r=5*1024*1024;if(t.size>r)throw new Error("Arquivo muito grande. Mximo permitido: 5MB.");const n=Date.now(),a=ft.currentUser.uid,i=t.name.split(".").pop()||"jpg",o=`maintenance_${a}_${n}.${i}`,c=`maintenance-images/${a}/${o}`,u=kn(da,c);console.log(" [MaintenanceImageService] Caminho no storage:",c),console.log(" [MaintenanceImageService] Tamanho do arquivo:",t.size,"bytes"),console.log(" [MaintenanceImageService] Tipo do arquivo:",t.type);const h=await io(u,t);console.log(" [MaintenanceImageService] Upload concludo:",h.metadata.name);const f=await Ci(h.ref);return console.log(" [MaintenanceImageService] URL pblica obtida:",f),{url:f,storagePath:c}}catch(e){throw console.error(" [MaintenanceImageService] Erro ao fazer upload da imagem:",e),e}},q1e=async(t,e)=>{try{console.log(" [MaintenanceImageService] Convertendo base64 para arquivo");const r=t.replace(/^data:image\/\w+;base64,/,""),n=atob(r),a=new Array(n.length);for(let g=0;g<n.length;g++)a[g]=n.charCodeAt(g);const i=new Uint8Array(a);let o="image/jpeg";t.includes("data:image/png")?o="image/png":t.includes("data:image/gif")?o="image/gif":t.includes("data:image/webp")&&(o="image/webp");const c=new Blob([i],{type:o}),u=Date.now(),h=o.split("/")[1],f=e||`maintenance_image_${u}.${h}`,p=new File([c],f,{type:o});return console.log(" [MaintenanceImageService] Arquivo criado a partir de base64:",{name:f,type:o,size:p.size}),await EG(p)}catch(r){throw console.error(" [MaintenanceImageService] Erro ao converter base64 ou fazer upload:",r),new Error("Erro ao processar imagem. Verifique se a imagem est em formato vlido.")}},AG=v.createContext(void 0),H1e=({children:t})=>{const{settings:e,updateSettings:r}=cr(),[n,a]=v.useState(Ur),[i,o]=v.useState(Date.now());v.useEffect(()=>{if(e!=null&&e.maintenanceMode){console.log("[MaintenanceContext] ===== SINCRONIZAO FIRESTORE ====="),console.log("[MaintenanceContext] AUTH STATUS:",ft.currentUser?`Logado: ${ft.currentUser.uid}`:"NO LOGADO"),console.log("[MaintenanceContext] Config do Firestore:",e.maintenanceMode),console.log("[MaintenanceContext] headerImageUrl do Firestore:",e.maintenanceMode.headerImageUrl),console.log("[MaintenanceContext] Logo do Firestore:",{showLogo:e.maintenanceMode.showLogo,logoUrl:e.maintenanceMode.logoUrl,logoSize:e.maintenanceMode.logoSize,headerImageUrl:e.maintenanceMode.headerImageUrl});const b={...Ur,isActive:e.maintenanceMode.enabled||!1,useRedirect:e.maintenanceMode.redirectMode||!1,redirectUrl:e.maintenanceMode.redirectUrl||"",title:e.maintenanceMode.title||Ur.title,description:e.maintenanceMode.description||Ur.description,backgroundImage:e.maintenanceMode.backgroundImage||Ur.backgroundImage,overlayImage:e.maintenanceMode.overlayImage||Ur.overlayImage,backgroundColor:e.maintenanceMode.backgroundColor||Ur.backgroundColor,overlayColor:e.maintenanceMode.overlayColor||Ur.overlayColor,textColor:e.maintenanceMode.textColor||Ur.textColor,titleSize:e.maintenanceMode.titleSize||Ur.titleSize,descriptionSize:e.maintenanceMode.descriptionSize||Ur.descriptionSize,titleAlign:e.maintenanceMode.titleAlign||Ur.titleAlign,descriptionAlign:e.maintenanceMode.descriptionAlign||Ur.descriptionAlign,titleWeight:e.maintenanceMode.titleWeight||Ur.titleWeight,descriptionWeight:e.maintenanceMode.descriptionWeight||Ur.descriptionWeight,showCountdown:e.maintenanceMode.showCountdown??Ur.showCountdown,countdownDate:e.maintenanceMode.countdownDate||Ur.countdownDate,countdownText:e.maintenanceMode.countdownText||Ur.countdownText,buttons:e.maintenanceMode.buttons||Ur.buttons,containerMaxWidth:e.maintenanceMode.containerMaxWidth||Ur.containerMaxWidth,verticalAlign:e.maintenanceMode.verticalAlign||Ur.verticalAlign,overlayOpacity:e.maintenanceMode.overlayOpacity??Ur.overlayOpacity,overlayBlur:e.maintenanceMode.overlayBlur??Ur.overlayBlur,customCSS:e.maintenanceMode.customCSS||Ur.customCSS,customHTML:e.maintenanceMode.customHTML||Ur.customHTML,contentAlignment:e.maintenanceMode.contentAlignment||Ur.contentAlignment,titleColor:e.maintenanceMode.titleColor||Ur.titleColor,descriptionColor:e.maintenanceMode.descriptionColor||Ur.descriptionColor,textShadow:e.maintenanceMode.textShadow??Ur.textShadow,backdropBlur:e.maintenanceMode.backdropBlur??Ur.backdropBlur,showLogo:e.maintenanceMode.showLogo??Ur.showLogo,logoUrl:e.maintenanceMode.logoUrl||Ur.logoUrl,logoSize:e.maintenanceMode.logoSize||Ur.logoSize,headerImageUrl:e.maintenanceMode.headerImageUrl||Ur.headerImageUrl};console.log("[MaintenanceContext] Configuraes sincronizadas do Firestore:",b),console.log("[MaintenanceContext] Dados da logo sincronizados:",{showLogo:b.showLogo,logoUrl:b.logoUrl,logoSize:b.logoSize,headerImageUrl:b.headerImageUrl}),(b.logoUrl!==n.logoUrl||b.showLogo!==n.showLogo)&&(console.log("[MaintenanceContext]  MUDANA DETECTADA NA LOGO!"),console.log("[MaintenanceContext] Logo antiga:",{showLogo:n.showLogo,logoUrl:n.logoUrl}),console.log("[MaintenanceContext] Logo nova:",{showLogo:b.showLogo,logoUrl:b.logoUrl})),a(b),o(Date.now()),console.log("[MaintenanceContext] ===== FIM SINCRONIZAO =====")}},[e==null?void 0:e.maintenanceMode]);const c=async b=>{var E,A,O;console.log("[MaintenanceContext] ===== UPDATE CONFIG CHAMADO ====="),console.log("[MaintenanceContext] Updates recebidos:",b),console.log("[MaintenanceContext] Config atual:",n),b.headerImageUrl!==void 0&&console.log("[MaintenanceContext]  ATUALIZANDO headerImageUrl:",b.headerImageUrl);const N={...n,...b};console.log("[MaintenanceContext] Novo config:",N),a(N),o(Date.now()),b.redirectUrl!==void 0&&b.redirectUrl!==n.redirectUrl&&f(b.redirectUrl);try{if(console.log("[MaintenanceContext] Iniciando salvamento robusto de configuraes visuais...",b),!ft.currentUser)throw console.error("[MaintenanceContext] ERRO: Usurio no autenticado. No  possvel salvar configuraes."),new Error("Usurio no autenticado. Faa login novamente.");console.log("[MaintenanceContext] Usurio autenticado:",ft.currentUser.uid),console.log("[MaintenanceContext] Validando dados da logo:",{showLogo:N.showLogo,logoUrl:N.logoUrl,logoSize:N.logoSize,headerImageUrl:N.headerImageUrl});const M={enabled:((E=e==null?void 0:e.maintenanceMode)==null?void 0:E.enabled)??!1,redirectMode:((A=e==null?void 0:e.maintenanceMode)==null?void 0:A.redirectMode)??!1,redirectUrl:((O=e==null?void 0:e.maintenanceMode)==null?void 0:O.redirectUrl)??"",title:N.title||"Sistema em Manuteno",description:N.description||"Estamos trabalhando para melhorar sua experincia.",backgroundImage:N.backgroundImage||"",overlayImage:N.overlayImage||"",logoUrl:N.logoUrl||"",logoSize:N.logoSize||"md",showLogo:N.showLogo??!1,headerImageUrl:N.headerImageUrl||"",backgroundColor:N.backgroundColor||"#1a1a1a",overlayColor:N.overlayColor||"rgba(0,0,0,0.5)",textColor:N.textColor||"#ffffff",titleSize:N.titleSize||"4xl",descriptionSize:N.descriptionSize||"lg",titleAlign:N.titleAlign||"center",descriptionAlign:N.descriptionAlign||"center",titleWeight:N.titleWeight||"bold",descriptionWeight:N.descriptionWeight||"normal",showCountdown:N.showCountdown||!1,countdownDate:N.countdownDate||"",countdownText:N.countdownText||"Tempo estimado",buttons:Array.isArray(N.buttons)?N.buttons:[],containerMaxWidth:N.containerMaxWidth||"4xl",verticalAlignment:N.verticalAlignment||"center",overlayOpacity:typeof N.overlayOpacity=="number"?N.overlayOpacity:.5,overlayBlur:typeof N.overlayBlur=="number"?N.overlayBlur:0,customCSS:N.customCSS||"",customHTML:N.customHTML||"",contentAlignment:N.contentAlignment||"center",titleColor:N.titleColor||"#ffffff",descriptionColor:N.descriptionColor||"#e5e5e5",textShadow:N.textShadow??!0,backdropBlur:N.backdropBlur??!1};console.log("[MaintenanceContext] Dados validados para salvamento:",M);let L=0;const I=3;let T=null;for(;L<I;)try{console.log(`[MaintenanceContext] Tentativa ${L+1} de salvamento...`),await r({maintenanceMode:M}),console.log("[MaintenanceContext]  Configuraes visuais salvas com sucesso no Firestore!"),console.log("[MaintenanceContext] Dados da logo salvos:",{showLogo:M.showLogo,logoUrl:M.logoUrl,logoSize:M.logoSize,headerImageUrl:M.headerImageUrl});break}catch(_){if(T=_,console.error(`[MaintenanceContext]  Erro na tentativa ${L+1}:`,_),_.code==="permission-denied"){console.error("[MaintenanceContext] ERRO CRTICO: Permisso negada. Verificando autenticao...");break}_.code==="unavailable"&&L<I-1&&(console.log(`[MaintenanceContext]  Firestore indisponvel, tentando novamente em ${(L+1)*1e3}ms...`),await new Promise(D=>setTimeout(D,(L+1)*1e3))),L++}if(L===I&&T)throw console.error("[MaintenanceContext]  Falha aps todas as tentativas:",T),new Error(`Falha ao salvar configuraes: ${T.message}`);localStorage.setItem("maintenance_visual_config_backup",JSON.stringify(N)),console.log("[MaintenanceContext]  Backup salvo no localStorage")}catch(M){throw console.error("[MaintenanceContext]  Erro crtico no salvamento:",M),typeof window<"u"&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent("maintenance-save-error",{detail:{error:M.message}})),M}},u=async()=>{const b=!n.isActive;console.log("[MaintenanceContext] Toggle maintenance global:",b);try{await r({maintenanceMode:{...e==null?void 0:e.maintenanceMode,enabled:b}}),a(N=>({...N,isActive:b})),o(Date.now()),console.log("[MaintenanceContext] Modo manuteno global alterado:",b)}catch(N){console.error("[MaintenanceContext] Erro ao alterar modo manuteno:",N)}},h=async()=>{const b=!n.useRedirect;console.log("[MaintenanceContext] Toggle redirect mode global:",b);try{await r({maintenanceMode:{...e==null?void 0:e.maintenanceMode,redirectMode:b}}),a(N=>({...N,useRedirect:b})),o(Date.now()),console.log("[MaintenanceContext] Modo redirect global alterado:",b)}catch(N){console.error("[MaintenanceContext] Erro ao alterar redirect mode:",N)}},f=async b=>{console.log("[MaintenanceContext] Update redirect URL global:",b);try{await r({maintenanceMode:{...e==null?void 0:e.maintenanceMode,redirectUrl:b}}),a(N=>({...N,redirectUrl:b})),o(Date.now()),console.log("[MaintenanceContext] URL de redirect global alterada:",b)}catch(N){console.error("[MaintenanceContext] Erro ao alterar URL de redirect:",N)}},w={config:n,updateConfig:c,toggleMaintenance:u,toggleRedirect:h,updateRedirectUrl:f,resetConfig:async()=>{const b={...Ur,isActive:n.isActive,useRedirect:n.useRedirect,redirectUrl:n.redirectUrl};a(b),o(Date.now());try{console.log("[MaintenanceContext] Resetando configuraes no Firestore..."),await r({maintenanceMode:{...e==null?void 0:e.maintenanceMode,title:b.title,description:b.description,backgroundImage:b.backgroundImage,overlayImage:b.overlayImage,backgroundColor:b.backgroundColor,overlayColor:b.overlayColor,textColor:b.textColor,titleSize:b.titleSize,descriptionSize:b.descriptionSize,titleAlign:b.titleAlign,descriptionAlign:b.descriptionAlign,titleWeight:b.titleWeight,descriptionWeight:b.descriptionWeight,showCountdown:b.showCountdown,countdownDate:b.countdownDate,countdownText:b.countdownText,buttons:b.buttons,containerMaxWidth:b.containerMaxWidth,verticalAlign:b.verticalAlignment,overlayOpacity:b.overlayOpacity,overlayBlur:b.overlayBlur,customCSS:b.customCSS,customHTML:b.customHTML,contentAlignment:b.contentAlignment,titleColor:b.titleColor,descriptionColor:b.descriptionColor,textShadow:b.textShadow,backdropBlur:b.backdropBlur,showLogo:b.showLogo,logoUrl:b.logoUrl,logoSize:b.logoSize}}),console.log("[MaintenanceContext] Configuraes resetadas no Firestore!"),localStorage.setItem("maintenance_visual_config",JSON.stringify(b))}catch(N){console.error("[MaintenanceContext] Erro ao resetar configuraes no Firestore:",N),localStorage.setItem("maintenance_visual_config",JSON.stringify(b))}},lastUpdated:i,uploadHeaderImage:async b=>{try{if(console.log("[MaintenanceContext]  Iniciando upload de imagem do cabealho"),console.log("[MaintenanceContext]  Arquivo recebido:",{name:b.name,size:b.size,type:b.type}),!ft.currentUser)throw console.error("[MaintenanceContext]  Usurio no autenticado"),new Error("Usurio no autenticado. Faa login novamente.");console.log("[MaintenanceContext]  Chamando uploadMaintenanceImage...");const{url:N,storagePath:E}=await EG(b);return console.log("[MaintenanceContext]  Upload concludo:",{url:N,storagePath:E}),console.log("[MaintenanceContext]  Atualizando config com nova URL..."),await c({headerImageUrl:N}),console.log("[MaintenanceContext]  Configurao atualizada com nova URL da imagem"),N}catch(N){throw console.error("[MaintenanceContext]  Erro ao fazer upload da imagem do cabealho:",N),console.error("[MaintenanceContext]  Detalhes do erro:",{message:N.message,code:N.code,stack:N.stack}),N}},uploadHeaderImageFromBase64:async(b,N)=>{try{console.log("[MaintenanceContext]  Convertendo base64 para upload");const{url:E,storagePath:A}=await q1e(b,N);return console.log("[MaintenanceContext]  Upload de base64 concludo:",{url:E,storagePath:A}),await c({headerImageUrl:E}),console.log("[MaintenanceContext]  Configurao atualizada com URL da imagem base64"),E}catch(E){throw console.error("[MaintenanceContext]  Erro ao fazer upload da imagem base64:",E),E}},deleteHeaderImage:async()=>{try{console.log("[MaintenanceContext]  Deletando imagem do cabealho"),await c({headerImageUrl:""}),console.log("[MaintenanceContext]  URL da imagem removida da configurao")}catch(b){throw console.error("[MaintenanceContext]  Erro ao deletar imagem do cabealho:",b),b}}};return s.jsx(AG.Provider,{value:w,children:t})},Sf=()=>{const t=v.useContext(AG);if(t===void 0)throw new Error("useMaintenance must be used within a MaintenanceProvider");return t},xr=()=>{const t=v.useContext(SG);return t||(console.error("useAuth: AuthProvider no encontrado no tree. Retornando fallback."),{user:null,firebaseUser:null,isLoading:!1,login:async()=>({success:!1,message:"Autenticao indisponvel. Atualize a pgina."}),loginWithGoogle:async()=>({success:!1,message:"Autenticao indisponvel. Atualize a pgina."}),logout:()=>{},updateUser:()=>{}})},W1e=async()=>{var t;try{console.log(" Testando conexo com Firebase..."),console.log("Auth currentUser:",ft.currentUser),console.log("Auth config:",{apiKey:((t=ft.app.options.apiKey)==null?void 0:t.substring(0,10))+"...",authDomain:ft.app.options.authDomain,projectId:ft.app.options.projectId});const e=Et(we,"test");return await hn(e),console.log(" Firestore conectado com sucesso"),{success:!0,message:"Firebase conectado com sucesso"}}catch(e){return console.error(" Erro na conexo com Firebase:",e),{success:!1,error:e}}},G1e=()=>{console.log(" Configurao do Firebase:",{apiKey:"AIzaSyAWQz-_BDuMtGdGwS9KpAUZvC4_0kpjoAM".substring(0,10)+"...",authDomain:"fontenews-877a3.firebaseapp.com",projectId:"fontenews-877a3",storageBucket:"fontenews-877a3.firebasestorage.app",messagingSenderId:"920658565832",appId:"1:920658565832:web:33f3aea58c6a9377f4e3fd".substring(0,20)+"..."})},RI=({message:t="Carregando, por favor aguarde...",size:e="large"})=>{const r={small:"h-8 w-8",medium:"h-12 w-12",large:"h-16 w-16"},n={small:"p-4",medium:"p-8",large:"h-screen"};return s.jsxs("div",{className:`flex flex-col justify-center items-center ${n[e]}`,children:[s.jsx("div",{className:`animate-spin rounded-full ${r[e]} border-t-4 border-b-4 border-church-primary mb-4`,children:s.jsx("div",{className:"sr-only",children:"Carregando..."})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:t}),s.jsxs("div",{className:"flex space-x-1 justify-center",children:[s.jsx("div",{className:"w-2 h-2 bg-church-primary rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-church-primary rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-church-primary rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]})};class Y1e extends qc.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Captured error in ErrorBoundary:",e,r)}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-2xl text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Algo deu errado"}),s.jsx("p",{className:"mb-4",children:"Ocorreu um erro inesperado. Por favor atualize a pgina ou entre em contato com a equipe tcnica."}),s.jsx("pre",{className:"text-xs text-left bg-gray-100 p-3 rounded-md overflow-auto",children:String(this.state.error)})]})}):this.props.children}}const LI=()=>{const t=v.useContext(a$);if(!t)throw new Error("useTheme deve ser usado dentro de um ThemeProvider");return t},K1e=()=>{const[t,e]=v.useState(new Date);v.useEffect(()=>{const c=setInterval(()=>e(new Date),50);return()=>clearInterval(c)},[]);const r=c=>{const u=String(c.getHours()).padStart(2,"0"),h=String(c.getMinutes()).padStart(2,"0"),f=String(c.getSeconds()).padStart(2,"0"),p=String(c.getMilliseconds()).padStart(3,"0");return{hours:u,minutes:h,seconds:f,milliseconds:p}},{hours:n,minutes:a,seconds:i,milliseconds:o}=r(t);return s.jsxs("div",{className:"hidden lg:flex items-center text-xs font-mono text-jkd-text/70",children:[s.jsxs("span",{children:[n,":",a,":",i]}),s.jsxs("span",{className:"text-church-primary",children:[".",o]})]})},sj=t=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"611.4 794.5 2000.8 2411",...t,children:s.jsx("path",{fill:"currentColor",d:"M1952.2 1060.5c-23.7 5.8-33.6 12-46.3 29.6-8.4 11.5-9.3 13.7-14.5 35.9-6 25.6-5.8 28.4 4.3 69 10.8 43.7 8 71.2-10.2 99-2.3 3.6-6.1 9.6-8.3 13.5-4.1 6.9-16.2 22.8-27.7 36.2-3.3 3.8-10.3 12.1-15.5 18.3-21.1 25.4-66.6 73.3-81.8 86.3-5.6 4.9-14.9 13.2-20.5 18.5-5.7 5.3-15.5 14.2-21.7 19.7-16.2 14.3-22.3 19.9-32.5 29.7-4.9 4.7-16.4 15.5-25.5 23.9-27 24.9-51.8 48.8-80 76.9-38.9 39-50.2 50.9-89.5 94.1-3.8 4.3-10.4 11.5-14.6 16.1-4.1 4.6-9.5 11-11.9 14.3-2.3 3.3-6 7.8-8 10-2.1 2.2-6.8 7.8-10.6 12.5-3.7 4.7-11.3 14.1-16.9 20.9-10.3 12.7-22.7 29.4-40 54.1-2.2 3.2-7.5 10.5-11.7 16.3-4.2 5.7-8.3 11.8-9.1 13.3-.8 1.6-5.6 8.7-10.6 15.7s-9.4 14-9.7 15.5c-.4 1.5-2.6 5.6-4.9 9.2s-5.7 9.4-7.5 12.9c-1.7 3.6-5.3 9.9-7.9 14-2.6 4.2-7.8 13.7-11.6 21.1-3.7 7.4-8 15.7-9.5 18.5-3.4 6.3-9.8 20.8-11.5 26-.7 2.2-2.9 7.7-4.9 12.2s-3.6 8.4-3.6 8.7c0 .8-6.6 18-8.5 22.1-2.5 5.5-8.3 23.8-13.5 42.5-2.8 10.2-5.8 20.3-6.6 22.5-6.6 18.6-18.6 85.1-22.6 125.5-1.7 18-1.8 89.9 0 107 7.4 71.8 27.1 149.8 47.3 187.3.5.9 2 4.6 3.3 8.1s4 9.4 5.9 13.2 3.8 8 4.2 9.3c.4 1.4 2.1 4.6 3.6 7.2 1.6 2.5 2.9 5 2.9 5.4s3.7 6.6 8.2 13.9c4.4 7.2 8.9 14.4 9.8 16.1.9 1.6 7.5 11.2 14.6 21.2s15.8 22.4 19.4 27.5 10.1 13.1 14.6 17.8c26.8 28.3 36.1 37.7 41.9 42.6 3.6 3.1 6.5 5.9 6.5 6.4 0 1 28.6 24 41.5 33.5 4.4 3.2 12.1 8.9 17 12.5 11.4 8.6 32.5 22.9 38.9 26.4 2.6 1.5 7.5 4.5 10.8 6.6 3.3 2.2 6.2 4 6.4 4 .3 0 2.4 1.2 4.7 2.7 5.8 3.8 7.3 4.7 14.2 8.6 3.3 1.8 10.3 5.8 15.5 8.9 5.2 3 11.5 6.4 14 7.5s9.9 5 16.5 8.8c6.6 3.7 21.4 11.4 32.8 17.1 11.5 5.6 21.4 10.7 22 11.2.7.5 2.3 1.3 3.7 1.7s3.9 1.3 5.5 2.1c1.7.7 12.5 4.8 24 9 11.6 4.2 21.5 7.9 22 8.4.6.4 2.8 1.3 5 2s4.5 1.6 5 2c1 .7 8.5 3.1 37.2 12 30.4 9.3 65.6 16.6 75.8 15.6 6.9-.6 38.6-8 41.7-9.7 14.3-7.7 31-24.4 38.7-38.7 2.1-3.9 9.1-35.6 9.1-41.2s-7-37.3-9.1-41.3c-11.8-22-39.7-46.3-76.2-66.5-9.5-5.3-31.1-23.2-35.4-29.5-1.5-2.1-4.8-5.8-7.4-8.1-17.6-15.6-38.6-50-47.6-78-1.9-6.1-3.9-11.6-4.3-12.1-10.6-14.5-12.6-109.4-2.9-141.5 5.1-16.8 12.9-39.3 16.4-47.5 2.4-5.5 5.8-13.6 7.5-18s5.6-12.7 8.7-18.5c3-5.8 7.9-15.1 10.8-20.6 2.9-5.6 6.6-12.1 8.2-14.5 1.7-2.4 4.5-7.1 6.3-10.4s6.4-10.5 10.1-16.1c3.8-5.6 6.9-10.6 6.9-11.1 0-1.1 12-18 23.1-32.5 4.1-5.3 11.4-15 16.4-21.5 9.2-12.1 21.5-26.8 38-45.3 5.1-5.8 14.7-16.6 21.3-24 14.6-16.4 53.8-57 71.8-74.4 13.1-12.6 13.1-12.6 23-1.9 5.4 5.9 18.1 18.9 28.1 28.8s19.8 20 21.8 22.4c2 2.5 12.1 13.5 22.5 24.5 10.3 11.1 22.7 24.8 27.6 30.5 4.9 5.8 13 15.2 17.9 21 5 5.8 10.1 12.2 11.5 14.1s4.7 6 7.5 9c2.7 3.1 7.2 8.5 9.8 12 12.8 17.4 36 49.8 37.2 52.1.8 1.5 4.6 7.5 8.6 13.4 3.9 6 7.6 12.2 8.2 13.9s2.2 4.9 3.6 7.1c7.2 11.5 30.1 55.4 30.1 57.8 0 .7 1.4 4.1 3.1 7.7 25.1 52.8 32.4 129.8 16.9 177.6-2.2 6.8-4 12.8-4 13.3 0 2-5.3 12.6-10.1 20.4-2.7 4.3-4.9 8.2-4.9 8.7 0 2.3-21.2 31.6-31.9 44-12.5 14.6-41 41.8-59.1 56.3-30 24.2-45.5 53.1-45.5 84.7 0 14 6.1 38.6 11.6 46.7 17 25.3 28.1 33.5 53.2 39.4 24.2 5.7 34.5 4.9 69.7-5.7 8.4-2.6 11.3-3.7 24-9.6 3.6-1.7 7.4-3.4 8.5-3.9 1.1-.4 6.4-2.6 11.7-4.9 5.3-2.2 9.9-4 10.2-4 .6 0 4.2-1.6 21.3-9.6 4-1.9 7.5-3.4 7.8-3.4 1.6 0 37.7-16.5 42.5-19.5 1.9-1.2 9.1-4.8 16-8s17.5-8.7 23.5-12.1c6.1-3.4 14.6-8.1 19-10.4 4.4-2.4 9.2-5.1 10.7-6.2 1.4-1 2.8-1.8 3.1-1.8s3.2-1.7 6.4-3.9c3.2-2.1 7.8-4.8 10.3-6.1 4.6-2.3 10.3-6.1 43.5-28.5 18.1-12.2 23.4-16.1 41.5-30 38.5-29.8 74.1-63.3 103.7-97.5 13.7-16 51.2-67.9 59.8-83 2.6-4.7 6.4-11 8.5-14 2-3 5.4-9.3 7.7-14 2.2-4.7 6.4-13.3 9.2-19.1 2.8-5.9 5.1-11 5.1-11.5 0-.4.8-2.6 1.9-4.8 6.3-13.6 8.1-17.7 8.1-18.4 0-.4.7-2 1.6-3.7.8-1.6 2.8-7.2 4.4-12.5 1.6-5.2 5-16 7.6-24 28-86 34.4-167.9 19.5-250.8-3.3-18-11.7-54.2-15.1-64.7-1.1-3.3-4.4-13.5-7.5-22.7-3-9.2-5.5-17.3-5.5-17.9 0-1-4.5-12.1-7.5-18.4-3.7-7.9-8.3-18.3-9-20.4-1.7-5.4-18.5-39.2-23.8-47.9-3.2-5.1-6.8-11.4-8.1-14s-5.9-9.7-10.1-15.7c-4.2-6.1-8-11.7-8.3-12.5s-2.2-3.8-4.2-6.5c-2-2.8-7.2-10.2-11.5-16.5-54.2-79.9-144.4-165.8-224.3-213.6-7.3-4.3-15-8.9-17-10.2-11.9-7.2-17.9-9.3-44.8-15.7-25.9-6.2-29.4-6.2-52.4-.7-18.7 4.6-18.6 4.5-34.5 16.4-6.5 4.9-12 11.3-21 24.3-4.1 6-11.1 33.5-12.4 48.9-1.5 17.4-3.4 19-22.6 18.4-36.1-1.2-48.6-25.3-37.3-71.8 2-8 4.1-17.2 4.8-20.5.6-3.3 3.9-17.3 7.1-31 30.7-128.1 38.6-206.5 27.9-275.4-5.3-34.3-19.4-87.2-29-108.6-1-2.2-4.4-10.1-7.5-17.5-7.1-16.8-9.6-22-14-29-8.3-13.4-16.9-26.1-23-34-3.6-4.7-8.9-11.7-11.9-15.5-2.9-3.9-9.5-11.7-14.5-17.5s-12.5-14.6-16.5-19.5c-14.3-17.4-51.3-52-70.2-65.7-23.5-17-27.5-18.9-48.2-23.7-24-5.6-22.2-5.6-43-.6m98.2 277.9c1.8 4.1 3.9 9.1 4.6 11.3.7 2.1 1.6 4.2 2 4.8 1 1.3 6 16.2 6 17.8 0 .6.7 2.5 1.5 4 14.5 27.9 13.3 116.8-2.7 195.2-2.2 11-4.9 24.7-6 30.4-2.4 13.5-8.8 41-14.5 63.1-15 57.7-17.1 74-13.9 104.5 1.8 16.8 11.5 58.1 14.6 62 .5.5 1.7 3.8 2.8 7.2s2.9 7.4 3.9 9c1.1 1.5 2.8 4.1 4 5.8 1.1 1.6 2.3 4.3 2.7 5.8.9 3.8 14.9 23 18.3 25.2 1.5 1 5.9 5.1 9.8 9 5.8 6 35.1 28.5 37.1 28.5.3 0 2.6 1.5 5.2 3.2 22.3 15.4 87.5 28.5 123 24.8 14.1-1.5 51.1-9.4 56-11.9 4.4-2.3 17.1-8.1 21.2-9.7 5.6-2.2 20.8-13 27.7-19.7 2.8-2.8 5.9-5.4 6.7-5.9.9-.5 6.4-7.7 12.3-15.9 12.7-17.9 10.7-16.6 17.7-11.8 17.2 11.9 29.7 22.2 42.1 34.4 6.4 6.3 14.1 13.4 17.1 15.7 3.1 2.3 6.9 6.2 8.6 8.7s6.3 7.8 10.2 11.7c8.2 8.1 24 26 30 33.9 2.3 2.9 7.6 9.6 11.9 14.8 4.2 5.1 7.7 9.7 7.7 10.1 0 .3 1.4 2.5 3 4.8 1.7 2.2 3 4.5 3 5 0 .8 8 12.1 18.3 25.8 3.2 4.1 6.2 9.1 6.9 11 .6 1.9 3.3 6.4 5.9 10.1 2.7 3.6 5.9 9.3 7.1 12.5 1.2 3.3 3.2 7.2 4.4 8.9 1.2 1.6 3.9 6.6 5.9 11s4.5 9.6 5.5 11.5 2.1 4.6 2.5 6c.8 2.9 5.3 13.5 10 23.6 5 10.6 16.9 48 18.5 58.1 5.6 33.5 5.4 31.7 5.4 73.8.1 48.8-2 66.4-11.4 96-2.1 6.6-4.1 13.4-4.5 15.2-.9 4.6-6.4 18.5-7.9 20.3-.8.8-2.1 4-3.1 7s-2.1 5.9-2.5 6.5c-.4.5-1.3 2.8-2 5s-1.6 4.4-2 5c-.4.5-1.1 2.1-1.5 3.5-1 3.4-13.3 28.1-14.9 30-.7.8-1.8 3-2.5 4.9-.6 1.9-2.8 5.9-4.8 9-2.1 3.1-4.3 6.6-4.9 7.8-.7 1.1-5 7.2-9.6 13.5-4.7 6.2-11.8 16.2-15.9 22.2s-9.6 13.2-12.4 16c-2.7 2.9-8.2 9-12.2 13.7-10.2 11.9-33.3 34-44.5 42.4-2.7 2-4.8 4-4.8 4.6 0 .5-5.2 4.7-11.5 9.4s-11.5 8.9-11.5 9.3c0 .8-14.8 12-19 14.3-1.4.8-3.3 2-4.2 2.8-2.3 1.8-2.3 2.2 1.2-12.4 5.8-24.6 9.7-52.9 10.7-77.5 1.6-44.2-7.8-98-28.9-165.5-2.2-7.2-4.4-13.5-4.8-14-.4-.6-2.4-5.3-4.4-10.5-6.4-16-7.7-18.8-22.9-48.3-9.4-18.1-11.3-21.6-14.8-27.2-2.4-3.8-10.9-20.9-10.9-22 0-.2-2.7-4.2-6-8.8-3.3-4.7-6-8.7-6-9.1 0-.3-8.1-11.9-18-25.7s-18-25.3-18-25.5c0-1.2-16.3-22.3-23.5-30.4-4.7-5.2-13.1-15.8-18.6-23.5-5.6-7.7-12.9-16.7-16.3-20.1-7-7-11.8-12.1-26.9-28.9-21.9-24.4-48.2-52.1-70.1-74.1-10-9.9-25.2-25.2-33.8-34-8.7-8.7-17.9-18-20.5-20.5-4.9-4.7-22.6-17.9-24.1-17.9-.4 0-3.9-2.2-7.7-5-8.1-5.8-10.3-6.6-33.5-12.1-43.6-10.3-78.9 4.3-128.1 52.8-10.2 10.1-19.9 19.3-21.6 20.6-5.7 4.2-26.9 25.2-30.9 30.7-2.3 3-9.5 10.8-16 17.2-18.8 18.4-30.6 31.1-47.4 50.8-4.5 5.2-9.4 10.8-10.9 12.5-7.3 7.8-23.1 26.6-27.1 32-5.1 7-13.7 17.5-18.4 22.5-2.8 2.9-13.5 17.5-17.1 23.2-.5.9-4.8 6.9-9.5 13.4-4.7 6.6-9.2 13.2-9.8 14.8-.7 1.6-4.7 7.6-8.8 13.3s-7.4 10.7-7.4 11.2c0 .4-2.4 4.1-5.3 8.2s-5.9 8.9-6.5 10.7c-.6 1.9-3.4 6.4-6.1 10.2-2.8 3.8-5.3 8.1-5.7 9.7-.4 1.5-2.4 5.4-4.5 8.7-2.2 3.2-4.2 7-4.6 8.5-.7 3.3-10.2 20.9-12.9 24.1-.7.8-2 4.6-3 8.5-.9 3.8-3.4 10.6-5.4 15-2.1 4.4-5 12-6.5 17-1.5 4.9-3.2 9.6-3.6 10.5-5 8.4-19.3 64.6-24.7 96.5-9.9 58.4-7.3 106.7 9.6 174.2 2.6 10.6 4.6 19.3 4.3 19.3-.2 0-1.8-1-3.5-2.3-1.7-1.2-4.4-2.9-6.1-3.7-1.6-.8-5.2-3.4-8-5.8-2.7-2.4-10.3-8.2-16.8-12.9s-12.1-9.2-12.4-10c-.3-.9-4.2-4.2-8.6-7.4-12.3-9-50.8-47.9-52.6-53.2-.5-1.4-12-17.4-16.6-23.2-1.8-2.2-3.6-5.1-4-6.4-.4-1.4-3.5-6.3-6.9-11.1-3.3-4.7-6.6-9.5-7.3-10.6-1.7-2.6-16.3-32.3-16.3-33 0-.3-.6-2-1.4-3.7-.8-1.8-2.7-6.1-4.1-9.7-1.5-3.6-3.9-9.2-5.4-12.5-8.2-17.7-17.9-49.7-20.2-66.5-5.3-37.9-5.4-39.5-5.4-87 0-43.8.5-55 3.5-73 .5-3 1.9-12.4 3-20.7 1.2-8.4 2.7-17.6 3.5-20.5s3.2-12.1 5.4-20.4 6.3-21.3 9.1-29c2.9-7.6 6.3-17.1 7.6-20.9 1.4-3.9 2.9-7.9 3.4-9 1-2.2 4.5-10.9 9.1-22.7 1.6-4.2 4.1-9.2 5.4-11.2s2.9-5.3 3.4-7.4c1.2-4.3 14.4-30.4 17.2-34.1 1.1-1.3 1.9-2.8 1.9-3.4 0-1 3.9-8.1 13.6-24.5 2.7-4.6 5.4-9.1 5.9-10.1.6-1 4.2-6.4 8-12 3.9-5.6 7.8-11.8 8.8-13.8s3.6-5.9 5.6-8.7c2.1-2.8 4.1-6.1 4.5-7.4.4-1.2 2.9-4.4 5.5-7 4.9-4.8 18.1-22.4 18.1-24.1 0-.5 1.7-3.1 3.8-5.8 2.1-2.6 7-9.1 10.8-14.4s10.6-13.6 15.1-18.5c8.4-9.2 13.2-14.9 20.5-24.4 7-9.1 17.3-21 27.1-31.1 3.1-3.3 5.7-6.4 5.7-6.9s2.1-2.4 4.6-4.2 6.2-5.5 8.2-8.3c5.6-7.8 16.4-19.5 31.7-34.3 7.7-7.5 16-15.7 18.5-18.2 38.3-39 48.4-49 53.5-52.7 3.3-2.4 8.3-7.1 11-10.6 2.8-3.4 8.3-8.7 12.3-11.7s8.6-7.4 10.3-9.7c1.6-2.3 5.8-6.2 9.3-8.7 3.4-2.4 7.3-6 8.7-8 1.3-2 4.8-5.2 7.7-7.2s6.8-5.8 8.8-8.5 3.9-4.9 4.3-4.9c1.2 0 24.5-21 40.4-36.4 4.5-4.3 11.1-10.2 14.7-13.1 9.2-7.4 45.9-43 49.8-48.4 1.8-2.5 6-7.2 9.3-10.6 16.2-16.3 27-27.7 32.4-34.5 3.3-4.1 6.4-7.7 6.8-7.8.4-.2 4.2-4.9 8.4-10.5 4.2-5.5 12.2-15.4 17.7-21.9 10.2-12 24.1-30 25.4-32.8.4-.9 4.8-7.4 9.7-14.5 5-7.2 10.4-15.7 12.2-19 7.3-13.9 14.2-28.4 16.3-34.3 2.9-7.8 3.2-7.8 7.4 1.2"})}),TG=()=>"/Chat.mp3",_G=()=>"/aprova2.mp3",CG=()=>"/solicita2.mp3",IG=()=>"/inicprogram.mp3",D9=({size:t=16,className:e})=>s.jsx("svg",{viewBox:"0 0 24 24",width:t,height:t,fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",className:e,children:s.jsx("path",{d:"M5 22V14M5 14V4M5 14L7.47067 13.5059C9.1212 13.1758 10.8321 13.3328 12.3949 13.958C14.0885 14.6354 15.9524 14.7619 17.722 14.3195L17.9364 14.2659C18.5615 14.1096 19 13.548 19 12.9037V5.53669C19 4.75613 18.2665 4.18339 17.5092 4.3727C15.878 4.78051 14.1597 4.66389 12.5986 4.03943L12.3949 3.95797C10.8321 3.33284 9.1212 3.17576 7.47067 3.50587L5 4M5 4V2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),R9=({size:t=20,className:e})=>s.jsx("span",{className:e,style:{display:"inline-block",width:t,height:t,backgroundColor:"currentColor",WebkitMaskImage:"url('/Fonte-News-Cam.svg')",maskImage:"url('/Fonte-News-Cam.svg')",WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskSize:"contain",maskSize:"contain",WebkitMaskPosition:"center",maskPosition:"center"}}),X1e=()=>{const{isDark:t,toggleTheme:e}=LI(),{user:r,logout:n}=xr(),{settings:a,announcements:i,leaderRequests:o}=cr(),c=pi(),u=mn(),[h,f]=v.useState(!1),[p,g]=v.useState(!1),[x,j]=v.useState(0),[w,b]=v.useState(!1),[N,E]=v.useState(null),A=v.useRef(null),O=v.useRef(null),M=v.useRef(null),L=v.useRef(null),I=v.useRef(null),T=v.useRef(null),_=i.filter(oe=>oe.status==="pending").length,D=o.filter(oe=>oe.status==="pending").length,P=_+D,R=oe=>c.pathname===oe,U=c.pathname.startsWith("/chat"),$=()=>{g(!1),f(!1),n()},K=oe=>{g(!1),f(!1),u(oe)},[F,W]=v.useState(!1),te=v.useRef(null),X=v.useRef(null),B=300,G=520,J=()=>{if(F)return;W(!0);const oe=t?X.current:te.current,ve=t?te.current:X.current;if(!oe||!ve){e(),W(!1);return}oe.classList.add("anim-exit"),window.setTimeout(()=>{oe.classList.add("inactive"),oe.classList.remove("anim-exit"),ve.classList.remove("inactive"),ve.classList.add("anim-enter"),window.setTimeout(()=>{var fe,ee,ye,Oe;ve.classList.remove("anim-enter"),e(),!t?((fe=te.current)==null||fe.classList.add("inactive"),(ee=X.current)==null||ee.classList.remove("inactive")):((ye=X.current)==null||ye.classList.add("inactive"),(Oe=te.current)==null||Oe.classList.remove("inactive")),W(!1)},G)},B)};v.useEffect(()=>{const oe=te.current,ve=X.current;!oe||!ve||F||(t?(oe.classList.add("inactive"),ve.classList.remove("inactive")):(ve.classList.add("inactive"),oe.classList.remove("inactive")))},[t,F]);const ne=()=>{g(!p)},ie=()=>{f(!h)};v.useEffect(()=>{if(!(r!=null&&r.id))return;const oe=Et(we,"chats"),ve=Er(oe,Vr("participants","array-contains",r.id)),Y=Gn(ve,async fe=>{const ee=[];fe.forEach(ye=>{var wt;const Oe=ye.data(),it=(Oe.participants||[]).find(st=>st!==r.id),ut=(wt=Oe.lastViewed)==null?void 0:wt[r.id],At=ut!=null&&ut.toDate?ut.toDate():ut instanceof Date?ut:void 0;it&&ee.push((async()=>{try{const st=Et(we,"chats",ye.id,"messages"),Ce=At?Er(st,Vr("senderId","==",it),Vr("createdAt",">",At)):Er(st,Vr("senderId","==",it));return((await B1(Ce)).data().count||0)>0}catch{return!1}})())});try{const ye=await Promise.all(ee);j(ye.filter(Boolean).length)}catch{j(0)}});return()=>{try{Y()}catch{}}},[r==null?void 0:r.id]),v.useEffect(()=>{if(N)try{clearTimeout(N)}catch{}if(U){b(!1),E(null);return}if(x>0){const oe=window.setTimeout(()=>{b(!0)},2e3);E(oe)}else b(!1),E(null);return()=>{if(N)try{clearTimeout(N)}catch{}}},[x,U]),v.useEffect(()=>{if(A.current)try{A.current.pause(),A.current.currentTime=0}catch{}if(a.audioAlertChatUrl)A.current=new Audio(a.audioAlertChatUrl),A.current.load();else{const oe=TG();A.current=new Audio(oe),A.current.load()}},[a.audioAlertChatUrl]),v.useEffect(()=>{if(O.current)try{O.current.pause(),O.current.currentTime=0}catch{}if(a.audioAlertApprovalsUrl)O.current=new Audio(a.audioAlertApprovalsUrl),O.current.load();else{const oe=_G();O.current=new Audio(oe),O.current.load()}},[a.audioAlertApprovalsUrl]),v.useEffect(()=>{if(M.current)try{M.current.pause(),M.current.currentTime=0}catch{}if(a.audioAlertRequestsUrl)M.current=new Audio(a.audioAlertRequestsUrl),M.current.load();else{const oe=CG();M.current=new Audio(oe),M.current.load()}},[a.audioAlertRequestsUrl]),v.useEffect(()=>{var oe;if(L.current){try{clearInterval(L.current)}catch{}L.current=null}if(x>0&&A.current&&!U){const ve=()=>{var Y;(Y=A.current)==null||Y.play().catch(()=>{})};ve(),L.current=window.setInterval(ve,15e3)}else try{(oe=A.current)==null||oe.pause()}catch{}return()=>{if(L.current){try{clearInterval(L.current)}catch{}L.current=null}}},[x,a.audioAlertChatUrl,U]),v.useEffect(()=>{if(I.current){try{clearInterval(I.current)}catch{}I.current=null}if(T.current){try{clearInterval(T.current)}catch{}T.current=null}if((r==null?void 0:r.role)==="admin"){if(_>0&&O.current){const oe=()=>{var ve;(ve=O.current)==null||ve.play().catch(()=>{})};oe(),I.current=window.setInterval(oe,15e3)}if(D>0&&M.current){const oe=()=>{var ve;(ve=M.current)==null||ve.play().catch(()=>{})};oe(),T.current=window.setInterval(oe,15e3)}}return()=>{if(I.current){try{clearInterval(I.current)}catch{}I.current=null}if(T.current){try{clearInterval(T.current)}catch{}T.current=null}}},[r==null?void 0:r.role,_,D,a.audioAlertApprovalsUrl,a.audioAlertRequestsUrl]);const se=v.useMemo(()=>{const oe=[];return oe.push({key:"inicio-external",type:"external",href:"https://adfontedevidalaranjeiras.org",label:"Incio",isActive:!1,Icon:ve=>s.jsx(sj,{className:ve.className||"h-5 w-5"})}),oe.push({key:"news",type:"link",to:"/",label:"Fonte News",isActive:R("/"),Icon:ve=>s.jsx(R9,{size:25,className:ve.className||"h-[1.625rem] w-[1.625rem]"})}),oe.push({key:"cultos",type:"link",to:"/cultos",label:"Cultos",isActive:R("/cultos"),Icon:ve=>s.jsx(rf,{size:21,className:ve.className})}),oe.push({key:"agenda",type:"link",to:"/agenda",label:"Agenda",isActive:R("/agenda"),Icon:ve=>s.jsx(Cs,{size:21,className:ve.className})}),(!r||r&&r.role!=="admin"&&r.role!=="editor"&&r.role!=="leader")&&oe.push({key:"leader-area",type:"link",to:"/login",label:"rea do Lder",isActive:!1,Icon:ve=>s.jsx(D9,{size:21,className:ve.className})}),r&&(r.role==="admin"||r.role==="editor")&&oe.push({key:"roteiros",type:"link",to:"/roteiros",label:"Roteiros",isActive:c.pathname.startsWith("/roteiros"),Icon:ve=>s.jsx(jy,{size:21,className:ve.className})}),r&&oe.push({key:"painel",type:"link",to:"/dashboard",label:"Painel",isActive:c.pathname.startsWith("/dashboard"),Icon:ve=>s.jsx(MT,{size:21,className:ve.className})}),(r==null?void 0:r.role)==="admin"&&oe.push({key:"admin",type:"link",to:"/admin",label:"Admin",isActive:R("/admin"),Icon:ve=>s.jsx(Id,{size:21,className:ve.className})}),oe},[r,c.pathname]),[je,Pe]=v.useState(0),[ue,ae]=v.useState(null);return v.useEffect(()=>{if(se.length===0)return;const oe=setInterval(()=>{ue===null&&Pe(ve=>(ve+1)%se.length)},3e3);return()=>clearInterval(oe)},[ue,se.length]),s.jsxs("header",{className:"bg-jkd-bg-sec border-b border-jkd-border shadow-sm sticky top-0 z-40",children:[s.jsx("style",{children:`
        /* Override local apenas para a logo no menu principal do Fonte News */
        .fonte-news-logo .h-8 { height: 3rem !important; }
      `}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs(xt,{to:"/",className:"flex items-center space-x-3 fonte-news-logo",children:[s.jsx("img",{src:a.logoUrl,alt:"Logo Fonte News",className:"h-8 w-auto object-contain",onError:oe=>{const ve=oe.target;ve.src="https://via.placeholder.com/100x50/ff652c/ffffff?text=IGREJA"}}),s.jsx("div",{className:"hidden sm:block",children:s.jsx("h1",{className:"text-lg font-semibold text-jkd-heading",children:"Fonte News"})})]}),s.jsx("nav",{className:"hidden md:flex items-center space-x-4",children:se.map((oe,ve)=>{const Y=(ue??je)===ve,fe=`group flex items-center px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 ease-in-out ${oe.isActive?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,ee=`font-medium whitespace-nowrap overflow-hidden transition-all duration-300 ease-in-out max-w-0 opacity-0 ml-0 ${Y?"max-w-xs opacity-100 ml-2":""}`;return oe.type==="external"&&oe.href?s.jsxs("a",{href:oe.href,target:"_self",className:fe,onMouseEnter:()=>ae(ve),onMouseLeave:()=>ae(null),children:[s.jsx(oe.Icon,{className:"h-[1.625rem] w-[1.625rem]"}),s.jsx("span",{className:ee,children:oe.label})]},oe.key):s.jsxs(xt,{to:oe.to||"/",className:fe,onMouseEnter:()=>ae(ve),onMouseLeave:()=>ae(null),children:[s.jsx(oe.Icon,{className:""}),s.jsx("span",{className:ee,children:oe.label})]},oe.key)})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(K1e,{}),s.jsx("style",{children:`
            .theme-toggle{ position:relative; width:32px; height:32px; overflow:hidden; }
            .theme-toggle .icon{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; will-change: transform, opacity; }
            .theme-toggle .inactive{ opacity:0; transform: translateY(120%) rotate(15deg); }
            @keyframes exitDown { 0%{ transform: translateY(0) rotate(0); opacity:1; } 60%{ transform: translateY(90%) rotate(6deg); opacity:1; } 100%{ transform: translateY(120%) rotate(8deg); opacity:0; } }
            @keyframes inUpBounce { 0%{ transform: translateY(120%) rotate(15deg); opacity:0; } 55%{ transform: translateY(-10%) rotate(-6deg); opacity:1; } 80%{ transform: translateY(6%) rotate(2deg); } 100%{ transform: translateY(0) rotate(0); } }
            .theme-toggle .anim-exit{ animation: exitDown 300ms cubic-bezier(.22,.9,.3,1) forwards; }
            .theme-toggle .anim-enter{ animation: inUpBounce 520ms cubic-bezier(.22,.9,.3,1) forwards; }
          `}),s.jsxs("button",{onClick:J,className:"p-2 rounded-lg text-jkd-text hover:bg-church-primary/10 hover:text-church-primary transition-colors theme-toggle","aria-label":"Alternar tema",children:[s.jsx("span",{ref:te,className:`icon ${t?"inactive":""}`,children:s.jsx(vG,{size:20})}),s.jsx("span",{ref:X,className:`icon ${t?"":"inactive"}`,children:s.jsx(pG,{size:20})})]}),(r==null?void 0:r.role)==="admin"&&P>0&&s.jsxs("button",{onClick:()=>K("/admin"),className:"relative p-2 rounded-lg text-jkd-text hover:bg-church-primary/10 hover:text-church-primary transition-colors","aria-label":"Abrir Aprovaes/Solicitaes",children:[s.jsx(tf,{size:20}),s.jsx("span",{className:"absolute -top-1 -right-1 inline-flex min-w-[18px] items-center justify-center rounded-full bg-orange-500 px-1.5 text-[10px] font-bold text-white",children:P})]}),r&&x>0&&!U&&s.jsxs("button",{onClick:()=>K("/chat"),className:"relative p-2 rounded-lg text-jkd-text hover:bg-church-primary/10 hover:text-church-primary transition-colors","aria-label":"Abrir Chat",children:[s.jsx(nc,{size:20}),s.jsx("span",{className:"absolute -top-1 -right-1 inline-flex min-w-[18px] items-center justify-center rounded-full bg-red-600 px-1.5 text-[10px] font-bold text-white",children:x})]}),s.jsx("button",{onClick:ie,className:"md:hidden p-2 rounded-lg text-jkd-text hover:bg-church-primary/10 hover:text-church-primary transition-colors","aria-label":"Menu",children:h?s.jsx(On,{size:24}):s.jsx(mG,{size:24})}),r?s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:ne,className:"flex items-center space-x-2 rounded-full p-1 hover:bg-jkd-border transition-colors",children:s.jsx("img",{src:r.avatarUrl||`https://ui-avatars.com/api/?name=${r.name}&background=ff652c&color=fff`,alt:"Avatar do usurio",className:"h-8 w-8 rounded-full object-cover"})}),s.jsx(Ti,{children:p&&s.jsx(ar.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-jkd-bg-sec shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none border border-jkd-border",children:s.jsxs("div",{className:"py-1",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-jkd-border",children:[s.jsx("p",{className:"text-sm font-medium text-jkd-heading truncate",children:r.name}),s.jsx("p",{className:"text-xs text-jkd-text truncate",children:r.email})]}),s.jsxs("button",{onClick:()=>K("/profile"),className:"w-full text-left flex items-center gap-2 px-4 py-2 text-sm text-jkd-text hover:bg-jkd-bg",children:[s.jsx(hi,{size:16}),s.jsx("span",{children:"Meu Perfil"})]}),s.jsxs("button",{onClick:$,className:"w-full text-left flex items-center gap-2 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-jkd-bg",children:[s.jsx(PT,{size:16}),s.jsx("span",{children:"Sair"})]})]})})})]}):s.jsxs(xt,{to:"/login",className:"flex items-center space-x-1 px-4 py-2 bg-church-primary text-white rounded-lg hover:bg-church-primary/90 transition-colors",children:[s.jsx(N0e,{size:16}),s.jsx("span",{children:"Entrar"})]})]})]})}),s.jsx(Ti,{children:h&&s.jsx(ar.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden bg-jkd-bg-sec border-b border-jkd-border",children:s.jsxs(ar.div,{initial:"closed",animate:"open",exit:"closed",variants:{open:{transition:{staggerChildren:.04,delayChildren:.05}}},className:"px-4 py-2 space-y-1",children:[s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs("a",{href:"https://adfontedevidalaranjeiras.org",target:"_self",className:"flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium text-jkd-text hover:text-church-primary hover:bg-church-primary/5 transition-colors",onClick:()=>f(!1),children:[s.jsx(sj,{className:"h-[1.625rem] w-[1.625rem]"}),s.jsx("span",{children:"Incio"})]})}),s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs(xt,{to:"/",className:`flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors ${R("/")?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,onClick:()=>f(!1),children:[s.jsx(R9,{size:31}),s.jsx("span",{children:"Fonte News"})]})}),s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs(xt,{to:"/cultos",className:`flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors ${R("/cultos")?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,onClick:()=>f(!1),children:[s.jsx(rf,{size:26}),s.jsx("span",{children:"Cultos"})]})}),s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs(xt,{to:"/agenda",className:`flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors ${R("/agenda")?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,onClick:()=>f(!1),children:[s.jsx(Cs,{size:26}),s.jsx("span",{children:"Agenda"})]})}),(!r||r&&r.role!=="admin"&&r.role!=="editor"&&r.role!=="leader")&&s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs(xt,{to:"/login",className:"flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors text-jkd-text hover:text-church-primary hover:bg-church-primary/5",onClick:()=>f(!1),children:[s.jsx(D9,{size:26}),s.jsx("span",{children:"rea do Lder"})]})}),r&&(r.role==="admin"||r.role==="editor")&&s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs(xt,{to:"/roteiros",className:`flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors ${c.pathname.startsWith("/roteiros")?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,onClick:()=>f(!1),children:[s.jsx(jy,{size:26}),s.jsx("span",{children:"Roteiros"})]})}),r&&s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs(xt,{to:"/dashboard",className:`flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors ${c.pathname.startsWith("/dashboard")?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,onClick:()=>f(!1),children:[s.jsx(MT,{size:26}),s.jsx("span",{children:"Painel"})]})}),(r==null?void 0:r.role)==="admin"&&s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs(xt,{to:"/admin",className:`flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors ${R("/admin")?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,onClick:()=>f(!1),children:[s.jsx(Id,{size:26}),s.jsx("span",{children:"Admin"})]})}),r?s.jsxs("div",{className:"border-t border-jkd-border pt-3 mt-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2",children:[s.jsx("img",{src:r.avatarUrl||`https://ui-avatars.com/api/?name=${r.name}&background=ff652c&color=fff`,alt:"Avatar do usurio",className:"h-8 w-8 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-jkd-heading truncate",children:r.name}),s.jsx("p",{className:"text-xs text-jkd-text truncate",children:r.email})]})]}),s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs(xt,{to:"/profile",className:"flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium text-jkd-text hover:text-church-primary hover:bg-church-primary/5 transition-colors",onClick:()=>f(!1),children:[s.jsx(hi,{size:20}),s.jsx("span",{children:"Meu Perfil"})]})}),s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs("button",{onClick:$,className:"w-full flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[s.jsx(PT,{size:20}),s.jsx("span",{children:"Sair"})]})})]}):null]})})})]})},L9=({className:t,style:e,size:r=20,...n})=>{const a={display:"inline-block",width:r,height:r,backgroundColor:"currentColor",WebkitMask:"url('/Transborde-icon-02.svg') center / contain no-repeat",mask:"url('/Transborde-icon-02.svg') center / contain no-repeat",...e};return s.jsx("span",{"aria-hidden":"true",className:t,style:a,...n})},U9=({className:t,style:e,size:r=20,...n})=>{const a={display:"inline-block",width:r,height:r,backgroundColor:"currentColor",WebkitMask:"url('/Agenda-Pastoral-2.svg') center / contain no-repeat",mask:"url('/Agenda-Pastoral-2.svg') center / contain no-repeat",...e};return s.jsx("span",{"aria-hidden":"true",className:t,style:a,...n})},Gm=({className:t,title:e})=>{const r={backgroundColor:"currentColor",WebkitMaskImage:"url(/icone-pedido.svg)",maskImage:"url(/icone-pedido.svg)",WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskSize:"cover",maskSize:"cover",display:"inline-block"};return s.jsx("span",{role:"img","aria-label":e||"cone Pedido de Orao",className:t,style:r})},fv=({isOpen:t,title:e,message:r,inputLabel:n,onConfirm:a,onCancel:i})=>{const[o,c]=v.useState("");v.useEffect(()=>{t&&c("")},[t]);const u=()=>{o.trim()&&a(o.trim())},h=f=>{f.key==="Enter"&&u()};return s.jsx(Ti,{children:t&&s.jsx(ar.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",onClick:i,children:s.jsxs(ar.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},className:"relative w-full max-w-md rounded-lg bg-jkd-bg-sec shadow-xl border border-jkd-border",onClick:f=>f.stopPropagation(),children:[s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg leading-6 font-semibold text-jkd-heading",children:e}),s.jsx("p",{className:"mt-2 text-sm text-jkd-text",children:r}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{htmlFor:"prompt-input",className:"block text-sm font-medium text-jkd-text",children:n}),s.jsx("input",{type:"password",id:"prompt-input",value:o,onChange:f=>c(f.target.value),onKeyDown:h,className:"mt-1 w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",autoFocus:!0})]})]}),s.jsxs("div",{className:"bg-jkd-bg rounded-b-lg px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-church-primary text-base font-medium text-white hover:bg-church-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-church-primary sm:ml-3 sm:w-auto sm:text-sm transition-colors",onClick:u,children:"Confirmar"}),s.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-jkd-border shadow-sm px-4 py-2 bg-jkd-bg-sec text-base font-medium text-jkd-text hover:bg-jkd-border sm:mt-0 sm:w-auto sm:text-sm transition-colors",onClick:i,children:"Cancelar"})]}),s.jsx("button",{onClick:i,className:"absolute top-3 right-3 p-1 rounded-full text-jkd-text/50 hover:bg-jkd-border hover:text-jkd-text transition-colors","aria-label":"Fechar",children:s.jsx(On,{size:20})})]})})})},V9=({className:t,style:e,...r})=>{const n={display:"inline-block",backgroundColor:"currentColor",WebkitMask:"url('/News-icon-02.svg') center / contain no-repeat",mask:"url('/News-icon-02.svg') center / contain no-repeat",...e};return s.jsx("span",{"aria-hidden":"true",className:t,style:n,...r})},z9=({className:t,style:e,...r})=>{const n={display:"inline-block",backgroundColor:"currentColor",WebkitMask:"url('/biblia-02.svg') center / contain no-repeat",mask:"url('/biblia-02.svg') center / contain no-repeat",...e};return s.jsx("span",{"aria-hidden":"true",className:t,style:n,...r})},F9=({className:t,style:e,...r})=>{const n={display:"inline-block",backgroundColor:"currentColor",WebkitMask:"url('/onde-estamos.svg') center / contain no-repeat",mask:"url('/onde-estamos.svg') center / contain no-repeat",...e};return s.jsx("span",{"aria-hidden":"true",className:t,style:n,...r})},$9=t=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 84.272 84.272",xmlSpace:"preserve",...t,children:s.jsx("path",{d:"M82.525,34.063h0.852l0.896,10.75h-8.29l0.896-10.75h0.85c-0.397-0.486-0.643-1.088-0.643-1.75 c0-1.298,0.916-2.383,2.166-2.74V14.37h2v15.277c1.123,0.423,1.918,1.455,1.918,2.667C83.17,32.975,82.924,33.577,82.525,34.063z M13.011,29.247l26.381,3.872l27.881-3.872c0,0-0.393-4.587-3.651-15.725h19.546V7.985H0v5.537h16.662L13.011,29.247z M76.125,49.538c-0.527-0.156-1.085,0.147-1.24,0.678c-0.156,0.529,0.147,1.084,0.678,1.24c1.523,0.447,2.791,1.434,3.566,2.774 c0.771,1.338,0.965,2.87,0.541,4.313c-0.424,1.444-1.412,2.631-2.783,3.34c-0.59,0.306-1.02,0.461-1.516,0.552 c-0.1,0.017-0.164,0.022-0.17,0.022h-0.895c-0.047-0.013-0.084-0.039-0.133-0.045c-0.401-0.054-1.867-0.811-2.758-1.682 c-1.414-1.311-2.193-3.088-2.193-5.003c0-3.767,3.064-6.83,6.83-6.83c0.553,0,1-0.448,1-1s-0.447-1-1-1H9.066 c-4.869,0-8.83,3.961-8.83,8.83s3.961,8.83,8.83,8.83h17.822c0.552,0,1-0.448,1-1s-0.448-1-1-1H9.066 c-3.766,0-6.83-3.063-6.83-6.83s3.064-6.83,6.83-6.83h61.396c-1.978,1.621-3.24,4.08-3.24,6.83c0,2.442,1.033,4.8,2.814,6.451 c0.096,0.093,0.203,0.186,0.311,0.278H47.965c-0.553,0-1,0.448-1,1c0,0.553,0.447,1,1,1h27.237c0,0,0.003,0,0.009,0 c0.041,0,0.213-0.002,0.512-0.054c0.709-0.13,1.312-0.346,2.082-0.743c1.863-0.963,3.207-2.58,3.785-4.556 c0.58-1.974,0.32-4.062-0.729-5.876C79.827,51.44,78.145,50.129,76.125,49.538z M44.719,65.612 c0.797-0.854,1.285-1.973,1.416-3.247c0.816-0.987,1.273-2.118,1.323-3.284c0.054-1.242-0.362-2.483-1.202-3.601 c-0.019-1.776-0.615-3.261-1.728-4.301c-1.724-1.61-4.538-1.886-7.388-0.742c-2.939-0.958-5.729-0.498-7.346,1.235 c-0.797,0.854-1.284,1.974-1.416,3.248c-0.817,0.986-1.273,2.119-1.323,3.285c-0.067,1.553,0.573,3.056,1.854,4.352 c0.162,1.447,0.741,2.67,1.681,3.548c0.236,0.222,0.496,0.412,0.769,0.583l-3.145,7.777l4.345-1.402l2.384,3.225l0.953-8.856 c0.595-0.099,1.201-0.255,1.813-0.483c0.656,0.191,1.296,0.289,1.926,0.342l0.914,8.484l2.383-3.225l4.346,1.402l-3.157-7.804 C44.333,65.984,44.535,65.809,44.719,65.612z",fill:"currentColor"})}),B9=({className:t})=>s.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",preserveAspectRatio:"xMidYMid meet",className:t,"aria-hidden":"true",children:s.jsxs("g",{transform:"translate(0,256) scale(0.1,-0.1)",fill:"currentColor",stroke:"none",children:[s.jsx("path",{d:`M1079 2404 l-149 -148 -25 24 c-18 17 -40 25 -79 28 -48 4 -58 1 -79 
 -20 -20 -21 -26 -39 -32 -101 -17 -184 46 -440 211 -847 163 -406 220 -614 
 231 -845 7 -139 -10 -244 -58 -363 -45 -114 -48 -112 180 -112 225 0 217 -3 
 279 127 63 134 77 196 76 348 -1 239 -24 323 -257 955 -162 440 -180 511 -181 
 715 -1 140 11 196 61 283 30 53 28 96 -5 100 -19 3 -54 -26 -173 -144z m64 
 -89 c-28 -130 -5 -352 56 -551 12 -36 77 -217 145 -402 181 -492 192 -528 217 
 -692 32 -219 19 -336 -54 -490 -50 -106 -38 -100 -210 -100 -138 0 -149 1 
 -142 17 3 10 18 56 33 103 24 78 26 99 26 255 0 146 -4 188 -27 296 -31 147 
 -99 350 -204 609 -164 405 -231 678 -206 835 8 47 10 50 38 50 22 1 39 -8 61 
 -33 25 -27 37 -34 55 -29 13 4 69 51 123 106 55 55 101 99 102 98 1 -1 -5 -33 
 -13 -72z`}),s.jsx("path",{d:`M1317 2492 c-32 -35 -77 -149 -89 -225 -9 -61 -9 -105 0 -195 15 
 -149 43 -249 137 -497 221 -578 254 -678 287 -870 16 -94 19 -146 15 -240 -7 
 -152 -19 -208 -70 -318 -58 -126 -64 -122 169 -122 l188 0 46 57 c95 118 138 
 243 147 429 10 211 -33 402 -177 779 -221 580 -246 656 -257 799 l-6 74 -71 
 71 c-39 39 -114 117 -166 174 -98 106 -122 119 -153 84z m182 -202 l143 -150 
 10 -72 c16 -117 62 -282 123 -438 129 -332 238 -631 260 -713 90 -336 66 -599 
 -71 -784 l-39 -53 -142 0 c-79 0 -143 2 -143 4 0 2 11 29 25 61 47 105 59 177 
 59 355 1 136 -3 184 -22 275 -28 133 -123 415 -264 786 -119 310 -133 360 
 -149 512 -14 129 -2 231 37 313 14 30 27 54 28 54 2 0 67 -67 145 -150z`}),s.jsx("path",{d:`M1757 2063 c-14 -14 -6 -65 34 -199 39 -134 59 -189 202 -559 218 
 -566 242 -904 82 -1164 -49 -80 -55 -105 -26 -121 31 -16 188 -12 226 6 73 34 
 70 6 66 612 -3 496 -2 544 14 568 14 22 22 25 50 20 43 -8 116 8 132 30 7 10 
 13 27 13 38 0 12 -69 89 -177 200 -98 100 -265 270 -372 379 -185 189 -219 
 216 -244 190z m617 -660 l110 -113 -60 0 c-73 0 -104 -15 -126 -60 -16 -32 
 -18 -81 -18 -582 l0 -547 -22 -15 c-20 -15 -148 -24 -148 -12 0 3 15 31 34 63 
 99 170 120 411 61 693 -33 157 -108 382 -218 660 -73 185 -157 431 -157 462 0 
 5 98 -91 217 -214 120 -123 267 -274 327 -335z`}),s.jsx("path",{d:`M638 2029 c-10 -5 -24 -33 -33 -62 -13 -45 -32 -69 -154 -192 -86 
 -86 -142 -151 -146 -168 -8 -31 24 -124 135 -392 150 -361 207 -608 198 -858 
 -5 -129 -14 -174 -59 -284 -10 -26 -10 -34 0 -47 11 -14 43 -16 208 -16 115 0 
 202 4 214 10 24 13 70 103 99 195 31 98 39 302 16 446 -19 122 -118 426 -227 
 695 -117 291 -189 525 -189 616 0 20 -7 44 -16 52 -18 18 -23 19 -46 5z m73 
 -364 c23 -71 77 -220 121 -330 110 -276 204 -561 223 -675 19 -120 19 -284 0 
 -375 -8 -38 -30 -102 -49 -142 l-35 -73 -162 0 -161 0 6 23 c45 152 48 179 44 
 341 -4 124 -11 189 -32 286 -31 143 -106 373 -163 505 -22 50 -63 152 -92 228 
 l-53 137 144 149 143 148 13 -46 c7 -25 31 -104 53 -176z`}),s.jsx("path",{d:`M122 1437 c-102 -104 -112 -117 -112 -151 0 -33 4 -39 35 -52 19 -7 
 59 -14 89 -14 44 0 57 -4 66 -19 6 -13 10 -207 10 -561 0 -601 -1 -588 65 
 -616 22 -9 71 -14 135 -14 116 0 126 5 158 91 43 116 55 203 49 348 -7 169 
 -33 283 -120 531 -104 293 -197 543 -209 557 -25 30 -55 12 -166 -100z m252 
 -295 c125 -348 147 -419 171 -556 28 -167 13 -355 -39 -481 l-15 -35 -90 0 
 c-144 0 -131 -59 -131 581 0 467 -2 545 -15 574 -22 44 -57 60 -127 58 -32 -1 
 -58 0 -58 4 0 14 174 193 180 186 4 -4 60 -153 124 -331z`})]})}),Q1e=({className:t,title:e})=>{const r={backgroundColor:"currentColor",WebkitMaskImage:"url(/Logo-Fonte-App.svg)",maskImage:"url(/Logo-Fonte-App.svg)",WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskSize:"contain",maskSize:"contain",display:"inline-block"};return s.jsx("span",{role:"img","aria-label":e||"Logo Fonte App",className:t,style:r})},q9=t=>s.jsx("svg",{viewBox:"0 0 1067 1067",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor","aria-hidden":"true",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2,...t,children:s.jsxs("g",{children:[s.jsx("path",{d:"M80.557,541.878c9.659,35.032 35.417,82.24 39.281,89.502c4.722,10.894 7.727,22.215 8.801,33.964l36.276,353.738c2.146,21.147 19.962,37.168 41.427,37.168l62.677,0c21.465,0 39.281,-16.021 41.427,-37.168l36.276,-353.738c1.288,-11.962 4.293,-23.711 9.23,-34.605c4.293,-9.826 -0.215,-21.147 -9.874,-25.42c-9.874,-4.272 -21.25,0.214 -25.543,9.826c-6.439,14.739 -10.732,30.333 -12.235,46.353l-36.276,353.738c-0.215,1.282 -1.288,2.35 -2.576,2.35l-62.677,0c-1.288,0 -2.576,-1.068 -2.576,-2.35l-36.705,-353.951c-1.717,-16.021 -5.796,-31.614 -12.235,-46.353c-0.215,-0.641 -0.429,-1.068 -0.859,-1.709c-0.215,-0.427 -27.26,-48.917 -36.276,-81.599c-9.874,-36.527 -12.664,-115.99 -4.508,-130.088c6.439,-6.408 9.23,-8.972 15.884,-13.885c16.957,-12.389 36.49,-22.429 49.154,-28.41l43.359,59.384c3.649,4.913 9.445,7.904 15.669,7.904c6.225,0 12.02,-2.991 15.669,-7.904l52.589,-71.986c6.225,-8.544 4.293,-20.72 -4.293,-27.128c-8.586,-6.195 -20.821,-4.272 -27.26,4.272l-36.92,50.412l-36.49,-50.198c-5.152,-7.263 -14.811,-9.826 -22.967,-6.622c-1.503,0.641 -39.71,16.021 -71.478,39.304c-9.015,6.622 -13.308,10.68 -20.821,18.157c-27.475,27.342 -12.235,140.982 -5.152,167.043Z",stroke:"currentColor",strokeWidth:"19.58"}),s.jsx("path",{d:"M235.962,292.168l3.649,0c24.899,-0.641 45.935,-9.612 60.96,-26.488c31.983,-35.886 27.475,-95.697 26.616,-103.174c-3.22,-66.005 -49.369,-89.289 -87.791,-89.289l-3.434,0c-38.422,0 -84.357,23.497 -87.791,89.289c-0.644,7.476 -5.366,67.287 26.616,103.174c15.24,16.875 36.276,26.06 61.175,26.488Zm-48.94,-126.243l0,-1.282c2.146,-46.14 31.553,-52.975 48.94,-52.975l3.22,0c17.387,0 46.793,6.836 48.94,52.975l0,1.068c1.503,13.671 1.073,53.616 -17.172,74.123c-7.942,8.972 -18.889,13.457 -33.27,13.457l-0.429,0c-14.381,-0.214 -25.329,-4.486 -33.27,-13.457c-18.03,-20.293 -18.245,-60.238 -16.957,-73.909Z",stroke:"currentColor",strokeWidth:"19.58"}),s.jsx("path",{d:"M686.724,605.106c-9.874,4.272 -14.381,15.807 -9.874,25.42c4.937,11.108 7.942,22.643 9.23,34.605l-83.676,249.69l109.28,-0.008l10.671,104.056c2.146,21.147 19.962,37.168 41.427,37.168l62.677,0c21.465,0 39.281,-16.021 41.427,-37.168l11.358,-110.756l117.508,1.261l-92.59,-244.242c1.288,-11.749 4.078,-23.07 8.801,-33.964c3.864,-7.049 29.836,-54.257 39.281,-89.502c7.083,-26.06 22.538,-139.701 -4.937,-167.043c-7.513,-7.476 -11.806,-11.535 -20.821,-18.157c-31.768,-23.283 -69.761,-38.663 -71.478,-39.304c-8.371,-3.418 -17.816,-0.641 -22.967,6.622l-36.92,50.412l-37.134,-50.198c-6.225,-8.758 -18.46,-10.467 -27.26,-4.272c-8.586,6.195 -10.518,18.37 -4.293,27.128l52.589,71.986c3.649,4.913 9.445,7.904 15.669,7.904c6.225,0 12.02,-2.991 15.669,-7.904l43.359,-59.384c12.664,5.981 32.197,16.021 49.154,28.41c6.439,4.699 9.23,7.476 15.884,13.885c8.157,14.098 5.366,93.561 -4.508,130.088c-9.015,32.682 -36.061,81.172 -36.276,81.599c-0.215,0.427 -0.644,1.068 -0.859,1.709c-6.439,14.739 -10.732,30.333 -12.235,46.353l82.419,215.978l-107.929,-1.261l-10.765,139.021c-0.215,1.282 -1.288,2.35 -2.576,2.35l-62.677,0c-1.288,0 -2.576,-1.068 -2.576,-2.35l-10.718,-138.56l-98.139,1.315l72.582,-216.492c-1.717,-16.021 -5.796,-31.614 -12.235,-46.353c-4.293,-10.04 -15.669,-14.312 -25.543,-10.04Z",stroke:"currentColor",strokeWidth:"19.58"}),s.jsx("path",{d:"M792.975,292.168l3.649,0c24.899,-0.427 45.935,-9.612 61.175,-26.488c31.983,-35.886 27.475,-95.697 26.616,-103.174c-3.22,-66.005 -49.154,-89.289 -87.791,-89.289l-3.434,0c-38.422,0 -84.357,23.497 -87.791,89.289c-0.644,7.476 -5.366,67.287 26.616,103.174c15.025,16.875 36.061,25.847 60.96,26.488Zm-48.94,-126.243l0,-1.282c2.146,-46.14 31.553,-52.975 48.94,-52.975l3.22,0c17.387,0 46.793,6.836 48.94,52.975l0,1.068c1.503,13.671 1.073,53.616 -17.172,74.123c-7.942,8.972 -18.889,13.244 -33.27,13.457l-0.429,0c-14.381,-0.214 -25.329,-4.486 -33.27,-13.457c-18.03,-20.293 -18.245,-60.238 -16.957,-73.909Z",stroke:"currentColor",strokeWidth:"19.58"}),s.jsx("path",{d:"M355.092,331.899c-28.978,28.837 -12.664,149.1 -4.937,176.869c10.303,37.382 37.778,87.794 41.856,95.056c5.152,11.749 8.371,23.924 9.659,36.527l38.637,377.021c2.146,22.002 20.606,38.45 42.93,38.45l66.756,0c22.109,0 40.569,-16.662 42.93,-38.45l38.637,-377.021c1.288,-12.603 4.508,-24.992 9.659,-36.527c4.078,-7.476 31.553,-57.675 41.856,-95.056c7.513,-27.769 24.041,-148.032 -4.937,-176.869c-7.942,-7.904 -12.45,-12.176 -21.894,-19.225c-33.7,-24.779 -74.268,-41.013 -75.986,-41.868c-8.371,-3.418 -17.816,-0.641 -22.967,6.622l-40.998,55.325l-40.354,-55.325c-5.152,-7.263 -14.811,-9.826 -22.967,-6.622c-1.717,0.641 -42.071,17.089 -75.986,41.868c-9.445,7.049 -14.167,11.321 -21.894,19.225Zm27.904,26.915c7.083,-7.049 10.088,-9.826 17.172,-14.953c18.46,-13.671 39.925,-24.565 53.662,-30.973l46.793,64.083c3.649,4.913 9.445,7.904 15.669,7.904c6.225,0 12.02,-2.991 15.669,-7.904l46.793,-64.083c13.523,6.408 34.988,17.302 53.662,30.973c7.083,5.127 10.088,7.904 17.172,14.953c9.015,14.525 6.225,100.183 -4.722,139.701c-9.659,35.032 -38.422,86.726 -38.851,87.153c-0.215,0.427 -0.644,1.068 -0.859,1.709c-6.869,15.594 -11.376,32.041 -13.094,49.13l-38.637,377.021c-0.215,2.136 -1.932,3.631 -4.078,3.631l-66.756,0c-2.146,0 -3.864,-1.495 -4.078,-3.631l-38.637,-377.021c-1.717,-16.875 -6.01,-33.537 -13.094,-49.13c-0.215,-0.641 -0.429,-1.068 -0.859,-1.709c-0.215,-0.427 -29.192,-52.334 -38.851,-87.366c-10.303,-39.304 -13.094,-124.962 -4.078,-139.487Z",stroke:"currentColor",strokeWidth:"19.58"}),s.jsx("path",{d:"M514.361,241.542l3.864,0c26.616,-0.427 48.081,-9.826 64.18,-27.983c33.914,-37.809 28.763,-101.465 28.119,-109.155c-3.434,-69.423 -51.73,-93.988 -92.299,-93.988l-3.864,0c-40.354,0 -88.864,24.565 -92.299,93.988c-0.644,7.69 -5.796,71.132 28.119,108.941c16.099,18.157 37.778,27.556 64.18,28.196Zm-53.447,-133.506l0,-1.282c2.361,-52.121 38.207,-57.675 53.447,-57.675l3.649,0c15.24,0 51.086,5.554 53.447,57.675l0,1.068c1.503,14.739 1.288,57.888 -18.46,79.89c-8.801,9.826 -20.821,14.739 -36.49,14.739l-0.644,0c-15.669,-0.214 -27.69,-4.913 -36.49,-14.739c-19.748,-21.788 -19.962,-64.937 -18.46,-79.676Z",stroke:"currentColor",strokeWidth:"19.58"})]})}),Z1e=()=>{const t=pi(),e=mn(),{user:r,firebaseUser:n,loginWithGoogle:a,logout:i}=xr(),{isDark:o,toggleTheme:c}=LI(),[u,h]=v.useState(!1),f=qc.useRef(null),p=qc.useRef(null),g=300,x=520,[j,w]=v.useState(!1),[b,N]=v.useState(!1),[E,A]=v.useState(null),[O,M]=v.useState(!1),[L,I]=v.useState(0),[T,_]=v.useState(0),[D,P]=v.useState(!1),R=ue=>t.pathname===ue,U=()=>{!r||r.role!=="admin"||(A("/site/gerenciamento"),w(!0))},$=ue=>{ue==="|#Dev7*"&&(N(!0),w(!1),e(E||"/site/gerenciamento"))},K=()=>{if(u)return;h(!0);const ue=o?p.current:f.current,ae=o?f.current:p.current;if(!ue||!ae){c(),h(!1);return}ue.classList.add("anim-exit"),window.setTimeout(()=>{ue.classList.add("inactive"),ue.classList.remove("anim-exit"),ae.classList.remove("inactive"),ae.classList.add("anim-enter"),window.setTimeout(()=>{var ve,Y,fe,ee;ae.classList.remove("anim-enter"),c(),!o?((ve=f.current)==null||ve.classList.add("inactive"),(Y=p.current)==null||Y.classList.remove("inactive")):((fe=p.current)==null||fe.classList.add("inactive"),(ee=f.current)==null||ee.classList.remove("inactive")),h(!1)},x)},g)};v.useEffect(()=>{const ue=f.current,ae=p.current;!ue||!ae||u||(o?(ue.classList.add("inactive"),ae.classList.remove("inactive")):(ae.classList.add("inactive"),ue.classList.remove("inactive")))},[o,u]);const F=()=>{M(!O)},W=()=>{P(!D)},te=()=>{P(!1),e("/profile")};v.useEffect(()=>{if((r==null?void 0:r.role)!=="admin"){I(0),_(0);return}const ue=new Set(JSON.parse(localStorage.getItem("site_seen_prayer_ids")||"[]")),ae=new Set(JSON.parse(localStorage.getItem("site_seen_comment_ids")||"[]")),oe=Gn(Er(Et(we,"prayers"),li("createdAt","desc")),Y=>{const fe=[];Y.forEach(ee=>{const ye=ee.data();["pending","approved","active"].includes(ye.status)&&fe.push(ee.id)}),I(fe.filter(ee=>!ue.has(ee)).length)}),ve=Gn(Er(Et(we,"prayer_comments")),Y=>{const fe=[];Y.forEach(ee=>fe.push(ee.id)),_(fe.filter(ee=>!ae.has(ee)).length)});return()=>{oe(),ve()}},[r==null?void 0:r.role]);const X=()=>{const ue=new Set(JSON.parse(localStorage.getItem("site_seen_prayer_ids")||"[]"));Gn(Er(Et(we,"prayers")),ae=>{ae.forEach(oe=>ue.add(oe.id)),localStorage.setItem("site_seen_prayer_ids",JSON.stringify(Array.from(ue))),I(0)})},B=()=>{const ue=new Set(JSON.parse(localStorage.getItem("site_seen_comment_ids")||"[]"));Gn(Er(Et(we,"prayer_comments")),ae=>{ae.forEach(oe=>ue.add(oe.id)),localStorage.setItem("site_seen_comment_ids",JSON.stringify(Array.from(ue))),_(0)})},G=qc.useMemo(()=>[{to:"/site",label:"Incio",Icon:sj},{to:"/",label:"Programaes",Icon:V9},{to:"/site/jornada-vida",label:"Jornada vida",Icon:B9},{to:"/site/transborde",label:"Eventos",Icon:L9},{to:"/site/cursos",label:"Cursos",Icon:$9},{to:"/site/pedido-de-oracao",label:"Pedido de Orao",Icon:Gm},{to:"/site/biblia",label:"Bblia",Icon:z9},{to:"/site/ministerios",label:"Ministrios",Icon:q9},{to:"/site/onde-estamos",label:"Onde estamos",Icon:F9},{to:"/site/agenda-pastoral",label:"Agenda Pastoral",Icon:U9}],[]),[J,ne]=v.useState(0),[ie,se]=v.useState(null),[je,Pe]=v.useState(!1);return v.useEffect(()=>{if(je){ne(-1);return}const ue=window.setInterval(()=>{ne(ae=>(ae+1)%G.length)},3e3);return()=>window.clearInterval(ue)},[je,G.length]),s.jsxs("header",{className:"bg-jkd-bg-sec border-b border-jkd-border",children:[s.jsx("style",{children:`
        /* Override local apenas para a logo do Site */
        .site-logo .w-6 { width: 5rem !important; }
        .site-logo .h-6 { height: 5rem !important; }
        /* Override local apenas para a logo do Fonte News */
        .fonte-news-logo .h-8 { height: 3.45rem !important; }
        .fonte-news-logo .w-5 { width: 1.4375rem !important; }
        /* Override local apenas para o cone de Pedido de Orao */
        .prayer-icon-override .w-12 { width: 3.2rem !important; margin-left: -10px !important; }
        .prayer-icon-override .h-12 { height: 1.2rem !important; }
        /* Override local apenas para a bolha de alerta de novos pedidos */
        .prayer-alert-icon-override .w-5 { width: 2.8rem !important; }
        .prayer-alert-icon-override .h-5 { height: 1.25rem !important; }
      `}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-14 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-8",children:[s.jsx(xt,{to:"/site",className:"flex items-center text-church-primary site-logo","aria-label":"Logo Fonte App",children:s.jsx(Q1e,{className:"h-6 w-6"})}),s.jsx("nav",{className:"hidden md:flex items-baseline space-x-2",onMouseEnter:()=>Pe(!0),onMouseLeave:()=>{Pe(!1),se(null),ne(0)},children:G.map((ue,ae)=>{const oe=ue.Icon,ve=R(ue.to),Y=je?ie===ae:J===ae;return s.jsxs(xt,{to:ue.to,onMouseEnter:()=>se(ae),onMouseLeave:()=>se(null),className:`group flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors ${ue.extraClass||""} ${ue.to==="/site/pedido-de-oracao"?"prayer-icon-override":""} ${ve?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,children:[s.jsx(oe,{className:ue.to==="/site/pedido-de-oracao"?"h-12 w-12 shrink-0":ue.to==="/site"?"h-[26px] w-[26px]":ue.to==="/site/ministerios"?"h-[22px] w-[22px]":ue.to==="/"?"h-[23px] w-[23px]":ue.to==="/site/biblia"?"h-[21px] w-[21px]":"h-5 w-5"}),s.jsx("span",{className:`${Y?"max-w-[160px] opacity-100 ml-2":"max-w-[0px] opacity-0 ml-0"} font-medium whitespace-nowrap overflow-hidden transition-all duration-300 ease-in-out text-left`,children:ue.label})]},ue.to)})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[(r==null?void 0:r.role)==="admin"&&L>0&&s.jsxs("button",{onClick:()=>{X(),e("/site/pedido-de-oracao")},className:"relative p-2 rounded-lg text-jkd-text hover:bg-church-primary/10 hover:text-church-primary transition-colors prayer-alert-icon-override","aria-label":"Pedidos novos",children:[s.jsx(Gm,{className:"h-5 w-5"}),s.jsx("span",{className:"absolute -top-1 -right-1 inline-flex min-w-[18px] items-center justify-center rounded-full bg-orange-500 px-1.5 text-[10px] font-bold text-white",children:L})]}),(r==null?void 0:r.role)==="admin"&&T>0&&s.jsxs("button",{onClick:()=>{B(),e("/site/pedido-de-oracao")},className:"relative p-2 rounded-lg text-jkd-text hover:bg-church-primary/10 hover:text-church-primary transition-colors","aria-label":"Comentrios novos",children:[s.jsx(nc,{size:20}),s.jsx("span",{className:"absolute -top-1 -right-1 inline-flex min-w-[18px] items-center justify-center rounded-full bg-red-600 px-1.5 text-[10px] font-bold text-white",children:T})]}),s.jsx("style",{children:`
            .theme-toggle{ position:relative; width:32px; height:32px; overflow:hidden; }
            .theme-toggle .icon{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; will-change: transform, opacity; }
            .theme-toggle .inactive{ opacity:0; transform: translateY(120%) rotate(15deg); }
            @keyframes exitDown { 0%{ transform: translateY(0) rotate(0); opacity:1; } 60%{ transform: translateY(90%) rotate(6deg); opacity:1; } 100%{ transform: translateY(120%) rotate(8deg); opacity:0; } }
            @keyframes inUpBounce { 0%{ transform: translateY(120%) rotate(15deg); opacity:0; } 55%{ transform: translateY(-10%) rotate(-6deg); opacity:1; } 80%{ transform: translateY(6%) rotate(2deg); } 100%{ transform: translateY(0) rotate(0); } }
            .theme-toggle .anim-exit{ animation: exitDown 300ms cubic-bezier(.22,.9,.3,1) forwards; }
            .theme-toggle .anim-enter{ animation: inUpBounce 520ms cubic-bezier(.22,.9,.3,1) forwards; }
          `}),s.jsxs("button",{onClick:K,className:"p-2 rounded-lg text-jkd-text hover:bg-church-primary/10 hover:text-church-primary transition-colors theme-toggle","aria-label":"Alternar tema",children:[s.jsx("span",{ref:f,className:`icon ${o?"inactive":""}`,children:s.jsx(vG,{size:20})}),s.jsx("span",{ref:p,className:`icon ${o?"":"inactive"}`,children:s.jsx(pG,{size:20})})]}),(r==null?void 0:r.role)==="admin"&&s.jsx("div",{className:"hidden md:block",children:s.jsxs("button",{type:"button",onClick:U,className:`flex items-center space-x-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t.pathname==="/site/gerenciamento"?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,"aria-label":"Gerenciamento",children:[s.jsx(C9,{size:20}),s.jsx("span",{children:"Gerenciamento"})]})}),n?s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:W,className:"flex items-center space-x-2 rounded-full p-1 hover:bg-jkd-border transition-colors","aria-label":"Menu do usurio",children:s.jsx("img",{src:n.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(n.displayName||"Usurio")}&background=ff652c&color=fff`,alt:"Avatar do usurio",className:"h-8 w-8 rounded-full object-cover"})}),s.jsx(Ti,{children:D&&s.jsx(ar.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-jkd-bg-sec shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none border border-jkd-border z-50",children:s.jsxs("div",{className:"py-1",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-jkd-border",children:[s.jsx("p",{className:"text-sm font-medium text-jkd-heading truncate",children:n.displayName||"Usurio"}),s.jsx("p",{className:"text-xs text-jkd-text truncate",children:n.email||""})]}),s.jsxs("button",{onClick:te,className:"w-full text-left flex items-center gap-2 px-4 py-2 text-sm text-jkd-text hover:bg-jkd-bg",children:[s.jsx(hi,{size:16}),s.jsx("span",{children:"Meu Perfil"})]}),s.jsxs("button",{onClick:()=>{P(!1),i()},className:"w-full text-left flex items-center gap-2 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-jkd-bg",children:[s.jsx(PT,{size:16}),s.jsx("span",{children:"Sair"})]})]})})})]}):s.jsx("button",{onClick:()=>a(),className:"px-3 py-2 rounded-lg bg-church-primary text-white text-sm",children:"Entrar"}),s.jsx("button",{onClick:F,className:"md:hidden p-2 rounded-lg text-jkd-text hover:bg-church-primary/10 hover:text-church-primary transition-colors","aria-label":"Menu",children:O?s.jsx(On,{size:24}):s.jsx(mG,{size:24})})]})]}),s.jsx(Ti,{children:O&&s.jsxs(ar.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto",transition:{type:"spring",stiffness:300,damping:30}},exit:{opacity:0,height:0,transition:{duration:.3}},className:"md:hidden bg-jkd-bg-sec border-t border-jkd-border relative shadow-lg overflow-hidden",children:[s.jsx(ar.div,{initial:{y:-16,opacity:0},animate:{y:0,opacity:1,transition:{type:"spring",stiffness:250,damping:32}},exit:{y:-16,opacity:0,transition:{duration:.2}},className:"absolute inset-0 bg-gradient-to-b from-church-primary/10 to-transparent"}),s.jsxs(ar.div,{initial:"closed",animate:"open",exit:"closed",variants:{open:{transition:{staggerChildren:.04,delayChildren:.05}}},className:"relative px-4 py-2 space-y-1",children:[s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs(xt,{to:"/site",className:`flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors ${R("/site")?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,onClick:()=>M(!1),children:[s.jsx(sj,{className:"h-[26px] w-[26px]"}),s.jsx("span",{children:"Incio"})]})}),s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs(xt,{to:"/",className:`flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors fonte-news-logo ${R("/")?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,onClick:()=>M(!1),children:[s.jsx(V9,{className:"h-8 w-5"}),s.jsx("span",{children:"Programaes"})]})}),s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs(xt,{to:"/site/jornada-vida",className:`flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors ${R("/site/jornada-vida")?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,onClick:()=>M(!1),children:[s.jsx(B9,{className:"h-5 w-5"}),s.jsx("span",{children:"Jornada vida"})]})}),s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs(xt,{to:"/site/transborde",className:`flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors ${R("/site/transborde")?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,onClick:()=>M(!1),children:[s.jsx(L9,{className:"h-5 w-5"}),s.jsx("span",{children:"Eventos"})]})}),s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs(xt,{to:"/site/cursos",className:`flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors ${R("/site/cursos")?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,onClick:()=>M(!1),children:[s.jsx($9,{className:"h-5 w-5"}),s.jsx("span",{children:"Cursos"})]})}),s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs(xt,{to:"/site/pedido-de-oracao",className:`flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors prayer-icon-override ${R("/site/pedido-de-oracao")?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,onClick:()=>M(!1),children:[s.jsx(Gm,{className:"h-12 w-12"}),s.jsx("span",{children:"Pedido de Orao"})]})}),s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs(xt,{to:"/site/biblia",className:`flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors ${R("/site/biblia")?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,onClick:()=>M(!1),children:[s.jsx(z9,{className:"h-6 w-6"}),s.jsx("span",{children:"Bblia"})]})}),s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs(xt,{to:"/site/ministerios",className:`flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors ${R("/site/ministerios")?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,onClick:()=>M(!1),children:[s.jsx(q9,{className:"h-[22px] w-[22px]"}),s.jsx("span",{children:"Ministrios"})]})}),s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs(xt,{to:"/site/onde-estamos",className:`flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors ${R("/site/onde-estamos")?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,onClick:()=>M(!1),children:[s.jsx(F9,{className:"h-5 w-5"}),s.jsx("span",{children:"Onde estamos"})]})}),s.jsx(ar.div,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},children:s.jsxs(xt,{to:"/site/agenda-pastoral",className:`flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors ${R("/site/agenda-pastoral")?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,onClick:()=>M(!1),children:[s.jsx(U9,{className:"h-5 w-5"}),s.jsx("span",{children:"Agenda Pastoral"})]})}),(r==null?void 0:r.role)==="admin"&&s.jsxs(ar.button,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},type:"button",onClick:()=>{M(!1),U()},className:`flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors ${t.pathname==="/site/gerenciamento"?"text-church-primary bg-church-primary/10":"text-jkd-text hover:text-church-primary hover:bg-church-primary/5"}`,children:[s.jsx(C9,{size:20}),s.jsx("span",{children:"Gerenciamento"})]}),n&&s.jsx(ar.button,{variants:{open:{y:0,opacity:1},closed:{y:8,opacity:0}},onClick:()=>{i(),M(!1)},className:"w-full text-left flex items-center space-x-3 px-3 py-3 rounded-md text-base font-medium transition-colors text-jkd-text hover:text-red-600 hover:bg-red-500/10",children:s.jsx("span",{children:"Sair"})})]})]})}),s.jsx(fv,{isOpen:j,title:"Acesso Restrito",message:"Informe a senha para acessar Gerenciamento.",inputLabel:"Senha",onConfirm:$,onCancel:()=>w(!1)})]})},J1e=()=>{const{settings:t}=cr();return s.jsx("footer",{className:"bg-jkd-bg-sec border-t border-jkd-border mt-auto",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[s.jsx("p",{className:"text-sm text-jkd-text text-center sm:text-left",children:t.copyrightText}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[s.jsx(xt,{to:"/terms",className:"text-jkd-text hover:text-church-primary transition-colors",children:"Termos de Uso"}),s.jsx(xt,{to:"/privacy",className:"text-jkd-text hover:text-church-primary transition-colors",children:"Poltica de Privacidade"}),s.jsx(xt,{to:"/cookies",className:"text-jkd-text hover:text-church-primary transition-colors",children:"Poltica de Cookies"}),s.jsx(xt,{to:"/site","aria-hidden":"true",tabIndex:-1,className:"w-2 h-2 rounded-full bg-black opacity-10 hover:opacity-20 focus:opacity-20 cursor-pointer"})]})]})})})},OG=6048e5,eje=864e5,H9=Symbol.for("constructDateFrom");function Pd(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&H9 in t?t[H9](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ks(t,e){return Pd(e||t,t)}let tje={};function mv(){return tje}function nf(t,e){var c,u,h,f;const r=mv(),n=(e==null?void 0:e.weekStartsOn)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,a=Ks(t,e==null?void 0:e.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function ij(t,e){return nf(t,{...e,weekStartsOn:1})}function PG(t,e){const r=Ks(t,e==null?void 0:e.in),n=r.getFullYear(),a=Pd(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=ij(a),o=Pd(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const c=ij(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function W9(t){const e=Ks(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function MG(t,...e){const r=Pd.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function wy(t,e){const r=Ks(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function rje(t,e,r){const[n,a]=MG(r==null?void 0:r.in,t,e),i=wy(n),o=wy(a),c=+i-W9(i),u=+o-W9(o);return Math.round((c-u)/eje)}function nje(t,e){const r=PG(t,e),n=Pd(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),ij(n)}function DG(t,e,r){const[n,a]=MG(r==null?void 0:r.in,t,e);return+wy(n)==+wy(a)}function aje(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function sje(t){return!(!aje(t)&&typeof t!="number"||isNaN(+Ks(t)))}function ije(t,e){const r=Ks(t,e==null?void 0:e.in);return r.setHours(23,59,59,999),r}function RG(t,e){const r=Ks(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Ym(t,e){const r=Ks(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function LT(t,e){const r=Ks(t,e==null?void 0:e.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function oj(t,e){const r=Ks(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function LG(t,e){var c,u,h,f;const r=mv(),n=(e==null?void 0:e.weekStartsOn)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,a=Ks(t,e==null?void 0:e.in),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const oje={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lje=(t,e,r)=>{let n;const a=oje[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Km(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const cje={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uje={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dje={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hje={date:Km({formats:cje,defaultWidth:"full"}),time:Km({formats:uje,defaultWidth:"full"}),dateTime:Km({formats:dje,defaultWidth:"full"})},fje={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mje=(t,e,r,n)=>fje[t];function Gl(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=r!=null&&r.width?String(r.width):o;a=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[c]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const pje={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gje={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xje={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yje={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vje={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bje={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jje=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},wje={ordinalNumber:jje,era:Gl({values:pje,defaultWidth:"wide"}),quarter:Gl({values:gje,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Gl({values:xje,defaultWidth:"wide"}),day:Gl({values:yje,defaultWidth:"wide"}),dayPeriod:Gl({values:vje,defaultWidth:"wide",formattingValues:bje,defaultFormattingWidth:"wide"})};function Yl(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?Nje(c,p=>p.test(o)):kje(c,p=>p.test(o));let h;h=t.valueCallback?t.valueCallback(u):u,h=r.valueCallback?r.valueCallback(h):h;const f=e.slice(o.length);return{value:h,rest:f}}}function kje(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Nje(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function UG(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const c=e.slice(a.length);return{value:o,rest:c}}}const Sje=/^(\d+)(th|st|nd|rd)?/i,Eje=/\d+/i,Aje={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tje={any:[/^b/i,/^(a|c)/i]},_je={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Cje={any:[/1/i,/2/i,/3/i,/4/i]},Ije={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Oje={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Pje={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mje={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Dje={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rje={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lje={ordinalNumber:UG({matchPattern:Sje,parsePattern:Eje,valueCallback:t=>parseInt(t,10)}),era:Yl({matchPatterns:Aje,defaultMatchWidth:"wide",parsePatterns:Tje,defaultParseWidth:"any"}),quarter:Yl({matchPatterns:_je,defaultMatchWidth:"wide",parsePatterns:Cje,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Yl({matchPatterns:Ije,defaultMatchWidth:"wide",parsePatterns:Oje,defaultParseWidth:"any"}),day:Yl({matchPatterns:Pje,defaultMatchWidth:"wide",parsePatterns:Mje,defaultParseWidth:"any"}),dayPeriod:Yl({matchPatterns:Dje,defaultMatchWidth:"any",parsePatterns:Rje,defaultParseWidth:"any"})},Uje={code:"en-US",formatDistance:lje,formatLong:hje,formatRelative:mje,localize:wje,match:Lje,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vje(t,e){const r=Ks(t,e==null?void 0:e.in);return rje(r,oj(r))+1}function zje(t,e){const r=Ks(t,e==null?void 0:e.in),n=+ij(r)-+nje(r);return Math.round(n/OG)+1}function VG(t,e){var f,p,g,x;const r=Ks(t,e==null?void 0:e.in),n=r.getFullYear(),a=mv(),i=(e==null?void 0:e.firstWeekContainsDate)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??a.firstWeekContainsDate??((x=(g=a.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??1,o=Pd((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const c=nf(o,e),u=Pd((e==null?void 0:e.in)||t,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const h=nf(u,e);return+r>=+c?n+1:+r>=+h?n:n-1}function Fje(t,e){var c,u,h,f;const r=mv(),n=(e==null?void 0:e.firstWeekContainsDate)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,a=VG(t,e),i=Pd((e==null?void 0:e.in)||t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),nf(i,e)}function $je(t,e){const r=Ks(t,e==null?void 0:e.in),n=+nf(r,e)-+Fje(r,e);return Math.round(n/OG)+1}function un(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ku={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return un(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):un(r+1,2)},d(t,e){return un(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return un(t.getHours()%12||12,e.length)},H(t,e){return un(t.getHours(),e.length)},m(t,e){return un(t.getMinutes(),e.length)},s(t,e){return un(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return un(a,e.length)}},pm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},G9={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ku.y(t,e)},Y:function(t,e,r,n){const a=VG(t,n),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return un(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):un(i,e.length)},R:function(t,e){const r=PG(t);return un(r,e.length)},u:function(t,e){const r=t.getFullYear();return un(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return un(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return un(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ku.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return un(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=$je(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):un(a,e.length)},I:function(t,e,r){const n=zje(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):un(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ku.d(t,e)},D:function(t,e,r){const n=Vje(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):un(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return un(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return un(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return un(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=pm.noon:n===0?a=pm.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=pm.evening:n>=12?a=pm.afternoon:n>=4?a=pm.morning:a=pm.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ku.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ku.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):un(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):un(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ku.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ku.s(t,e)},S:function(t,e){return Ku.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return K9(n);case"XXXX":case"XX":return wh(n);case"XXXXX":case"XXX":default:return wh(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return K9(n);case"xxxx":case"xx":return wh(n);case"xxxxx":case"xxx":default:return wh(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Y9(n,":");case"OOOO":default:return"GMT"+wh(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Y9(n,":");case"zzzz":default:return"GMT"+wh(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return un(n,e.length)},T:function(t,e,r){return un(+t,e.length)}};function Y9(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+un(i,2)}function K9(t,e){return t%60===0?(t>0?"-":"+")+un(Math.abs(t)/60,2):wh(t,e)}function wh(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=un(Math.trunc(n/60),2),i=un(n%60,2);return r+a+e+i}const X9=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},zG=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Bje=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return X9(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",X9(n,e)).replace("{{time}}",zG(a,e))},qje={p:zG,P:Bje},Hje=/^D+$/,Wje=/^Y+$/,Gje=["D","DD","YY","YYYY"];function Yje(t){return Hje.test(t)}function Kje(t){return Wje.test(t)}function Xje(t,e,r){const n=Qje(t,e,r);if(console.warn(n),Gje.includes(t))throw new RangeError(n)}function Qje(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Zje=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jje=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ewe=/^'([^]*?)'?$/,twe=/''/g,rwe=/[a-zA-Z]/;function Ar(t,e,r){var f,p,g,x,j,w,b,N;const n=mv(),a=(r==null?void 0:r.locale)??n.locale??Uje,i=(r==null?void 0:r.firstWeekContainsDate)??((p=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((x=(g=n.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((w=(j=r==null?void 0:r.locale)==null?void 0:j.options)==null?void 0:w.weekStartsOn)??n.weekStartsOn??((N=(b=n.locale)==null?void 0:b.options)==null?void 0:N.weekStartsOn)??0,c=Ks(t,r==null?void 0:r.in);if(!sje(c))throw new RangeError("Invalid time value");let u=e.match(Jje).map(E=>{const A=E[0];if(A==="p"||A==="P"){const O=qje[A];return O(E,a.formatLong)}return E}).join("").match(Zje).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const A=E[0];if(A==="'")return{isToken:!1,value:nwe(E)};if(G9[A])return{isToken:!0,value:E};if(A.match(rwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:E}});a.localize.preprocessor&&(u=a.localize.preprocessor(c,u));const h={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return u.map(E=>{if(!E.isToken)return E.value;const A=E.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Kje(A)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Yje(A))&&Xje(A,e,String(t));const O=G9[A[0]];return O(c,A,a.localize,h)}).join("")}function nwe(t){const e=t.match(ewe);return e?e[1].replace(twe,"'"):t}const awe=()=>{const{announcements:t,cultos:e,settings:r,getOccurrences:n}=cr(),{direction:a,scope:i,speed:o,startDelaySec:c=0,restartDelaySec:u=0}=r.tickerSettings,h=r.awarenessCalendar,f=v.useMemo(()=>{const O=new Date;let M,L;switch(i){case"week":M=nf(O,{weekStartsOn:1}),L=LG(O,{weekStartsOn:1});break;case"month":M=Ym(O),L=RG(O);break;case"year":M=oj(O),L=LT(O);break}const _=[...t.filter(D=>D.status==="approved").map(D=>({...D,type:"announcement"})),...e.map(D=>({...D,type:"culto"}))].flatMap(D=>{if(!D.rruleString||typeof D.rruleString!="string"||D.rruleString.trim()==="")return[];try{return!D.rruleString.startsWith("DTSTART")&&!D.rruleString.startsWith("RRULE")?[]:n(D.rruleString,M,L).length>0?[D.title]:[]}catch{return[]}}).filter((D,P,R)=>R.indexOf(D)===P);return _.length===0?"Nenhuma programao para o perodo selecionado.":_.join("    ")},[t,e,i,n]),p=v.useMemo(()=>{const O=Math.max(1,Math.min(100,o)),M=3,L=60,I=Math.log(M),T=Math.log(L),_=(T-I)/99,D=T-(O-1)*_,P=Math.exp(D);return Math.round(P*10)/10},[o]),g=p+(u||0),j=((h==null?void 0:h.imageSource)||"url")==="upload"?(h==null?void 0:h.imageUploadUrl)||"":(h==null?void 0:h.imageUrl)||"",w=!!(h!=null&&h.text&&(h!=null&&h.text.trim())||j),b=!!(h!=null&&h.priorityEnabled),N=()=>s.jsxs("span",{className:"inline-flex items-center gap-2 px-4",children:[j&&s.jsx("img",{src:j,alt:"Logo do ms",className:"h-6 w-6 object-contain"}),(h==null?void 0:h.text)&&s.jsx("span",{children:h.text})]}),E=g>0?p/g*100:100,A=g>0&&c>0?c/g*100:0;return s.jsxs("div",{className:"ticker-container relative z-10 bg-church-primary/10 border-b border-jkd-border overflow-hidden whitespace-nowrap text-sm text-jkd-text h-8 flex items-center",children:[s.jsx("style",{children:`
          @keyframes marquee-left {
            0% { transform: translateX(100%); }
            ${A}% { transform: translateX(100%); }
            ${A+E}% { transform: translateX(-100%); }
            100% { transform: translateX(-100%); }
          }
          @keyframes marquee-right {
            0% { transform: translateX(-100%); }
            ${A}% { transform: translateX(-100%); }
            ${A+E}% { transform: translateX(100%); }
            100% { transform: translateX(100%); }
          }
          .animate-marquee-left {
            animation: marquee-left ${g}s linear infinite;
          }
          .animate-marquee-right {
            animation: marquee-right ${g}s linear infinite;
          }
          .ticker-container:hover .ticker-track {
            animation-play-state: paused;
          }
        `}),s.jsx("div",{className:`ticker-track inline-flex items-center ${a==="left"?"animate-marquee-left":"animate-marquee-right"}`,children:b?s.jsxs(s.Fragment,{children:[w&&s.jsx(N,{}),f&&s.jsx("span",{className:"px-4",children:f})]}):s.jsxs(s.Fragment,{children:[f&&s.jsx("span",{className:"px-4",children:f}),w&&s.jsx(N,{})]})})]})},swe=({isOpen:t,title:e,message:r,onConfirm:n,onCancel:a})=>s.jsx(Ti,{children:t&&s.jsx(ar.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-start justify-center bg-black/30 backdrop-blur-sm p-4",onClick:a,children:s.jsxs(ar.div,{initial:{opacity:0,y:-12,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-12,scale:.98},transition:{duration:.2},className:"relative w-full max-w-md mt-24 rounded-2xl bg-jkd-bg-sec shadow-2xl border border-jkd-border ring-1 ring-white/10",onClick:i=>i.stopPropagation(),children:[s.jsx("div",{className:"px-6 pt-5 pb-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:s.jsx(_i,{className:"h-6 w-6 text-red-600 dark:text-red-400","aria-hidden":"true"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading",id:"modal-title",children:e}),s.jsx("p",{className:"mt-1 text-sm text-jkd-text",children:r})]})]})}),s.jsxs("div",{className:"px-6 pb-5 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md px-4 py-2 bg-red-600 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",onClick:n,children:"Confirmar"}),s.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md px-4 py-2 border border-jkd-border bg-jkd-bg-sec text-sm font-medium text-jkd-text hover:bg-jkd-border focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-church-primary transition-colors",onClick:a,children:"Cancelar"})]}),s.jsx("button",{onClick:a,className:"absolute top-3 right-3 p-1 rounded-full text-jkd-text/50 hover:bg-jkd-border hover:text-jkd-text transition-colors","aria-label":"Fechar",children:s.jsx(On,{size:20})})]})})}),iwe=({isOpen:t,onClose:e,replyTo:r})=>{const{addMessage:n,authorizedUsers:a}=cr(),{user:i}=xr(),[o,c]=v.useState(""),[u,h]=v.useState(""),[f,p]=v.useState(""),[g,x]=v.useState(!1),j=v.useMemo(()=>a.filter(b=>b.role==="admin"),[a]);v.useEffect(()=>{var b;t&&(x(!1),r?(c(r.senderId),h(r.subject.startsWith("Re: ")?r.subject:`Re: ${r.subject}`),p(`

--- Em ${r.createdAt.toLocaleString()}, ${(b=a.find(N=>N.id===r.senderId))==null?void 0:b.name} escreveu: ---
${r.body}`)):(c(j.length>0?j[0].id:""),h(""),p("")))},[t,r,j,a]);const w=b=>{b.preventDefault(),!(!i||!o||!u||!f)&&(n({senderId:i.id,recipientIds:[o],subject:u,body:f}),x(!0),setTimeout(()=>{e()},1500))};return s.jsx(Ti,{children:t&&s.jsx(ar.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",onClick:e,children:s.jsxs(ar.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},className:"relative w-full max-w-2xl rounded-lg bg-jkd-bg-sec shadow-xl border border-jkd-border",onClick:b=>b.stopPropagation(),children:[s.jsxs("form",{onSubmit:w,children:[s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg leading-6 font-semibold text-jkd-heading",children:r?"Responder Mensagem":"Nova Mensagem"}),s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"recipient",className:"block text-sm font-medium text-jkd-heading mb-1",children:"Para:"}),s.jsx("select",{id:"recipient",value:o,onChange:b=>c(b.target.value),required:!0,className:"w-full input-style",disabled:!!r,children:j.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-jkd-heading mb-1",children:"Assunto:"}),s.jsx("input",{type:"text",id:"subject",value:u,onChange:b=>h(b.target.value),required:!0,className:"w-full input-style"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"body",className:"block text-sm font-medium text-jkd-heading mb-1",children:"Mensagem:"}),s.jsx("textarea",{id:"body",value:f,onChange:b=>p(b.target.value),required:!0,rows:8,className:"w-full input-style"})]})]})]}),s.jsxs("div",{className:"bg-jkd-bg rounded-b-lg px-6 py-4 flex flex-row-reverse items-center gap-4",children:[s.jsxs("button",{type:"submit",disabled:g,className:"inline-flex justify-center items-center gap-2 rounded-md border border-transparent shadow-sm px-4 py-2 bg-church-primary text-base font-medium text-white hover:bg-church-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-church-primary sm:text-sm transition-colors disabled:opacity-50",children:[s.jsx(MI,{size:16}),g?"Enviada!":"Enviar"]}),s.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-jkd-border shadow-sm px-4 py-2 bg-jkd-bg-sec text-base font-medium text-jkd-text hover:bg-jkd-border sm:text-sm transition-colors",onClick:e,children:"Cancelar"})]})]}),s.jsx("button",{onClick:e,className:"absolute top-3 right-3 p-1 rounded-full text-jkd-text/50 hover:bg-jkd-border hover:text-jkd-text transition-colors","aria-label":"Fechar",children:s.jsx(On,{size:20})}),s.jsx("style",{children:".input-style { @apply px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary; }"})]})})})},UT=(t,e=300)=>{const r=v.useRef(0);return v.useCallback((...a)=>{const i=Date.now();i-r.current>=e&&(r.current=i,t(...a))},[t,e])},owe=()=>{const[t,e]=v.useState(!1),[r,n]=v.useState(0),a=()=>{const p=window.scrollY,g=document.documentElement.scrollHeight-window.innerHeight;p>400?e(!0):e(!1),n(g>0?p/g:0)},i=()=>{const p=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop||0,g=2e3,x=performance.now(),j=b=>1-Math.pow(1-b,3),w=b=>{const N=b-x,E=Math.min(1,N/g),A=.85;let O;if(E<A)O=1-E;else{const L=(E-A)/(1-A);O=(1-j(L))*(1-A)}const M=Math.max(0,Math.round(p*O));window.scrollTo(0,M),E<1?requestAnimationFrame(w):(document.documentElement.scrollTop=0,document.body.scrollTop=0)};requestAnimationFrame(w)},o=UT(a,16),c=UT(i,300);v.useEffect(()=>(window.addEventListener("scroll",o,{passive:!0}),()=>window.removeEventListener("scroll",o)),[o]);const u=18,h=2*Math.PI*u,f=h*(1-r);return s.jsxs(ar.button,{onClick:c,className:"fixed right-6 z-50 h-10 w-10 rounded-full bg-jkd-bg-sec shadow-lg border border-jkd-border flex items-center justify-center text-church-primary focus:outline-none focus:ring-2 focus:ring-church-primary focus:ring-offset-2 focus:ring-offset-jkd-bg safe-bottom-6",initial:{opacity:0,scale:.8},animate:{opacity:t?1:0,scale:t?1:.8},exit:{opacity:0,scale:.8},transition:{duration:.2},whileHover:{scale:1.1},whileTap:{scale:.95},"aria-label":"Voltar ao topo",children:[s.jsxs("svg",{className:"absolute inset-0 h-full w-full",viewBox:"0 0 40 40",children:[s.jsx("circle",{cx:"20",cy:"20",r:u,strokeWidth:"2.5",className:"stroke-current text-jkd-border",fill:"none"}),s.jsx(ar.circle,{cx:"20",cy:"20",r:u,strokeWidth:"2.5",className:"stroke-current text-church-primary",fill:"none",strokeLinecap:"round",style:{strokeDasharray:h,strokeDashoffset:f,transform:"rotate(-90deg)",transformOrigin:"50% 50%"}})]}),s.jsx(gbe,{size:20,className:"relative"})]})},lwe=({isOpen:t,onClose:e,videoSettings:r})=>{const n=UT(e,300),a=o=>{let c=null;try{const u=new URL(o),h=u.hostname,f=u.pathname;return h.includes("youtube.com")&&f.startsWith("/embed/")||h.includes("youtube.com")&&f==="/embed/live_stream"?(u.searchParams.set("autoplay","1"),u.searchParams.set("rel","0"),u.toString()):(h==="youtu.be"?c=u.pathname.slice(1):h.includes("youtube.com")&&(c=u.searchParams.get("v")),c?`https://www.youtube.com/embed/${c}?autoplay=1&rel=0`:null)}catch{const h=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,f=o.match(h);return c=f?f[1]:null,c?`https://www.youtube.com/embed/${c}?autoplay=1&rel=0`:null}},i=()=>{if(!r.url)return s.jsx("p",{className:"text-white text-center p-4",children:"Nenhuma URL de vdeo configurada."});if(r.sourceType==="youtube"){const o=a(r.url);return o?s.jsx("iframe",{width:"100%",height:"100%",src:o,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}):s.jsx("p",{className:"text-white text-center p-4",children:"URL do YouTube invlida."})}return r.sourceType==="url"?s.jsxs("video",{width:"100%",height:"100%",controls:!0,autoPlay:!0,children:[s.jsx("source",{src:r.url,type:"video/mp4"}),"Seu navegador no suporta a tag de vdeo."]}):null};return s.jsx(Ti,{children:t&&s.jsx(ar.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4",onClick:n,children:s.jsxs(ar.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},className:"relative w-full max-w-4xl aspect-video bg-black rounded-lg shadow-2xl",onClick:o=>o.stopPropagation(),children:[i(),s.jsx("button",{onClick:n,className:"absolute -top-3 -right-3 h-8 w-8 bg-white rounded-full flex items-center justify-center text-black shadow-lg hover:scale-110 transition-transform","aria-label":"Fechar vdeo",children:s.jsx(On,{size:20})})]})})})},cwe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},uwe=(t,e,r)=>{let n;const a=cwe[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},dwe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},hwe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},fwe={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mwe={date:Km({formats:dwe,defaultWidth:"full"}),time:Km({formats:hwe,defaultWidth:"full"}),dateTime:Km({formats:fwe,defaultWidth:"full"})},pwe={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},gwe=(t,e,r,n)=>{const a=pwe[t];return typeof a=="function"?a(e):a},xwe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},ywe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},vwe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},bwe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},jwe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},wwe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},kwe=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"":r+""},Nwe={ordinalNumber:kwe,era:Gl({values:xwe,defaultWidth:"wide"}),quarter:Gl({values:ywe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Gl({values:vwe,defaultWidth:"wide"}),day:Gl({values:bwe,defaultWidth:"wide"}),dayPeriod:Gl({values:jwe,defaultWidth:"wide",formattingValues:wwe,defaultFormattingWidth:"wide"})},Swe=/^(\d+)[o]?/i,Ewe=/\d+/i,Awe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Twe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},_we={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Cwe={any:[/1/i,/2/i,/3/i,/4/i]},Iwe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Owe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Pwe={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},Mwe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Dwe={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Rwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Lwe={ordinalNumber:UG({matchPattern:Swe,parsePattern:Ewe,valueCallback:t=>parseInt(t,10)}),era:Yl({matchPatterns:Awe,defaultMatchWidth:"wide",parsePatterns:Twe,defaultParseWidth:"any"}),quarter:Yl({matchPatterns:_we,defaultMatchWidth:"wide",parsePatterns:Cwe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Yl({matchPatterns:Iwe,defaultMatchWidth:"wide",parsePatterns:Owe,defaultParseWidth:"any"}),day:Yl({matchPatterns:Pwe,defaultMatchWidth:"wide",parsePatterns:Mwe,defaultParseWidth:"any"}),dayPeriod:Yl({matchPatterns:Dwe,defaultMatchWidth:"any",parsePatterns:Rwe,defaultParseWidth:"any"})},Hs={code:"pt-BR",formatDistance:uwe,formatLong:mwe,formatRelative:gwe,localize:Nwe,match:Lwe,options:{weekStartsOn:0,firstWeekContainsDate:1}},Uwe=({isOpen:t,script:e,onClose:r})=>{const{getAuthorizedUserById:n}=cr();if(!e)return null;const a=n(e.authorId);return s.jsx(Ti,{children:t&&s.jsx(ar.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4",onClick:r,children:s.jsxs(ar.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:{duration:.3},className:"relative w-full max-w-3xl max-h-[90vh] flex flex-col rounded-lg bg-jkd-bg-sec shadow-xl border border-jkd-border",onClick:i=>i.stopPropagation(),children:[s.jsxs("div",{className:"p-6 border-b border-jkd-border",children:[s.jsx("h3",{className:"text-xl leading-6 font-semibold text-jkd-heading",children:e.title}),s.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-jkd-text/80",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(hi,{size:14}),s.jsx("span",{children:(a==null?void 0:a.name)||"Desconhecido"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Cs,{size:14}),s.jsx("span",{children:Ar(e.createdAt,"dd/MM/yyyy",{locale:Hs})})]})]})]}),s.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:s.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none text-jkd-text whitespace-pre-wrap",children:e.content})}),s.jsx("div",{className:"bg-jkd-bg rounded-b-lg px-6 py-4 border-t border-jkd-border flex justify-end",children:s.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-jkd-border shadow-sm px-4 py-2 bg-jkd-bg-sec text-base font-medium text-jkd-text hover:bg-jkd-border sm:w-auto sm:text-sm transition-colors",onClick:r,children:"Fechar"})}),s.jsx("button",{onClick:r,className:"absolute top-3 right-3 p-1 rounded-full text-jkd-text/50 hover:bg-jkd-border hover:text-jkd-text transition-colors","aria-label":"Fechar",children:s.jsx(On,{size:20})})]})})})},yS="cookie_consent_preferences",Vwe=()=>{const[t,e]=v.useState(!1),[r,n]=v.useState(!1),[a,i]=v.useState({necessary:!0,performance:!1,marketing:!1,savedAt:""});v.useEffect(()=>{try{const f=localStorage.getItem(yS);e(!f)}catch{e(!0)}},[]),v.useEffect(()=>{const f=()=>e(!0),p=()=>{try{localStorage.removeItem(yS)}catch{}e(!0)};return window.addEventListener("open-cookie-consent",f),window.addEventListener("clear-cookie-consent",p),()=>{window.removeEventListener("open-cookie-consent",f),window.removeEventListener("clear-cookie-consent",p)}},[]);const o=f=>{const p={...f,savedAt:new Date().toISOString()};try{localStorage.setItem(yS,JSON.stringify(p))}catch{}e(!1)},c=()=>{o({necessary:!0,performance:!0,marketing:!0,savedAt:""})},u=()=>{o({necessary:!0,performance:!1,marketing:!1,savedAt:""})},h=()=>{o(a)};return t?s.jsx("div",{className:"fixed left-4 right-4 z-50 safe-bottom-4",children:s.jsxs("div",{className:"relative bg-jkd-bg-sec border-2 border-church-primary rounded-xl shadow-lg p-4 sm:p-5 text-jkd-text",children:[s.jsx("button",{onClick:()=>e(!1),className:"absolute top-3 right-3 p-1 rounded-full text-jkd-text/60 hover:bg-jkd-border hover:text-jkd-text transition-colors","aria-label":"Fechar e decidir depois",title:"Fechar e decidir depois",children:s.jsx(On,{size:18})}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"text-2xl","aria-hidden":!0,children:""}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("h2",{className:"text-jkd-heading font-semibold",children:"Poltica de Cookies"}),s.jsx("p",{className:"text-sm",children:"Usamos cookies necessrios para funcionamento e, opcionalmente, cookies de desempenho e marketing para melhorar sua experincia. Voc pode aceitar, recusar ou configurar suas preferncias."}),s.jsxs("p",{className:"text-xs",children:["Saiba mais em nossa ",s.jsx(xt,{to:"/cookies",className:"text-church-primary hover:underline",children:"Poltica de Cookies"})," e em nossa"," ",s.jsx(xt,{to:"/privacy",className:"text-church-primary hover:underline",children:"Poltica de Privacidade"}),"."]})]})]}),r&&s.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"p-3 rounded-lg border border-jkd-border bg-jkd-bg",children:[s.jsx("p",{className:"font-medium text-jkd-heading",children:"Necessrios"}),s.jsx("p",{className:"text-xs",children:"Essenciais para o funcionamento do site. Sempre ativos."}),s.jsx("div",{className:"mt-2 text-xs text-jkd-text/70",children:"Status: Ativado"})]}),s.jsxs("div",{className:"p-3 rounded-lg border border-jkd-border bg-jkd-bg",children:[s.jsx("p",{className:"font-medium text-jkd-heading",children:"Desempenho"}),s.jsx("p",{className:"text-xs",children:"Ajudam a medir uso e melhorar recursos."}),s.jsxs("label",{className:"mt-2 flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-jkd-border",checked:a.performance,onChange:f=>i(p=>({...p,performance:f.target.checked}))}),"Ativar cookies de desempenho"]})]}),s.jsxs("div",{className:"p-3 rounded-lg border border-jkd-border bg-jkd-bg",children:[s.jsx("p",{className:"font-medium text-jkd-heading",children:"Marketing"}),s.jsx("p",{className:"text-xs",children:"Personalizam contedo e campanhas."}),s.jsxs("label",{className:"mt-2 flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-jkd-border",checked:a.marketing,onChange:f=>i(p=>({...p,marketing:f.target.checked}))}),"Ativar cookies de marketing"]})]})]}),s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-2 sm:gap-3 sm:justify-end",children:[s.jsx("button",{onClick:u,className:"px-4 py-2 rounded-lg border border-jkd-border bg-jkd-bg text-jkd-text hover:bg-jkd-border/30",children:"Recusar"}),s.jsx("button",{onClick:()=>n(f=>!f),className:"px-4 py-2 rounded-lg border border-jkd-border bg-jkd-bg text-jkd-text hover:bg-jkd-border/30",children:r?"Ocultar Preferncias":"Configurar Preferncias"}),r&&s.jsx("button",{onClick:h,className:"px-4 py-2 rounded-lg bg-church-primary text-white hover:bg-church-primary/90",children:"Salvar Preferncias"}),!r&&s.jsx("button",{onClick:c,className:"px-4 py-2 rounded-lg bg-church-primary text-white hover:bg-church-primary/90",children:"Aceitar Todos"})]})]})}):null},Vw=({isPreview:t=!1})=>{var p,g;const{config:e}=Sf();if(mn(),console.log("[MaintenancePage] ===== INICIANDO RENDERIZAO ====="),console.log(`[MaintenancePage] Modo: ${t?"PREVIEW":"PRODUO"}`),console.log("[MaintenancePage] HeaderImageUrl:",e.headerImageUrl),console.log("[MaintenancePage] Tem HeaderImageUrl?",!!e.headerImageUrl),console.log("[MaintenancePage] HeaderImageUrl length:",(p=e.headerImageUrl)==null?void 0:p.length),console.log("[MaintenancePage] HeaderImageUrl type:",typeof e.headerImageUrl),console.log("[MaintenancePage] HeaderImageUrl primeiro chars:",(g=e.headerImageUrl)==null?void 0:g.substring(0,50)),console.log("[MaintenancePage] Config completo:",JSON.stringify(e,null,2)),e.useRedirect&&e.redirectUrl&&!window.location.pathname.includes("/site/maintenance")&&!t)return console.log("[MaintenancePage] Redirecionando para:",e.redirectUrl),window.location.href=e.redirectUrl,null;const r=()=>{switch(e.contentAlignment){case"left":return"text-left";case"right":return"text-right";default:return"text-center"}},n=()=>{switch(e.verticalAlignment){case"top":return"justify-start pt-20";case"bottom":return"justify-end pb-20";default:return"justify-center"}},a=()=>{switch(e.containerMaxWidth){case"sm":return"max-w-sm";case"md":return"max-w-md";case"lg":return"max-w-lg";case"xl":return"max-w-xl";case"2xl":return"max-w-2xl";case"3xl":return"max-w-3xl";case"4xl":return"max-w-4xl";case"5xl":return"max-w-5xl";case"6xl":return"max-w-6xl";case"7xl":return"max-w-7xl";case"full":return"max-w-full";default:return"max-w-4xl"}},i=()=>{switch(e.titleSize){case"xs":return"text-xs";case"sm":return"text-sm";case"base":return"text-base";case"lg":return"text-lg";case"xl":return"text-xl";case"2xl":return"text-2xl";case"3xl":return"text-3xl";case"4xl":return"text-4xl";case"5xl":return"text-5xl";case"6xl":return"text-6xl";default:return"text-4xl"}},o=()=>{switch(e.descriptionSize){case"xs":return"text-xs";case"sm":return"text-sm";case"base":return"text-base";case"lg":return"text-lg";case"xl":return"text-xl";case"2xl":return"text-2xl";default:return"text-xl"}},c=()=>{switch(e.titleWeight){case"normal":return"font-normal";case"medium":return"font-medium";case"semibold":return"font-semibold";case"bold":return"font-bold";case"extrabold":return"font-extrabold";default:return"font-bold"}},u=()=>{switch(e.descriptionWeight){case"normal":return"font-normal";case"medium":return"font-medium";case"semibold":return"font-semibold";case"bold":return"font-bold";default:return"font-normal"}},f=(()=>{if(!e.showCountdown||!e.countdownDate)return null;const x=new Date(e.countdownDate),j=new Date,w=x.getTime()-j.getTime();if(w<=0)return{days:0,hours:0,minutes:0,seconds:0};const b=Math.floor(w/(1e3*60*60*24)),N=Math.floor(w%(1e3*60*60*24)/(1e3*60*60)),E=Math.floor(w%(1e3*60*60)/(1e3*60)),A=Math.floor(w%(1e3*60)/1e3);return{days:b,hours:N,minutes:E,seconds:A}})();return s.jsxs("div",{className:"fixed inset-0 z-[9998] overflow-hidden",style:{backgroundImage:e.backgroundImage?`url(${e.backgroundImage})`:"none",backgroundColor:e.backgroundColor,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.overlayImage&&s.jsx("div",{className:"absolute inset-0 z-[9998]",style:{backgroundImage:`url(${e.overlayImage})`,opacity:e.overlayOpacity,backgroundSize:"repeat"}}),e.backdropBlur&&s.jsx("div",{className:"absolute inset-0 z-[9997] backdrop-blur-sm bg-black bg-opacity-30"}),e.headerImageUrl&&s.jsx("div",{className:"fixed inset-x-0 top-20 flex justify-center pointer-events-none z-[9999]",children:s.jsx("div",{className:"text-center pointer-events-auto",children:s.jsx("img",{src:e.headerImageUrl.trim(),alt:"Header Image",className:"max-h-32 max-w-full object-contain",style:{filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.3))"},onError:x=>{console.error(" [MaintenancePage] Erro ao carregar header image:",e.headerImageUrl),x.currentTarget.style.display="none"},onLoad:()=>{console.log(" [MaintenancePage] Header image carregada com sucesso:",e.headerImageUrl)}})})}),s.jsx("div",{className:`relative z-10 min-h-screen flex items-center ${n()}`,style:{pointerEvents:"auto"},children:s.jsx("div",{className:`${a()} mx-auto px-4 sm:px-6 lg:px-8 w-full`,children:s.jsxs("div",{className:`${r()} space-y-8`,children:[s.jsx("h1",{className:`${i()} ${c()} ${e.textShadow?"text-shadow":""}`,style:{color:e.titleColor},dangerouslySetInnerHTML:{__html:e.title}}),s.jsx("p",{className:`${o()} ${u()} ${e.textShadow?"text-shadow":""}`,style:{color:e.descriptionColor},dangerouslySetInnerHTML:{__html:e.description}}),e.showCountdown&&f&&s.jsxs("div",{className:"flex justify-center space-x-4",children:[f.days>0&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-white",children:f.days}),s.jsx("div",{className:"text-sm text-gray-300",children:"dias"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-white",children:f.hours}),s.jsx("div",{className:"text-sm text-gray-300",children:"horas"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-white",children:f.minutes}),s.jsx("div",{className:"text-sm text-gray-300",children:"min"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-white",children:f.seconds}),s.jsx("div",{className:"text-sm text-gray-300",children:"seg"})]})]}),e.buttons.filter(x=>x.showButton).length>0&&s.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:e.buttons.filter(x=>x.showButton).map(x=>s.jsxs("a",{href:x.url,className:"inline-flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all hover:scale-105",style:{backgroundColor:x.backgroundColor,color:x.textColor},children:[x.url.startsWith("mailto:")&&s.jsx(nj,{size:16}),x.url.startsWith("http")&&s.jsx(OI,{size:16}),!x.url.startsWith("mailto:")&&!x.url.startsWith("http")&&s.jsx(dG,{size:16}),x.text]},x.id))})]})})}),e.customCSS&&s.jsx("style",{dangerouslySetInnerHTML:{__html:e.customCSS}}),s.jsx("style",{jsx:!0,children:`
        .text-shadow {
          text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
      `})]})},zwe=({children:t})=>{const{user:e,isLoading:r}=xr(),{config:n}=Sf(),a=pi(),[i,o]=v.useState(!1);console.log("[MaintenanceGuard] ===== COMPONENT RENDERED ====="),console.log("[MaintenanceGuard] Initial state:",{authLoading:r,user:e==null?void 0:e.role,maintenanceActive:n.isActive,currentPath:a.pathname});const u=["/site/gerenciamento","/site/maintenance","/site/maintenance/preview","/admin","/dashboard","/login"].some(h=>a.pathname.startsWith(h));return v.useEffect(()=>{if(!r){if(console.log("[MaintenanceGuard] ====== MAINTENANCE GUARD CHECK ======"),console.log("[MaintenanceGuard] isActive:",n.isActive),console.log("[MaintenanceGuard] user:",e),console.log("[MaintenanceGuard] user?.role:",e==null?void 0:e.role),console.log("[MaintenanceGuard] isAdminRoute:",u),console.log("[MaintenanceGuard] currentPath:",a.pathname),console.log("[MaintenanceGuard] ======================================"),u){console.log("[MaintenanceGuard] Admin route detected, not blocking"),o(!1);return}n.isActive&&(!e||e.role!=="admin")?(console.log("[MaintenanceGuard]  SHOWING MAINTENANCE PAGE - User is not admin or no user"),o(!0)):n.isActive&&e&&e.role==="admin"?(console.log("[MaintenanceGuard]  Not showing maintenance page - User is admin"),o(!1)):(console.log("[MaintenanceGuard]  Not showing maintenance page - Maintenance mode inactive or no user"),o(!1))}},[e,r,n.isActive,u]),r?s.jsx(RI,{}):i?s.jsx(Vw,{}):t};class Fwe{constructor(){yt(this,"visitorId");yt(this,"heartbeatInterval",null);yt(this,"isOnline",!1);yt(this,"tabId");this.visitorId=this.getOrCreateVisitorId(),this.tabId=this.generateTabId(),this.setupEventListeners()}getOrCreateVisitorId(){try{const e="fonteVisitorId",r=localStorage.getItem(e);if(r)return r;const n=`anon_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return localStorage.setItem(e,n),n}catch{return`anon_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}generateTabId(){return`tab_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}setupEventListeners(){window.addEventListener("beforeunload",()=>{this.setOfflineSync()}),document.addEventListener("visibilitychange",()=>{document.hidden?this.reduceHeartbeatFrequency():this.restoreHeartbeatFrequency()}),window.addEventListener("blur",()=>{this.reduceHeartbeatFrequency()}),window.addEventListener("focus",()=>{this.restoreHeartbeatFrequency()}),window.addEventListener("offline",()=>{this.setOfflineSync()}),window.addEventListener("online",()=>{this.isOnline||this.setOnline()})}async setOnline(){try{this.isOnline=!0,await oi(at(we,"anonOnlineUsers",`${this.visitorId}_${this.tabId}`),{visitorId:this.visitorId,tabId:this.tabId,lastSeen:fn(),isOnline:!0,userAgent:navigator.userAgent,timestamp:Date.now()}),this.startHeartbeat(),console.log(" Annimo online:",this.visitorId,"Tab:",this.tabId)}catch(e){console.error(" Erro ao marcar annimo como online:",e)}}async setOffline(){if(this.isOnline)try{await ha(at(we,"anonOnlineUsers",`${this.visitorId}_${this.tabId}`)),this.stopHeartbeat(),this.isOnline=!1,console.log(" Annimo offline:",this.visitorId,"Tab:",this.tabId)}catch(e){console.error(" Erro ao marcar annimo como offline:",e)}}setOfflineSync(){if(!this.isOnline)return;const e=JSON.stringify({action:"anonSetOffline",visitorId:this.visitorId,tabId:this.tabId,timestamp:Date.now()});navigator.sendBeacon&&navigator.sendBeacon("/api/anon-presence-offline",e);try{ha(at(we,"anonOnlineUsers",`${this.visitorId}_${this.tabId}`))}catch{}this.stopHeartbeat(),this.isOnline=!1}startHeartbeat(){this.stopHeartbeat(),this.heartbeatInterval=setInterval(async()=>{if(this.isOnline)try{await oi(at(we,"anonOnlineUsers",`${this.visitorId}_${this.tabId}`),{visitorId:this.visitorId,tabId:this.tabId,lastSeen:fn(),isOnline:!0,userAgent:navigator.userAgent,timestamp:Date.now()})}catch(e){console.warn(" Erro no heartbeat annimo:",e)}},3e4)}stopHeartbeat(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null)}reduceHeartbeatFrequency(){this.stopHeartbeat(),this.heartbeatInterval=setInterval(async()=>{if(this.isOnline)try{await oi(at(we,"anonOnlineUsers",`${this.visitorId}_${this.tabId}`),{visitorId:this.visitorId,tabId:this.tabId,lastSeen:fn(),isOnline:!0,userAgent:navigator.userAgent,timestamp:Date.now(),inactive:!0})}catch(e){console.warn(" Erro no heartbeat reduzido annimo:",e)}},12e4)}restoreHeartbeatFrequency(){this.startHeartbeat()}getVisitorId(){return this.visitorId}getTabId(){return this.tabId}isAnonOnline(){return this.isOnline}}const vS=new Fwe,ps=[];for(let t=0;t<256;++t)ps.push((t+256).toString(16).slice(1));function $we(t,e=0){return(ps[t[e+0]]+ps[t[e+1]]+ps[t[e+2]]+ps[t[e+3]]+"-"+ps[t[e+4]]+ps[t[e+5]]+"-"+ps[t[e+6]]+ps[t[e+7]]+"-"+ps[t[e+8]]+ps[t[e+9]]+"-"+ps[t[e+10]]+ps[t[e+11]]+ps[t[e+12]]+ps[t[e+13]]+ps[t[e+14]]+ps[t[e+15]]).toLowerCase()}let bS;const Bwe=new Uint8Array(16);function qwe(){if(!bS){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");bS=crypto.getRandomValues.bind(crypto)}return bS(Bwe)}const Hwe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Q9={randomUUID:Hwe};function Wwe(t,e,r){var a;if(Q9.randomUUID&&!t)return Q9.randomUUID();t=t||{};const n=t.random??((a=t.rng)==null?void 0:a.call(t))??qwe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,$we(n)}const An={tabId:null,uid:null,heartbeatIntervalId:null},FG="readerOnlineUsers",Gwe=2e4;function $G(t,e){return`${t}_${e}`}async function jS(t,e){const r=$G(t,e),n=at(we,FG,r);await oi(n,{uid:t,tabId:e,lastSeen:fn(),isActive:!0},{merge:!0})}async function Z9(t,e){const r=$G(t,e),n=at(we,FG,r);try{await ha(n)}catch(a){console.warn("readerPresenceManager: erro ao limpar presena",a)}}const wS={async setOnline(){const t=ft.currentUser;if(!t){await this.setOffline();return}const e=t.uid;An.tabId||(An.tabId=Wwe()),An.uid=e,await jS(e,An.tabId),An.heartbeatIntervalId&&clearInterval(An.heartbeatIntervalId),An.heartbeatIntervalId=setInterval(()=>{An.uid&&An.tabId&&jS(An.uid,An.tabId)},Gwe),window.addEventListener("beforeunload",this._handleBeforeUnload),document.addEventListener("visibilitychange",this._handleVisibilityChange)},async setOffline(){An.heartbeatIntervalId&&(clearInterval(An.heartbeatIntervalId),An.heartbeatIntervalId=null),window.removeEventListener("beforeunload",this._handleBeforeUnload),document.removeEventListener("visibilitychange",this._handleVisibilityChange),An.uid&&An.tabId&&await Z9(An.uid,An.tabId)},_handleBeforeUnload:async()=>{An.uid&&An.tabId&&await Z9(An.uid,An.tabId)},_handleVisibilityChange:async()=>{document.visibilityState!=="hidden"&&An.uid&&An.tabId&&await jS(An.uid,An.tabId)}},Ywe=()=>{const t=new Date,e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return`${e}-${r}-${n}`},Kwe=async()=>{var e;const t=ft.currentUser;if(!t)return"anonymous";try{const r=await nn(at(we,"users",t.uid)),n=r.exists()?(e=r.data())==null?void 0:e.role:void 0;if(n==="admin"||n==="editor"||n==="leader"||n==="reader")return n}catch{}try{if((await t.getIdTokenResult()).claims.admin===!0)return"admin"}catch{}return"reader"},Xwe=()=>{try{const t="fonteVisitorId",e=localStorage.getItem(t);if(e)return e;const r=`anon_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return localStorage.setItem(t,r),r}catch{return`anon_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}},Qwe=()=>{const t=ft.currentUser;return t!=null&&t.uid?`auth:${t.uid}`:`anon:${Xwe()}`},Zwe=async()=>{const t=Ywe(),e=await Kwe(),r=Qwe(),n=at(we,"visitorDaily",t,"details",r),a=at(we,"visitorDaily",t);try{await cde(we,async i=>{(await i.get(n)).exists()||(i.set(n,{dateId:t,visitorKey:r,role:e,firstSeenAt:fn()}),i.set(a,{dateId:t,updatedAt:fn(),total:Bi(1),roles:{admin:Bi(e==="admin"?1:0),editor:Bi(e==="editor"?1:0),leader:Bi(e==="leader"?1:0),reader:Bi(e==="reader"?1:0),anonymous:Bi(e==="anonymous"?1:0)}},{merge:!0}))})}catch(i){console.warn(" Falha ao rastrear visita diria com transao:",i)}},Jwe=({children:t})=>{const{settings:e,confirmation:r,hideConfirmation:n,inputPrompt:a,hideInputPrompt:i,composeMessage:o,hideComposeMessage:c,isVideoModalOpen:u,videoSettingsOverride:h,toggleVideoModal:f,scriptView:p,hideScriptView:g}=cr(),{user:x,firebaseUser:j}=xr(),w=pi(),b=w.pathname.startsWith("/site"),N=b&&(w.pathname==="/site"||w.pathname==="/site/");v.useEffect(()=>{try{console.log("[Layout] route change",{path:w.pathname,isSiteRoute:b,isSiteHome:N,at:new Date().toISOString()})}catch{}},[w.pathname,b,N]);const E=T=>T>1024?900:T>=778&&T<=1023?768:T>=480&&T<=777?960:720,A=T=>{const _=Number((e==null?void 0:e.sliderHeight)??0);return _>0?_:E(T)},[O,M]=v.useState(A(typeof window<"u"?window.innerWidth:1024)),[L,I]=v.useState(!1);return v.useEffect(()=>{const T=()=>M(A(window.innerWidth));return window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[e==null?void 0:e.sliderHeight]),v.useEffect(()=>{M(A(typeof window<"u"?window.innerWidth:1024))},[e==null?void 0:e.sliderHeight]),v.useEffect(()=>{Zwe()},[]),v.useEffect(()=>(j?vS.setOffline():vS.setOnline(),()=>{vS.setOffline()}),[j]),v.useEffect(()=>(j&&!x?wS.setOnline():wS.setOffline(),()=>{wS.setOffline()}),[j,x]),v.useEffect(()=>{if(!N||!!!(e.sliderScrollEnabled??!0))return;const _=(e.sliderMessageOrigin||"").trim(),D=()=>{try{const F=document.querySelector("header");if(F){const W=F.getBoundingClientRect();return Math.ceil(W.height)}}catch{}return 56},P=Array.isArray(e.sliderScrollAnchors)?e.sliderScrollAnchors:[],R=(F,W)=>{const X=F.getBoundingClientRect().top+window.scrollY-(W||0);try{window.scrollTo({top:X,behavior:"smooth"})}catch{window.scrollTo(0,X)}},U=(F,W)=>{const te=P.find(J=>(J.enabled??!0)&&J.key===F);if(!te)return!1;const X=(te.selector||"").trim();if(!X)return!1;const B=document.querySelector(X);if(!B)return!1;const G=typeof W=="number"?W:typeof te.offsetPx=="number"?te.offsetPx:D();return R(B,G),!0},$=(F,W)=>{const te=document.querySelector(F);if(!te)return!1;const X=typeof W=="number"?W:D();return R(te,X),!0},K=F=>{if(_&&F.origin!==_)return;const W=F.data||{};if(W&&W.type==="fonte-scroll"){const te=typeof W.anchorKey=="string"?W.anchorKey:"",X=typeof W.selector=="string"?W.selector:"",B=typeof W.offsetPx=="number"?W.offsetPx:void 0;let G=!1;te&&(G=U(te,B)),!G&&X&&(G=$(X,B));try{console.log("[Layout] fonte-scroll",{origin:F.origin,key:te,selector:X,handled:G})}catch{}}};return window.addEventListener("message",K),()=>{window.removeEventListener("message",K)}},[N,e.sliderScrollAnchors,e.sliderScrollEnabled,e.sliderMessageOrigin]),s.jsxs("div",{className:"min-h-screen flex flex-col bg-jkd-bg text-jkd-text transition-colors duration-300",children:[b?s.jsx(Z1e,{}):s.jsx(X1e,{}),N&&s.jsx("div",{className:"w-full",children:s.jsx("div",{className:"rounded-none border-t border-b border-jkd-border overflow-hidden bg-black/5",children:(function(){const T=typeof window<"u"?new URLSearchParams(window.location.search):null,_=T?T.get("slider")==="snapshot":!1,D="/versao-web-atual/Fonte%20News%20-%20Igreja%20Fonte%20de%20Vida%20Laranjeiras_files/fontesliderhomeheader.html";if(_)return s.jsx("iframe",{src:D,title:"Slider da Home",loading:"eager",allow:"fullscreen; autoplay",onLoad:()=>I(!0),style:{width:"100%",height:`${O}px`,border:"0"}});const P=!!(e.sliderUrl&&e.sliderUrl.length>0),R=(()=>{if(!P)return D;const U=String(e.sliderUrl),$=Number(e.sliderAutoRefreshMinutes??0),K=$>0?Math.floor(Date.now()/($*60*1e3)).toString():"",F=U.includes("?")?"&":"?";return K?`${U}${F}v=${K}`:U})();return s.jsx("iframe",{src:R,title:"Slider da Home",loading:"eager",allow:"fullscreen; autoplay",onLoad:()=>I(!0),style:{width:"100%",height:`${O}px`,border:"0"}})})()})}),e.tickerSettings.enabled&&s.jsx(awe,{}),s.jsx(Ti,{mode:"wait",children:s.jsx(ar.main,{className:"flex-1 relative z-0",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:s.jsx(zwe,{children:t})},w.pathname)}),s.jsx(J1e,{}),s.jsx(swe,{isOpen:r.isOpen,title:r.title,message:r.message,onConfirm:r.onConfirm,onCancel:n}),s.jsx(fv,{isOpen:a.isOpen,title:a.title,message:a.message,inputLabel:a.inputLabel,onConfirm:a.onConfirm,onCancel:i}),s.jsx(iwe,{isOpen:o.isOpen,onClose:c,replyTo:o.replyTo}),s.jsx(lwe,{isOpen:u,onClose:()=>f(!1),videoSettings:h??e.videoNewsSettings}),s.jsx(Uwe,{isOpen:p.isOpen,script:p.script,onClose:g}),s.jsx(owe,{}),s.jsx(Vwe,{})]})},BG=({src:t,alt:e,onClose:r})=>_C.createPortal(s.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-black/70",onClick:r,children:s.jsxs("div",{className:"max-w-5xl max-h-[85vh] p-2",onClick:n=>n.stopPropagation(),children:[s.jsx("img",{src:t,alt:e||"",className:"max-h-[80vh] max-w-[90vw] object-contain rounded-lg shadow-lg"}),s.jsx("button",{onClick:r,className:"mt-3 inline-flex items-center px-4 py-2 rounded-md bg-church-primary text-white hover:bg-church-primary/90 transition-colors",children:"Fechar"})]})}),document.body),af=({announcement:t,showActions:e=!1,onEdit:r,onDelete:n,showApprovalActions:a=!1,onApprove:i,onReject:o,inProgress:c=!1,variant:u="default"})=>{const{getOccurrences:h,getAuthorizedUserById:f,toggleVideoModal:p}=cr(),{user:g}=xr(),x=h(t.rruleString,new Date,new Date(new Date().getFullYear()+1,11,31))[0],j=f(t.authorId),w=u==="light",b=I=>{const T=typeof I=="string"?I:"";let _=T?T.charAt(0).toUpperCase()+T.slice(1):"Tipo",D="bg-church-primary/10 text-church-primary border border-church-primary/20";switch(I){case"aviso":_="Aviso",D="bg-church-slate/10 text-church-slate border border-church-slate/20";break;case"audicao":_="Audio";break;case"jornada-vida":_="Jornada Vida";break;case"confraternizacao":_="Confraternizao";break}return{label:_,style:D}},N=I=>{switch(I){case"alta":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300 border border-red-200 dark:border-red-500/30";case"media":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300 border border-yellow-200 dark:border-yellow-500/30";case"baixa":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 border border-green-200 dark:border-green-500/30";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},E=I=>{switch(I){case"approved":return s.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 flex items-center gap-1",children:[s.jsx(vy,{size:12})," Aprovado"]});case"pending":return s.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300 flex items-center gap-1",children:[s.jsx(kf,{size:12})," Pendente"]});case"rejected":return s.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300 flex items-center gap-1",children:[s.jsx(On,{size:12})," Rejeitado"]})}},A=b(t.type),[O,M]=v.useState(!1),L=()=>{var _;const I=(_=t.videoUrl)==null?void 0:_.trim();if(!I)return;const T=/youtube\.com|youtu\.be/.test(I);p(!0,{enabled:!0,sourceType:T?"youtube":"direct",url:I})};return s.jsxs(ar.div,{className:`bg-jkd-bg-sec rounded-lg shadow-sm border ${w?"relative overflow-hidden group":"overflow-hidden"} transition-all duration-300 ${c?"border-green-500 shadow-green-200/50":"border-jkd-border hover:shadow-lg hover:border-church-primary/30"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},children:[w&&t.image&&s.jsx("img",{src:t.image,alt:t.title,className:"absolute inset-0 w-full h-full object-cover opacity-100 group-hover:opacity-0 transition-opacity duration-300 pointer-events-none"}),w&&s.jsx(xt,{to:`/programacao/${t.id}`,"aria-label":"Ver Programao",className:"absolute inset-0 z-10 block group-hover:hidden"}),w&&t.videoUrl&&s.jsx("button",{type:"button",onClick:I=>{I.stopPropagation(),L()},className:"absolute top-2 right-2 z-20 inline-flex items-center justify-center w-8 h-8 rounded-md bg-red-600 text-white shadow hover:bg-red-700 opacity-100 group-hover:opacity-0 transition-opacity","aria-label":"Assistir vdeo",children:s.jsx(ka,{className:"h-4 w-4 animate-fade-slow"})}),s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsxs("div",{className:`p-6 flex-grow ${w?"relative z-10 transition-opacity duration-300 opacity-0 group-hover:opacity-100":""}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${A.style}`,children:A.label}),g&&s.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${N(t.priority)}`,children:["Prioridade ",t.priority]}),e&&E(t.status),c&&s.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 flex items-center gap-1",children:[s.jsx(ka,{size:12})," Em andamento"]})]}),s.jsxs("h3",{className:"text-lg font-semibold text-jkd-heading mb-2 flex items-center gap-2",children:[s.jsx(xt,{to:`/programacao/${t.id}`,className:"hover:text-church-primary",children:t.title}),t.isLive&&s.jsx("a",{href:"#",onClick:I=>I.stopPropagation(),"aria-label":"Transmisso ao vivo",className:"inline-flex items-center rounded-full bg-red-600 text-white shadow px-2 py-0.5 text-xs font-semibold hover:bg-red-700",children:"Transmisso Ao Vivo"})]}),s.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[!w&&(t==null?void 0:t.temaName)&&s.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs bg-jkd-bg border border-jkd-border text-jkd-text",children:["Tema: ",t.temaName]}),!w&&(t==null?void 0:t.topicoName)&&s.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs bg-jkd-bg border border-jkd-border text-jkd-text",children:["Tpico: ",t.topicoName]})]})]}),e&&!a&&s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:()=>r==null?void 0:r(t),className:"p-2 rounded-md text-jkd-text hover:bg-church-primary/10 hover:text-church-primary transition-colors","aria-label":"Editar",children:s.jsx(Od,{size:16})}),s.jsx("button",{onClick:()=>n==null?void 0:n(t.id),className:"p-2 rounded-md text-jkd-text hover:bg-red-500/10 hover:text-red-500 transition-colors","aria-label":"Excluir",children:s.jsx(Ss,{size:16})})]})]}),s.jsx(xt,{to:`/programacao/${t.id}`,className:"block",children:s.jsx("p",{className:`text-jkd-text mb-4 leading-relaxed ${w?"line-clamp-2":"line-clamp-3"} break-anywhere cursor-pointer hover:text-church-primary`,children:t.content})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-sm text-jkd-text",children:[s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx(Cs,{size:14,className:"text-church-slate"}),s.jsx("span",{children:x?`${Ar(x,"dd 'de' MMMM 's' HH:mm",{locale:Hs})}${t.endTime?"  "+t.endTime:""}`:"Data a definir"})]}),s.jsxs("div",{className:"flex items-center space-x-1.5",children:[j!=null&&j.avatarUrl?s.jsx("img",{src:j.avatarUrl,alt:j.name,className:"h-5 w-5 rounded-full object-cover"}):s.jsx(hi,{size:14,className:"text-church-slate"}),s.jsx("span",{children:t.author}),t.ministry&&s.jsx("span",{className:"text-xs bg-jkd-bg px-1.5 py-0.5 rounded",children:t.ministry})]})]})]}),!w&&t.image&&s.jsxs("div",{className:"md:w-1/4 flex-shrink-0 relative group cursor-zoom-in",onClick:()=>M(!0),children:[s.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors"}),s.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsxs("span",{className:"inline-flex items-center rounded-full bg-white/90 text-jkd-heading shadow px-2 py-1 text-xs font-medium",children:[s.jsx(wG,{className:"h-3.5 w-3.5 mr-1"}),"Expandir"]})}),t.videoUrl&&s.jsx("button",{type:"button",onClick:I=>{I.stopPropagation(),L()},className:"absolute top-2 left-2 inline-flex items-center justify-center w-8 h-8 rounded-md bg-red-600 text-white shadow hover:bg-red-700","aria-label":"Assistir vdeo",children:s.jsx(ka,{className:"h-4 w-4 animate-fade-slow"})}),c&&s.jsx("div",{className:"absolute bottom-2 left-2",children:s.jsxs("span",{className:"inline-flex items-center rounded-full bg-green-600 text-white shadow px-2 py-1 text-xs font-medium",children:[s.jsx(ka,{className:"h-3.5 w-3.5 mr-1"})," Em andamento"]})})]}),w&&c&&s.jsx("div",{className:"absolute bottom-2 left-2 group-hover:hidden",children:s.jsxs("span",{className:"inline-flex items-center rounded-full bg-green-600 text-white shadow px-2 py-1 text-xs font-medium",children:[s.jsx(ka,{className:"h-3.5 w-3.5 mr-1"})," Em andamento"]})})]}),a&&s.jsxs("div",{className:"p-4 border-t border-jkd-border flex justify-end space-x-3 bg-jkd-bg",children:[s.jsxs("button",{onClick:()=>o==null?void 0:o(t.id),className:"inline-flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-lg text-red-600 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:text-red-300 dark:hover:bg-red-900/50 transition-colors",children:[s.jsx(On,{size:16}),s.jsx("span",{children:"Rejeitar"})]}),s.jsxs("button",{onClick:()=>i==null?void 0:i(t.id),className:"inline-flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-lg text-green-600 bg-green-100 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-300 dark:hover:bg-green-900/50 transition-colors",children:[s.jsx(vy,{size:16}),s.jsx("span",{children:"Aprovar"})]})]}),O&&t.image&&s.jsx(BG,{src:t.image,alt:t.title,onClose:()=>M(!1)})]})},VT=({targetDate:t,endDate:e,title:r,overlayUrl:n,variant:a="default"})=>{const{settings:i}=cr(),[o,c]=v.useState({days:0,hours:0,minutes:0,seconds:0}),[u,h]=v.useState(!1),[f,p]=v.useState(0),[g,x]=v.useState(0),j=v.useRef(null),w=v.useRef(!1),b=a==="transparent";return v.useEffect(()=>{const N=i.countdownOverlayEnabled??!0,E=i.countdownOverlayCycle??{visibleSec:30,hiddenSec:15,fadeInSec:5,fadeOutSec:5},A=.3,O=.65;let M=[],L=!0;const I=()=>{if(!L)return;x(E.fadeInSec),p(A);const T=window.setTimeout(()=>{x(E.fadeOutSec),p(0)},(E.fadeInSec+E.visibleSec)*1e3);M.push(T);const _=window.setTimeout(()=>{I()},(E.fadeInSec+E.visibleSec+E.fadeOutSec+E.hiddenSec)*1e3);M.push(_)};if(n&&u)x(0),p(O);else if(n&&N){x(0),p(0);const T=window.setTimeout(()=>I(),E.hiddenSec*1e3);M.push(T)}else n&&!N?(x(0),p(A)):(x(0),p(0));return()=>{L=!1,M.forEach(T=>clearTimeout(T))}},[n,i.countdownOverlayEnabled,i.countdownOverlayCycle,u]),v.useEffect(()=>{const N=i.programStartAudioUrl||IG();j.current=new Audio(N),j.current.load()},[i.programStartAudioUrl]),v.useEffect(()=>{const N=setInterval(()=>{const E=new Date().getTime(),A=t.getTime(),O=e==null?void 0:e.getTime();if(O&&E>=A&&E<=O){h(!0),c({days:0,hours:0,minutes:0,seconds:0});return}h(!1);const M=A-E;M>0?c({days:Math.floor(M/864e5),hours:Math.floor(M%864e5/36e5),minutes:Math.floor(M%36e5/6e4),seconds:Math.floor(M%6e4/1e3)}):c({days:0,hours:0,minutes:0,seconds:0})},1e3);return()=>clearInterval(N)},[t,e]),v.useEffect(()=>{if(u&&!w.current){if(i.programStartAudioMuted){w.current=!0;return}if(j.current){const N=j.current;N.loop=!1,N.currentTime=0,N.play().catch(()=>{}),w.current=!0}}},[u,i.programStartAudioMuted]),u?s.jsxs(ar.div,{className:b?"relative p-0 text-jkd-heading overflow-visible":"relative bg-gradient-to-r from-church-primary to-church-primary/80 rounded-lg p-6 text-white overflow-hidden",animate:{scale:[1,1.02,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[n&&!b&&s.jsx("div",{className:"absolute inset-0 bg-center bg-cover z-0",style:{backgroundImage:`url(${n})`,opacity:f,transition:`opacity ${g}s linear`}}),s.jsxs("div",{className:"relative z-10 flex items-center space-x-2 mb-4 ",children:[s.jsx(ka,{size:20,className:b?"text-church-primary":"text-white"}),s.jsx("h3",{className:`font-semibold text-lg ${b?"text-church-primary":"text-white"}`,children:"Em Andamento"})]}),s.jsx("p",{className:`relative z-10 text-sm mb-2 line-clamp-1 ${b?"text-jkd-heading":"text-white"}`,title:r,children:r}),s.jsx("div",{className:"relative z-10 h-16"})]}):s.jsxs("div",{className:b?"relative p-0 overflow-visible":"relative bg-gradient-to-r from-church-primary to-church-primary/80 rounded-lg p-6 text-white overflow-hidden",children:[n&&!b&&s.jsx("div",{className:"absolute inset-0 bg-center bg-cover z-0",style:{backgroundImage:`url(${n})`,opacity:f,transition:`opacity ${g}s linear`}}),s.jsxs("div",{className:"relative z-10 flex items-center space-x-2 mb-4 ",children:[s.jsx(kf,{size:20,className:b?"text-church-primary":"text-white"}),s.jsx("h3",{className:`font-semibold text-lg ${b?"text-jkd-heading":"text-white"}`,children:"Prxima Programao"})]}),s.jsx("p",{className:`relative z-10 text-sm mb-4 line-clamp-1 ${b?"text-jkd-heading":"text-white"}`,title:r,children:r}),s.jsxs("div",{className:"relative z-10 grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${b?"text-church-primary":"text-white"}`,children:o.days}),s.jsx("div",{className:`text-xs ${b?"text-jkd-text":"text-white"}`,children:"Dias"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${b?"text-church-primary":"text-white"}`,children:o.hours}),s.jsx("div",{className:`text-xs ${b?"text-jkd-text":"text-white"}`,children:"Hs"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${b?"text-church-primary":"text-white"}`,children:o.minutes}),s.jsx("div",{className:`text-xs ${b?"text-jkd-text":"text-white"}`,children:"Min"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${b?"text-church-primary":"text-white"}`,children:o.seconds}),s.jsx("div",{className:`text-xs ${b?"text-jkd-text":"text-white"}`,children:"Seg"})]})]})]})};function qG(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=qG(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Lr(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=qG(t))&&(n&&(n+=" "),n+=e);return n}const e2e=(t,e,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const a=Object.getOwnPropertyDescriptor(t,r),i=Object.getOwnPropertyDescriptor(e,r);!t2e(a,i)&&n||Object.defineProperty(t,r,i)},t2e=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},r2e=(t,e)=>{const r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},n2e=(t,e)=>`/* Wrapped ${t}*/
${e}`,a2e=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),s2e=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),i2e=(t,e,r)=>{const n=r===""?"":`with ${r.trim()}() `,a=n2e.bind(null,n,e.toString());Object.defineProperty(a,"name",s2e);const{writable:i,enumerable:o,configurable:c}=a2e;Object.defineProperty(t,"toString",{value:a,writable:i,enumerable:o,configurable:c})};function o2e(t,e,{ignoreNonConfigurable:r=!1}={}){const{name:n}=t;for(const a of Reflect.ownKeys(e))e2e(t,e,a,r);return r2e(t,e),i2e(t,e,n),t}const l2e=new WeakMap,J9=new WeakMap;function HG(t,{cacheKey:e,cache:r=new Map,maxAge:n}={}){if(n===0)return t;if(typeof n=="number"){if(n>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(n<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const a=function(...i){var f;const o=e?e(i):i[0],c=r.get(o);if(c)return c.data;const u=t.apply(this,i),h=typeof n=="function"?n(...i):n;if(r.set(o,{data:u,maxAge:h?Date.now()+h:Number.POSITIVE_INFINITY}),h&&h>0&&h!==Number.POSITIVE_INFINITY){const p=setTimeout(()=>{r.delete(o)},h);(f=p.unref)==null||f.call(p);const g=J9.get(t)??new Set;g.add(p),J9.set(t,g)}return u};return o2e(a,t,{ignoreNonConfigurable:!0}),l2e.set(a,r),a}function c2e(t){return typeof t=="string"}function u2e(t,e,r){return r.indexOf(t)===e}function d2e(t){return t.toLowerCase()===t}function e8(t){return t.indexOf(",")===-1?t:t.split(",")}function zT(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],r=e===void 0?"":e;return zT(r)}if(t.indexOf("@")!==-1){var n=t.split("@")[0],r=n===void 0?"":n;return zT(r)}if(t.indexOf("-")===-1||!d2e(t))return t;var a=t.split("-"),i=a[0],o=a[1],c=o===void 0?"":o;return"".concat(i,"-").concat(c.toUpperCase())}function h2e(t){var e=t===void 0?{}:t,r=e.useFallbackLocale,n=r===void 0?!0:r,a=e.fallbackLocale,i=a===void 0?"en-US":a,o=[];if(typeof navigator<"u"){for(var c=navigator.languages||[],u=[],h=0,f=c;h<f.length;h++){var p=f[h];u=u.concat(e8(p))}var g=navigator.language,x=g&&e8(g);o=o.concat(u,x)}return n&&o.push(i),o.filter(c2e).map(zT).filter(u2e)}var f2e=HG(h2e,{cacheKey:JSON.stringify});function m2e(t){return f2e(t)[0]||null}var WG=HG(m2e,{cacheKey:JSON.stringify});function mu(t,e,r){return function(a,i=r){const o=t(a)+i;return e(o)}}function pv(t){return function(r){return new Date(t(r).getTime()-1)}}function gv(t,e){return function(n){return[t(n),e(n)]}}function Jn(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function Wd(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function zw(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function Wp(t){const e=Jn(t),r=e+(-e+1)%100,n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}const p2e=mu(Jn,Wp,-100),GG=mu(Jn,Wp,100),UI=pv(GG),g2e=mu(Jn,UI,-100),YG=gv(Wp,UI);function Gd(t){const e=Jn(t),r=e+(-e+1)%10,n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}const KG=mu(Jn,Gd,-10),VI=mu(Jn,Gd,10),Fw=pv(VI),XG=mu(Jn,Fw,-10),QG=gv(Gd,Fw);function Gp(t){const e=Jn(t),r=new Date;return r.setFullYear(e,0,1),r.setHours(0,0,0,0),r}const ZG=mu(Jn,Gp,-1),zI=mu(Jn,Gp,1),$w=pv(zI),JG=mu(Jn,$w,-1),x2e=gv(Gp,$w);function FI(t,e){return function(n,a=e){const i=Jn(n),o=Wd(n)+a,c=new Date;return c.setFullYear(i,o,1),c.setHours(0,0,0,0),t(c)}}function Ef(t){const e=Jn(t),r=Wd(t),n=new Date;return n.setFullYear(e,r,1),n.setHours(0,0,0,0),n}const eY=FI(Ef,-1),$I=FI(Ef,1),xv=pv($I),tY=FI(xv,-1),y2e=gv(Ef,xv);function v2e(t,e){return function(n,a=e){const i=Jn(n),o=Wd(n),c=zw(n)+a,u=new Date;return u.setFullYear(i,o,c),u.setHours(0,0,0,0),t(u)}}function yv(t){const e=Jn(t),r=Wd(t),n=zw(t),a=new Date;return a.setFullYear(e,r,n),a.setHours(0,0,0,0),a}const b2e=v2e(yv,1),BI=pv(b2e),j2e=gv(yv,BI);function rY(t){return zw(xv(t))}var Ns={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},w2e={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},qI=[0,1,2,3,4,5,6],kS=new Map;function k2e(t){return function(r,n){var a=r||WG();kS.has(a)||kS.set(a,new Map);var i=kS.get(a);return i.has(t)||i.set(t,new Intl.DateTimeFormat(a||void 0,t).format),i.get(t)(n)}}function N2e(t){var e=new Date(t);return new Date(e.setHours(12))}function Af(t){return function(e,r){return k2e(t)(e,N2e(r))}}var S2e={day:"numeric"},E2e={day:"numeric",month:"long",year:"numeric"},A2e={month:"long"},T2e={month:"long",year:"numeric"},_2e={weekday:"short"},C2e={weekday:"long"},I2e={year:"numeric"},O2e=Af(S2e),P2e=Af(E2e),M2e=Af(A2e),nY=Af(T2e),D2e=Af(_2e),R2e=Af(C2e),Bw=Af(I2e),L2e=qI[0],U2e=qI[5],t8=qI[6];function ky(t,e){e===void 0&&(e=Ns.ISO_8601);var r=t.getDay();switch(e){case Ns.ISO_8601:return(r+6)%7;case Ns.ISLAMIC:return(r+1)%7;case Ns.HEBREW:case Ns.GREGORY:return r;default:throw new Error("Unsupported calendar type.")}}function V2e(t){var e=Wp(t);return Jn(e)}function z2e(t){var e=Gd(t);return Jn(e)}function FT(t,e){e===void 0&&(e=Ns.ISO_8601);var r=Jn(t),n=Wd(t),a=t.getDate()-ky(t,e);return new Date(r,n,a)}function F2e(t,e){e===void 0&&(e=Ns.ISO_8601);var r=e===Ns.GREGORY?Ns.GREGORY:Ns.ISO_8601,n=FT(t,e),a=Jn(t)+1,i,o;do i=new Date(a,0,r===Ns.ISO_8601?4:1),o=FT(i,e),a-=1;while(t<o);return Math.round((n.getTime()-o.getTime())/(864e5*7))+1}function Fh(t,e){switch(t){case"century":return Wp(e);case"decade":return Gd(e);case"year":return Gp(e);case"month":return Ef(e);case"day":return yv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function $2e(t,e){switch(t){case"century":return p2e(e);case"decade":return KG(e);case"year":return ZG(e);case"month":return eY(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function aY(t,e){switch(t){case"century":return GG(e);case"decade":return VI(e);case"year":return zI(e);case"month":return $I(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function B2e(t,e){switch(t){case"decade":return KG(e,-100);case"year":return ZG(e,-10);case"month":return eY(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function q2e(t,e){switch(t){case"decade":return VI(e,100);case"year":return zI(e,10);case"month":return $I(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function sY(t,e){switch(t){case"century":return UI(e);case"decade":return Fw(e);case"year":return $w(e);case"month":return xv(e);case"day":return BI(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function H2e(t,e){switch(t){case"century":return g2e(e);case"decade":return XG(e);case"year":return JG(e);case"month":return tY(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function W2e(t,e){switch(t){case"decade":return XG(e,-100);case"year":return JG(e,-10);case"month":return tY(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function r8(t,e){switch(t){case"century":return YG(e);case"decade":return QG(e);case"year":return x2e(e);case"month":return y2e(e);case"day":return j2e(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function G2e(t,e,r){var n=[e,r].sort(function(a,i){return a.getTime()-i.getTime()});return[Fh(t,n[0]),sY(t,n[1])]}function iY(t,e,r){return r.map(function(n){return(e||Bw)(t,n)}).join("  ")}function Y2e(t,e,r){return iY(t,e,YG(r))}function oY(t,e,r){return iY(t,e,QG(r))}function K2e(t){return t.getDay()===new Date().getDay()}function lY(t,e){e===void 0&&(e=Ns.ISO_8601);var r=t.getDay();switch(e){case Ns.ISLAMIC:case Ns.HEBREW:return r===U2e||r===t8;case Ns.ISO_8601:case Ns.GREGORY:return r===t8||r===L2e;default:throw new Error("Unsupported calendar type.")}}var Vl="react-calendar__navigation";function X2e(t){var e=t.activeStartDate,r=t.drillUp,n=t.formatMonthYear,a=n===void 0?nY:n,i=t.formatYear,o=i===void 0?Bw:i,c=t.locale,u=t.maxDate,h=t.minDate,f=t.navigationAriaLabel,p=f===void 0?"":f,g=t.navigationAriaLive,x=t.navigationLabel,j=t.next2AriaLabel,w=j===void 0?"":j,b=t.next2Label,N=b===void 0?"":b,E=t.nextAriaLabel,A=E===void 0?"":E,O=t.nextLabel,M=O===void 0?"":O,L=t.prev2AriaLabel,I=L===void 0?"":L,T=t.prev2Label,_=T===void 0?"":T,D=t.prevAriaLabel,P=D===void 0?"":D,R=t.prevLabel,U=R===void 0?"":R,$=t.setActiveStartDate,K=t.showDoubleView,F=t.view,W=t.views,te=W.indexOf(F)>0,X=F!=="century",B=$2e(F,e),G=X?B2e(F,e):void 0,J=aY(F,e),ne=X?q2e(F,e):void 0,ie=(function(){if(B.getFullYear()<0)return!0;var ee=H2e(F,e);return h&&h>=ee})(),se=X&&(function(){if(G.getFullYear()<0)return!0;var ee=W2e(F,e);return h&&h>=ee})(),je=u&&u<J,Pe=X&&u&&u<ne;function ue(){$(B,"prev")}function ae(){$(G,"prev2")}function oe(){$(J,"next")}function ve(){$(ne,"next2")}function Y(ee){var ye=(function(){switch(F){case"century":return Y2e(c,o,ee);case"decade":return oY(c,o,ee);case"year":return o(c,ee);case"month":return a(c,ee);default:throw new Error("Invalid view: ".concat(F,"."))}})();return x?x({date:ee,label:ye,locale:c||WG()||void 0,view:F}):ye}function fe(){var ee="".concat(Vl,"__label");return s.jsxs("button",{"aria-label":p,"aria-live":g,className:ee,disabled:!te,onClick:r,style:{flexGrow:1},type:"button",children:[s.jsx("span",{className:"".concat(ee,"__labelText ").concat(ee,"__labelText--from"),children:Y(e)}),K?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"".concat(ee,"__divider"),children:"  "}),s.jsx("span",{className:"".concat(ee,"__labelText ").concat(ee,"__labelText--to"),children:Y(J)})]}):null]})}return s.jsxs("div",{className:Vl,children:[_!==null&&X?s.jsx("button",{"aria-label":I,className:"".concat(Vl,"__arrow ").concat(Vl,"__prev2-button"),disabled:se,onClick:ae,type:"button",children:_}):null,U!==null&&s.jsx("button",{"aria-label":P,className:"".concat(Vl,"__arrow ").concat(Vl,"__prev-button"),disabled:ie,onClick:ue,type:"button",children:U}),fe(),M!==null&&s.jsx("button",{"aria-label":A,className:"".concat(Vl,"__arrow ").concat(Vl,"__next-button"),disabled:je,onClick:oe,type:"button",children:M}),N!==null&&X?s.jsx("button",{"aria-label":w,className:"".concat(Vl,"__arrow ").concat(Vl,"__next2-button"),disabled:Pe,onClick:ve,type:"button",children:N}):null]})}var Rm=function(){return Rm=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Rm.apply(this,arguments)},Q2e=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};function n8(t){return"".concat(t,"%")}function HI(t){var e=t.children,r=t.className,n=t.count,a=t.direction,i=t.offset,o=t.style,c=t.wrap,u=Q2e(t,["children","className","count","direction","offset","style","wrap"]);return s.jsx("div",Rm({className:r,style:Rm({display:"flex",flexDirection:a,flexWrap:c?"wrap":"nowrap"},o)},u,{children:v.Children.map(e,function(h,f){var p=i&&f===0?n8(100*i/n):null;return v.cloneElement(h,Rm(Rm({},h.props),{style:{flexBasis:n8(100/n),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:p,marginInlineStart:p,marginInlineEnd:0}}))})}))}function Z2e(t,e,r){return e&&e>t?e:r&&r<t?r:t}function Ny(t,e){return e[0]<=t&&e[1]>=t}function J2e(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function cY(t,e){return Ny(t[0],e)||Ny(t[1],e)}function a8(t,e,r){var n=cY(e,t),a=[];if(n){a.push(r);var i=Ny(t[0],e),o=Ny(t[1],e);i&&a.push("".concat(r,"Start")),o&&a.push("".concat(r,"End")),i&&o&&a.push("".concat(r,"BothEnds"))}return a}function eke(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function tke(t){if(!t)throw new Error("args is required");var e=t.value,r=t.date,n=t.hover,a="react-calendar__tile",i=[a];if(!r)return i;var o=new Date,c=(function(){if(Array.isArray(r))return r;var x=t.dateType;if(!x)throw new Error("dateType is required when date is not an array of two dates");return r8(x,r)})();if(Ny(o,c)&&i.push("".concat(a,"--now")),!e||!eke(e))return i;var u=(function(){if(Array.isArray(e))return e;var x=t.valueType;if(!x)throw new Error("valueType is required when value is not an array of two dates");return r8(x,e)})();J2e(u,c)?i.push("".concat(a,"--active")):cY(u,c)&&i.push("".concat(a,"--hasActive"));var h=a8(u,c,"".concat(a,"--range"));i.push.apply(i,h);var f=Array.isArray(e)?e:[e];if(n&&f.length===1){var p=n>u[0]?[u[0],n]:[n,u[0]],g=a8(p,c,"".concat(a,"--hover"));i.push.apply(i,g)}return i}function qw(t){for(var e=t.className,r=t.count,n=r===void 0?3:r,a=t.dateTransform,i=t.dateType,o=t.end,c=t.hover,u=t.offset,h=t.renderTile,f=t.start,p=t.step,g=p===void 0?1:p,x=t.value,j=t.valueType,w=[],b=f;b<=o;b+=g){var N=a(b);w.push(h({classes:tke({date:N,dateType:i,hover:c,value:x,valueType:j}),date:N}))}return s.jsx(HI,{className:e,count:n,offset:u,wrap:!0,children:w})}function Hw(t){var e=t.activeStartDate,r=t.children,n=t.classes,a=t.date,i=t.formatAbbr,o=t.locale,c=t.maxDate,u=t.maxDateTransform,h=t.minDate,f=t.minDateTransform,p=t.onClick,g=t.onMouseOver,x=t.style,j=t.tileClassName,w=t.tileContent,b=t.tileDisabled,N=t.view,E=v.useMemo(function(){var O={activeStartDate:e,date:a,view:N};return typeof j=="function"?j(O):j},[e,a,j,N]),A=v.useMemo(function(){var O={activeStartDate:e,date:a,view:N};return typeof w=="function"?w(O):w},[e,a,w,N]);return s.jsxs("button",{className:Lr(n,E),disabled:h&&f(h)>a||c&&u(c)<a||(b==null?void 0:b({activeStartDate:e,date:a,view:N})),onClick:p?function(O){return p(a,O)}:void 0,onFocus:g?function(){return g(a)}:void 0,onMouseOver:g?function(){return g(a)}:void 0,style:x,type:"button",children:[i?s.jsx("abbr",{"aria-label":i(o,a),children:r}):r,A]})}var $T=function(){return $T=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},$T.apply(this,arguments)},rke=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r},s8="react-calendar__century-view__decades__decade";function nke(t){var e=t.classes,r=e===void 0?[]:e,n=t.currentCentury,a=t.formatYear,i=a===void 0?Bw:a,o=rke(t,["classes","currentCentury","formatYear"]),c=o.date,u=o.locale,h=[];return r&&h.push.apply(h,r),h.push(s8),Wp(c).getFullYear()!==n&&h.push("".concat(s8,"--neighboringCentury")),s.jsx(Hw,$T({},o,{classes:h,maxDateTransform:Fw,minDateTransform:Gd,view:"century",children:oY(u,i,c)}))}var BT=function(){return BT=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},BT.apply(this,arguments)},i8=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};function ake(t){var e=t.activeStartDate,r=t.hover,n=t.showNeighboringCentury,a=t.value,i=t.valueType,o=i8(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),c=V2e(e),u=c+(n?119:99);return s.jsx(qw,{className:"react-calendar__century-view__decades",dateTransform:Gd,dateType:"decade",end:u,hover:r,renderTile:function(h){var f=h.date,p=i8(h,["date"]);return s.jsx(nke,BT({},o,p,{activeStartDate:e,currentCentury:c,date:f}),f.getTime())},start:c,step:10,value:a,valueType:i})}var qT=function(){return qT=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},qT.apply(this,arguments)};function ske(t){function e(){return s.jsx(ake,qT({},t))}return s.jsx("div",{className:"react-calendar__century-view",children:e()})}var HT=function(){return HT=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},HT.apply(this,arguments)},ike=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r},o8="react-calendar__decade-view__years__year";function oke(t){var e=t.classes,r=e===void 0?[]:e,n=t.currentDecade,a=t.formatYear,i=a===void 0?Bw:a,o=ike(t,["classes","currentDecade","formatYear"]),c=o.date,u=o.locale,h=[];return r&&h.push.apply(h,r),h.push(o8),Gd(c).getFullYear()!==n&&h.push("".concat(o8,"--neighboringDecade")),s.jsx(Hw,HT({},o,{classes:h,maxDateTransform:$w,minDateTransform:Gp,view:"decade",children:i(u,c)}))}var WT=function(){return WT=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},WT.apply(this,arguments)},l8=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};function lke(t){var e=t.activeStartDate,r=t.hover,n=t.showNeighboringDecade,a=t.value,i=t.valueType,o=l8(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),c=z2e(e),u=c+(n?11:9);return s.jsx(qw,{className:"react-calendar__decade-view__years",dateTransform:Gp,dateType:"year",end:u,hover:r,renderTile:function(h){var f=h.date,p=l8(h,["date"]);return s.jsx(oke,WT({},o,p,{activeStartDate:e,currentDecade:c,date:f}),f.getTime())},start:c,value:a,valueType:i})}var GT=function(){return GT=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},GT.apply(this,arguments)};function cke(t){function e(){return s.jsx(lke,GT({},t))}return s.jsx("div",{className:"react-calendar__decade-view",children:e()})}var YT=function(){return YT=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},YT.apply(this,arguments)},uke=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r},c8=function(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},dke="react-calendar__year-view__months__month";function hke(t){var e=t.classes,r=e===void 0?[]:e,n=t.formatMonth,a=n===void 0?M2e:n,i=t.formatMonthYear,o=i===void 0?nY:i,c=uke(t,["classes","formatMonth","formatMonthYear"]),u=c.date,h=c.locale;return s.jsx(Hw,YT({},c,{classes:c8(c8([],r,!0),[dke],!1),formatAbbr:o,maxDateTransform:xv,minDateTransform:Ef,view:"year",children:a(h,u)}))}var KT=function(){return KT=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},KT.apply(this,arguments)},u8=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};function fke(t){var e=t.activeStartDate,r=t.hover,n=t.value,a=t.valueType,i=u8(t,["activeStartDate","hover","value","valueType"]),o=0,c=11,u=Jn(e);return s.jsx(qw,{className:"react-calendar__year-view__months",dateTransform:function(h){var f=new Date;return f.setFullYear(u,h,1),Ef(f)},dateType:"month",end:c,hover:r,renderTile:function(h){var f=h.date,p=u8(h,["date"]);return s.jsx(hke,KT({},i,p,{activeStartDate:e,date:f}),f.getTime())},start:o,value:n,valueType:a})}var XT=function(){return XT=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},XT.apply(this,arguments)};function mke(t){function e(){return s.jsx(fke,XT({},t))}return s.jsx("div",{className:"react-calendar__year-view",children:e()})}var QT=function(){return QT=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},QT.apply(this,arguments)},pke=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r},NS="react-calendar__month-view__days__day";function gke(t){var e=t.calendarType,r=t.classes,n=r===void 0?[]:r,a=t.currentMonthIndex,i=t.formatDay,o=i===void 0?O2e:i,c=t.formatLongDate,u=c===void 0?P2e:c,h=pke(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),f=h.date,p=h.locale,g=[];return n&&g.push.apply(g,n),g.push(NS),lY(f,e)&&g.push("".concat(NS,"--weekend")),f.getMonth()!==a&&g.push("".concat(NS,"--neighboringMonth")),s.jsx(Hw,QT({},h,{classes:g,formatAbbr:u,maxDateTransform:BI,minDateTransform:yv,view:"month",children:o(p,f)}))}var ZT=function(){return ZT=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ZT.apply(this,arguments)},d8=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};function xke(t){var e=t.activeStartDate,r=t.calendarType,n=t.hover,a=t.showFixedNumberOfWeeks,i=t.showNeighboringMonth,o=t.value,c=t.valueType,u=d8(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),h=Jn(e),f=Wd(e),p=a||i,g=ky(e,r),x=p?0:g,j=(p?-g:0)+1,w=(function(){if(a)return j+42-1;var b=rY(e);if(i){var N=new Date;N.setFullYear(h,f,b),N.setHours(0,0,0,0);var E=7-ky(N,r)-1;return b+E}return b})();return s.jsx(qw,{className:"react-calendar__month-view__days",count:7,dateTransform:function(b){var N=new Date;return N.setFullYear(h,f,b),yv(N)},dateType:"day",hover:n,end:w,renderTile:function(b){var N=b.date,E=d8(b,["date"]);return s.jsx(gke,ZT({},u,E,{activeStartDate:e,calendarType:r,currentMonthIndex:f,date:N}),N.getTime())},offset:x,start:j,value:o,valueType:c})}var uY="react-calendar__month-view__weekdays",SS="".concat(uY,"__weekday");function yke(t){for(var e=t.calendarType,r=t.formatShortWeekday,n=r===void 0?D2e:r,a=t.formatWeekday,i=a===void 0?R2e:a,o=t.locale,c=t.onMouseLeave,u=new Date,h=Ef(u),f=Jn(h),p=Wd(h),g=[],x=1;x<=7;x+=1){var j=new Date(f,p,x-ky(h,e)),w=i(o,j);g.push(s.jsx("div",{className:Lr(SS,K2e(j)&&"".concat(SS,"--current"),lY(j,e)&&"".concat(SS,"--weekend")),children:s.jsx("abbr",{"aria-label":w,title:w,children:n(o,j).replace(".","")})},x))}return s.jsx(HI,{className:uY,count:7,onFocus:c,onMouseOver:c,children:g})}var lj=function(){return lj=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},lj.apply(this,arguments)},h8=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r},f8="react-calendar__tile";function vke(t){var e=t.onClickWeekNumber,r=t.weekNumber,n=s.jsx("span",{children:r});if(e){var a=t.date,i=t.onClickWeekNumber,o=t.weekNumber,c=h8(t,["date","onClickWeekNumber","weekNumber"]);return s.jsx("button",lj({},c,{className:f8,onClick:function(u){return i(o,a,u)},type:"button",children:n}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var c=h8(t,["date","onClickWeekNumber","weekNumber"]);return s.jsx("div",lj({},c,{className:f8,children:n}))}}function bke(t){var e=t.activeStartDate,r=t.calendarType,n=t.onClickWeekNumber,a=t.onMouseLeave,i=t.showFixedNumberOfWeeks,o=(function(){if(i)return 6;var h=rY(e),f=ky(e,r),p=h-(7-f);return 1+Math.ceil(p/7)})(),c=(function(){for(var h=Jn(e),f=Wd(e),p=zw(e),g=[],x=0;x<o;x+=1)g.push(FT(new Date(h,f,p+x*7),r));return g})(),u=c.map(function(h){return F2e(h,r)});return s.jsx(HI,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:a,onMouseOver:a,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:u.map(function(h,f){var p=c[f];if(!p)throw new Error("date is not defined");return s.jsx(vke,{date:p,onClickWeekNumber:n,weekNumber:h},h)})})}var JT=function(){return JT=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},JT.apply(this,arguments)},jke=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};function wke(t){if(t)for(var e=0,r=Object.entries(w2e);e<r.length;e++){var n=r[e],a=n[0],i=n[1];if(i.includes(t))return a}return Ns.ISO_8601}function kke(t){var e=t.activeStartDate,r=t.locale,n=t.onMouseLeave,a=t.showFixedNumberOfWeeks,i=t.calendarType,o=i===void 0?wke(r):i,c=t.formatShortWeekday,u=t.formatWeekday,h=t.onClickWeekNumber,f=t.showWeekNumbers,p=jke(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function g(){return s.jsx(yke,{calendarType:o,formatShortWeekday:c,formatWeekday:u,locale:r,onMouseLeave:n})}function x(){return f?s.jsx(bke,{activeStartDate:e,calendarType:o,onClickWeekNumber:h,onMouseLeave:n,showFixedNumberOfWeeks:a}):null}function j(){return s.jsx(xke,JT({calendarType:o},p))}var w="react-calendar__month-view";return s.jsx("div",{className:Lr(w,f?"".concat(w,"--weekNumbers"):""),children:s.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[x(),s.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[g(),j()]})]})})}var Lm=function(){return Lm=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Lm.apply(this,arguments)},u0="react-calendar",c1=["century","decade","year","month"],Nke=["decade","year","month","day"],WI=new Date;WI.setFullYear(1,0,1);WI.setHours(0,0,0,0);var Ske=new Date(864e13);function kx(t){return t instanceof Date?t:new Date(t)}function dY(t,e){return c1.slice(c1.indexOf(t),c1.indexOf(e)+1)}function Eke(t,e,r){var n=dY(e,r);return n.indexOf(t)!==-1}function GI(t,e,r){return t&&Eke(t,e,r)?t:r}function hY(t){var e=c1.indexOf(t);return Nke[e]}function Ake(t,e){var r=Array.isArray(t)?t[e]:t;if(!r)return null;var n=kx(r);if(Number.isNaN(n.getTime()))throw new Error("Invalid date: ".concat(t));return n}function fY(t,e){var r=t.value,n=t.minDate,a=t.maxDate,i=t.maxDetail,o=Ake(r,e);if(!o)return null;var c=hY(i),u=(function(){switch(e){case 0:return Fh(c,o);case 1:return sY(c,o);default:throw new Error("Invalid index value: ".concat(e))}})();return Z2e(u,n,a)}var YI=function(t){return fY(t,0)},mY=function(t){return fY(t,1)},Tke=function(t){return[YI,mY].map(function(e){return e(t)})};function pY(t){var e=t.maxDate,r=t.maxDetail,n=t.minDate,a=t.minDetail,i=t.value,o=t.view,c=GI(o,a,r),u=YI({value:i,minDate:n,maxDate:e,maxDetail:r})||new Date;return Fh(c,u)}function _ke(t){var e=t.activeStartDate,r=t.defaultActiveStartDate,n=t.defaultValue,a=t.defaultView,i=t.maxDate,o=t.maxDetail,c=t.minDate,u=t.minDetail,h=t.value,f=t.view,p=GI(f,u,o),g=e||r;return g?Fh(p,g):pY({maxDate:i,maxDetail:o,minDate:c,minDetail:u,value:h||n,view:f||a})}function ES(t){return t&&(!Array.isArray(t)||t.length===1)}function d0(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var vv=v.forwardRef(function(e,r){var n=e.activeStartDate,a=e.allowPartialRange,i=e.calendarType,o=e.className,c=e.defaultActiveStartDate,u=e.defaultValue,h=e.defaultView,f=e.formatDay,p=e.formatLongDate,g=e.formatMonth,x=e.formatMonthYear,j=e.formatShortWeekday,w=e.formatWeekday,b=e.formatYear,N=e.goToRangeStartOnSelect,E=N===void 0?!0:N,A=e.inputRef,O=e.locale,M=e.maxDate,L=M===void 0?Ske:M,I=e.maxDetail,T=I===void 0?"month":I,_=e.minDate,D=_===void 0?WI:_,P=e.minDetail,R=P===void 0?"century":P,U=e.navigationAriaLabel,$=e.navigationAriaLive,K=e.navigationLabel,F=e.next2AriaLabel,W=e.next2Label,te=e.nextAriaLabel,X=e.nextLabel,B=e.onActiveStartDateChange,G=e.onChange,J=e.onClickDay,ne=e.onClickDecade,ie=e.onClickMonth,se=e.onClickWeekNumber,je=e.onClickYear,Pe=e.onDrillDown,ue=e.onDrillUp,ae=e.onViewChange,oe=e.prev2AriaLabel,ve=e.prev2Label,Y=e.prevAriaLabel,fe=e.prevLabel,ee=e.returnValue,ye=ee===void 0?"start":ee,Oe=e.selectRange,We=e.showDoubleView,it=e.showFixedNumberOfWeeks,ut=e.showNavigation,At=ut===void 0?!0:ut,wt=e.showNeighboringCentury,st=e.showNeighboringDecade,Ce=e.showNeighboringMonth,Ve=Ce===void 0?!0:Ce,Qe=e.showWeekNumbers,rt=e.tileClassName,ot=e.tileContent,gt=e.tileDisabled,ht=e.value,Dt=e.view,qt=v.useState(c),Rt=qt[0],Xt=qt[1],Qt=v.useState(null),pe=Qt[0],ge=Qt[1],he=v.useState(Array.isArray(u)?u.map(function(Ot){return Ot!==null?kx(Ot):null}):u!=null?kx(u):null),Te=he[0],De=he[1],nt=v.useState(h),bt=nt[0],kt=nt[1],$e=n||Rt||_ke({activeStartDate:n,defaultActiveStartDate:c,defaultValue:u,defaultView:h,maxDate:L,maxDetail:T,minDate:D,minDetail:R,value:ht,view:Dt}),dt=(function(){var Ot=(function(){return Oe&&ES(Te)?Te:ht!==void 0?ht:Te})();return Ot?Array.isArray(Ot)?Ot.map(function(pr){return pr!==null?kx(pr):null}):Ot!==null?kx(Ot):null:null})(),Tt=hY(T),Ge=GI(Dt||bt,R,T),Ct=dY(R,T),sr=Oe?pe:null,fr=Ct.indexOf(Ge)<Ct.length-1,St=Ct.indexOf(Ge)>0,Se=v.useCallback(function(Ot){var pr=(function(){switch(ye){case"start":return YI;case"end":return mY;case"range":return Tke;default:throw new Error("Invalid returnValue.")}})();return pr({maxDate:L,maxDetail:T,minDate:D,value:Ot})},[L,T,D,ye]),lt=v.useCallback(function(Ot,pr){Xt(Ot);var Jt={action:pr,activeStartDate:Ot,value:dt,view:Ge};B&&!d0($e,Ot)&&B(Jt)},[$e,B,dt,Ge]),ir=v.useCallback(function(Ot,pr){var Jt=(function(){switch(Ge){case"century":return ne;case"decade":return je;case"year":return ie;case"month":return J;default:throw new Error("Invalid view: ".concat(Ge,"."))}})();Jt&&Jt(Ot,pr)},[J,ne,ie,je,Ge]),Gt=v.useCallback(function(Ot,pr){if(fr){ir(Ot,pr);var Jt=Ct[Ct.indexOf(Ge)+1];if(!Jt)throw new Error("Attempted to drill down from the lowest view.");Xt(Ot),kt(Jt);var Sn={action:"drillDown",activeStartDate:Ot,value:dt,view:Jt};B&&!d0($e,Ot)&&B(Sn),ae&&Ge!==Jt&&ae(Sn),Pe&&Pe(Sn)}},[$e,fr,B,ir,Pe,ae,dt,Ge,Ct]),kr=v.useCallback(function(){if(St){var Ot=Ct[Ct.indexOf(Ge)-1];if(!Ot)throw new Error("Attempted to drill up from the highest view.");var pr=Fh(Ot,$e);Xt(pr),kt(Ot);var Jt={action:"drillUp",activeStartDate:pr,value:dt,view:Ot};B&&!d0($e,pr)&&B(Jt),ae&&Ge!==Ot&&ae(Jt),ue&&ue(Jt)}},[$e,St,B,ue,ae,dt,Ge,Ct]),Fr=v.useCallback(function(Ot,pr){var Jt=dt;ir(Ot,pr);var Sn=Oe&&!ES(Jt),pt;if(Oe)if(Sn)pt=Fh(Tt,Ot);else{if(!Jt)throw new Error("previousValue is required");if(Array.isArray(Jt))throw new Error("previousValue must not be an array");pt=G2e(Tt,Jt,Ot)}else pt=Se(Ot);var de=!Oe||Sn||E?pY({maxDate:L,maxDetail:T,minDate:D,minDetail:R,value:pt,view:Ge}):null;pr.persist(),Xt(de),De(pt);var Fe={action:"onChange",activeStartDate:de,value:pt,view:Ge};if(B&&!d0($e,de)&&B(Fe),G)if(Oe){var vt=ES(pt);if(!vt)G(pt||null,pr);else if(a){if(Array.isArray(pt))throw new Error("value must not be an array");G([pt||null,null],pr)}}else G(pt||null,pr)},[$e,a,Se,E,L,T,D,R,B,G,ir,Oe,dt,Tt,Ge]);function Pn(Ot){ge(Ot)}function Nn(){ge(null)}v.useImperativeHandle(r,function(){return{activeStartDate:$e,drillDown:Gt,drillUp:kr,onChange:Fr,setActiveStartDate:lt,value:dt,view:Ge}},[$e,Gt,kr,Fr,lt,dt,Ge]);function Ln(Ot){var pr=Ot?aY(Ge,$e):Fh(Ge,$e),Jt=fr?Gt:Fr,Sn={activeStartDate:pr,hover:sr,locale:O,maxDate:L,minDate:D,onClick:Jt,onMouseOver:Oe?Pn:void 0,tileClassName:rt,tileContent:ot,tileDisabled:gt,value:dt,valueType:Tt};switch(Ge){case"century":return s.jsx(ske,Lm({formatYear:b,showNeighboringCentury:wt},Sn));case"decade":return s.jsx(cke,Lm({formatYear:b,showNeighboringDecade:st},Sn));case"year":return s.jsx(mke,Lm({formatMonth:g,formatMonthYear:x},Sn));case"month":return s.jsx(kke,Lm({calendarType:i,formatDay:f,formatLongDate:p,formatShortWeekday:j,formatWeekday:w,onClickWeekNumber:se,onMouseLeave:Oe?Nn:void 0,showFixedNumberOfWeeks:typeof it<"u"?it:We,showNeighboringMonth:Ve,showWeekNumbers:Qe},Sn));default:throw new Error("Invalid view: ".concat(Ge,"."))}}function pn(){return At?s.jsx(X2e,{activeStartDate:$e,drillUp:kr,formatMonthYear:x,formatYear:b,locale:O,maxDate:L,minDate:D,navigationAriaLabel:U,navigationAriaLive:$,navigationLabel:K,next2AriaLabel:F,next2Label:W,nextAriaLabel:te,nextLabel:X,prev2AriaLabel:oe,prev2Label:ve,prevAriaLabel:Y,prevLabel:fe,setActiveStartDate:lt,showDoubleView:We,view:Ge,views:Ct}):null}var Un=Array.isArray(dt)?dt:[dt];return s.jsxs("div",{className:Lr(u0,Oe&&Un.length===1&&"".concat(u0,"--selectRange"),We&&"".concat(u0,"--doubleView"),o),ref:A,children:[pn(),s.jsxs("div",{className:"".concat(u0,"__viewContainer"),onBlur:Oe?Nn:void 0,onMouseLeave:Oe?Nn:void 0,children:[Ln(),We?Ln(!0):null]})]})});const gY=({events:t})=>{const[e,r]=v.useState(new Date),[n,a]=v.useState(Ym(new Date)),i=({date:c,view:u})=>u==="month"&&t.some(f=>DG(f,c))?"has-event":null,o=()=>{const c=new Date;r(c),a(Ym(c))};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading",children:"Calendrio"}),s.jsx("button",{onClick:o,className:"px-3 py-1 text-xs font-semibold rounded-md bg-church-primary/10 text-church-primary hover:bg-church-primary/20 transition-colors",children:"Hoje"})]}),s.jsx(vv,{tileClassName:i,value:e,onChange:c=>{c&&r(c)},activeStartDate:n,onActiveStartDateChange:({activeStartDate:c})=>c&&a(c),showNavigation:!0,showNeighboringMonth:!1,locale:"pt-BR",className:"mini-calendar",formatShortWeekday:(c,u)=>{const h=u?u.toLocaleDateString("pt-BR",{weekday:"short"}):"";return h?h.charAt(0).toUpperCase():""}}),s.jsx("style",{children:`
        .mini-calendar {
          @apply w-full border-0 bg-transparent font-sans text-sm;
        }
        .mini-calendar .react-calendar__navigation {
          @apply flex justify-between items-center mb-2 px-1;
        }
        .mini-calendar .react-calendar__navigation button {
          @apply text-jkd-heading font-semibold text-sm min-w-0 p-1 hover:bg-jkd-border rounded-md;
        }
        .mini-calendar .react-calendar__navigation__label {
            @apply font-bold text-jkd-heading flex-grow-0;
        }
        .mini-calendar .react-calendar__month-view__weekdays {
          @apply text-center text-xs font-medium text-jkd-text/70;
        }
        .mini-calendar .react-calendar__month-view__weekdays__weekday {
            @apply p-0;
        }
        .mini-calendar .react-calendar__tile {
          @apply text-center text-xs p-0 m-0.5 h-8 w-8 flex items-center justify-center rounded-full relative hover:bg-jkd-border;
        }
        .mini-calendar .react-calendar__tile--now {
          @apply bg-jkd-border text-jkd-heading;
        }
        .mini-calendar .react-calendar__tile--active {
          @apply bg-church-primary text-white;
        }
        .mini-calendar .react-calendar__tile.has-event::after {
          content: '';
          @apply absolute bottom-1.5 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-church-primary rounded-full;
        }
      `})]})},$h=(()=>{const t=new Date,e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0");return`${e}-${r}`})();function xY(t,e=0){const r=parseInt(String(t),10);return Number.isFinite(r)?r:e}function Sy(){try{localStorage.getItem("ytlive-usage-month")!==$h&&(localStorage.setItem(`ytlive-usage-${$h}`,"0"),localStorage.setItem("ytlive-usage-month",$h))}catch{}}function Oh(){Sy();try{const t=localStorage.getItem(`ytlive-usage-${$h}`);return xY(t,0)}catch{return 0}}function Cke(t=1){Sy();try{const e=Oh(),r=Math.max(0,e+Math.max(0,t|0));return localStorage.setItem(`ytlive-usage-${$h}`,String(r)),r}catch{return Oh()}}function u1(t=1e4){try{const e=localStorage.getItem("ytlive-limit");return xY(e,t)}catch{return t}}function Ike(t){try{localStorage.setItem("ytlive-limit",String(Math.max(0,t|0)))}catch{}}function Oke(t=1){const e=u1(),r=Oh(),n=Math.max(0,e-r);return{ok:Math.max(0,t|0)<=n,remaining:n,usage:r,limit:e}}function Pke(){try{localStorage.setItem(`ytlive-usage-${$h}`,"0"),localStorage.setItem("ytlive-usage-month",$h)}catch{}}const yY="fonte_news_youtube_live_cache",Mke=()=>{try{const t=localStorage.getItem(yY);if(!t)return null;const e=JSON.parse(t);return!e||typeof e!="object"?null:e}catch{return null}},m8=t=>{try{localStorage.setItem(yY,JSON.stringify(t))}catch{}},e_=()=>{var I,T,_,D,P,R,U;const{settings:t,toggleVideoModal:e,isVideoModalOpen:r}=cr(),n=((I=t.youtubeLive)==null?void 0:I.apiKey)||"",a=((T=t.youtubeLive)==null?void 0:T.channelId)||"",i=Math.max(10,Number(((_=t.youtubeLive)==null?void 0:_.cacheSeconds)??60)),o=(((D=t.youtubeLive)==null?void 0:D.forceVideoId)||"").trim(),c=v.useMemo(()=>{var $;return!!(($=t.youtubeLive)!=null&&$.enabled)},[(P=t.youtubeLive)==null?void 0:P.enabled]),[u,h]=v.useState(!1),[f,p]=v.useState(!1),[g,x]=v.useState(void 0),[j,w]=v.useState(null),[b,N]=v.useState(!1),[E,A]=v.useState(typeof document<"u"?document.visibilityState==="visible":!0);v.useEffect(()=>{const $=()=>A(document.visibilityState==="visible");return document.addEventListener("visibilitychange",$),()=>document.removeEventListener("visibilitychange",$)},[]);const O=$=>Math.min(i,$?15:30)*1e3,M=async()=>{var K,F;if(!c||!E)return;if(h(!0),w(null),o&&o.length===11){p(!0),x(o);const W={isLive:!0,videoId:o,expiresAt:Date.now()+O(!0)};m8(W),h(!1);return}const $=Mke();if($&&$.expiresAt>Date.now()){p($.isLive),x($.videoId),h(!1);return}try{try{Sy()}catch{}if(!Oke(1).ok){w("Limite mensal atingido para consultas ao YouTube."),h(!1);return}const te=new URL("https://www.googleapis.com/youtube/v3/search");te.searchParams.set("part","snippet"),te.searchParams.set("channelId",a),te.searchParams.set("eventType","live"),te.searchParams.set("type","video"),te.searchParams.set("key",n);const X=await fetch(te.toString());if(!X.ok){let se=`HTTP ${X.status}`;try{const je=await X.json(),Pe=((K=je==null?void 0:je.error)==null?void 0:K.message)||"";Pe&&(se=Pe)}catch{}throw X.status===403&&(se="Acesso bloqueado (403). Verifique chave da API e restries de domnio (localhost/web.app) e se o YouTube Data API v3 est habilitado."),new Error(se)}const B=await X.json(),G=Array.isArray(B==null?void 0:B.items)?B.items[0]:void 0,J=(F=G==null?void 0:G.id)==null?void 0:F.videoId,ne=!!J;p(ne),x(J);try{Cke(1)}catch{}const ie={isLive:ne,videoId:J,expiresAt:Date.now()+O(ne)};m8(ie)}catch(W){w((W==null?void 0:W.message)||"Falha ao consultar status do Fonte Live")}finally{h(!1)}};v.useEffect(()=>{if(!c||!n||!a)return;M();const $=window.setInterval(M,Math.max(30,i)*1e3);return()=>clearInterval($)},[c,n,a,i,o]),v.useEffect(()=>{var K;const $=!!((K=t.youtubeLive)!=null&&K.hideBackgroundOnPopup)&&r;N($)},[r,(R=t.youtubeLive)==null?void 0:R.hideBackgroundOnPopup]);const L=()=>{if(!c)return;const $=g?`https://www.youtube.com/embed/${g}?autoplay=1&rel=0`:`https://www.youtube.com/embed/live_stream?channel=${a}&autoplay=1&rel=0`;e(!0,{enabled:!0,sourceType:"youtube",url:$})};return c?s.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-jkd-bg border border-jkd-border aspect-video",children:[f&&s.jsx("div",{className:"absolute top-2 right-2 text-church-primary z-30 pointer-events-none",children:s.jsxs("svg",{viewBox:"0 0 24 24",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsxs("circle",{cx:"12",cy:"12",r:"0",fill:"currentColor",children:[s.jsx("animate",{id:"SVGPW9ARccz",fill:"freeze",attributeName:"r",begin:"0;SVGaeu34cWL.end",calcMode:"spline",dur:"1.2s",keySplines:".52,.6,.25,.99",values:"0;11"}),s.jsx("animate",{fill:"freeze",attributeName:"opacity",begin:"0;SVGaeu34cWL.end",calcMode:"spline",dur:"1.2s",keySplines:".52,.6,.25,.99",values:"1;0"})]}),s.jsxs("circle",{cx:"12",cy:"12",r:"0",fill:"currentColor",children:[s.jsx("animate",{id:"SVGODvPjeTJ",fill:"freeze",attributeName:"r",begin:"SVGPW9ARccz.begin+0.2s",calcMode:"spline",dur:"1.2s",keySplines:".52,.6,.25,.99",values:"0;11"}),s.jsx("animate",{fill:"freeze",attributeName:"opacity",begin:"SVGPW9ARccz.begin+0.2s",calcMode:"spline",dur:"1.2s",keySplines:".52,.6,.25,.99",values:"1;0"})]}),s.jsxs("circle",{cx:"12",cy:"12",r:"0",fill:"currentColor",children:[s.jsx("animate",{id:"SVGaeu34cWL",fill:"freeze",attributeName:"r",begin:"SVGPW9ARccz.begin+0.4s",calcMode:"spline",dur:"1.2s",keySplines:".52,.6,.25,.99",values:"0;11"}),s.jsx("animate",{fill:"freeze",attributeName:"opacity",begin:"SVGPW9ARccz.begin+0.4s",calcMode:"spline",dur:"1.2s",keySplines:".52,.6,.25,.99",values:"1;0"})]})]})}),s.jsx("div",{className:"absolute top-2 left-3 z-30",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(K0e,{className:"h-5 w-5 text-church-primary"}),s.jsx("span",{className:"text-sm font-semibold text-church-primary",children:"Fonte Live"})]})}),f&&!b&&s.jsx("iframe",{className:"absolute inset-0 w-full h-full z-10 pointer-events-none",src:g?`https://www.youtube.com/embed/${g}?autoplay=1&mute=1&controls=0&playsinline=1&modestbranding=1&rel=0&showinfo=0`:`https://www.youtube.com/embed/live_stream?channel=${a}&autoplay=1&mute=1&controls=0&playsinline=1&modestbranding=1&rel=0&showinfo=0`,title:"Fonte Live Background",allow:"autoplay; encrypted-media","aria-hidden":"true",style:{opacity:Math.max(0,Math.min(1,((U=t.youtubeLive)==null?void 0:U.backgroundOpacity)??1))}}),(!f||b)&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"text-center p-4",children:[s.jsxs("div",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-medium border ${f?"bg-red-600 text-white border-red-700":"bg-jkd-bg text-jkd-text border-jkd-border"}`,children:[s.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${f?"bg-white animate-pulse":"bg-jkd-text/50"}`}),u?"Checando":f?"Transmisso Ao Vivo":"Fonte Live..."]}),j&&s.jsx("p",{className:"mt-2 text-xs text-red-600",children:j}),!n||!a?s.jsx("p",{className:"mt-2 text-xs text-jkd-text",children:"Configure API Key e Channel ID em Gerenciamento  Fonte Live."}):null]})}),f&&s.jsx("div",{className:"absolute bottom-3 right-3 z-30",children:s.jsxs("button",{onClick:L,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md bg-church-primary text-white text-sm hover:bg-church-primary/90 shadow",children:[s.jsx(ka,{className:"h-4 w-4","aria-hidden":"true"}),"Assistir agora"]})})]}):null},KI=({className:t,title:e})=>{const r="rgb(var(--church-primary))";return s.jsxs("svg",{viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",className:t,role:e?"img":"presentation","aria-hidden":e?void 0:!0,children:[e?s.jsx("title",{children:e}):null,s.jsxs("g",{children:[s.jsx("polygon",{style:{fill:"#70E5CF"},points:"82.655,217.326 82.655,267.27 22.627,217.501 22.627,217.326 82.655,161.67 "}),s.jsx("polyline",{style:{fill:"#19BA9B"},points:"22.627,217.501 22.627,217.326 82.655,161.67 90.051,173.977 43.296,217.326 43.296,217.501 43.258,239.164 22.485,239.19 22.627,217.501 "}),s.jsx("path",{style:{fill:"#70E5CF"},d:"M318.447,61.919H190.611l51.723-47.802c6.89-6.364,17.5-6.364,24.39,0L318.447,61.919z"}),s.jsx("path",{style:{fill:"#19BA9B"},d:"M211.28,61.919l51.723-47.802c0.591-0.546,1.219-1.028,1.86-1.481 c-6.832-4.819-16.231-4.337-22.529,1.481l-51.723,47.802H211.28z"}),s.jsx("polygon",{style:{fill:"#70E5CF"},points:"489.375,217.326 427.154,268.172 426.415,267.27 426.415,217.326 426.415,161.67 "}),s.jsx("path",{style:{fill:"#FFFFFF"},d:"M427.154,268.172l-0.013,0.013L300.934,371.33l-26.594-24.427 c-10.372-9.508-26.306-9.508-36.691,0.025l-28.123,25.843l-1.09-1.19l-17.55-14.556L82.655,267.27V61.919h343.76V267.27 L427.154,268.172z"}),s.jsx("rect",{x:"82.655",y:"61.92",style:{fill:"#cccccc"},width:"27.095",height:"242.519"}),s.jsxs("g",{children:[s.jsx("path",{style:{fill:r},d:"M300.934,371.33l20.394,18.728l122.537,112.541H68.174l120.119-110.323l21.233-19.504l28.123-25.843 c10.385-9.533,26.319-9.533,36.691-0.025L300.934,371.33z"}),s.jsx("polygon",{style:{fill:r},points:"489.375,217.326 489.375,502.599 443.865,502.599 383.686,447.33 321.328,390.058 300.934,371.33 427.142,268.185 427.154,268.172 "}),s.jsx("polygon",{style:{fill:r},points:"209.526,372.771 188.293,392.275 68.174,502.599 22.627,502.599 22.627,217.501 82.655,267.27 137.422,312.68 208.436,371.581 "})]}),s.jsx("polygon",{style:{fill:"rgb(var(--church-primary) / 0.1)"},points:"22.627,217.501 22.627,502.599 43.296,502.599 43.296,234.641 "}),s.jsxs("g",{children:[s.jsx("path",{style:{fill:"#000000"},d:"M426.411,52.52H322.126l-49.03-45.312c-10.412-9.612-26.722-9.611-37.137,0.004L186.933,52.52 H82.647c-5.189,0-9.395,4.207-9.395,9.395v95.648l-57.017,52.874c-1.918,1.778-3.006,4.274-3.006,6.89v285.278 c0,5.189,4.206,9.395,9.395,9.395h466.752c5.189,0,9.395-4.206,9.395-9.395V217.327c0-2.692-1.155-5.256-3.173-7.039 l-59.792-52.858V61.915C435.806,56.726,431.6,52.52,426.411,52.52z M248.71,21.014c3.317-3.063,8.322-3.064,11.637-0.003 l34.094,31.509h-79.821L248.71,21.014z M92.045,71.31h324.971v193.019l-115.728,94.577l-20.604-18.923 c-14.08-12.906-35.313-12.895-49.396,0.033l-21.918,20.138L92.045,262.865C92.045,262.865,92.045,71.31,92.045,71.31z M73.255,183.189v64.093l-36.489-30.257L73.255,183.189z M32.019,493.21V237.499l163.387,135.485l-13.473,12.378L64.51,493.21 H32.019z M92.288,493.21l102.358-94.01l49.352-45.344c6.84-6.278,17.153-6.287,23.983-0.026L419.741,493.21H92.288z M479.98,493.21 H447.52L315.269,371.748L479.98,237.138L479.98,493.21L479.98,493.21z M474.872,217.045l-39.066,31.927v-66.463L474.872,217.045z"}),s.jsx("path",{style:{fill:"#000000"},d:"M336.963,142.195h48.476c5.189,0,9.395-4.206,9.395-9.395c0-5.189-4.207-9.395-9.395-9.395h-48.476 c-5.189,0-9.395,4.207-9.395,9.395C327.567,137.989,331.774,142.195,336.963,142.195z"}),s.jsx("path",{style:{fill:"#000000"},d:"M123.611,142.195h160.469c5.189,0,9.395-4.206,9.395-9.395c0-5.189-4.207-9.395-9.395-9.395H123.611 c-5.189,0-9.395,4.207-9.395,9.395C114.216,137.989,118.423,142.195,123.611,142.195z"}),s.jsx("path",{style:{fill:"#000000"},d:"M385.44,165.668H255.433c-5.189,0-9.395,4.206-9.395,9.395c0,5.189,4.206,9.395,9.395,9.395h130.006 c5.189,0,9.395-4.207,9.395-9.395C394.834,169.875,390.629,165.668,385.44,165.668z"}),s.jsx("path",{style:{fill:"#000000"},d:"M123.611,184.458h83.346c5.189,0,9.395-4.207,9.395-9.395c0-5.189-4.206-9.395-9.395-9.395h-83.346 c-5.189,0-9.395,4.206-9.395,9.395C114.216,180.252,118.423,184.458,123.611,184.458z"}),s.jsx("path",{style:{fill:"#000000"},d:"M385.44,211.177h-48.476c-5.189,0-9.395,4.206-9.395,9.395c0,5.189,4.206,9.395,9.395,9.395h48.476 c5.189,0,9.395-4.206,9.395-9.395C394.835,215.383,390.629,211.177,385.44,211.177z"}),s.jsx("path",{style:{fill:"#000000"},d:"M123.611,229.967h160.469c5.189,0,9.395-4.206,9.395-9.395c0-5.189-4.207-9.395-9.395-9.395H123.611 c-5.189,0-9.395,4.206-9.395,9.395C114.216,225.76,118.423,229.967,123.611,229.967z"}),s.jsx("path",{style:{fill:"#000000"},d:"M385.44,253.441H255.433c-5.189,0-9.395,4.206-9.395,9.395s4.206,9.395,9.395,9.395h130.006 c5.189,0,9.395-4.206,9.395-9.395S390.629,253.441,385.44,253.441z"}),s.jsx("path",{style:{fill:"#000000"},d:"M216.352,262.836c0-5.189-4.206-9.395-9.395-9.395h-83.346c-5.189,0-9.395,4.206-9.395,9.395 s4.206,9.395,9.395,9.395h83.346C212.146,272.231,216.352,268.024,216.352,262.836z"})]})]})]})},Dke=()=>{var U,$,K,F,W,te,X,B;const{announcements:t,cultos:e,settings:r,getOccurrences:n,toggleVideoModal:a}=cr(),{user:i}=xr(),[o,c]=v.useState(""),[u,h]=v.useState(Date.now()),f=v.useRef(null);v.useRef(null);const p=96,[g,x]=v.useState(p),[j,w]=v.useState(p);v.useEffect(()=>{const G=window.setInterval(()=>h(Date.now()),5e3);return()=>clearInterval(G)},[]),v.useLayoutEffect(()=>{const G=()=>{const J=document.querySelector("header"),ne=J?Math.round(J.getBoundingClientRect().height):p;x(ne),w(ne)};return G(),window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[]);const b=v.useMemo(()=>t.filter(G=>G.status==="approved"),[t]),N=v.useMemo(()=>{const G=new Date,J=new Date(G.getFullYear(),G.getMonth(),G.getDate(),0,0,0,0),ne=new Date(G.getFullYear()+1,G.getMonth(),G.getDate()),ie=b.flatMap(je=>n(je.rruleString,J,ne).map(Pe=>{var ve;let ue=new Date(Pe),ae=!1;try{const fe=(ve=Je.fromString(je.rruleString).options)==null?void 0:ve.dtstart;if(fe){const ee=fe.getHours(),ye=fe.getMinutes();ae=ee+ye>0,ae&&ue.setHours(ee||0,ye||0,0,0)}}catch{}let oe;if(je.endTime){const[Y,fe]=je.endTime.split(":").map(Number);oe=new Date(ue),oe.setHours(Y,fe,0,0)}return{title:je.title,date:ue,endDate:oe,source:je,hasStartTime:ae}})),se=e.flatMap(je=>n(je.rruleString,J,ne).map(Pe=>{var ve;let ue=new Date(Pe),ae=!1;try{const fe=(ve=Je.fromString(je.rruleString).options)==null?void 0:ve.dtstart;if(fe){const ee=fe.getHours(),ye=fe.getMinutes();ae=ee+ye>0,ae&&ue.setHours(ee||0,ye||0,0,0)}}catch{}let oe;if(je.endTime){const[Y,fe]=je.endTime.split(":").map(Number);oe=new Date(ue),oe.setHours(Y,fe,0,0)}return{title:je.title,date:ue,endDate:oe,source:je,hasStartTime:ae}}));return[...ie,...se]},[b,e,n]),E=v.useMemo(()=>{const G=new Date,J=N.filter(ie=>!ie.endDate||!("hasStartTime"in ie)||!ie.hasStartTime?!1:ie.date<=G&&ie.endDate>=G);return J.length===0?null:J.sort((ie,se)=>{const je=ie.date instanceof Date?ie.date.getTime():0,Pe=se.date instanceof Date?se.date.getTime():0;return je-Pe})[0]},[N,u]),A=v.useMemo(()=>{const G=new Date,J=N.filter(ne=>ne.date>G).sort((ne,ie)=>{const se=ne.date instanceof Date?ne.date.getTime():0,je=ie.date instanceof Date?ie.date.getTime():0;return se-je});return J.length>0?J[0]:null},[N,u]),O=v.useMemo(()=>{const G=new Date,J=new Date(G.getFullYear(),G.getMonth(),G.getDate(),0,0,0,0),ne=new Date(G.getFullYear(),G.getMonth(),G.getDate(),23,59,59,999),ie=new Date(G.getFullYear()+1,G.getMonth(),G.getDate()),se=Pe=>{var ee;const ue=n(Pe.rruleString,J,ne);if(ue.length===0||!Pe.endTime)return!1;let ae=ue[0],oe=!1;try{const Oe=(ee=Je.fromString(Pe.rruleString).options)==null?void 0:ee.dtstart;if(Oe){const We=Oe.getHours(),it=Oe.getMinutes();oe=We+it>0,oe&&(ae=new Date(ae),ae.setHours(We||0,it||0,0,0))}}catch{}if(!oe)return!1;const[ve,Y]=Pe.endTime.split(":").map(Number),fe=new Date(ae);return fe.setHours(ve||0,Y||0,0,0),ae<=G&&fe>=G},je=Pe=>n(Pe.rruleString,G,ie).length>0;return b.filter(Pe=>je(Pe)||se(Pe)).filter(Pe=>{if(!o)return!0;const ue=o.toLowerCase();return Pe.title.toLowerCase().includes(ue)||Pe.content.toLowerCase().includes(ue)}).sort((Pe,ue)=>{const ae=Pe.createdAt instanceof Date?Pe.createdAt.getTime():0;return(ue.createdAt instanceof Date?ue.createdAt.getTime():0)-ae}).slice(0,10)},[b,o,n,u]),M=v.useMemo(()=>{const G=new Date,J=new Date(G.getFullYear(),G.getMonth(),G.getDate(),0,0,0,0),ne=new Date(G.getFullYear(),G.getMonth(),G.getDate(),23,59,59,999),ie=new Date(G.getFullYear()+1,G.getMonth(),G.getDate()),se=Pe=>{var ee;const ue=n(Pe.rruleString,J,ne);if(ue.length===0||!Pe.endTime)return!1;let ae=ue[0],oe=!1;try{const Oe=(ee=Je.fromString(Pe.rruleString).options)==null?void 0:ee.dtstart;if(Oe){const We=Oe.getHours(),it=Oe.getMinutes();oe=We+it>0,oe&&(ae=new Date(ae),ae.setHours(We||0,it||0,0,0))}}catch{}if(!oe)return!1;const[ve,Y]=Pe.endTime.split(":").map(Number),fe=new Date(ae);return fe.setHours(ve||0,Y||0,0,0),ae<=G&&fe>=G},je=Pe=>n(Pe.rruleString,G,ie).length>0;return b.filter(Pe=>je(Pe)||se(Pe))},[b,n,u]),L=r.newsHighlightImages||[],I=((U=r.newsHighlightOptions)==null?void 0:U.effect)||"fade",T=(($=r.newsHighlightOptions)==null?void 0:$.durationSec)||8,[_,D]=v.useState(0);qc.useEffect(()=>{if(!L||L.length<=1)return;const G=setInterval(()=>{D(J=>(J+1)%L.length)},Math.max(2,T)*1e3);return()=>clearInterval(G)},[L,T]);const P=E||A,R=(()=>{const G=P==null?void 0:P.source;if(G){const J=G==null?void 0:G.destaqueCountdownUrl,ne=G==null?void 0:G.image;return J||ne||r.parallaxBgUrl}return r.parallaxBgUrl})();return s.jsxs("div",{className:"min-h-screen bg-jkd-bg relative",children:[s.jsxs("section",{className:"relative bg-gradient-to-br from-church-primary to-church-primary/80 py-16 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",children:s.jsx(Ti,{mode:"wait",children:L&&L.length>0&&s.jsx(ar.div,{initial:I==="fade"?{opacity:0}:{opacity:0,x:40},animate:I==="fade"?{opacity:.3}:{opacity:.3,x:0},exit:I==="fade"?{opacity:0}:{opacity:0,x:-40},transition:{duration:.6},className:"absolute inset-0 bg-center bg-cover",style:{backgroundImage:`url(${L[_]})`}},_)})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"relative text-center",children:[s.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 ${(K=r.titleGradient)!=null&&K.enabled?"text-transparent bg-clip-text animate-gradient-x":"text-white"}`,style:(F=r.titleGradient)!=null&&F.enabled?{backgroundImage:`linear-gradient(to right, ${((W=r.titleGradient)==null?void 0:W.from)||"#c084fc"}, ${((te=r.titleGradient)==null?void 0:te.via)||"#ec4899"}, ${((X=r.titleGradient)==null?void 0:X.to)||"#ef4444"})`,backgroundSize:"200% 200%",animationDuration:`${((B=r.titleGradient)==null?void 0:B.durationSec)||6}s`}:void 0,children:"Fonte News"}),s.jsx("p",{className:"text-lg text-white opacity-90 mb-2",children:"Mantenha-se conectado com as programaes da nossa igreja"}),s.jsx("p",{className:"text-xl md:text-2xl font-semibold text-white opacity-95 mb-8",children:r.churchName})]})})]}),s.jsx("div",{className:"sticky z-30 w-full hidden lg:block",style:{top:j},"aria-hidden":"true",children:s.jsx("svg",{width:"100%",height:"80",preserveAspectRatio:"none",className:"text-jkd-bg block",children:s.jsx("rect",{x:"0",y:"0",width:"100%",height:"80",fill:"currentColor"})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-0 pb-12",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:gap-8",children:[s.jsx("aside",{className:"w-full lg:w-1/3 space-y-6 order-2 lg:order-2",children:s.jsxs("div",{style:{position:"sticky",top:j},className:"z-40",children:[s.jsx("div",{className:"hidden lg:block","aria-hidden":"true",children:s.jsx("svg",{width:"100%",height:"2",preserveAspectRatio:"none",className:"text-jkd-bg block",children:s.jsx("rect",{x:"0",y:"0",width:"100%",height:"2",fill:"currentColor"})})}),(E||A)&&s.jsx("div",{className:"hidden lg:block mt-6 mb-6",children:s.jsx(VT,{targetDate:(E||A).date,endDate:(E||A).endDate,title:(E||A).title,overlayUrl:R})}),s.jsx("div",{className:"hidden lg:block mt-6 mb-6",children:s.jsx(e_,{})}),s.jsx("div",{className:"bg-jkd-bg-sec rounded-lg p-6 border border-jkd-border",children:s.jsx(gY,{events:N.map(G=>G.date)})}),s.jsxs("div",{className:"bg-church-primary/10 rounded-lg p-6 border border-jkd-border mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading mb-4",children:s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(KI,{className:"h-5 w-5",title:"VGA"}),"Contato da Secretaria"]})}),s.jsxs("div",{className:"space-y-3 text-sm text-jkd-text",children:[s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(nj,{size:14})," ",r.contactInfo.email]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(gG,{size:14})," ",r.contactInfo.phone]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(T0e,{size:14})," ",r.contactInfo.address]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(kf,{size:14})," ",r.contactInfo.services]})]})]})]})}),s.jsxs("div",{className:"w-full lg:w-2/3 order-1 lg:order-1 mt-0 lg:mt-0",children:[s.jsx("div",{ref:f,className:"bg-jkd-bg p-6 lg:sticky lg:top-24 z-30 mb-8",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[r.videoNewsSettings.enabled&&s.jsxs(ar.button,{onClick:()=>a(!0),className:"h-10 w-10 flex-shrink-0 rounded-full bg-church-primary shadow-lg flex items-center justify-center text-white relative",whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":"Assistir Fonte News",children:[s.jsx(ka,{size:20,className:"ml-0.5"}),s.jsx("span",{className:"absolute h-full w-full rounded-full bg-church-primary animate-ping opacity-75"})]}),s.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg p-6 border border-jkd-border",children:[s.jsx("p",{className:"text-sm font-medium text-jkd-text",children:"Total de Avisos"}),s.jsx("p",{className:"text-2xl font-bold text-jkd-heading",children:M.filter(G=>(G.type||"").trim().toLowerCase()==="aviso").length})]}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg p-6 border border-jkd-border",children:[s.jsx("p",{className:"text-sm font-medium text-jkd-text",children:"Outras Programaes"}),s.jsx("p",{className:"text-2xl font-bold text-jkd-heading",children:M.filter(G=>(G.type||"").trim().toLowerCase()!=="aviso").length})]})]})]}),(E||A)&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"block lg:hidden mt-4 mb-[5px]",children:s.jsx(VT,{targetDate:(E||A).date,endDate:(E||A).endDate,title:(E||A).title,overlayUrl:R})}),s.jsx("div",{className:"block lg:hidden mt-4 mb-6",children:s.jsx(e_,{})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-jkd-heading",children:"Programaes Recentes"}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Uw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-jkd-text/50",size:18}),s.jsx("input",{type:"text",placeholder:"Buscar programaes...",value:o,onChange:G=>c(G.target.value),className:"pl-10 w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text placeholder-jkd-text/60 focus:outline-none focus:ring-2 focus:ring-church-primary"})]})]})]})}),s.jsx("div",{style:{position:"sticky",top:g},className:"z-10",children:s.jsx("div",{className:"space-y-6",children:O.length>0?O.map(G=>s.jsx(af,{announcement:G},G.id)):s.jsxs("div",{className:"text-center py-12 bg-jkd-bg-sec rounded-lg border border-jkd-border",children:[s.jsx(tf,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-jkd-text",children:"Nenhuma programao encontrada."})]})})})]})]})})]})},Rke=()=>{const{user:t,loginWithGoogle:e,isLoading:r}=xr();mn();const[n,a]=v.useState(""),[i,o]=v.useState(""),[c,u]=v.useState(""),[h,f]=v.useState(!1),[p,g]=v.useState(!1),x=p||!!i&&(i.toLowerCase().includes("no foi autorizado")||i.toLowerCase().includes("inativa")||i.toLowerCase().includes("bloqueada")),{authorizedUsers:j,settings:w}=cr();if(t){const A=t.role==="admin"?"/dashboard":"/profile";return s.jsx(pl,{to:A,replace:!0})}v.useEffect(()=>{(async()=>{try{if(Eie(ft,window.location.href)){let O=window.localStorage.getItem("emailForSignIn");if(O||(O=window.prompt("Confirme seu e-mail para concluir o login")||""),!O)return;await Aie(ft,O,window.location.href),window.localStorage.removeItem("emailForSignIn"),u("Login concludo com sucesso.")}}catch(O){console.error("Erro ao concluir login por link:",O),o("No foi possvel concluir o login. O link pode estar expirado ou invlido. Solicite um novo link.")}})()},[]);const b=async()=>{o("");const A=await e();A.success||o(A.message||"Erro no login com Google.")},N=async A=>{A.preventDefault(),o(""),u(""),g(!1);const O=(n||"").trim().toLowerCase();if(!O){o("Informe seu e-mail para continuar.");return}const M=j.find(L=>(L.email||"").toLowerCase()===O);if(!M){o("Seu e-mail no foi localizado no sistema de liderana autorizada e nem nos arquivos de dados autorizados. Por gentileza, solicite autorizao ou fale com a secretaria (secretaria.adfdevidalaranjeiras@gmail.com)."),g(!0),f(!1);return}if(M.status==="blocked"){o("Sua conta est bloqueada. Por gentileza, procure a secretaria da Igreja Fonte de Vida Laranjeiras para regularizao ou maiores informaes."),f(!1);return}if(M.status==="inactive"){o("Sua conta est inativa. Por gentileza, fale com a secretaria da Igreja Fonte de Vida Laranjeiras para ativao do acesso."),f(!1);return}u("E-mail autorizado. Voc pode continuar abaixo para receber o link de acesso."),f(!0)},E=async A=>{A.preventDefault(),o(""),u("");const O=(n||"").trim();if(!O){o("Informe seu e-mail para receber o link de acesso.");return}try{const M={url:`${window.location.origin}/login`,handleCodeInApp:!0};await Sie(ft,O,M),window.localStorage.setItem("emailForSignIn",O),u("Enviamos um link de acesso para seu e-mail. Abra o link no mesmo dispositivo para finalizar o login.")}catch(M){console.error("Erro ao enviar link de acesso:",M),M.code==="auth/invalid-email"?o("E-mail invlido. Corrija e tente novamente."):M.code==="auth/operation-not-allowed"?o('Mtodo "Link de e-mail" est desabilitado. Ative em Firebase Authentication.'):o("No foi possvel enviar o link agora. Tente novamente mais tarde.")}};return s.jsx("div",{className:"min-h-screen bg-jkd-bg flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:w.logoUrl,alt:"Logo Igreja",className:"h-16 w-auto mx-auto mb-4",onError:A=>{A.target.src="https://via.placeholder.com/200x100/ff652c/ffffff?text=FONTE+NEWS"}}),s.jsx("h2",{className:"text-3xl font-bold text-jkd-heading",children:"rea do Lder"}),s.jsx("p",{className:"mt-2 text-jkd-text",children:"Entre na sua conta para gerenciar as programaes."})]}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg shadow-sm border border-jkd-border p-8",children:[s.jsxs("form",{onSubmit:N,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(nj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-jkd-text",size:18}),s.jsx("input",{id:"email",type:"email",required:!0,value:n,onChange:A=>a(A.target.value),className:"pl-10 w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text placeholder-jkd-text/60 focus:outline-none focus:ring-2 focus:ring-church-primary focus:border-transparent",placeholder:"seu@email.com"})]})]}),c&&s.jsx("div",{className:"text-green-700 text-sm text-left bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:c}),i&&s.jsxs("div",{className:"text-red-600 text-sm text-left bg-red-50 dark:bg-red-900/20 p-3 rounded-lg flex items-start gap-2",children:[s.jsx(rj,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("span",{children:i}),s.jsx(xt,{to:"/request-access",className:"mt-2 block font-semibold text-church-primary hover:underline",children:"Solicitar Autorizao"})]})]}),x&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:s.jsxs("div",{className:"bg-white dark:bg-jkd-bg w-[92%] max-w-md rounded-lg shadow-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading mb-3",children:p?"Solicitar acesso":i.toLowerCase().includes("bloqueada")?"Conta bloqueada":"Conta inativa"}),s.jsxs("div",{className:"text-sm text-jkd-text mb-4",children:[p&&s.jsx("p",{children:"Seu acesso no foi autorizado. Para solicitar autorizao, preencha o formulrio. Voc ser notificado quando sua solicitao for analisada pela secretaria."}),!p&&i.toLowerCase().includes("bloqueada")&&s.jsx("p",{children:"Sua conta est bloqueada. Por gentileza, procure a secretaria da Igreja Fonte de Vida Laranjeiras para regularizao ou maiores informaes."}),!p&&i.toLowerCase().includes("inativa")&&s.jsx("p",{children:"Sua conta est inativa. Por gentileza, fale com a secretaria da Igreja Fonte de Vida Laranjeiras para ativao do acesso."})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[p&&s.jsx(xt,{to:"/request-access",className:"px-3 py-2 rounded-md bg-church-primary text-white hover:opacity-90",children:"Abrir formulrio"}),s.jsx("button",{type:"button",className:"px-3 py-2 rounded-md border border-jkd-border text-jkd-text hover:bg-jkd-bg/60",onClick:()=>{g(!1),o("")},children:"Fechar"})]})]})}),s.jsx("button",{type:"submit",disabled:r,className:"w-full bg-church-primary text-white py-2 px-4 rounded-lg font-medium hover:bg-church-primary/90 focus:outline-none focus:ring-2 focus:ring-church-primary focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"Validando...":"Entrar com email"})]}),h&&s.jsxs("div",{className:"mt-8",children:[s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"emailLogin",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Email para receber o link"}),s.jsxs("div",{className:"relative",children:[s.jsx(nj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-jkd-text",size:18}),s.jsx("input",{id:"emailLogin",type:"email",required:!0,value:n,onChange:A=>a(A.target.value),className:"pl-10 w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text placeholder-jkd-text/60 focus:outline-none focus:ring-2 focus:ring-church-primary focus:border-transparent",placeholder:"seu@email.com"})]})]}),s.jsx("button",{type:"submit",disabled:r,className:"w-full bg-church-primary text-white py-2 px-4 rounded-lg font-medium hover:bg-church-primary/90 focus:outline-none focus:ring-2 focus:ring-church-primary focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"Enviando...":"Enviar link de acesso"}),s.jsx("p",{className:"mt-3 text-xs text-jkd-text",children:"Aps o link ser enviado verifique sua caixa de Entrada, ou considere pesquisar por Fonte News, o link de acesso talvez possa ir para a pasta de Promoes ou Spam."})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-jkd-border"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-jkd-bg-sec text-jkd-text",children:"ou"})})]}),s.jsxs("button",{onClick:b,disabled:r,className:"mt-4 w-full bg-white border border-jkd-border text-jkd-text py-2 px-4 rounded-lg font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-church-primary focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:[s.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{children:"Continuar com Google"})]})]})]}),s.jsxs("div",{className:"mt-6 p-4 rounded-lg border border-jkd-border bg-jkd-bg-sec",children:[s.jsx("h3",{className:"text-md font-semibold text-jkd-heading mb-2",children:"No tem autorizao?"}),s.jsx("p",{className:"text-sm text-jkd-text mb-3",children:"Se voc ainda no tem acesso, solicite autorizao preenchendo o formulrio."}),s.jsx(xt,{to:"/request-access",className:"inline-block px-4 py-2 rounded-md bg-church-primary text-white hover:bg-church-primary/90",children:"Solicitar Autorizao"})]})]}),s.jsx("div",{className:"text-center",children:s.jsx(xt,{to:"/",className:"text-church-primary hover:text-church-primary/80 font-medium",children:" Voltar para o incio"})})]})})},Lke=["aviso","evento","retiro","jantar","visita","evangelismo","audicao","curso","confraternizacao","jornada-vida"],XI="taxonomies";async function ss(t){try{const e=Et(we,XI),r=t?Er(e,Vr("type","==",t)):e;return(await hn(r)).docs.map(i=>({id:i.id,...i.data()})).sort((i,o)=>String(i.name||"").localeCompare(String(o.name||""),"pt-BR",{sensitivity:"base"}))}catch(e){return console.error("Erro ao listar taxonomias:",e),[]}}async function Uke(t,e){const r=Et(we,XI);return(await qa(r,{name:t.trim(),type:e})).id}async function Vke(t){const e=at(we,XI,t);await ha(e)}const zke=[{value:"all",label:"Todos os Tipos"},{value:"culto",label:"Cultos"},...Lke.map(t=>{const e=typeof t=="string"?t:"";return{value:t,label:e?(e.charAt(0).toUpperCase()+e.slice(1)).replace("-"," "):String(t)}})],Fke=()=>{const{announcements:t,cultos:e,getOccurrences:r,toggleVideoModal:n}=cr(),a=mn(),[i,o]=v.useState(new Date),[c,u]=v.useState(Ym(new Date)),[h,f]=v.useState("day"),[p,g]=v.useState("all"),[x,j]=v.useState([]),[w,b]=v.useState([]),[N,E]=v.useState(""),[A,O]=v.useState("");v.useEffect(()=>{(async()=>{const[U,$]=await Promise.all([ss("tema"),ss("topico")]);j(U),b($)})()},[]);const M=v.useMemo(()=>t.filter(R=>R.status==="approved"),[t]),{occurrencesInRange:L,rangeLabel:I}=v.useMemo(()=>{let R,U,$;switch(h){case"week":R=nf(i,{weekStartsOn:0}),U=LG(i,{weekStartsOn:0}),$=`Semana de ${Ar(R,"dd/MM")} a ${Ar(U,"dd/MM")}`;break;case"month":R=Ym(i),U=RG(i),$=Ar(i,"MMMM 'de' yyyy",{locale:Hs});break;case"year":R=oj(i),U=LT(i),$=Ar(i,"yyyy");break;case"day":default:R=wy(i),U=ije(i),$=Ar(i,"dd 'de' MMMM",{locale:Hs})}const K=M.flatMap(X=>r(X.rruleString,R,U).map(G=>({item:X,date:G,type:X.type}))),F=e.flatMap(X=>r(X.rruleString,R,U).map(G=>({item:X,date:G,type:"culto"})));return{occurrencesInRange:[...K,...F].filter(X=>{const B=p==="all"?!0:X.type===p,G=X.item,J=N?G.temaId===N:!0,ne=A?G.topicoId===A:!0;return B&&J&&ne}).sort((X,B)=>{const G=X.date instanceof Date?X.date.getTime():0,J=B.date instanceof Date?B.date.getTime():0;return G-J}),rangeLabel:$}},[M,e,i,r,h,p,N,A]),T=v.useMemo(()=>{const R=oj(c),U=LT(c),$=M.flatMap(F=>r(F.rruleString,R,U)),K=e.flatMap(F=>r(F.rruleString,R,U));return[...$,...K]},[M,e,c,r]),_=({date:R,view:U})=>U==="month"&&T.some(K=>DG(K,R))?s.jsx("div",{className:"absolute bottom-1.5 left-1/2 transform -translate-x-1/2 w-1.5 h-1.5 bg-church-primary rounded-full"}):null,D=R=>{o(R),f("day")},P=()=>{const R=new Date;o(R),u(Ym(R)),f("day")};return s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Cs,{className:"h-8 w-8 text-church-primary"}),s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Agenda de Programaes"})]}),s.jsx("p",{className:"text-jkd-text",children:"Visualize todas as programaes da igreja em um calendrio interativo."})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-6",children:[s.jsx("button",{onClick:P,className:"w-full mb-4 px-4 py-2 text-sm font-semibold rounded-lg bg-church-primary/10 text-church-primary hover:bg-church-primary/20 transition-colors",children:"Voltar para Hoje"}),s.jsx(vv,{onChange:R=>D(R),value:i,activeStartDate:c,onActiveStartDateChange:({activeStartDate:R})=>R&&u(R),locale:"pt-BR",tileContent:_,className:"w-full"})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-6",children:[s.jsxs("div",{className:"mb-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("h2",{className:"text-lg font-semibold text-jkd-heading",children:["Programaes para ",I]}),s.jsx("div",{className:"bg-jkd-bg border border-jkd-border rounded-lg p-1 flex items-center space-x-1",children:["day","week","month","year"].map(R=>s.jsx("button",{onClick:()=>f(R),className:`px-3 py-1 text-sm rounded-md transition-colors ${h===R?"bg-church-primary text-white":"text-jkd-text hover:bg-jkd-border"}`,children:R==="day"?"Dia":R==="week"?"Semana":R==="month"?"Ms":"Ano"},R))})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-2",children:[s.jsx("select",{value:p,onChange:R=>g(R.target.value),className:"bg-jkd-bg border border-jkd-border rounded-lg p-2 text-sm text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",children:zke.map(R=>s.jsx("option",{value:R.value,children:R.label},R.value))}),s.jsxs("select",{value:N,onChange:R=>E(R.target.value),className:"bg-jkd-bg border border-jkd-border rounded-lg p-2 text-sm text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",children:[s.jsx("option",{value:"",children:"Tema: Todos"}),x.map(R=>s.jsx("option",{value:R.id,children:R.name},R.id))]}),s.jsxs("select",{value:A,onChange:R=>O(R.target.value),className:"bg-jkd-bg border border-jkd-border rounded-lg p-2 text-sm text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",children:[s.jsx("option",{value:"",children:"Tpico: Todos"}),w.map(R=>s.jsx("option",{value:R.id,children:R.name},R.id))]})]})]}),s.jsx("div",{className:"space-y-4",children:L.length>0?L.map(({item:R,date:U,type:$},K)=>$==="culto"?s.jsxs("div",{className:"bg-jkd-bg rounded-lg border border-jkd-border p-4 flex items-center gap-4 relative",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-church-primary/10 flex items-center justify-center",children:s.jsx(rf,{size:20,className:"text-church-primary"})}),s.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>a(`/culto/${R.id}`),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-semibold text-jkd-heading",children:R.title}),R.isLive&&s.jsx("a",{href:"#",onClick:F=>F.stopPropagation(),"aria-label":"Transmisso ao vivo",className:"inline-flex items-center rounded-full bg-red-600 text-white shadow px-2 py-0.5 text-xs font-semibold hover:bg-red-700",children:"Transmisso Ao Vivo"})]}),s.jsxs("p",{className:"text-sm text-jkd-text line-clamp-3 break-anywhere",children:[`${Ar(U,"dd/MM/yy 's' HH:mm",{locale:Hs})}${R!=null&&R.endTime?"  "+R.endTime:""}`," - ",R.description]}),s.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[(R==null?void 0:R.temaName)&&s.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs bg-jkd-bg border border-jkd-border text-jkd-text",children:["Tema: ",R.temaName]}),(R==null?void 0:R.topicoName)&&s.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs bg-jkd-bg border border-jkd-border text-jkd-text",children:["Tpico: ",R.topicoName]})]})]}),R.videoUrl&&s.jsx("button",{type:"button",onClick:()=>{const F=/youtube\.com|youtu\.be/.test(R.videoUrl||"");n(!0,{enabled:!0,sourceType:F?"youtube":"direct",url:R.videoUrl||""})},className:"absolute top-3 right-3 inline-flex items-center justify-center w-8 h-8 rounded-md bg-red-600 text-white shadow hover:bg-red-700","aria-label":"Assistir vdeo",children:s.jsx(ka,{className:"h-4 w-4"})})]},`${R.id}-${K}`):s.jsx(af,{announcement:R},`${R.id}-${U.toISOString()}`)):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Cs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-jkd-text mb-2",children:"Nenhuma programao para este perodo/filtro."})]})})]})})]})]})})},$ke=()=>{const{cultos:t,settings:e,getOccurrences:r}=cr(),n=mn(),a=v.useMemo(()=>{const c=new Date,u=new Date;return u.setMonth(c.getMonth()+2),t.flatMap(h=>r(h.rruleString,c,u).slice(0,4).map(p=>({...h,date:p}))).sort((h,f)=>{const p=h.date instanceof Date?h.date.getTime():0,g=f.date instanceof Date?f.date.getTime():0;return p-g})},[t,r]),[i,o]=v.useState(null);return s.jsxs("div",{className:"min-h-screen bg-jkd-bg py-8",children:[s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx("img",{src:e.cultosLogoUrl,alt:"Logo Cultos",className:"h-20 w-auto mx-auto mb-4 object-contain",onError:c=>{const u=c.target;u.src="https://via.placeholder.com/200x80/ff652c/ffffff?text=CULTOS"}}),s.jsx("h1",{className:"text-4xl font-bold text-jkd-heading",children:"Nossos Cultos"}),s.jsx("p",{className:"text-jkd-text mt-2 text-lg",children:"Participe conosco! Veja os horrios dos nossos cultos regulares."})]}),s.jsx("div",{className:"space-y-6",children:a.length>0?a.map((c,u)=>s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border overflow-hidden flex flex-col sm:flex-row items-stretch",children:[c.image&&s.jsxs("div",{className:"sm:w-1/3 flex-shrink-0 relative group cursor-zoom-in",onClick:()=>o(c.image),children:[s.jsx("img",{src:c.image,alt:c.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors"}),s.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsxs("span",{className:"inline-flex items-center rounded-full bg-white/90 text-jkd-heading shadow px-2 py-1 text-xs font-medium",children:[s.jsx(wG,{className:"h-3.5 w-3.5 mr-1"}),"Expandir"]})})]}),s.jsxs("div",{className:"p-6 flex-grow flex flex-col sm:flex-row items-start gap-6",children:[s.jsxs("div",{className:"flex-shrink-0 text-center bg-church-primary/10 text-church-primary rounded-lg p-4 w-full sm:w-auto",children:[s.jsx("p",{className:"text-sm font-bold uppercase",children:Ar(c.date,"MMM",{locale:Hs})}),s.jsx("p",{className:"text-3xl font-bold",children:Ar(c.date,"dd")}),s.jsx("p",{className:"text-xs",children:Ar(c.date,"yyyy")})]}),s.jsxs("div",{className:"flex-grow cursor-pointer",onClick:()=>n(`/culto/${c.id}`),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:c.title}),c.isLive&&s.jsx("a",{href:"#",onClick:h=>h.stopPropagation(),"aria-label":"Transmisso ao vivo",className:"inline-flex items-center rounded-full bg-red-600 text-white shadow px-2 py-0.5 text-xs font-semibold hover:bg-red-700",children:"Transmisso Ao Vivo"})]}),s.jsx("p",{className:"text-jkd-text mt-1 line-clamp-3 break-anywhere",children:c.description}),(c==null?void 0:c.temaName)&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:s.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs bg-jkd-bg border border-jkd-border text-jkd-text",children:["Tema: ",c.temaName]})}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-x-4 gap-y-2 text-sm text-jkd-text",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Cs,{size:14}),s.jsx("span",{children:Ar(c.date,"EEEE",{locale:Hs})})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(kf,{size:14}),s.jsxs("span",{children:[Ar(c.date,"HH:mm"),c!=null&&c.endTime?`  ${c.endTime}`:""]})]})]})]})]})]},`${c.id}-${u}`)):s.jsxs("div",{className:"text-center py-12 bg-jkd-bg-sec rounded-lg border border-jkd-border",children:[s.jsx(rf,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-jkd-text",children:"Nenhum culto agendado no momento."})]})})]}),i&&s.jsx(BG,{src:i,alt:"Imagem do Culto",onClose:()=>o(null)})]})},Bke=()=>{const{user:t}=xr(),{announcements:e,deleteAnnouncement:r,showConfirmation:n,getOccurrences:a}=cr(),i=mn(),o=pi(),[c,u]=v.useState("todos"),[h,f]=v.useState("announcements"),[p,g]=v.useState("aberto"),[x,j]=v.useState(Date.now()),[w,b]=v.useState(0),[N,E]=v.useState(!1),[A,O]=v.useState(null);if(v.useEffect(()=>{const K=new URLSearchParams(o.search).get("tab");K==="chat"&&f("chat"),K==="announcements"&&f("announcements")},[o.search]),v.useEffect(()=>{const $=window.setInterval(()=>j(Date.now()),3e4);return()=>clearInterval($)},[]),v.useEffect(()=>{if(!(t!=null&&t.id))return;const $=Et(we,"chats"),K=Er($,Vr("participants","array-contains",t.id)),F=Gn(K,async W=>{const te=[];W.forEach(X=>{var se;const B=X.data(),J=(B.participants||[]).find(je=>je!==t.id),ne=(se=B.lastViewed)==null?void 0:se[t.id],ie=ne!=null&&ne.toDate?ne.toDate():ne instanceof Date?ne:void 0;J&&te.push((async()=>{try{const je=Et(we,"chats",X.id,"messages"),Pe=ie?Er(je,Vr("senderId","==",J),Vr("createdAt",">",ie)):Er(je,Vr("senderId","==",J));return((await B1(Pe)).data().count||0)>0}catch{return!1}})())});try{const B=(await Promise.all(te)).filter(Boolean).length;if(A)try{clearTimeout(A)}catch{}if(b(B),B>0){const G=window.setTimeout(()=>{E(!0)},5e3);O(G)}else E(!1),O(null)}catch{b(0),E(!1)}});return()=>{try{F()}catch{}}},[t==null?void 0:t.id]),!t)return s.jsx(pl,{to:"/login",replace:!0});const M=e.filter($=>t.role==="admin"?!0:$.authorId===t.id).sort(($,K)=>{const F=$.createdAt instanceof Date?$.createdAt.getTime():0;return(K.createdAt instanceof Date?K.createdAt.getTime():0)-F}),L=M.filter($=>c==="todos"?!0:c==="avisos"?$.type==="aviso":c==="eventos"?$.type!=="aviso":!0),{openAnnouncements:I,expiredAnnouncements:T,counts:_}=v.useMemo(()=>{const $=new Date,K=new Date($.getFullYear(),$.getMonth(),$.getDate(),0,0,0,0),F=new Date($.getFullYear(),$.getMonth(),$.getDate(),23,59,59,999),W=new Date($.getFullYear()+1,$.getMonth(),$.getDate()),te=ne=>a(ne.rruleString,$,W).length>0,X=ne=>{var oe;if(!ne.endTime)return!1;const ie=a(ne.rruleString,K,F);if(ie.length===0)return!1;let se=ie[0],je=!1;try{const Y=(oe=Je.fromString(ne.rruleString).options)==null?void 0:oe.dtstart;if(Y){const fe=Y.getHours(),ee=Y.getMinutes();je=fe+ee>0,je&&(se=new Date(se),se.setHours(fe||0,ee||0,0,0))}}catch{}if(!je)return!1;const[Pe,ue]=ne.endTime.split(":").map(Number),ae=new Date(se);return ae.setHours(Pe||0,ue||0,0,0),se<=$&&ae>=$},B=L.filter(ne=>ne.status==="approved"),G=B.filter(ne=>te(ne)||X(ne)),J=B.filter(ne=>!(te(ne)||X(ne)));return{openAnnouncements:G,expiredAnnouncements:J,counts:{open:G.length,expired:J.length}}},[L,a,x]),D=$=>{n("Confirmar Excluso","Tem certeza que deseja excluir esta programao? A ao no pode ser desfeita.",()=>r($))},{showToast:P}=Da(),R=$=>{if(($==null?void 0:$.status)==="rejected"){P("warning","Programaes Rejeitadas no podero ser Restauradas");return}i(`/edit-announcement/${$.id}`)},U=({tabName:$,label:K,icon:F,count:W})=>s.jsxs("button",{onClick:()=>{f($),i({pathname:o.pathname,search:`?tab=${$}`})},className:`flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-md transition-colors w-full text-left ${h===$?"bg-church-primary/10 text-church-primary":"text-jkd-text hover:bg-jkd-bg-sec"}`,children:[F,s.jsx("span",{children:K}),W!==void 0&&W>0&&s.jsx("span",{className:"ml-auto inline-flex items-center justify-center h-2 w-2 rounded-full bg-red-500 animate-pulse","aria-label":`Novas mensagens: ${W}`})]});return s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(MT,{className:"h-8 w-8 text-church-primary"}),s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Painel de Controle"})]}),s.jsx("p",{className:"text-jkd-text mt-1",children:"Gerencie suas programaes e mensagens."})]}),h==="announcements"&&s.jsx("div",{className:"flex gap-2",children:s.jsxs(xt,{to:"/new-programacao2",className:"inline-flex items-center space-x-2 bg-church-primary text-white px-4 py-2 rounded-lg font-semibold hover:bg-church-primary/90 transition-colors shadow-sm hover:shadow-md",children:[s.jsx(vl,{size:20}),s.jsx("span",{children:"Nova Programao"})]})})]})}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-500/30 text-blue-800 dark:text-blue-300 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(To,{size:20,className:"flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Lgica de Limpeza Automtica"}),s.jsx("p",{className:"text-sm",children:"Para manter o sistema organizado, itens no recorrentes so automaticamente apagados 30 dias aps sua data de ocorrncia."})]})]}),s.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-500/30 text-orange-800 dark:text-orange-300 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Is,{size:20,className:"flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Limite de Imagem"}),s.jsxs("p",{className:"text-sm",children:["Para garantir o bom desempenho, o tamanho mximo para qualquer imagem  de ",s.jsx("strong",{children:"5MB"}),"."]})]})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsxs("aside",{className:"lg:w-1/4",children:[s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-4 space-y-2 mb-6",children:[s.jsx(U,{tabName:"announcements",label:"Programaes",icon:s.jsx(Cs,{size:16})}),s.jsxs(xt,{to:"/chat",className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-md transition-colors w-full text-left text-jkd-text hover:bg-jkd-bg-sec",children:[s.jsx(nc,{size:16}),s.jsx("span",{children:"Lder-Chat"}),N&&w>0&&s.jsx("span",{className:"ml-auto inline-flex items-center justify-center h-2 w-2 rounded-full bg-red-500 animate-pulse","aria-label":`Novas mensagens: ${w}`})]}),s.jsxs(xt,{to:"/galeria",className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-md transition-colors w-full text-left text-jkd-text hover:bg-jkd-bg-sec",children:[s.jsx(Is,{size:16}),s.jsx("span",{children:"Galeria"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg p-4 border border-jkd-border text-center",children:[s.jsx("p",{className:"text-sm font-medium text-jkd-text",children:"Pendentes"}),s.jsx("p",{className:"text-2xl font-bold text-jkd-heading",children:M.filter($=>$.status==="pending").length})]}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg p-4 border border-jkd-border text-center",children:[s.jsx("p",{className:"text-sm font-medium text-jkd-text",children:"Aprovados"}),s.jsx("p",{className:"text-2xl font-bold text-jkd-heading",children:(()=>{const $=new Date,K=new Date($.getFullYear(),$.getMonth(),$.getDate(),0,0,0,0),F=new Date($.getFullYear(),$.getMonth(),$.getDate(),23,59,59,999),W=new Date($.getFullYear()+1,$.getMonth(),$.getDate()),te=B=>a(B.rruleString,$,W).length>0,X=B=>{if(!B.endTime)return!1;const G=a(B.rruleString,K,F);if(G.length===0)return!1;const J=G[0],[ne,ie]=B.endTime.split(":").map(Number),se=new Date(J);return se.setHours(ne||0,ie||0,0,0),J<=$&&se>=$};return M.filter(B=>B.status==="approved"&&(te(B)||X(B))).length})()})]})]})]}),s.jsx("main",{className:"lg:w-3/4",children:h==="announcements"&&s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border",children:[s.jsx("div",{className:"p-6 border-b border-jkd-border",children:s.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Minhas Programaes"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(o0e,{className:"h-4 w-4 text-jkd-text"}),s.jsxs("select",{value:c,onChange:$=>u($.target.value),className:"bg-jkd-bg border border-jkd-border rounded-md px-3 py-1 text-sm text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",children:[s.jsx("option",{value:"todos",children:"Todos"}),s.jsx("option",{value:"eventos",children:"Eventos e Outros"}),s.jsx("option",{value:"avisos",children:"Avisos"})]})]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs("button",{className:`px-3 py-1.5 rounded-md text-sm font-medium border ${p==="aberto"?"bg-church-primary text-white border-church-primary":"bg-jkd-bg border-jkd-border text-jkd-text hover:bg-jkd-bg-sec"}`,onClick:()=>g("aberto"),children:["Aberto (",_.open,")"]}),s.jsxs("button",{className:`px-3 py-1.5 rounded-md text-sm font-medium border ${p==="expirado"?"bg-church-primary text-white border-church-primary":"bg-jkd-bg border-jkd-border text-jkd-text hover:bg-jkd-bg-sec"}`,onClick:()=>g("expirado"),children:["Expirado (",_.expired,")"]}),s.jsxs("button",{className:`px-3 py-1.5 rounded-md text-sm font-medium border ${p==="rejeitado"?"bg-church-primary text-white border-church-primary":"bg-jkd-bg border-jkd-border text-jkd-text hover:bg-jkd-bg-sec"}`,onClick:()=>g("rejeitado"),children:["Rejeitado (",L.filter($=>$.status==="rejected").length,")"]})]}),p==="expirado"&&s.jsxs("div",{className:"mb-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-500/30 text-amber-800 dark:text-amber-300 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(To,{size:20,className:"flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Aviso sobre Programaes Expiradas"}),s.jsx("p",{className:"text-sm",children:"Por integridade dos registros, programaes expiradas que forem restauradas alterando a data para uma nova data a vencer, sero encaminhadas para nova aprovao na rea Administrativa. Para agilizar o processo  recomendado enviar uma mensagem pelo chat ao Administrador alertando sobre programaes restauradas."})]})]}),p==="rejeitado"&&s.jsxs("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-500/30 text-red-800 dark:text-red-300 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(To,{size:20,className:"flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Aviso sobre Programaes Rejeitadas"}),s.jsx("p",{className:"text-sm",children:"Programaes rejeitadas no podem ser restauradas."})]})]}),(()=>{const $=p==="aberto"?I:p==="expirado"?T:L.filter(K=>K.status==="rejected");return $.length>0?s.jsx("div",{className:"space-y-6",children:$.map(K=>{var G;const F=new Date,W=new Date(F.getFullYear(),F.getMonth(),F.getDate(),0,0,0,0),te=new Date(F.getFullYear(),F.getMonth(),F.getDate(),23,59,59,999),X=a(K.rruleString,W,te);let B=!1;if(K.endTime&&X.length>0){let J=X[0],ne=!1;try{const se=(G=Je.fromString(K.rruleString).options)==null?void 0:G.dtstart;if(se){const je=se.getHours(),Pe=se.getMinutes();ne=je+Pe>0,ne&&(J=new Date(J),J.setHours(je||0,Pe||0,0,0))}}catch{}if(ne){const[ie,se]=K.endTime.split(":").map(Number),je=new Date(J);je.setHours(ie||0,se||0,0,0),B=J<=F&&je>=F}else B=!1}return s.jsx(af,{announcement:K,showActions:!0,onEdit:R,onDelete:D,inProgress:B},K.id)})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(tf,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-jkd-text",children:p==="aberto"?"Nenhuma programao aberta.":p==="expirado"?"Nenhuma programao expirada.":"Nenhuma programao rejeitada."})]})})()]})]})})]})]})})};/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:vY,setPrototypeOf:p8,isFrozen:qke,getPrototypeOf:Hke,getOwnPropertyDescriptor:Wke}=Object;let{freeze:fi,seal:Ro,create:t_}=Object,{apply:r_,construct:n_}=typeof Reflect<"u"&&Reflect;fi||(fi=function(e){return e});Ro||(Ro=function(e){return e});r_||(r_=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return e.apply(r,a)});n_||(n_=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return new e(...n)});const h0=mi(Array.prototype.forEach),Gke=mi(Array.prototype.lastIndexOf),g8=mi(Array.prototype.pop),ex=mi(Array.prototype.push),Yke=mi(Array.prototype.splice),d1=mi(String.prototype.toLowerCase),AS=mi(String.prototype.toString),TS=mi(String.prototype.match),tx=mi(String.prototype.replace),Kke=mi(String.prototype.indexOf),Xke=mi(String.prototype.trim),tl=mi(Object.prototype.hasOwnProperty),ni=mi(RegExp.prototype.test),rx=Qke(TypeError);function mi(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return r_(t,e,n)}}function Qke(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return n_(t,r)}}function Or(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d1;p8&&p8(t,null);let n=e.length;for(;n--;){let a=e[n];if(typeof a=="string"){const i=r(a);i!==a&&(qke(e)||(e[n]=i),a=i)}t[a]=!0}return t}function Zke(t){for(let e=0;e<t.length;e++)tl(t,e)||(t[e]=null);return t}function Rc(t){const e=t_(null);for(const[r,n]of vY(t))tl(t,r)&&(Array.isArray(n)?e[r]=Zke(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=Rc(n):e[r]=n);return e}function nx(t,e){for(;t!==null;){const n=Wke(t,e);if(n){if(n.get)return mi(n.get);if(typeof n.value=="function")return mi(n.value)}t=Hke(t)}function r(){return null}return r}const x8=fi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_S=fi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),CS=fi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Jke=fi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),IS=fi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),eNe=fi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),y8=fi(["#text"]),v8=fi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),OS=fi(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),b8=fi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),f0=fi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),tNe=Ro(/\{\{[\w\W]*|[\w\W]*\}\}/gm),rNe=Ro(/<%[\w\W]*|[\w\W]*%>/gm),nNe=Ro(/\$\{[\w\W]*/gm),aNe=Ro(/^data-[\-\w.\u00B7-\uFFFF]+$/),sNe=Ro(/^aria-[\-\w]+$/),bY=Ro(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),iNe=Ro(/^(?:\w+script|data):/i),oNe=Ro(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),jY=Ro(/^html$/i),lNe=Ro(/^[a-z][.\w]*(-[.\w]+)+$/i);var j8=Object.freeze({__proto__:null,ARIA_ATTR:sNe,ATTR_WHITESPACE:oNe,CUSTOM_ELEMENT:lNe,DATA_ATTR:aNe,DOCTYPE_NAME:jY,ERB_EXPR:rNe,IS_ALLOWED_URI:bY,IS_SCRIPT_OR_DATA:iNe,MUSTACHE_EXPR:tNe,TMPLIT_EXPR:nNe});const ax={element:1,text:3,progressingInstruction:7,comment:8,document:9},cNe=function(){return typeof window>"u"?null:window},uNe=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const a="data-tt-policy-suffix";r&&r.hasAttribute(a)&&(n=r.getAttribute(a));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},w8=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function wY(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cNe();const e=pt=>wY(pt);if(e.version="3.3.0",e.removed=[],!t||!t.document||t.document.nodeType!==ax.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,a=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:c,Element:u,NodeFilter:h,NamedNodeMap:f=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:g,trustedTypes:x}=t,j=u.prototype,w=nx(j,"cloneNode"),b=nx(j,"remove"),N=nx(j,"nextSibling"),E=nx(j,"childNodes"),A=nx(j,"parentNode");if(typeof o=="function"){const pt=r.createElement("template");pt.content&&pt.content.ownerDocument&&(r=pt.content.ownerDocument)}let O,M="";const{implementation:L,createNodeIterator:I,createDocumentFragment:T,getElementsByTagName:_}=r,{importNode:D}=n;let P=w8();e.isSupported=typeof vY=="function"&&typeof A=="function"&&L&&L.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:R,ERB_EXPR:U,TMPLIT_EXPR:$,DATA_ATTR:K,ARIA_ATTR:F,IS_SCRIPT_OR_DATA:W,ATTR_WHITESPACE:te,CUSTOM_ELEMENT:X}=j8;let{IS_ALLOWED_URI:B}=j8,G=null;const J=Or({},[...x8,..._S,...CS,...IS,...y8]);let ne=null;const ie=Or({},[...v8,...OS,...b8,...f0]);let se=Object.seal(t_(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),je=null,Pe=null;const ue=Object.seal(t_(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ae=!0,oe=!0,ve=!1,Y=!0,fe=!1,ee=!0,ye=!1,Oe=!1,We=!1,it=!1,ut=!1,At=!1,wt=!0,st=!1;const Ce="user-content-";let Ve=!0,Qe=!1,rt={},ot=null;const gt=Or({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ht=null;const Dt=Or({},["audio","video","img","source","image","track"]);let qt=null;const Rt=Or({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xt="http://www.w3.org/1998/Math/MathML",Qt="http://www.w3.org/2000/svg",pe="http://www.w3.org/1999/xhtml";let ge=pe,he=!1,Te=null;const De=Or({},[Xt,Qt,pe],AS);let nt=Or({},["mi","mo","mn","ms","mtext"]),bt=Or({},["annotation-xml"]);const kt=Or({},["title","style","font","a","script"]);let $e=null;const dt=["application/xhtml+xml","text/html"],Tt="text/html";let Ge=null,Ct=null;const sr=r.createElement("form"),fr=function(de){return de instanceof RegExp||de instanceof Function},St=function(){let de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ct&&Ct===de)){if((!de||typeof de!="object")&&(de={}),de=Rc(de),$e=dt.indexOf(de.PARSER_MEDIA_TYPE)===-1?Tt:de.PARSER_MEDIA_TYPE,Ge=$e==="application/xhtml+xml"?AS:d1,G=tl(de,"ALLOWED_TAGS")?Or({},de.ALLOWED_TAGS,Ge):J,ne=tl(de,"ALLOWED_ATTR")?Or({},de.ALLOWED_ATTR,Ge):ie,Te=tl(de,"ALLOWED_NAMESPACES")?Or({},de.ALLOWED_NAMESPACES,AS):De,qt=tl(de,"ADD_URI_SAFE_ATTR")?Or(Rc(Rt),de.ADD_URI_SAFE_ATTR,Ge):Rt,ht=tl(de,"ADD_DATA_URI_TAGS")?Or(Rc(Dt),de.ADD_DATA_URI_TAGS,Ge):Dt,ot=tl(de,"FORBID_CONTENTS")?Or({},de.FORBID_CONTENTS,Ge):gt,je=tl(de,"FORBID_TAGS")?Or({},de.FORBID_TAGS,Ge):Rc({}),Pe=tl(de,"FORBID_ATTR")?Or({},de.FORBID_ATTR,Ge):Rc({}),rt=tl(de,"USE_PROFILES")?de.USE_PROFILES:!1,ae=de.ALLOW_ARIA_ATTR!==!1,oe=de.ALLOW_DATA_ATTR!==!1,ve=de.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=de.ALLOW_SELF_CLOSE_IN_ATTR!==!1,fe=de.SAFE_FOR_TEMPLATES||!1,ee=de.SAFE_FOR_XML!==!1,ye=de.WHOLE_DOCUMENT||!1,it=de.RETURN_DOM||!1,ut=de.RETURN_DOM_FRAGMENT||!1,At=de.RETURN_TRUSTED_TYPE||!1,We=de.FORCE_BODY||!1,wt=de.SANITIZE_DOM!==!1,st=de.SANITIZE_NAMED_PROPS||!1,Ve=de.KEEP_CONTENT!==!1,Qe=de.IN_PLACE||!1,B=de.ALLOWED_URI_REGEXP||bY,ge=de.NAMESPACE||pe,nt=de.MATHML_TEXT_INTEGRATION_POINTS||nt,bt=de.HTML_INTEGRATION_POINTS||bt,se=de.CUSTOM_ELEMENT_HANDLING||{},de.CUSTOM_ELEMENT_HANDLING&&fr(de.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(se.tagNameCheck=de.CUSTOM_ELEMENT_HANDLING.tagNameCheck),de.CUSTOM_ELEMENT_HANDLING&&fr(de.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(se.attributeNameCheck=de.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),de.CUSTOM_ELEMENT_HANDLING&&typeof de.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(se.allowCustomizedBuiltInElements=de.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),fe&&(oe=!1),ut&&(it=!0),rt&&(G=Or({},y8),ne=[],rt.html===!0&&(Or(G,x8),Or(ne,v8)),rt.svg===!0&&(Or(G,_S),Or(ne,OS),Or(ne,f0)),rt.svgFilters===!0&&(Or(G,CS),Or(ne,OS),Or(ne,f0)),rt.mathMl===!0&&(Or(G,IS),Or(ne,b8),Or(ne,f0))),de.ADD_TAGS&&(typeof de.ADD_TAGS=="function"?ue.tagCheck=de.ADD_TAGS:(G===J&&(G=Rc(G)),Or(G,de.ADD_TAGS,Ge))),de.ADD_ATTR&&(typeof de.ADD_ATTR=="function"?ue.attributeCheck=de.ADD_ATTR:(ne===ie&&(ne=Rc(ne)),Or(ne,de.ADD_ATTR,Ge))),de.ADD_URI_SAFE_ATTR&&Or(qt,de.ADD_URI_SAFE_ATTR,Ge),de.FORBID_CONTENTS&&(ot===gt&&(ot=Rc(ot)),Or(ot,de.FORBID_CONTENTS,Ge)),Ve&&(G["#text"]=!0),ye&&Or(G,["html","head","body"]),G.table&&(Or(G,["tbody"]),delete je.tbody),de.TRUSTED_TYPES_POLICY){if(typeof de.TRUSTED_TYPES_POLICY.createHTML!="function")throw rx('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof de.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw rx('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');O=de.TRUSTED_TYPES_POLICY,M=O.createHTML("")}else O===void 0&&(O=uNe(x,a)),O!==null&&typeof M=="string"&&(M=O.createHTML(""));fi&&fi(de),Ct=de}},Se=Or({},[..._S,...CS,...Jke]),lt=Or({},[...IS,...eNe]),ir=function(de){let Fe=A(de);(!Fe||!Fe.tagName)&&(Fe={namespaceURI:ge,tagName:"template"});const vt=d1(de.tagName),yr=d1(Fe.tagName);return Te[de.namespaceURI]?de.namespaceURI===Qt?Fe.namespaceURI===pe?vt==="svg":Fe.namespaceURI===Xt?vt==="svg"&&(yr==="annotation-xml"||nt[yr]):!!Se[vt]:de.namespaceURI===Xt?Fe.namespaceURI===pe?vt==="math":Fe.namespaceURI===Qt?vt==="math"&&bt[yr]:!!lt[vt]:de.namespaceURI===pe?Fe.namespaceURI===Qt&&!bt[yr]||Fe.namespaceURI===Xt&&!nt[yr]?!1:!lt[vt]&&(kt[vt]||!Se[vt]):!!($e==="application/xhtml+xml"&&Te[de.namespaceURI]):!1},Gt=function(de){ex(e.removed,{element:de});try{A(de).removeChild(de)}catch{b(de)}},kr=function(de,Fe){try{ex(e.removed,{attribute:Fe.getAttributeNode(de),from:Fe})}catch{ex(e.removed,{attribute:null,from:Fe})}if(Fe.removeAttribute(de),de==="is")if(it||ut)try{Gt(Fe)}catch{}else try{Fe.setAttribute(de,"")}catch{}},Fr=function(de){let Fe=null,vt=null;if(We)de="<remove></remove>"+de;else{const en=TS(de,/^[\r\n\t ]+/);vt=en&&en[0]}$e==="application/xhtml+xml"&&ge===pe&&(de='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+de+"</body></html>");const yr=O?O.createHTML(de):de;if(ge===pe)try{Fe=new g().parseFromString(yr,$e)}catch{}if(!Fe||!Fe.documentElement){Fe=L.createDocument(ge,"template",null);try{Fe.documentElement.innerHTML=he?M:yr}catch{}}const an=Fe.body||Fe.documentElement;return de&&vt&&an.insertBefore(r.createTextNode(vt),an.childNodes[0]||null),ge===pe?_.call(Fe,ye?"html":"body")[0]:ye?Fe.documentElement:an},Pn=function(de){return I.call(de.ownerDocument||de,de,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},Nn=function(de){return de instanceof p&&(typeof de.nodeName!="string"||typeof de.textContent!="string"||typeof de.removeChild!="function"||!(de.attributes instanceof f)||typeof de.removeAttribute!="function"||typeof de.setAttribute!="function"||typeof de.namespaceURI!="string"||typeof de.insertBefore!="function"||typeof de.hasChildNodes!="function")},Ln=function(de){return typeof c=="function"&&de instanceof c};function pn(pt,de,Fe){h0(pt,vt=>{vt.call(e,de,Fe,Ct)})}const Un=function(de){let Fe=null;if(pn(P.beforeSanitizeElements,de,null),Nn(de))return Gt(de),!0;const vt=Ge(de.nodeName);if(pn(P.uponSanitizeElement,de,{tagName:vt,allowedTags:G}),ee&&de.hasChildNodes()&&!Ln(de.firstElementChild)&&ni(/<[/\w!]/g,de.innerHTML)&&ni(/<[/\w!]/g,de.textContent)||de.nodeType===ax.progressingInstruction||ee&&de.nodeType===ax.comment&&ni(/<[/\w]/g,de.data))return Gt(de),!0;if(!(ue.tagCheck instanceof Function&&ue.tagCheck(vt))&&(!G[vt]||je[vt])){if(!je[vt]&&pr(vt)&&(se.tagNameCheck instanceof RegExp&&ni(se.tagNameCheck,vt)||se.tagNameCheck instanceof Function&&se.tagNameCheck(vt)))return!1;if(Ve&&!ot[vt]){const yr=A(de)||de.parentNode,an=E(de)||de.childNodes;if(an&&yr){const en=an.length;for(let sn=en-1;sn>=0;--sn){const me=w(an[sn],!0);me.__removalCount=(de.__removalCount||0)+1,yr.insertBefore(me,N(de))}}}return Gt(de),!0}return de instanceof u&&!ir(de)||(vt==="noscript"||vt==="noembed"||vt==="noframes")&&ni(/<\/no(script|embed|frames)/i,de.innerHTML)?(Gt(de),!0):(fe&&de.nodeType===ax.text&&(Fe=de.textContent,h0([R,U,$],yr=>{Fe=tx(Fe,yr," ")}),de.textContent!==Fe&&(ex(e.removed,{element:de.cloneNode()}),de.textContent=Fe)),pn(P.afterSanitizeElements,de,null),!1)},Ot=function(de,Fe,vt){if(wt&&(Fe==="id"||Fe==="name")&&(vt in r||vt in sr))return!1;if(!(oe&&!Pe[Fe]&&ni(K,Fe))){if(!(ae&&ni(F,Fe))){if(!(ue.attributeCheck instanceof Function&&ue.attributeCheck(Fe,de))){if(!ne[Fe]||Pe[Fe]){if(!(pr(de)&&(se.tagNameCheck instanceof RegExp&&ni(se.tagNameCheck,de)||se.tagNameCheck instanceof Function&&se.tagNameCheck(de))&&(se.attributeNameCheck instanceof RegExp&&ni(se.attributeNameCheck,Fe)||se.attributeNameCheck instanceof Function&&se.attributeNameCheck(Fe,de))||Fe==="is"&&se.allowCustomizedBuiltInElements&&(se.tagNameCheck instanceof RegExp&&ni(se.tagNameCheck,vt)||se.tagNameCheck instanceof Function&&se.tagNameCheck(vt))))return!1}else if(!qt[Fe]){if(!ni(B,tx(vt,te,""))){if(!((Fe==="src"||Fe==="xlink:href"||Fe==="href")&&de!=="script"&&Kke(vt,"data:")===0&&ht[de])){if(!(ve&&!ni(W,tx(vt,te,"")))){if(vt)return!1}}}}}}}return!0},pr=function(de){return de!=="annotation-xml"&&TS(de,X)},Jt=function(de){pn(P.beforeSanitizeAttributes,de,null);const{attributes:Fe}=de;if(!Fe||Nn(de))return;const vt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ne,forceKeepAttr:void 0};let yr=Fe.length;for(;yr--;){const an=Fe[yr],{name:en,namespaceURI:sn,value:me}=an,Ye=Ge(en),et=me;let Be=en==="value"?et:Xke(et);if(vt.attrName=Ye,vt.attrValue=Be,vt.keepAttr=!0,vt.forceKeepAttr=void 0,pn(P.uponSanitizeAttribute,de,vt),Be=vt.attrValue,st&&(Ye==="id"||Ye==="name")&&(kr(en,de),Be=Ce+Be),ee&&ni(/((--!?|])>)|<\/(style|title|textarea)/i,Be)){kr(en,de);continue}if(Ye==="attributename"&&TS(Be,"href")){kr(en,de);continue}if(vt.forceKeepAttr)continue;if(!vt.keepAttr){kr(en,de);continue}if(!Y&&ni(/\/>/i,Be)){kr(en,de);continue}fe&&h0([R,U,$],Ue=>{Be=tx(Be,Ue," ")});const Ze=Ge(de.nodeName);if(!Ot(Ze,Ye,Be)){kr(en,de);continue}if(O&&typeof x=="object"&&typeof x.getAttributeType=="function"&&!sn)switch(x.getAttributeType(Ze,Ye)){case"TrustedHTML":{Be=O.createHTML(Be);break}case"TrustedScriptURL":{Be=O.createScriptURL(Be);break}}if(Be!==et)try{sn?de.setAttributeNS(sn,en,Be):de.setAttribute(en,Be),Nn(de)?Gt(de):g8(e.removed)}catch{kr(en,de)}}pn(P.afterSanitizeAttributes,de,null)},Sn=function pt(de){let Fe=null;const vt=Pn(de);for(pn(P.beforeSanitizeShadowDOM,de,null);Fe=vt.nextNode();)pn(P.uponSanitizeShadowNode,Fe,null),Un(Fe),Jt(Fe),Fe.content instanceof i&&pt(Fe.content);pn(P.afterSanitizeShadowDOM,de,null)};return e.sanitize=function(pt){let de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=null,vt=null,yr=null,an=null;if(he=!pt,he&&(pt="<!-->"),typeof pt!="string"&&!Ln(pt))if(typeof pt.toString=="function"){if(pt=pt.toString(),typeof pt!="string")throw rx("dirty is not a string, aborting")}else throw rx("toString is not a function");if(!e.isSupported)return pt;if(Oe||St(de),e.removed=[],typeof pt=="string"&&(Qe=!1),Qe){if(pt.nodeName){const me=Ge(pt.nodeName);if(!G[me]||je[me])throw rx("root node is forbidden and cannot be sanitized in-place")}}else if(pt instanceof c)Fe=Fr("<!---->"),vt=Fe.ownerDocument.importNode(pt,!0),vt.nodeType===ax.element&&vt.nodeName==="BODY"||vt.nodeName==="HTML"?Fe=vt:Fe.appendChild(vt);else{if(!it&&!fe&&!ye&&pt.indexOf("<")===-1)return O&&At?O.createHTML(pt):pt;if(Fe=Fr(pt),!Fe)return it?null:At?M:""}Fe&&We&&Gt(Fe.firstChild);const en=Pn(Qe?pt:Fe);for(;yr=en.nextNode();)Un(yr),Jt(yr),yr.content instanceof i&&Sn(yr.content);if(Qe)return pt;if(it){if(ut)for(an=T.call(Fe.ownerDocument);Fe.firstChild;)an.appendChild(Fe.firstChild);else an=Fe;return(ne.shadowroot||ne.shadowrootmode)&&(an=D.call(n,an,!0)),an}let sn=ye?Fe.outerHTML:Fe.innerHTML;return ye&&G["!doctype"]&&Fe.ownerDocument&&Fe.ownerDocument.doctype&&Fe.ownerDocument.doctype.name&&ni(jY,Fe.ownerDocument.doctype.name)&&(sn="<!DOCTYPE "+Fe.ownerDocument.doctype.name+`>
`+sn),fe&&h0([R,U,$],me=>{sn=tx(sn,me," ")}),O&&At?O.createHTML(sn):sn},e.setConfig=function(){let pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};St(pt),Oe=!0},e.clearConfig=function(){Ct=null,Oe=!1},e.isValidAttribute=function(pt,de,Fe){Ct||St({});const vt=Ge(pt),yr=Ge(de);return Ot(vt,yr,Fe)},e.addHook=function(pt,de){typeof de=="function"&&ex(P[pt],de)},e.removeHook=function(pt,de){if(de!==void 0){const Fe=Gke(P[pt],de);return Fe===-1?void 0:Yke(P[pt],Fe,1)[0]}return g8(P[pt])},e.removeHooks=function(pt){P[pt]=[]},e.removeAllHooks=function(){P=w8()},e}var Ww=wY();const dNe=[{label:"D",value:Je.SU},{label:"S",value:Je.MO},{label:"T",value:Je.TU},{label:"Q",value:Je.WE},{label:"Q",value:Je.TH},{label:"S",value:Je.FR},{label:"S",value:Je.SA}],hNe=[{label:"primeiro(a)",value:1},{label:"segundo(a)",value:2},{label:"terceiro(a)",value:3},{label:"quarto(a)",value:4},{label:"quinto(a)",value:5},{label:"ltimo(a)",value:-1}],fNe=t=>t===0?6:t-1,Gw=({rruleString:t,onChange:e,endTime:r,onEndTimeChange:n})=>{var j,w,b;const[a,i]=v.useState({}),[o,c]=v.useState("day");v.useEffect(()=>{if(!t||t.trim()===""){const N=new Date,E=new Date(N.getFullYear(),N.getMonth(),N.getDate(),0,0,0,0);i({dtstart:E,endTime:r||""});return}try{const E=X1(t).options;let A=E.byweekday;A&&A.length>0&&typeof A[0]=="number"&&(A=A.map(O=>new bs(O))),i({freq:E.freq,interval:E.interval,byweekday:A||[],bymonthday:E.bymonthday,bysetpos:E.bysetpos,dtstart:(()=>{const O=new Date(E.dtstart);return Number.isNaN(O.getTime())?new Date:O})(),until:E.until,count:E.count,endTime:r||""}),E.freq===Je.MONTHLY&&(E.bysetpos&&E.byweekday?c("weekday"):c("day"))}catch{console.error("Invalid rrule string:",t);const E=new Date,A=new Date(E.getFullYear(),E.getMonth(),E.getDate(),0,0,0,0);i({dtstart:A,endTime:r||""})}},[t]);const u=N=>{const E={...a,...N};if(i(E),!E.freq){const L=E.dtstart,I=(()=>{const D=new Date(L);return Number.isNaN(D.getTime())?new Date:D})(),_=new Je({freq:Je.DAILY,count:1,dtstart:I}).toString().replace(/DTSTART:(\d{8}T\d{6})Z/g,"DTSTART:$1").replace(/UNTIL=(\d{8}T\d{6})Z/g,"UNTIL=$1");e(_);return}if(N.freq!==void 0&&(N.freq!==Je.WEEKLY&&(N.freq!==Je.MONTHLY||o==="day")&&(E.byweekday=void 0),N.freq!==Je.MONTHLY&&(E.bymonthday=void 0,E.bysetpos=void 0)),N.monthlyType){const L=(()=>{const I=new Date(E.dtstart);return Number.isNaN(I.getTime())?new Date:I})();if(N.monthlyType==="day")E.bymonthday=L.getDate(),E.bysetpos=void 0,E.byweekday=void 0;else{E.bymonthday=void 0;const I=L.getDate(),T=new Date(L.getFullYear(),L.getMonth()+1,0).getDate(),_=Math.floor((I-1)/7)+1,D=I+7>T;E.bysetpos=D?-1:_,E.byweekday=[new bs(fNe(L.getDay()))]}}const A={...E};if(delete A.monthlyType,delete A.endTime,A.dtstart){const L=new Date(A.dtstart);A.dtstart=Number.isNaN(L.getTime())?new Date:L}const M=new Je(A).toString().replace(/DTSTART:(\d{8}T\d{6})Z/g,"DTSTART:$1").replace(/UNTIL=(\d{8}T\d{6})Z/g,"UNTIL=$1");e(M)},h=N=>{const[E,A,O]=N.target.value.split("-").map(Number),M=new Date(a.dtstart),L=Number.isNaN(M.getTime())?new Date:M;L.setFullYear(E,A-1,O),L.setHours(0,0,0,0),u({dtstart:L})},f=N=>{const[E,A]=N.target.value.split(":").map(Number),O=new Date(a.dtstart),M=Number.isNaN(O.getTime())?new Date:O;M.setHours(E,A),u({dtstart:M})},p=N=>{const E=a.byweekday||[],A=E.some(M=>M.weekday===N.weekday);let O;A?O=E.filter(M=>M.weekday!==N.weekday):O=[...E,N],O.sort((M,L)=>M.weekday-L.weekday),u({byweekday:O.length>0?O:void 0})},g=N=>{const E=new Date(N.target.value+"T00:00:00");E.setHours(23,59,59,999),u({until:E,count:void 0})},x=N=>{switch(N){case 0:return"Domingo";case 1:return"Segunda-feira";case 2:return"Tera-feira";case 3:return"Quarta-feira";case 4:return"Quinta-feira";case 5:return"Sexta-feira";case 6:return"Sbado";default:return""}};return a.dtstart?s.jsxs("div",{className:"space-y-4 p-4 border border-jkd-border rounded-lg bg-jkd-bg",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Data de Incio"}),s.jsx("input",{type:"date",value:(()=>{const N=new Date(a.dtstart);return Number.isNaN(N.getTime())?Ar(new Date,"yyyy-MM-dd"):Ar(N,"yyyy-MM-dd")})(),onChange:h,className:"w-full input-style"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Horrio de Incio"}),s.jsx("input",{type:"text",value:(()=>{const N=new Date(a.dtstart);return Number.isNaN(N.getTime())?"":Ar(N,"HH:mm")})(),onChange:f,className:"w-full input-style",inputMode:"numeric",placeholder:"HH:mm",pattern:"^([01]\\\\d|2[0-3]):([0-5]\\\\d)$"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Horrio de Trmino"}),s.jsx("input",{type:"text",value:(r??a.endTime)||"",onChange:N=>{const E=N.target.value;u({endTime:E}),n&&n(E)},className:"w-full input-style",inputMode:"numeric",placeholder:"HH:mm",pattern:"^([01]\\\\d|2[0-3]):([0-5]\\\\d)$"})]}),s.jsx("div",{children:s.jsx("label",{className:"block text-sm font-medium text-jkd-text mb-1 text-xs",children:"* Deixe em branco para eventos sem horrio definido de trmino"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Repetir"}),s.jsxs("select",{value:a.freq||"none",onChange:N=>{const E=N.target.value;u(E==="none"?{freq:void 0,interval:void 0,byweekday:void 0,bymonthday:void 0,bysetpos:void 0,count:1}:{freq:Number(E),interval:1,count:void 0})},className:"w-full input-style",children:[s.jsx("option",{value:"none",children:"Nenhuma (evento nico)"}),s.jsx("option",{value:Je.DAILY,children:"Diariamente"}),s.jsx("option",{value:Je.WEEKLY,children:"Semanalmente"}),s.jsx("option",{value:Je.MONTHLY,children:"Mensalmente"}),s.jsx("option",{value:Je.YEARLY,children:"Anualmente"})]})]}),a.freq===Je.WEEKLY&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Dias da Semana"}),s.jsx("div",{className:"flex gap-2",children:dNe.map(({label:N,value:E})=>{var A;return s.jsx("button",{type:"button",className:`px-3 py-1 rounded border ${(A=a.byweekday)!=null&&A.some(O=>O.weekday===E.weekday)?"bg-church-primary text-white border-church-primary":"bg-jkd-bg text-jkd-text border-jkd-border"}`,onClick:()=>p(E),children:N},E.weekday)})})]}),a.freq===Je.MONTHLY&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Recorrncia Mensal"}),s.jsxs("div",{className:"flex gap-3 items-center",children:[s.jsxs("select",{value:o,onChange:N=>u({monthlyType:N.target.value}),className:"input-style",children:[s.jsx("option",{value:"day",children:"Dia do ms (ex: dia 10)"}),s.jsx("option",{value:"weekday",children:"Dia da semana (ex: terceiro domingo)"})]}),s.jsx("span",{className:"text-jkd-text text-sm",children:"em relao  data inicial"})]}),o==="weekday"&&s.jsxs("div",{className:"text-xs text-jkd-text",children:['Exemplo: "',Ar(new Date(a.dtstart),"MMMM",{locale:{code:"pt-BR"}})," - ",((j=hNe.find(N=>N.value===a.bysetpos))==null?void 0:j.label)||"semana"," - ",x((((b=(w=a.byweekday)==null?void 0:w[0])==null?void 0:b.weekday)??0)+1),'"']})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Intervalo"}),s.jsx("input",{type:"number",min:1,value:a.interval||1,onChange:N=>u({interval:Number(N.target.value)}),className:"w-full input-style"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Ocorrncias (COUNT)"}),s.jsx("input",{type:"number",min:1,value:a.count||"",onChange:N=>u({count:N.target.value?Number(N.target.value):void 0,until:void 0}),className:"w-full input-style"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Fim"}),s.jsxs("select",{value:a.until?"date":a.count?"count":"never",onChange:N=>{const E=N.target.value;u(E==="never"?{until:void 0,count:void 0}:E==="count"?{count:1,until:void 0}:{until:new Date,count:void 0})},className:"w-full input-style",children:[s.jsx("option",{value:"never",children:"Nunca"}),s.jsx("option",{value:"date",children:"Em uma data especfica"}),s.jsx("option",{value:"count",children:"Aps um nmero de ocorrncias"})]})]}),a.until&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Data de trmino"}),s.jsx("input",{type:"date",value:(()=>{const N=new Date(a.until);return Number.isNaN(N.getTime())?"":Ar(N,"yyyy-MM-dd")})(),onChange:g,className:"w-full input-style"})]})]})]}):s.jsx("div",{children:"Carregando agendamento..."})};var kY=typeof global=="object"&&global&&global.Object===Object&&global,mNe=typeof self=="object"&&self&&self.Object===Object&&self,pc=kY||mNe||Function("return this")(),Md=pc.Symbol,NY=Object.prototype,pNe=NY.hasOwnProperty,gNe=NY.toString,sx=Md?Md.toStringTag:void 0;function xNe(t){var e=pNe.call(t,sx),r=t[sx];try{t[sx]=void 0;var n=!0}catch{}var a=gNe.call(t);return n&&(e?t[sx]=r:delete t[sx]),a}var yNe=Object.prototype,vNe=yNe.toString;function bNe(t){return vNe.call(t)}var jNe="[object Null]",wNe="[object Undefined]",k8=Md?Md.toStringTag:void 0;function Yp(t){return t==null?t===void 0?wNe:jNe:k8&&k8 in Object(t)?xNe(t):bNe(t)}function nu(t){return t!=null&&typeof t=="object"}var sf=Array.isArray;function Yd(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function SY(t){return t}var kNe="[object AsyncFunction]",NNe="[object Function]",SNe="[object GeneratorFunction]",ENe="[object Proxy]";function QI(t){if(!Yd(t))return!1;var e=Yp(t);return e==NNe||e==SNe||e==kNe||e==ENe}var PS=pc["__core-js_shared__"],N8=(function(){var t=/[^.]+$/.exec(PS&&PS.keys&&PS.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function ANe(t){return!!N8&&N8 in t}var TNe=Function.prototype,_Ne=TNe.toString;function Tf(t){if(t!=null){try{return _Ne.call(t)}catch{}try{return t+""}catch{}}return""}var CNe=/[\\^$.*+?()[\]{}|]/g,INe=/^\[object .+?Constructor\]$/,ONe=Function.prototype,PNe=Object.prototype,MNe=ONe.toString,DNe=PNe.hasOwnProperty,RNe=RegExp("^"+MNe.call(DNe).replace(CNe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function LNe(t){if(!Yd(t)||ANe(t))return!1;var e=QI(t)?RNe:INe;return e.test(Tf(t))}function UNe(t,e){return t==null?void 0:t[e]}function _f(t,e){var r=UNe(t,e);return LNe(r)?r:void 0}var a_=_f(pc,"WeakMap"),S8=Object.create,VNe=(function(){function t(){}return function(e){if(!Yd(e))return{};if(S8)return S8(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}})();function zNe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function FNe(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var $Ne=800,BNe=16,qNe=Date.now;function HNe(t){var e=0,r=0;return function(){var n=qNe(),a=BNe-(n-r);if(r=n,a>0){if(++e>=$Ne)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function WNe(t){return function(){return t}}var cj=(function(){try{var t=_f(Object,"defineProperty");return t({},"",{}),t}catch{}})(),GNe=cj?function(t,e){return cj(t,"toString",{configurable:!0,enumerable:!1,value:WNe(e),writable:!0})}:SY,YNe=HNe(GNe);function KNe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var XNe=9007199254740991,QNe=/^(?:0|[1-9]\d*)$/;function EY(t,e){var r=typeof t;return e=e??XNe,!!e&&(r=="number"||r!="symbol"&&QNe.test(t))&&t>-1&&t%1==0&&t<e}function ZI(t,e,r){e=="__proto__"&&cj?cj(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function bv(t,e){return t===e||t!==t&&e!==e}var ZNe=Object.prototype,JNe=ZNe.hasOwnProperty;function AY(t,e,r){var n=t[e];(!(JNe.call(t,e)&&bv(n,r))||r===void 0&&!(e in t))&&ZI(t,e,r)}function eSe(t,e,r,n){var a=!r;r||(r={});for(var i=-1,o=e.length;++i<o;){var c=e[i],u=void 0;u===void 0&&(u=t[c]),a?ZI(r,c,u):AY(r,c,u)}return r}var E8=Math.max;function tSe(t,e,r){return e=E8(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,i=E8(n.length-e,0),o=Array(i);++a<i;)o[a]=n[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=n[a];return c[e]=r(o),zNe(t,this,c)}}function rSe(t,e){return YNe(tSe(t,e,SY),t+"")}var nSe=9007199254740991;function TY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=nSe}function Yw(t){return t!=null&&TY(t.length)&&!QI(t)}function aSe(t,e,r){if(!Yd(r))return!1;var n=typeof e;return(n=="number"?Yw(r)&&EY(e,r.length):n=="string"&&e in r)?bv(r[e],t):!1}function sSe(t){return rSe(function(e,r){var n=-1,a=r.length,i=a>1?r[a-1]:void 0,o=a>2?r[2]:void 0;for(i=t.length>3&&typeof i=="function"?(a--,i):void 0,o&&aSe(r[0],r[1],o)&&(i=a<3?void 0:i,a=1),e=Object(e);++n<a;){var c=r[n];c&&t(e,c,n,i)}return e})}var iSe=Object.prototype;function JI(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||iSe;return t===r}function oSe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var lSe="[object Arguments]";function A8(t){return nu(t)&&Yp(t)==lSe}var _Y=Object.prototype,cSe=_Y.hasOwnProperty,uSe=_Y.propertyIsEnumerable,s_=A8((function(){return arguments})())?A8:function(t){return nu(t)&&cSe.call(t,"callee")&&!uSe.call(t,"callee")};function dSe(){return!1}var CY=typeof exports=="object"&&exports&&!exports.nodeType&&exports,T8=CY&&typeof module=="object"&&module&&!module.nodeType&&module,hSe=T8&&T8.exports===CY,_8=hSe?pc.Buffer:void 0,fSe=_8?_8.isBuffer:void 0,Ey=fSe||dSe,mSe="[object Arguments]",pSe="[object Array]",gSe="[object Boolean]",xSe="[object Date]",ySe="[object Error]",vSe="[object Function]",bSe="[object Map]",jSe="[object Number]",wSe="[object Object]",kSe="[object RegExp]",NSe="[object Set]",SSe="[object String]",ESe="[object WeakMap]",ASe="[object ArrayBuffer]",TSe="[object DataView]",_Se="[object Float32Array]",CSe="[object Float64Array]",ISe="[object Int8Array]",OSe="[object Int16Array]",PSe="[object Int32Array]",MSe="[object Uint8Array]",DSe="[object Uint8ClampedArray]",RSe="[object Uint16Array]",LSe="[object Uint32Array]",Dn={};Dn[_Se]=Dn[CSe]=Dn[ISe]=Dn[OSe]=Dn[PSe]=Dn[MSe]=Dn[DSe]=Dn[RSe]=Dn[LSe]=!0;Dn[mSe]=Dn[pSe]=Dn[ASe]=Dn[gSe]=Dn[TSe]=Dn[xSe]=Dn[ySe]=Dn[vSe]=Dn[bSe]=Dn[jSe]=Dn[wSe]=Dn[kSe]=Dn[NSe]=Dn[SSe]=Dn[ESe]=!1;function USe(t){return nu(t)&&TY(t.length)&&!!Dn[Yp(t)]}function e4(t){return function(e){return t(e)}}var IY=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Yx=IY&&typeof module=="object"&&module&&!module.nodeType&&module,VSe=Yx&&Yx.exports===IY,MS=VSe&&kY.process,xp=(function(){try{var t=Yx&&Yx.require&&Yx.require("util").types;return t||MS&&MS.binding&&MS.binding("util")}catch{}})(),C8=xp&&xp.isTypedArray,t4=C8?e4(C8):USe,zSe=Object.prototype,FSe=zSe.hasOwnProperty;function OY(t,e){var r=sf(t),n=!r&&s_(t),a=!r&&!n&&Ey(t),i=!r&&!n&&!a&&t4(t),o=r||n||a||i,c=o?oSe(t.length,String):[],u=c.length;for(var h in t)(e||FSe.call(t,h))&&!(o&&(h=="length"||a&&(h=="offset"||h=="parent")||i&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||EY(h,u)))&&c.push(h);return c}function PY(t,e){return function(r){return t(e(r))}}var $Se=PY(Object.keys,Object),BSe=Object.prototype,qSe=BSe.hasOwnProperty;function HSe(t){if(!JI(t))return $Se(t);var e=[];for(var r in Object(t))qSe.call(t,r)&&r!="constructor"&&e.push(r);return e}function WSe(t){return Yw(t)?OY(t):HSe(t)}function GSe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var YSe=Object.prototype,KSe=YSe.hasOwnProperty;function XSe(t){if(!Yd(t))return GSe(t);var e=JI(t),r=[];for(var n in t)n=="constructor"&&(e||!KSe.call(t,n))||r.push(n);return r}function MY(t){return Yw(t)?OY(t,!0):XSe(t)}var Ay=_f(Object,"create");function QSe(){this.__data__=Ay?Ay(null):{},this.size=0}function ZSe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var JSe="__lodash_hash_undefined__",eEe=Object.prototype,tEe=eEe.hasOwnProperty;function rEe(t){var e=this.__data__;if(Ay){var r=e[t];return r===JSe?void 0:r}return tEe.call(e,t)?e[t]:void 0}var nEe=Object.prototype,aEe=nEe.hasOwnProperty;function sEe(t){var e=this.__data__;return Ay?e[t]!==void 0:aEe.call(e,t)}var iEe="__lodash_hash_undefined__";function oEe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ay&&e===void 0?iEe:e,this}function of(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}of.prototype.clear=QSe;of.prototype.delete=ZSe;of.prototype.get=rEe;of.prototype.has=sEe;of.prototype.set=oEe;function lEe(){this.__data__=[],this.size=0}function Kw(t,e){for(var r=t.length;r--;)if(bv(t[r][0],e))return r;return-1}var cEe=Array.prototype,uEe=cEe.splice;function dEe(t){var e=this.__data__,r=Kw(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():uEe.call(e,r,1),--this.size,!0}function hEe(t){var e=this.__data__,r=Kw(e,t);return r<0?void 0:e[r][1]}function fEe(t){return Kw(this.__data__,t)>-1}function mEe(t,e){var r=this.__data__,n=Kw(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function pu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pu.prototype.clear=lEe;pu.prototype.delete=dEe;pu.prototype.get=hEe;pu.prototype.has=fEe;pu.prototype.set=mEe;var Ty=_f(pc,"Map");function pEe(){this.size=0,this.__data__={hash:new of,map:new(Ty||pu),string:new of}}function gEe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Xw(t,e){var r=t.__data__;return gEe(e)?r[typeof e=="string"?"string":"hash"]:r.map}function xEe(t){var e=Xw(this,t).delete(t);return this.size-=e?1:0,e}function yEe(t){return Xw(this,t).get(t)}function vEe(t){return Xw(this,t).has(t)}function bEe(t,e){var r=Xw(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Cf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Cf.prototype.clear=pEe;Cf.prototype.delete=xEe;Cf.prototype.get=yEe;Cf.prototype.has=vEe;Cf.prototype.set=bEe;function jEe(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var DY=PY(Object.getPrototypeOf,Object),wEe="[object Object]",kEe=Function.prototype,NEe=Object.prototype,RY=kEe.toString,SEe=NEe.hasOwnProperty,EEe=RY.call(Object);function AEe(t){if(!nu(t)||Yp(t)!=wEe)return!1;var e=DY(t);if(e===null)return!0;var r=SEe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&RY.call(r)==EEe}function TEe(){this.__data__=new pu,this.size=0}function _Ee(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function CEe(t){return this.__data__.get(t)}function IEe(t){return this.__data__.has(t)}var OEe=200;function PEe(t,e){var r=this.__data__;if(r instanceof pu){var n=r.__data__;if(!Ty||n.length<OEe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Cf(n)}return r.set(t,e),this.size=r.size,this}function ac(t){var e=this.__data__=new pu(t);this.size=e.size}ac.prototype.clear=TEe;ac.prototype.delete=_Ee;ac.prototype.get=CEe;ac.prototype.has=IEe;ac.prototype.set=PEe;var LY=typeof exports=="object"&&exports&&!exports.nodeType&&exports,I8=LY&&typeof module=="object"&&module&&!module.nodeType&&module,MEe=I8&&I8.exports===LY,O8=MEe?pc.Buffer:void 0,P8=O8?O8.allocUnsafe:void 0;function UY(t,e){if(e)return t.slice();var r=t.length,n=P8?P8(r):new t.constructor(r);return t.copy(n),n}function DEe(t,e){for(var r=-1,n=t==null?0:t.length,a=0,i=[];++r<n;){var o=t[r];e(o,r,t)&&(i[a++]=o)}return i}function REe(){return[]}var LEe=Object.prototype,UEe=LEe.propertyIsEnumerable,M8=Object.getOwnPropertySymbols,VEe=M8?function(t){return t==null?[]:(t=Object(t),DEe(M8(t),function(e){return UEe.call(t,e)}))}:REe;function zEe(t,e,r){var n=e(t);return sf(t)?n:jEe(n,r(t))}function i_(t){return zEe(t,WSe,VEe)}var o_=_f(pc,"DataView"),l_=_f(pc,"Promise"),c_=_f(pc,"Set"),D8="[object Map]",FEe="[object Object]",R8="[object Promise]",L8="[object Set]",U8="[object WeakMap]",V8="[object DataView]",$Ee=Tf(o_),BEe=Tf(Ty),qEe=Tf(l_),HEe=Tf(c_),WEe=Tf(a_),al=Yp;(o_&&al(new o_(new ArrayBuffer(1)))!=V8||Ty&&al(new Ty)!=D8||l_&&al(l_.resolve())!=R8||c_&&al(new c_)!=L8||a_&&al(new a_)!=U8)&&(al=function(t){var e=Yp(t),r=e==FEe?t.constructor:void 0,n=r?Tf(r):"";if(n)switch(n){case $Ee:return V8;case BEe:return D8;case qEe:return R8;case HEe:return L8;case WEe:return U8}return e});var GEe=Object.prototype,YEe=GEe.hasOwnProperty;function KEe(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&YEe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var uj=pc.Uint8Array;function r4(t){var e=new t.constructor(t.byteLength);return new uj(e).set(new uj(t)),e}function XEe(t,e){var r=r4(t.buffer);return new t.constructor(r,t.byteOffset,t.byteLength)}var QEe=/\w*$/;function ZEe(t){var e=new t.constructor(t.source,QEe.exec(t));return e.lastIndex=t.lastIndex,e}var z8=Md?Md.prototype:void 0,F8=z8?z8.valueOf:void 0;function JEe(t){return F8?Object(F8.call(t)):{}}function VY(t,e){var r=e?r4(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var eAe="[object Boolean]",tAe="[object Date]",rAe="[object Map]",nAe="[object Number]",aAe="[object RegExp]",sAe="[object Set]",iAe="[object String]",oAe="[object Symbol]",lAe="[object ArrayBuffer]",cAe="[object DataView]",uAe="[object Float32Array]",dAe="[object Float64Array]",hAe="[object Int8Array]",fAe="[object Int16Array]",mAe="[object Int32Array]",pAe="[object Uint8Array]",gAe="[object Uint8ClampedArray]",xAe="[object Uint16Array]",yAe="[object Uint32Array]";function vAe(t,e,r){var n=t.constructor;switch(e){case lAe:return r4(t);case eAe:case tAe:return new n(+t);case cAe:return XEe(t);case uAe:case dAe:case hAe:case fAe:case mAe:case pAe:case gAe:case xAe:case yAe:return VY(t,r);case rAe:return new n;case nAe:case iAe:return new n(t);case aAe:return ZEe(t);case sAe:return new n;case oAe:return JEe(t)}}function zY(t){return typeof t.constructor=="function"&&!JI(t)?VNe(DY(t)):{}}var bAe="[object Map]";function jAe(t){return nu(t)&&al(t)==bAe}var $8=xp&&xp.isMap,wAe=$8?e4($8):jAe,kAe="[object Set]";function NAe(t){return nu(t)&&al(t)==kAe}var B8=xp&&xp.isSet,SAe=B8?e4(B8):NAe,EAe=1,FY="[object Arguments]",AAe="[object Array]",TAe="[object Boolean]",_Ae="[object Date]",CAe="[object Error]",$Y="[object Function]",IAe="[object GeneratorFunction]",OAe="[object Map]",PAe="[object Number]",BY="[object Object]",MAe="[object RegExp]",DAe="[object Set]",RAe="[object String]",LAe="[object Symbol]",UAe="[object WeakMap]",VAe="[object ArrayBuffer]",zAe="[object DataView]",FAe="[object Float32Array]",$Ae="[object Float64Array]",BAe="[object Int8Array]",qAe="[object Int16Array]",HAe="[object Int32Array]",WAe="[object Uint8Array]",GAe="[object Uint8ClampedArray]",YAe="[object Uint16Array]",KAe="[object Uint32Array]",_n={};_n[FY]=_n[AAe]=_n[VAe]=_n[zAe]=_n[TAe]=_n[_Ae]=_n[FAe]=_n[$Ae]=_n[BAe]=_n[qAe]=_n[HAe]=_n[OAe]=_n[PAe]=_n[BY]=_n[MAe]=_n[DAe]=_n[RAe]=_n[LAe]=_n[WAe]=_n[GAe]=_n[YAe]=_n[KAe]=!0;_n[CAe]=_n[$Y]=_n[UAe]=!1;function h1(t,e,r,n,a,i){var o,c=e&EAe;if(o!==void 0)return o;if(!Yd(t))return t;var u=sf(t);if(u)o=KEe(t);else{var h=al(t),f=h==$Y||h==IAe;if(Ey(t))return UY(t,c);if(h==BY||h==FY||f&&!a)o=f?{}:zY(t);else{if(!_n[h])return a?t:{};o=vAe(t,h,c)}}i||(i=new ac);var p=i.get(t);if(p)return p;i.set(t,o),SAe(t)?t.forEach(function(j){o.add(h1(j,e,r,j,t,i))}):wAe(t)&&t.forEach(function(j,w){o.set(w,h1(j,e,r,w,t,i))});var g=i_,x=u?void 0:g(t);return KNe(x||t,function(j,w){x&&(w=j,j=t[w]),AY(o,w,h1(j,e,r,w,t,i))}),o}var XAe=1,QAe=4;function Xm(t){return h1(t,XAe|QAe)}var ZAe="__lodash_hash_undefined__";function JAe(t){return this.__data__.set(t,ZAe),this}function eTe(t){return this.__data__.has(t)}function dj(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Cf;++e<r;)this.add(t[e])}dj.prototype.add=dj.prototype.push=JAe;dj.prototype.has=eTe;function tTe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function rTe(t,e){return t.has(e)}var nTe=1,aTe=2;function qY(t,e,r,n,a,i){var o=r&nTe,c=t.length,u=e.length;if(c!=u&&!(o&&u>c))return!1;var h=i.get(t),f=i.get(e);if(h&&f)return h==e&&f==t;var p=-1,g=!0,x=r&aTe?new dj:void 0;for(i.set(t,e),i.set(e,t);++p<c;){var j=t[p],w=e[p];if(n)var b=o?n(w,j,p,e,t,i):n(j,w,p,t,e,i);if(b!==void 0){if(b)continue;g=!1;break}if(x){if(!tTe(e,function(N,E){if(!rTe(x,E)&&(j===N||a(j,N,r,n,i)))return x.push(E)})){g=!1;break}}else if(!(j===w||a(j,w,r,n,i))){g=!1;break}}return i.delete(t),i.delete(e),g}function sTe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}function iTe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var oTe=1,lTe=2,cTe="[object Boolean]",uTe="[object Date]",dTe="[object Error]",hTe="[object Map]",fTe="[object Number]",mTe="[object RegExp]",pTe="[object Set]",gTe="[object String]",xTe="[object Symbol]",yTe="[object ArrayBuffer]",vTe="[object DataView]",q8=Md?Md.prototype:void 0,DS=q8?q8.valueOf:void 0;function bTe(t,e,r,n,a,i,o){switch(r){case vTe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case yTe:return!(t.byteLength!=e.byteLength||!i(new uj(t),new uj(e)));case cTe:case uTe:case fTe:return bv(+t,+e);case dTe:return t.name==e.name&&t.message==e.message;case mTe:case gTe:return t==e+"";case hTe:var c=sTe;case pTe:var u=n&oTe;if(c||(c=iTe),t.size!=e.size&&!u)return!1;var h=o.get(t);if(h)return h==e;n|=lTe,o.set(t,e);var f=qY(c(t),c(e),n,a,i,o);return o.delete(t),f;case xTe:if(DS)return DS.call(t)==DS.call(e)}return!1}var jTe=1,wTe=Object.prototype,kTe=wTe.hasOwnProperty;function NTe(t,e,r,n,a,i){var o=r&jTe,c=i_(t),u=c.length,h=i_(e),f=h.length;if(u!=f&&!o)return!1;for(var p=u;p--;){var g=c[p];if(!(o?g in e:kTe.call(e,g)))return!1}var x=i.get(t),j=i.get(e);if(x&&j)return x==e&&j==t;var w=!0;i.set(t,e),i.set(e,t);for(var b=o;++p<u;){g=c[p];var N=t[g],E=e[g];if(n)var A=o?n(E,N,g,e,t,i):n(N,E,g,t,e,i);if(!(A===void 0?N===E||a(N,E,r,n,i):A)){w=!1;break}b||(b=g=="constructor")}if(w&&!b){var O=t.constructor,M=e.constructor;O!=M&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof M=="function"&&M instanceof M)&&(w=!1)}return i.delete(t),i.delete(e),w}var STe=1,H8="[object Arguments]",W8="[object Array]",m0="[object Object]",ETe=Object.prototype,G8=ETe.hasOwnProperty;function ATe(t,e,r,n,a,i){var o=sf(t),c=sf(e),u=o?W8:al(t),h=c?W8:al(e);u=u==H8?m0:u,h=h==H8?m0:h;var f=u==m0,p=h==m0,g=u==h;if(g&&Ey(t)){if(!Ey(e))return!1;o=!0,f=!1}if(g&&!f)return i||(i=new ac),o||t4(t)?qY(t,e,r,n,a,i):bTe(t,e,u,r,n,a,i);if(!(r&STe)){var x=f&&G8.call(t,"__wrapped__"),j=p&&G8.call(e,"__wrapped__");if(x||j){var w=x?t.value():t,b=j?e.value():e;return i||(i=new ac),a(w,b,r,n,i)}}return g?(i||(i=new ac),NTe(t,e,r,n,a,i)):!1}function HY(t,e,r,n,a){return t===e?!0:t==null||e==null||!nu(t)&&!nu(e)?t!==t&&e!==e:ATe(t,e,r,n,HY,a)}function TTe(t){return function(e,r,n){for(var a=-1,i=Object(e),o=n(e),c=o.length;c--;){var u=o[++a];if(r(i[u],u,i)===!1)break}return e}}var _Te=TTe();function u_(t,e,r){(r!==void 0&&!bv(t[e],r)||r===void 0&&!(e in t))&&ZI(t,e,r)}function CTe(t){return nu(t)&&Yw(t)}function d_(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function ITe(t){return eSe(t,MY(t))}function OTe(t,e,r,n,a,i,o){var c=d_(t,r),u=d_(e,r),h=o.get(u);if(h){u_(t,r,h);return}var f=i?i(c,u,r+"",t,e,o):void 0,p=f===void 0;if(p){var g=sf(u),x=!g&&Ey(u),j=!g&&!x&&t4(u);f=u,g||x||j?sf(c)?f=c:CTe(c)?f=FNe(c):x?(p=!1,f=UY(u,!0)):j?(p=!1,f=VY(u,!0)):f=[]:AEe(u)||s_(u)?(f=c,s_(c)?f=ITe(c):(!Yd(c)||QI(c))&&(f=zY(u))):p=!1}p&&(o.set(u,f),a(f,u,n,i,o),o.delete(u)),u_(t,r,f)}function WY(t,e,r,n,a){t!==e&&_Te(e,function(i,o){if(a||(a=new ac),Yd(i))OTe(t,e,o,r,WY,n,a);else{var c=n?n(d_(t,o),i,o+"",t,e,a):void 0;c===void 0&&(c=i),u_(t,o,c)}},MY)}function n4(t,e){return HY(t,e)}var jd=sSe(function(t,e,r){WY(t,e,r)}),Bt=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(Bt||{});class cc{constructor(e,r,n={}){this.attrName=e,this.keyName=r;const a=Bt.TYPE&Bt.ATTRIBUTE;this.scope=n.scope!=null?n.scope&Bt.LEVEL|a:Bt.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(e){return Array.from(e.attributes).map(r=>r.name)}add(e,r){return this.canAdd(e,r)?(e.setAttribute(this.keyName,r),!0):!1}canAdd(e,r){return this.whitelist==null?!0:typeof r=="string"?this.whitelist.indexOf(r.replace(/["']/g,""))>-1:this.whitelist.indexOf(r)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const r=e.getAttribute(this.keyName);return this.canAdd(e,r)&&r?r:""}}class Qm extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const GY=class h_{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,r=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(r){let n=null;try{n=e.parentNode}catch{return null}return this.find(n,r)}return null}create(e,r,n){const a=this.query(r);if(a==null)throw new Qm(`Unable to create ${r} blot`);const i=a,o=r instanceof Node||r.nodeType===Node.TEXT_NODE?r:i.create(n),c=new i(e,o,n);return h_.blots.set(c.domNode,c),c}find(e,r=!1){return h_.find(e,r)}query(e,r=Bt.ANY){let n;return typeof e=="string"?n=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?n=this.types.text:typeof e=="number"?e&Bt.LEVEL&Bt.BLOCK?n=this.types.block:e&Bt.LEVEL&Bt.INLINE&&(n=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(a=>(n=this.classes[a],!!n)),n=n||this.tags[e.tagName]),n==null?null:"scope"in n&&r&Bt.LEVEL&n.scope&&r&Bt.TYPE&n.scope?n:null}register(...e){return e.map(r=>{const n="blotName"in r,a="attrName"in r;if(!n&&!a)throw new Qm("Invalid definition");if(n&&r.blotName==="abstract")throw new Qm("Cannot register abstract class");const i=n?r.blotName:a?r.attrName:void 0;return this.types[i]=r,a?typeof r.keyName=="string"&&(this.attributes[r.keyName]=r):n&&(r.className&&(this.classes[r.className]=r),r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(o=>o.toUpperCase()):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(o=>{(this.tags[o]==null||r.className==null)&&(this.tags[o]=r)}))),r})}};GY.blots=new WeakMap;let yp=GY;function Y8(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(r=>r.indexOf(`${e}-`)===0)}class PTe extends cc{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(r=>r.split("-").slice(0,-1).join("-"))}add(e,r){return this.canAdd(e,r)?(this.remove(e),e.classList.add(`${this.keyName}-${r}`),!0):!1}remove(e){Y8(e,this.keyName).forEach(r=>{e.classList.remove(r)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const r=(Y8(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,r)?r:""}}const El=PTe;function RS(t){const e=t.split("-"),r=e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return e[0]+r}class MTe extends cc{static keys(e){return(e.getAttribute("style")||"").split(";").map(r=>r.split(":")[0].trim())}add(e,r){return this.canAdd(e,r)?(e.style[RS(this.keyName)]=r,!0):!1}remove(e){e.style[RS(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const r=e.style[RS(this.keyName)];return this.canAdd(e,r)?r:""}}const Kd=MTe;class DTe{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,r){r?e.add(this.domNode,r)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=yp.find(this.domNode);if(e==null)return;const r=cc.keys(this.domNode),n=El.keys(this.domNode),a=Kd.keys(this.domNode);r.concat(n).concat(a).forEach(i=>{const o=e.scroll.query(i,Bt.ATTRIBUTE);o instanceof cc&&(this.attributes[o.attrName]=o)})}copy(e){Object.keys(this.attributes).forEach(r=>{const n=this.attributes[r].value(this.domNode);e.format(r,n)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(r=>{this.attributes[r].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,r)=>(e[r]=this.attributes[r].value(this.domNode),e),{})}}const Qw=DTe,YY=class{constructor(e,r){this.scroll=e,this.domNode=r,yp.blots.set(r,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new Qm("Blot definition missing tagName");let r,n;return Array.isArray(this.tagName)?(typeof e=="string"?(n=e.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof e=="number"&&(n=e),typeof n=="number"?r=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?r=document.createElement(n):r=document.createElement(this.tagName[0])):r=document.createElement(this.tagName),this.className&&r.classList.add(this.className),r}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),yp.blots.delete(this.domNode)}deleteAt(e,r){this.isolate(e,r).remove()}formatAt(e,r,n,a){const i=this.isolate(e,r);if(this.scroll.query(n,Bt.BLOT)!=null&&a)i.wrap(n,a);else if(this.scroll.query(n,Bt.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);i.wrap(o),o.format(n,a)}}insertAt(e,r,n){const a=n==null?this.scroll.create("text",r):this.scroll.create(r,n),i=this.split(e);this.parent.insertBefore(a,i||void 0)}isolate(e,r){const n=this.split(e);if(n==null)throw new Error("Attempt to isolate at end");return n.split(r),n}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,r){const n=typeof e=="string"?this.scroll.create(e,r):e;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(e,r){return e===0?this:this.next}update(e,r){}wrap(e,r){const n=typeof e=="string"?this.scroll.create(e,r):e;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new Qm(`Cannot wrap ${e}`);return n.appendChild(this),n}};YY.blotName="abstract";let KY=YY;const XY=class extends KY{static value(e){return!0}index(e,r){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(r,1):-1}position(e,r){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};XY.scope=Bt.INLINE_BLOT;let RTe=XY;const Bs=RTe;class LTe{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const r=e.slice(1);this.append(...r)}}at(e){const r=this.iterator();let n=r();for(;n&&e>0;)e-=1,n=r();return n}contains(e){const r=this.iterator();let n=r();for(;n;){if(n===e)return!0;n=r()}return!1}indexOf(e){const r=this.iterator();let n=r(),a=0;for(;n;){if(n===e)return a;a+=1,n=r()}return-1}insertBefore(e,r){e!=null&&(this.remove(e),e.next=r,r!=null?(e.prev=r.prev,r.prev!=null&&(r.prev.next=e),r.prev=e,r===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let r=0,n=this.head;for(;n!=null;){if(n===e)return r;r+=n.length(),n=n.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const r=e;return e!=null&&(e=e.next),r}}find(e,r=!1){const n=this.iterator();let a=n();for(;a;){const i=a.length();if(e<i||r&&e===i&&(a.next==null||a.next.length()!==0))return[a,e];e-=i,a=n()}return[null,0]}forEach(e){const r=this.iterator();let n=r();for(;n;)e(n),n=r()}forEachAt(e,r,n){if(r<=0)return;const[a,i]=this.find(e);let o=e-i;const c=this.iterator(a);let u=c();for(;u&&o<e+r;){const h=u.length();e>o?n(u,e-o,Math.min(r,o+h-e)):n(u,0,Math.min(h,e+r-o)),o+=h,u=c()}}map(e){return this.reduce((r,n)=>(r.push(e(n)),r),[])}reduce(e,r){const n=this.iterator();let a=n();for(;a;)r=e(r,a),a=n();return r}}function K8(t,e){const r=e.find(t);if(r)return r;try{return e.create(t)}catch{const n=e.create(Bt.INLINE);return Array.from(t.childNodes).forEach(a=>{n.domNode.appendChild(a)}),t.parentNode&&t.parentNode.replaceChild(n.domNode,t),n.attach(),n}}const QY=class Qu extends KY{constructor(e,r){super(e,r),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,Qu.uiClass&&this.uiNode.classList.add(Qu.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new LTe,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const r=K8(e,this.scroll);this.insertBefore(r,this.children.head||void 0)}catch(r){if(r instanceof Qm)return;throw r}})}deleteAt(e,r){if(e===0&&r===this.length())return this.remove();this.children.forEachAt(e,r,(n,a,i)=>{n.deleteAt(a,i)})}descendant(e,r=0){const[n,a]=this.children.find(r);return e.blotName==null&&e(n)||e.blotName!=null&&n instanceof e?[n,a]:n instanceof Qu?n.descendant(e,a):[null,-1]}descendants(e,r=0,n=Number.MAX_VALUE){let a=[],i=n;return this.children.forEachAt(r,n,(o,c,u)=>{(e.blotName==null&&e(o)||e.blotName!=null&&o instanceof e)&&a.push(o),o instanceof Qu&&(a=a.concat(o.descendants(e,c,i))),i-=u}),a}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(r=>{e||this.statics.allowedChildren.some(n=>r instanceof n)||(r.statics.scope===Bt.BLOCK_BLOT?(r.next!=null&&this.splitAfter(r),r.prev!=null&&this.splitAfter(r.prev),r.parent.unwrap(),e=!0):r instanceof Qu?r.unwrap():r.remove())})}formatAt(e,r,n,a){this.children.forEachAt(e,r,(i,o,c)=>{i.formatAt(o,c,n,a)})}insertAt(e,r,n){const[a,i]=this.children.find(e);if(a)a.insertAt(i,r,n);else{const o=n==null?this.scroll.create("text",r):this.scroll.create(r,n);this.appendChild(o)}}insertBefore(e,r){e.parent!=null&&e.parent.children.remove(e);let n=null;this.children.insertBefore(e,r||null),e.parent=this,r!=null&&(n=r.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(e.domNode,n),e.attach()}length(){return this.children.reduce((e,r)=>e+r.length(),0)}moveChildren(e,r){this.children.forEach(n=>{e.insertBefore(n,r)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r)}else this.remove()}path(e,r=!1){const[n,a]=this.children.find(e,r),i=[[this,e]];return n instanceof Qu?i.concat(n.path(a,r)):(n!=null&&i.push([n,a]),i)}removeChild(e){this.children.remove(e)}replaceWith(e,r){const n=typeof e=="string"?this.scroll.create(e,r):e;return n instanceof Qu&&this.moveChildren(n),super.replaceWith(n)}split(e,r=!1){if(!r){if(e===0)return this;if(e===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(e,this.length(),(a,i,o)=>{const c=a.split(i,r);c!=null&&n.appendChild(c)}),n}splitAfter(e){const r=this.clone();for(;e.next!=null;)r.appendChild(e.next);return this.parent&&this.parent.insertBefore(r,this.next||void 0),r}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,r){const n=[],a=[];e.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(n.push(...i.addedNodes),a.push(...i.removedNodes))}),a.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(i);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),n.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,o)=>i===o?0:i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let o=null;i.nextSibling!=null&&(o=this.scroll.find(i.nextSibling));const c=K8(i,this.scroll);(c.next!==o||c.next==null)&&(c.parent!=null&&c.parent.removeChild(this),this.insertBefore(c,o||void 0))}),this.enforceAllowedChildren()}};QY.uiClass="";let UTe=QY;const fl=UTe;function VTe(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}const wm=class km extends fl{static create(e){return super.create(e)}static formats(e,r){const n=r.query(km.blotName);if(!(n!=null&&e.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,r){super(e,r),this.attributes=new Qw(this.domNode)}format(e,r){if(e===this.statics.blotName&&!r)this.children.forEach(n=>{n instanceof km||(n=n.wrap(km.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{const n=this.scroll.query(e,Bt.INLINE);if(n==null)return;n instanceof cc?this.attributes.attribute(n,r):r&&(e!==this.statics.blotName||this.formats()[e]!==r)&&this.replaceWith(e,r)}}formats(){const e=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(e[this.statics.blotName]=r),e}formatAt(e,r,n,a){this.formats()[n]!=null||this.scroll.query(n,Bt.ATTRIBUTE)?this.isolate(e,r).format(n,a):super.formatAt(e,r,n,a)}optimize(e){super.optimize(e);const r=this.formats();if(Object.keys(r).length===0)return this.unwrap();const n=this.next;n instanceof km&&n.prev===this&&VTe(r,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(e,r){const n=super.replaceWith(e,r);return this.attributes.copy(n),n}update(e,r){super.update(e,r),e.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(e,r){const n=super.wrap(e,r);return n instanceof km&&this.attributes.move(n),n}};wm.allowedChildren=[wm,Bs],wm.blotName="inline",wm.scope=Bt.INLINE_BLOT,wm.tagName="SPAN";let zTe=wm;const a4=zTe,Nm=class f_ extends fl{static create(e){return super.create(e)}static formats(e,r){const n=r.query(f_.blotName);if(!(n!=null&&e.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,r){super(e,r),this.attributes=new Qw(this.domNode)}format(e,r){const n=this.scroll.query(e,Bt.BLOCK);n!=null&&(n instanceof cc?this.attributes.attribute(n,r):e===this.statics.blotName&&!r?this.replaceWith(f_.blotName):r&&(e!==this.statics.blotName||this.formats()[e]!==r)&&this.replaceWith(e,r))}formats(){const e=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(e[this.statics.blotName]=r),e}formatAt(e,r,n,a){this.scroll.query(n,Bt.BLOCK)!=null?this.format(n,a):super.formatAt(e,r,n,a)}insertAt(e,r,n){if(n==null||this.scroll.query(r,Bt.INLINE)!=null)super.insertAt(e,r,n);else{const a=this.split(e);if(a!=null){const i=this.scroll.create(r,n);a.parent.insertBefore(i,a)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,r){const n=super.replaceWith(e,r);return this.attributes.copy(n),n}update(e,r){super.update(e,r),e.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};Nm.blotName="block",Nm.scope=Bt.BLOCK_BLOT,Nm.tagName="P",Nm.allowedChildren=[a4,Nm,Bs];let FTe=Nm;const _y=FTe,m_=class extends fl{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,r){super.deleteAt(e,r),this.enforceAllowedChildren()}formatAt(e,r,n,a){super.formatAt(e,r,n,a),this.enforceAllowedChildren()}insertAt(e,r,n){super.insertAt(e,r,n),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};m_.blotName="container",m_.scope=Bt.BLOCK_BLOT;let $Te=m_;const Zw=$Te;class BTe extends Bs{static formats(e,r){}format(e,r){super.formatAt(0,this.length(),e,r)}formatAt(e,r,n,a){e===0&&r===this.length()?this.format(n,a):super.formatAt(e,r,n,a)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const oo=BTe,qTe={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},HTe=100,Sm=class extends fl{constructor(e,r){super(null,r),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,qTe),this.attach()}create(e,r){return this.registry.create(this,e,r)}find(e,r=!1){const n=this.registry.find(e,r);return n?n.scroll===this?n:r?this.find(n.scroll.domNode.parentNode,!0):null:null}query(e,r=Bt.ANY){return this.registry.query(e,r)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,r){this.update(),e===0&&r===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(e,r)}formatAt(e,r,n,a){this.update(),super.formatAt(e,r,n,a)}insertAt(e,r,n){this.update(),super.insertAt(e,r,n)}optimize(e=[],r={}){super.optimize(r);const n=r.mutationsMap||new WeakMap;let a=Array.from(this.observer.takeRecords());for(;a.length>0;)e.push(a.pop());const i=(u,h=!0)=>{u==null||u===this||u.domNode.parentNode!=null&&(n.has(u.domNode)||n.set(u.domNode,[]),h&&i(u.parent))},o=u=>{n.has(u.domNode)&&(u instanceof fl&&u.children.forEach(o),n.delete(u.domNode),u.optimize(r))};let c=e;for(let u=0;c.length>0;u+=1){if(u>=HTe)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(h=>{const f=this.find(h.target,!0);f!=null&&(f.domNode===h.target&&(h.type==="childList"?(i(this.find(h.previousSibling,!1)),Array.from(h.addedNodes).forEach(p=>{const g=this.find(p,!1);i(g,!1),g instanceof fl&&g.children.forEach(x=>{i(x,!1)})})):h.type==="attributes"&&i(f.prev)),i(f))}),this.children.forEach(o),c=Array.from(this.observer.takeRecords()),a=c.slice();a.length>0;)e.push(a.pop())}}update(e,r={}){e=e||this.observer.takeRecords();const n=new WeakMap;e.map(a=>{const i=this.find(a.target,!0);return i==null?null:n.has(i.domNode)?(n.get(i.domNode).push(a),null):(n.set(i.domNode,[a]),i)}).forEach(a=>{a!=null&&a!==this&&n.has(a.domNode)&&a.update(n.get(a.domNode)||[],r)}),r.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),r),this.optimize(e,r)}};Sm.blotName="scroll",Sm.defaultChild=_y,Sm.allowedChildren=[_y,Zw],Sm.scope=Bt.BLOCK_BLOT,Sm.tagName="DIV";let WTe=Sm;const s4=WTe,p_=class ZY extends Bs{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,r){super(e,r),this.text=this.statics.value(this.domNode)}deleteAt(e,r){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+r)}index(e,r){return this.domNode===e?r:-1}insertAt(e,r,n){n==null?(this.text=this.text.slice(0,e)+r+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,r,n)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof ZY&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,r=!1){return[this.domNode,e]}split(e,r=!1){if(!r){if(e===0)return this;if(e===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(e,r){e.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};p_.blotName="text",p_.scope=Bt.INLINE_BLOT;let GTe=p_;const hj=GTe,YTe=Object.freeze(Object.defineProperty({__proto__:null,Attributor:cc,AttributorStore:Qw,BlockBlot:_y,ClassAttributor:El,ContainerBlot:Zw,EmbedBlot:oo,InlineBlot:a4,LeafBlot:Bs,ParentBlot:fl,Registry:yp,Scope:Bt,ScrollBlot:s4,StyleAttributor:Kd,TextBlot:hj},Symbol.toStringTag,{value:"Module"}));var p0={exports:{}},LS,X8;function KTe(){if(X8)return LS;X8=1;var t=-1,e=1,r=0;function n(P,R,U,$,K){if(P===R)return P?[[r,P]]:[];if(U!=null){var F=_(P,R,U);if(F)return F}var W=c(P,R),te=P.substring(0,W);P=P.substring(W),R=R.substring(W),W=h(P,R);var X=P.substring(P.length-W);P=P.substring(0,P.length-W),R=R.substring(0,R.length-W);var B=a(P,R);return te&&B.unshift([r,te]),X&&B.push([r,X]),E(B,K),$&&p(B),B}function a(P,R){var U;if(!P)return[[e,R]];if(!R)return[[t,P]];var $=P.length>R.length?P:R,K=P.length>R.length?R:P,F=$.indexOf(K);if(F!==-1)return U=[[e,$.substring(0,F)],[r,K],[e,$.substring(F+K.length)]],P.length>R.length&&(U[0][0]=U[2][0]=t),U;if(K.length===1)return[[t,P],[e,R]];var W=f(P,R);if(W){var te=W[0],X=W[1],B=W[2],G=W[3],J=W[4],ne=n(te,B),ie=n(X,G);return ne.concat([[r,J]],ie)}return i(P,R)}function i(P,R){for(var U=P.length,$=R.length,K=Math.ceil((U+$)/2),F=K,W=2*K,te=new Array(W),X=new Array(W),B=0;B<W;B++)te[B]=-1,X[B]=-1;te[F+1]=0,X[F+1]=0;for(var G=U-$,J=G%2!==0,ne=0,ie=0,se=0,je=0,Pe=0;Pe<K;Pe++){for(var ue=-Pe+ne;ue<=Pe-ie;ue+=2){var ae=F+ue,oe;ue===-Pe||ue!==Pe&&te[ae-1]<te[ae+1]?oe=te[ae+1]:oe=te[ae-1]+1;for(var ve=oe-ue;oe<U&&ve<$&&P.charAt(oe)===R.charAt(ve);)oe++,ve++;if(te[ae]=oe,oe>U)ie+=2;else if(ve>$)ne+=2;else if(J){var Y=F+G-ue;if(Y>=0&&Y<W&&X[Y]!==-1){var fe=U-X[Y];if(oe>=fe)return o(P,R,oe,ve)}}}for(var ee=-Pe+se;ee<=Pe-je;ee+=2){var Y=F+ee,fe;ee===-Pe||ee!==Pe&&X[Y-1]<X[Y+1]?fe=X[Y+1]:fe=X[Y-1]+1;for(var ye=fe-ee;fe<U&&ye<$&&P.charAt(U-fe-1)===R.charAt($-ye-1);)fe++,ye++;if(X[Y]=fe,fe>U)je+=2;else if(ye>$)se+=2;else if(!J){var ae=F+G-ee;if(ae>=0&&ae<W&&te[ae]!==-1){var oe=te[ae],ve=F+oe-ae;if(fe=U-fe,oe>=fe)return o(P,R,oe,ve)}}}}return[[t,P],[e,R]]}function o(P,R,U,$){var K=P.substring(0,U),F=R.substring(0,$),W=P.substring(U),te=R.substring($),X=n(K,F),B=n(W,te);return X.concat(B)}function c(P,R){if(!P||!R||P.charAt(0)!==R.charAt(0))return 0;for(var U=0,$=Math.min(P.length,R.length),K=$,F=0;U<K;)P.substring(F,K)==R.substring(F,K)?(U=K,F=U):$=K,K=Math.floor(($-U)/2+U);return A(P.charCodeAt(K-1))&&K--,K}function u(P,R){var U=P.length,$=R.length;if(U==0||$==0)return 0;U>$?P=P.substring(U-$):U<$&&(R=R.substring(0,U));var K=Math.min(U,$);if(P==R)return K;for(var F=0,W=1;;){var te=P.substring(K-W),X=R.indexOf(te);if(X==-1)return F;W+=X,(X==0||P.substring(K-W)==R.substring(0,W))&&(F=W,W++)}}function h(P,R){if(!P||!R||P.slice(-1)!==R.slice(-1))return 0;for(var U=0,$=Math.min(P.length,R.length),K=$,F=0;U<K;)P.substring(P.length-K,P.length-F)==R.substring(R.length-K,R.length-F)?(U=K,F=U):$=K,K=Math.floor(($-U)/2+U);return O(P.charCodeAt(P.length-K))&&K--,K}function f(P,R){var U=P.length>R.length?P:R,$=P.length>R.length?R:P;if(U.length<4||$.length*2<U.length)return null;function K(ie,se,je){for(var Pe=ie.substring(je,je+Math.floor(ie.length/4)),ue=-1,ae="",oe,ve,Y,fe;(ue=se.indexOf(Pe,ue+1))!==-1;){var ee=c(ie.substring(je),se.substring(ue)),ye=h(ie.substring(0,je),se.substring(0,ue));ae.length<ye+ee&&(ae=se.substring(ue-ye,ue)+se.substring(ue,ue+ee),oe=ie.substring(0,je-ye),ve=ie.substring(je+ee),Y=se.substring(0,ue-ye),fe=se.substring(ue+ee))}return ae.length*2>=ie.length?[oe,ve,Y,fe,ae]:null}var F=K(U,$,Math.ceil(U.length/4)),W=K(U,$,Math.ceil(U.length/2)),te;if(!F&&!W)return null;W?F?te=F[4].length>W[4].length?F:W:te=W:te=F;var X,B,G,J;P.length>R.length?(X=te[0],B=te[1],G=te[2],J=te[3]):(G=te[0],J=te[1],X=te[2],B=te[3]);var ne=te[4];return[X,B,G,J,ne]}function p(P){for(var R=!1,U=[],$=0,K=null,F=0,W=0,te=0,X=0,B=0;F<P.length;)P[F][0]==r?(U[$++]=F,W=X,te=B,X=0,B=0,K=P[F][1]):(P[F][0]==e?X+=P[F][1].length:B+=P[F][1].length,K&&K.length<=Math.max(W,te)&&K.length<=Math.max(X,B)&&(P.splice(U[$-1],0,[t,K]),P[U[$-1]+1][0]=e,$--,$--,F=$>0?U[$-1]:-1,W=0,te=0,X=0,B=0,K=null,R=!0)),F++;for(R&&E(P),N(P),F=1;F<P.length;){if(P[F-1][0]==t&&P[F][0]==e){var G=P[F-1][1],J=P[F][1],ne=u(G,J),ie=u(J,G);ne>=ie?(ne>=G.length/2||ne>=J.length/2)&&(P.splice(F,0,[r,J.substring(0,ne)]),P[F-1][1]=G.substring(0,G.length-ne),P[F+1][1]=J.substring(ne),F++):(ie>=G.length/2||ie>=J.length/2)&&(P.splice(F,0,[r,G.substring(0,ie)]),P[F-1][0]=e,P[F-1][1]=J.substring(0,J.length-ie),P[F+1][0]=t,P[F+1][1]=G.substring(ie),F++),F++}F++}}var g=/[^a-zA-Z0-9]/,x=/\s/,j=/[\r\n]/,w=/\n\r?\n$/,b=/^\r?\n\r?\n/;function N(P){function R(ie,se){if(!ie||!se)return 6;var je=ie.charAt(ie.length-1),Pe=se.charAt(0),ue=je.match(g),ae=Pe.match(g),oe=ue&&je.match(x),ve=ae&&Pe.match(x),Y=oe&&je.match(j),fe=ve&&Pe.match(j),ee=Y&&ie.match(w),ye=fe&&se.match(b);return ee||ye?5:Y||fe?4:ue&&!oe&&ve?3:oe||ve?2:ue||ae?1:0}for(var U=1;U<P.length-1;){if(P[U-1][0]==r&&P[U+1][0]==r){var $=P[U-1][1],K=P[U][1],F=P[U+1][1],W=h($,K);if(W){var te=K.substring(K.length-W);$=$.substring(0,$.length-W),K=te+K.substring(0,K.length-W),F=te+F}for(var X=$,B=K,G=F,J=R($,K)+R(K,F);K.charAt(0)===F.charAt(0);){$+=K.charAt(0),K=K.substring(1)+F.charAt(0),F=F.substring(1);var ne=R($,K)+R(K,F);ne>=J&&(J=ne,X=$,B=K,G=F)}P[U-1][1]!=X&&(X?P[U-1][1]=X:(P.splice(U-1,1),U--),P[U][1]=B,G?P[U+1][1]=G:(P.splice(U+1,1),U--))}U++}}function E(P,R){P.push([r,""]);for(var U=0,$=0,K=0,F="",W="",te;U<P.length;){if(U<P.length-1&&!P[U][1]){P.splice(U,1);continue}switch(P[U][0]){case e:K++,W+=P[U][1],U++;break;case t:$++,F+=P[U][1],U++;break;case r:var X=U-K-$-1;if(R){if(X>=0&&L(P[X][1])){var B=P[X][1].slice(-1);if(P[X][1]=P[X][1].slice(0,-1),F=B+F,W=B+W,!P[X][1]){P.splice(X,1),U--;var G=X-1;P[G]&&P[G][0]===e&&(K++,W=P[G][1]+W,G--),P[G]&&P[G][0]===t&&($++,F=P[G][1]+F,G--),X=G}}if(M(P[U][1])){var B=P[U][1].charAt(0);P[U][1]=P[U][1].slice(1),F+=B,W+=B}}if(U<P.length-1&&!P[U][1]){P.splice(U,1);break}if(F.length>0||W.length>0){F.length>0&&W.length>0&&(te=c(W,F),te!==0&&(X>=0?P[X][1]+=W.substring(0,te):(P.splice(0,0,[r,W.substring(0,te)]),U++),W=W.substring(te),F=F.substring(te)),te=h(W,F),te!==0&&(P[U][1]=W.substring(W.length-te)+P[U][1],W=W.substring(0,W.length-te),F=F.substring(0,F.length-te)));var J=K+$;F.length===0&&W.length===0?(P.splice(U-J,J),U=U-J):F.length===0?(P.splice(U-J,J,[e,W]),U=U-J+1):W.length===0?(P.splice(U-J,J,[t,F]),U=U-J+1):(P.splice(U-J,J,[t,F],[e,W]),U=U-J+2)}U!==0&&P[U-1][0]===r?(P[U-1][1]+=P[U][1],P.splice(U,1)):U++,K=0,$=0,F="",W="";break}}P[P.length-1][1]===""&&P.pop();var ne=!1;for(U=1;U<P.length-1;)P[U-1][0]===r&&P[U+1][0]===r&&(P[U][1].substring(P[U][1].length-P[U-1][1].length)===P[U-1][1]?(P[U][1]=P[U-1][1]+P[U][1].substring(0,P[U][1].length-P[U-1][1].length),P[U+1][1]=P[U-1][1]+P[U+1][1],P.splice(U-1,1),ne=!0):P[U][1].substring(0,P[U+1][1].length)==P[U+1][1]&&(P[U-1][1]+=P[U+1][1],P[U][1]=P[U][1].substring(P[U+1][1].length)+P[U+1][1],P.splice(U+1,1),ne=!0)),U++;ne&&E(P,R)}function A(P){return P>=55296&&P<=56319}function O(P){return P>=56320&&P<=57343}function M(P){return O(P.charCodeAt(0))}function L(P){return A(P.charCodeAt(P.length-1))}function I(P){for(var R=[],U=0;U<P.length;U++)P[U][1].length>0&&R.push(P[U]);return R}function T(P,R,U,$){return L(P)||M($)?null:I([[r,P],[t,R],[e,U],[r,$]])}function _(P,R,U){var $=typeof U=="number"?{index:U,length:0}:U.oldRange,K=typeof U=="number"?null:U.newRange,F=P.length,W=R.length;if($.length===0&&(K===null||K.length===0)){var te=$.index,X=P.slice(0,te),B=P.slice(te),G=K?K.index:null;e:{var J=te+W-F;if(G!==null&&G!==J||J<0||J>W)break e;var ne=R.slice(0,J),ie=R.slice(J);if(ie!==B)break e;var se=Math.min(te,J),je=X.slice(0,se),Pe=ne.slice(0,se);if(je!==Pe)break e;var ue=X.slice(se),ae=ne.slice(se);return T(je,ue,ae,B)}e:{if(G!==null&&G!==te)break e;var oe=te,ne=R.slice(0,oe),ie=R.slice(oe);if(ne!==X)break e;var ve=Math.min(F-oe,W-oe),Y=B.slice(B.length-ve),fe=ie.slice(ie.length-ve);if(Y!==fe)break e;var ue=B.slice(0,B.length-ve),ae=ie.slice(0,ie.length-ve);return T(X,ue,ae,Y)}}if($.length>0&&K&&K.length===0)e:{var je=P.slice(0,$.index),Y=P.slice($.index+$.length),se=je.length,ve=Y.length;if(W<se+ve)break e;var Pe=R.slice(0,se),fe=R.slice(W-ve);if(je!==Pe||Y!==fe)break e;var ue=P.slice(se,F-ve),ae=R.slice(se,W-ve);return T(je,ue,ae,Y)}return null}function D(P,R,U,$){return n(P,R,U,$,!0)}return D.INSERT=e,D.DELETE=t,D.EQUAL=r,LS=D,LS}var Nx={exports:{}};Nx.exports;var Q8;function JY(){return Q8||(Q8=1,(function(t,e){var r=200,n="__lodash_hash_undefined__",a=9007199254740991,i="[object Arguments]",o="[object Array]",c="[object Boolean]",u="[object Date]",h="[object Error]",f="[object Function]",p="[object GeneratorFunction]",g="[object Map]",x="[object Number]",j="[object Object]",w="[object Promise]",b="[object RegExp]",N="[object Set]",E="[object String]",A="[object Symbol]",O="[object WeakMap]",M="[object ArrayBuffer]",L="[object DataView]",I="[object Float32Array]",T="[object Float64Array]",_="[object Int8Array]",D="[object Int16Array]",P="[object Int32Array]",R="[object Uint8Array]",U="[object Uint8ClampedArray]",$="[object Uint16Array]",K="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,W=/\w*$/,te=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,B={};B[i]=B[o]=B[M]=B[L]=B[c]=B[u]=B[I]=B[T]=B[_]=B[D]=B[P]=B[g]=B[x]=B[j]=B[b]=B[N]=B[E]=B[A]=B[R]=B[U]=B[$]=B[K]=!0,B[h]=B[f]=B[O]=!1;var G=typeof cd=="object"&&cd&&cd.Object===Object&&cd,J=typeof self=="object"&&self&&self.Object===Object&&self,ne=G||J||Function("return this")(),ie=e&&!e.nodeType&&e,se=ie&&!0&&t&&!t.nodeType&&t,je=se&&se.exports===ie;function Pe(z,Q){return z.set(Q[0],Q[1]),z}function ue(z,Q){return z.add(Q),z}function ae(z,Q){for(var le=-1,Re=z?z.length:0;++le<Re&&Q(z[le],le,z)!==!1;);return z}function oe(z,Q){for(var le=-1,Re=Q.length,rr=z.length;++le<Re;)z[rr+le]=Q[le];return z}function ve(z,Q,le,Re){for(var rr=-1,Vt=z?z.length:0;++rr<Vt;)le=Q(le,z[rr],rr,z);return le}function Y(z,Q){for(var le=-1,Re=Array(z);++le<z;)Re[le]=Q(le);return Re}function fe(z,Q){return z==null?void 0:z[Q]}function ee(z){var Q=!1;if(z!=null&&typeof z.toString!="function")try{Q=!!(z+"")}catch{}return Q}function ye(z){var Q=-1,le=Array(z.size);return z.forEach(function(Re,rr){le[++Q]=[rr,Re]}),le}function Oe(z,Q){return function(le){return z(Q(le))}}function We(z){var Q=-1,le=Array(z.size);return z.forEach(function(Re){le[++Q]=Re}),le}var it=Array.prototype,ut=Function.prototype,At=Object.prototype,wt=ne["__core-js_shared__"],st=(function(){var z=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""})(),Ce=ut.toString,Ve=At.hasOwnProperty,Qe=At.toString,rt=RegExp("^"+Ce.call(Ve).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=je?ne.Buffer:void 0,gt=ne.Symbol,ht=ne.Uint8Array,Dt=Oe(Object.getPrototypeOf,Object),qt=Object.create,Rt=At.propertyIsEnumerable,Xt=it.splice,Qt=Object.getOwnPropertySymbols,pe=ot?ot.isBuffer:void 0,ge=Oe(Object.keys,Object),he=zn(ne,"DataView"),Te=zn(ne,"Map"),De=zn(ne,"Promise"),nt=zn(ne,"Set"),bt=zn(ne,"WeakMap"),kt=zn(Object,"create"),$e=Fn(he),dt=Fn(Te),Tt=Fn(De),Ge=Fn(nt),Ct=Fn(bt),sr=gt?gt.prototype:void 0,fr=sr?sr.valueOf:void 0;function St(z){var Q=-1,le=z?z.length:0;for(this.clear();++Q<le;){var Re=z[Q];this.set(Re[0],Re[1])}}function Se(){this.__data__=kt?kt(null):{}}function lt(z){return this.has(z)&&delete this.__data__[z]}function ir(z){var Q=this.__data__;if(kt){var le=Q[z];return le===n?void 0:le}return Ve.call(Q,z)?Q[z]:void 0}function Gt(z){var Q=this.__data__;return kt?Q[z]!==void 0:Ve.call(Q,z)}function kr(z,Q){var le=this.__data__;return le[z]=kt&&Q===void 0?n:Q,this}St.prototype.clear=Se,St.prototype.delete=lt,St.prototype.get=ir,St.prototype.has=Gt,St.prototype.set=kr;function Fr(z){var Q=-1,le=z?z.length:0;for(this.clear();++Q<le;){var Re=z[Q];this.set(Re[0],Re[1])}}function Pn(){this.__data__=[]}function Nn(z){var Q=this.__data__,le=et(Q,z);if(le<0)return!1;var Re=Q.length-1;return le==Re?Q.pop():Xt.call(Q,le,1),!0}function Ln(z){var Q=this.__data__,le=et(Q,z);return le<0?void 0:Q[le][1]}function pn(z){return et(this.__data__,z)>-1}function Un(z,Q){var le=this.__data__,Re=et(le,z);return Re<0?le.push([z,Q]):le[Re][1]=Q,this}Fr.prototype.clear=Pn,Fr.prototype.delete=Nn,Fr.prototype.get=Ln,Fr.prototype.has=pn,Fr.prototype.set=Un;function Ot(z){var Q=-1,le=z?z.length:0;for(this.clear();++Q<le;){var Re=z[Q];this.set(Re[0],Re[1])}}function pr(){this.__data__={hash:new St,map:new(Te||Fr),string:new St}}function Jt(z){return co(this,z).delete(z)}function Sn(z){return co(this,z).get(z)}function pt(z){return co(this,z).has(z)}function de(z,Q){return co(this,z).set(z,Q),this}Ot.prototype.clear=pr,Ot.prototype.delete=Jt,Ot.prototype.get=Sn,Ot.prototype.has=pt,Ot.prototype.set=de;function Fe(z){this.__data__=new Fr(z)}function vt(){this.__data__=new Fr}function yr(z){return this.__data__.delete(z)}function an(z){return this.__data__.get(z)}function en(z){return this.__data__.has(z)}function sn(z,Q){var le=this.__data__;if(le instanceof Fr){var Re=le.__data__;if(!Te||Re.length<r-1)return Re.push([z,Q]),this;le=this.__data__=new Ot(Re)}return le.set(z,Q),this}Fe.prototype.clear=vt,Fe.prototype.delete=yr,Fe.prototype.get=an,Fe.prototype.has=en,Fe.prototype.set=sn;function me(z,Q){var le=Oi(z)||gi(z)?Y(z.length,String):[],Re=le.length,rr=!!Re;for(var Vt in z)Ve.call(z,Vt)&&!(rr&&(Vt=="length"||Nu(Vt,Re)))&&le.push(Vt);return le}function Ye(z,Q,le){var Re=z[Q];(!(Ve.call(z,Q)&&vc(Re,le))||le===void 0&&!(Q in z))&&(z[Q]=le)}function et(z,Q){for(var le=z.length;le--;)if(vc(z[le][0],Q))return le;return-1}function Be(z,Q){return z&&ga(Q,Il(Q),z)}function Ze(z,Q,le,Re,rr,Vt,jr){var vr;if(Re&&(vr=Vt?Re(z,rr,Vt,jr):Re(z)),vr!==void 0)return vr;if(!_r(z))return z;var Zr=Oi(z);if(Zr){if(vr=xc(z),!Q)return La(z,vr)}else{var Nr=Xs(z),$n=Nr==f||Nr==p;if(xi(z))return tr(z,Q);if(Nr==j||Nr==i||$n&&!Vt){if(ee(z))return Vt?z:{};if(vr=us($n?{}:z),!Q)return cs(z,Be(vr,z))}else{if(!B[Nr])return Vt?z:{};vr=ku(z,Nr,Ze,Q)}}jr||(jr=new Fe);var Ya=jr.get(z);if(Ya)return Ya;if(jr.set(z,vr),!Zr)var Bn=le?Fo(z):Il(z);return ae(Bn||z,function(qn,Hn){Bn&&(Hn=qn,qn=z[Hn]),Ye(vr,Hn,Ze(qn,Q,le,Re,Hn,z,jr))}),vr}function Ue(z){return _r(z)?qt(z):{}}function Nt(z,Q,le){var Re=Q(z);return Oi(z)?Re:oe(Re,le(z))}function Pt(z){return Qe.call(z)}function _t(z){if(!_r(z)||yc(z))return!1;var Q=yi(z)||ee(z)?rt:te;return Q.test(Fn(z))}function Mt(z){if(!Cl(z))return ge(z);var Q=[];for(var le in Object(z))Ve.call(z,le)&&le!="constructor"&&Q.push(le);return Q}function tr(z,Q){if(Q)return z.slice();var le=new z.constructor(z.length);return z.copy(le),le}function Tr(z){var Q=new z.constructor(z.byteLength);return new ht(Q).set(new ht(z)),Q}function Gr(z,Q){var le=Q?Tr(z.buffer):z.buffer;return new z.constructor(le,z.byteOffset,z.byteLength)}function gr(z,Q,le){var Re=Q?le(ye(z),!0):ye(z);return ve(Re,Pe,new z.constructor)}function Vn(z){var Q=new z.constructor(z.source,W.exec(z));return Q.lastIndex=z.lastIndex,Q}function pa(z,Q,le){var Re=Q?le(We(z),!0):We(z);return ve(Re,ue,new z.constructor)}function tn(z){return fr?Object(fr.call(z)):{}}function Ra(z,Q){var le=Q?Tr(z.buffer):z.buffer;return new z.constructor(le,z.byteOffset,z.length)}function La(z,Q){var le=-1,Re=z.length;for(Q||(Q=Array(Re));++le<Re;)Q[le]=z[le];return Q}function ga(z,Q,le,Re){le||(le={});for(var rr=-1,Vt=Q.length;++rr<Vt;){var jr=Q[rr],vr=void 0;Ye(le,jr,vr===void 0?z[jr]:vr)}return le}function cs(z,Q){return ga(z,Ua(z),Q)}function Fo(z){return Nt(z,Il,Ua)}function co(z,Q){var le=z.__data__;return Qs(Q)?le[typeof Q=="string"?"string":"hash"]:le.map}function zn(z,Q){var le=fe(z,Q);return _t(le)?le:void 0}var Ua=Qt?Oe(Qt,Object):Bo,Xs=Pt;(he&&Xs(new he(new ArrayBuffer(1)))!=L||Te&&Xs(new Te)!=g||De&&Xs(De.resolve())!=w||nt&&Xs(new nt)!=N||bt&&Xs(new bt)!=O)&&(Xs=function(z){var Q=Qe.call(z),le=Q==j?z.constructor:void 0,Re=le?Fn(le):void 0;if(Re)switch(Re){case $e:return L;case dt:return g;case Tt:return w;case Ge:return N;case Ct:return O}return Q});function xc(z){var Q=z.length,le=z.constructor(Q);return Q&&typeof z[0]=="string"&&Ve.call(z,"index")&&(le.index=z.index,le.input=z.input),le}function us(z){return typeof z.constructor=="function"&&!Cl(z)?Ue(Dt(z)):{}}function ku(z,Q,le,Re){var rr=z.constructor;switch(Q){case M:return Tr(z);case c:case u:return new rr(+z);case L:return Gr(z,Re);case I:case T:case _:case D:case P:case R:case U:case $:case K:return Ra(z,Re);case g:return gr(z,Re,le);case x:case E:return new rr(z);case b:return Vn(z);case N:return pa(z,Re,le);case A:return tn(z)}}function Nu(z,Q){return Q=Q??a,!!Q&&(typeof z=="number"||X.test(z))&&z>-1&&z%1==0&&z<Q}function Qs(z){var Q=typeof z;return Q=="string"||Q=="number"||Q=="symbol"||Q=="boolean"?z!=="__proto__":z===null}function yc(z){return!!st&&st in z}function Cl(z){var Q=z&&z.constructor,le=typeof Q=="function"&&Q.prototype||At;return z===le}function Fn(z){if(z!=null){try{return Ce.call(z)}catch{}try{return z+""}catch{}}return""}function Sa(z){return Ze(z,!0,!0)}function vc(z,Q){return z===Q||z!==z&&Q!==Q}function gi(z){return Va(z)&&Ve.call(z,"callee")&&(!Rt.call(z,"callee")||Qe.call(z)==i)}var Oi=Array.isArray;function Zs(z){return z!=null&&ds(z.length)&&!yi(z)}function Va(z){return $o(z)&&Zs(z)}var xi=pe||qo;function yi(z){var Q=_r(z)?Qe.call(z):"";return Q==f||Q==p}function ds(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=a}function _r(z){var Q=typeof z;return!!z&&(Q=="object"||Q=="function")}function $o(z){return!!z&&typeof z=="object"}function Il(z){return Zs(z)?me(z):Mt(z)}function Bo(){return[]}function qo(){return!1}t.exports=Sa})(Nx,Nx.exports)),Nx.exports}var Sx={exports:{}};Sx.exports;var Z8;function eK(){return Z8||(Z8=1,(function(t,e){var r=200,n="__lodash_hash_undefined__",a=1,i=2,o=9007199254740991,c="[object Arguments]",u="[object Array]",h="[object AsyncFunction]",f="[object Boolean]",p="[object Date]",g="[object Error]",x="[object Function]",j="[object GeneratorFunction]",w="[object Map]",b="[object Number]",N="[object Null]",E="[object Object]",A="[object Promise]",O="[object Proxy]",M="[object RegExp]",L="[object Set]",I="[object String]",T="[object Symbol]",_="[object Undefined]",D="[object WeakMap]",P="[object ArrayBuffer]",R="[object DataView]",U="[object Float32Array]",$="[object Float64Array]",K="[object Int8Array]",F="[object Int16Array]",W="[object Int32Array]",te="[object Uint8Array]",X="[object Uint8ClampedArray]",B="[object Uint16Array]",G="[object Uint32Array]",J=/[\\^$.*+?()[\]{}|]/g,ne=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,se={};se[U]=se[$]=se[K]=se[F]=se[W]=se[te]=se[X]=se[B]=se[G]=!0,se[c]=se[u]=se[P]=se[f]=se[R]=se[p]=se[g]=se[x]=se[w]=se[b]=se[E]=se[M]=se[L]=se[I]=se[D]=!1;var je=typeof cd=="object"&&cd&&cd.Object===Object&&cd,Pe=typeof self=="object"&&self&&self.Object===Object&&self,ue=je||Pe||Function("return this")(),ae=e&&!e.nodeType&&e,oe=ae&&!0&&t&&!t.nodeType&&t,ve=oe&&oe.exports===ae,Y=ve&&je.process,fe=(function(){try{return Y&&Y.binding&&Y.binding("util")}catch{}})(),ee=fe&&fe.isTypedArray;function ye(z,Q){for(var le=-1,Re=z==null?0:z.length,rr=0,Vt=[];++le<Re;){var jr=z[le];Q(jr,le,z)&&(Vt[rr++]=jr)}return Vt}function Oe(z,Q){for(var le=-1,Re=Q.length,rr=z.length;++le<Re;)z[rr+le]=Q[le];return z}function We(z,Q){for(var le=-1,Re=z==null?0:z.length;++le<Re;)if(Q(z[le],le,z))return!0;return!1}function it(z,Q){for(var le=-1,Re=Array(z);++le<z;)Re[le]=Q(le);return Re}function ut(z){return function(Q){return z(Q)}}function At(z,Q){return z.has(Q)}function wt(z,Q){return z==null?void 0:z[Q]}function st(z){var Q=-1,le=Array(z.size);return z.forEach(function(Re,rr){le[++Q]=[rr,Re]}),le}function Ce(z,Q){return function(le){return z(Q(le))}}function Ve(z){var Q=-1,le=Array(z.size);return z.forEach(function(Re){le[++Q]=Re}),le}var Qe=Array.prototype,rt=Function.prototype,ot=Object.prototype,gt=ue["__core-js_shared__"],ht=rt.toString,Dt=ot.hasOwnProperty,qt=(function(){var z=/[^.]+$/.exec(gt&&gt.keys&&gt.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""})(),Rt=ot.toString,Xt=RegExp("^"+ht.call(Dt).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qt=ve?ue.Buffer:void 0,pe=ue.Symbol,ge=ue.Uint8Array,he=ot.propertyIsEnumerable,Te=Qe.splice,De=pe?pe.toStringTag:void 0,nt=Object.getOwnPropertySymbols,bt=Qt?Qt.isBuffer:void 0,kt=Ce(Object.keys,Object),$e=Ua(ue,"DataView"),dt=Ua(ue,"Map"),Tt=Ua(ue,"Promise"),Ge=Ua(ue,"Set"),Ct=Ua(ue,"WeakMap"),sr=Ua(Object,"create"),fr=Fn($e),St=Fn(dt),Se=Fn(Tt),lt=Fn(Ge),ir=Fn(Ct),Gt=pe?pe.prototype:void 0,kr=Gt?Gt.valueOf:void 0;function Fr(z){var Q=-1,le=z==null?0:z.length;for(this.clear();++Q<le;){var Re=z[Q];this.set(Re[0],Re[1])}}function Pn(){this.__data__=sr?sr(null):{},this.size=0}function Nn(z){var Q=this.has(z)&&delete this.__data__[z];return this.size-=Q?1:0,Q}function Ln(z){var Q=this.__data__;if(sr){var le=Q[z];return le===n?void 0:le}return Dt.call(Q,z)?Q[z]:void 0}function pn(z){var Q=this.__data__;return sr?Q[z]!==void 0:Dt.call(Q,z)}function Un(z,Q){var le=this.__data__;return this.size+=this.has(z)?0:1,le[z]=sr&&Q===void 0?n:Q,this}Fr.prototype.clear=Pn,Fr.prototype.delete=Nn,Fr.prototype.get=Ln,Fr.prototype.has=pn,Fr.prototype.set=Un;function Ot(z){var Q=-1,le=z==null?0:z.length;for(this.clear();++Q<le;){var Re=z[Q];this.set(Re[0],Re[1])}}function pr(){this.__data__=[],this.size=0}function Jt(z){var Q=this.__data__,le=tr(Q,z);if(le<0)return!1;var Re=Q.length-1;return le==Re?Q.pop():Te.call(Q,le,1),--this.size,!0}function Sn(z){var Q=this.__data__,le=tr(Q,z);return le<0?void 0:Q[le][1]}function pt(z){return tr(this.__data__,z)>-1}function de(z,Q){var le=this.__data__,Re=tr(le,z);return Re<0?(++this.size,le.push([z,Q])):le[Re][1]=Q,this}Ot.prototype.clear=pr,Ot.prototype.delete=Jt,Ot.prototype.get=Sn,Ot.prototype.has=pt,Ot.prototype.set=de;function Fe(z){var Q=-1,le=z==null?0:z.length;for(this.clear();++Q<le;){var Re=z[Q];this.set(Re[0],Re[1])}}function vt(){this.size=0,this.__data__={hash:new Fr,map:new(dt||Ot),string:new Fr}}function yr(z){var Q=zn(this,z).delete(z);return this.size-=Q?1:0,Q}function an(z){return zn(this,z).get(z)}function en(z){return zn(this,z).has(z)}function sn(z,Q){var le=zn(this,z),Re=le.size;return le.set(z,Q),this.size+=le.size==Re?0:1,this}Fe.prototype.clear=vt,Fe.prototype.delete=yr,Fe.prototype.get=an,Fe.prototype.has=en,Fe.prototype.set=sn;function me(z){var Q=-1,le=z==null?0:z.length;for(this.__data__=new Fe;++Q<le;)this.add(z[Q])}function Ye(z){return this.__data__.set(z,n),this}function et(z){return this.__data__.has(z)}me.prototype.add=me.prototype.push=Ye,me.prototype.has=et;function Be(z){var Q=this.__data__=new Ot(z);this.size=Q.size}function Ze(){this.__data__=new Ot,this.size=0}function Ue(z){var Q=this.__data__,le=Q.delete(z);return this.size=Q.size,le}function Nt(z){return this.__data__.get(z)}function Pt(z){return this.__data__.has(z)}function _t(z,Q){var le=this.__data__;if(le instanceof Ot){var Re=le.__data__;if(!dt||Re.length<r-1)return Re.push([z,Q]),this.size=++le.size,this;le=this.__data__=new Fe(Re)}return le.set(z,Q),this.size=le.size,this}Be.prototype.clear=Ze,Be.prototype.delete=Ue,Be.prototype.get=Nt,Be.prototype.has=Pt,Be.prototype.set=_t;function Mt(z,Q){var le=gi(z),Re=!le&&vc(z),rr=!le&&!Re&&Zs(z),Vt=!le&&!Re&&!rr&&$o(z),jr=le||Re||rr||Vt,vr=jr?it(z.length,String):[],Zr=vr.length;for(var Nr in z)Dt.call(z,Nr)&&!(jr&&(Nr=="length"||rr&&(Nr=="offset"||Nr=="parent")||Vt&&(Nr=="buffer"||Nr=="byteLength"||Nr=="byteOffset")||ku(Nr,Zr)))&&vr.push(Nr);return vr}function tr(z,Q){for(var le=z.length;le--;)if(Sa(z[le][0],Q))return le;return-1}function Tr(z,Q,le){var Re=Q(z);return gi(z)?Re:Oe(Re,le(z))}function Gr(z){return z==null?z===void 0?_:N:De&&De in Object(z)?Xs(z):Cl(z)}function gr(z){return _r(z)&&Gr(z)==c}function Vn(z,Q,le,Re,rr){return z===Q?!0:z==null||Q==null||!_r(z)&&!_r(Q)?z!==z&&Q!==Q:pa(z,Q,le,Re,Vn,rr)}function pa(z,Q,le,Re,rr,Vt){var jr=gi(z),vr=gi(Q),Zr=jr?u:us(z),Nr=vr?u:us(Q);Zr=Zr==c?E:Zr,Nr=Nr==c?E:Nr;var $n=Zr==E,Ya=Nr==E,Bn=Zr==Nr;if(Bn&&Zs(z)){if(!Zs(Q))return!1;jr=!0,$n=!1}if(Bn&&!$n)return Vt||(Vt=new Be),jr||$o(z)?ga(z,Q,le,Re,rr,Vt):cs(z,Q,Zr,le,Re,rr,Vt);if(!(le&a)){var qn=$n&&Dt.call(z,"__wrapped__"),Hn=Ya&&Dt.call(Q,"__wrapped__");if(qn||Hn){var Pi=qn?z.value():z,Js=Hn?Q.value():Q;return Vt||(Vt=new Be),rr(Pi,Js,le,Re,Vt)}}return Bn?(Vt||(Vt=new Be),Fo(z,Q,le,Re,rr,Vt)):!1}function tn(z){if(!ds(z)||Qs(z))return!1;var Q=xi(z)?Xt:ne;return Q.test(Fn(z))}function Ra(z){return _r(z)&&yi(z.length)&&!!se[Gr(z)]}function La(z){if(!yc(z))return kt(z);var Q=[];for(var le in Object(z))Dt.call(z,le)&&le!="constructor"&&Q.push(le);return Q}function ga(z,Q,le,Re,rr,Vt){var jr=le&a,vr=z.length,Zr=Q.length;if(vr!=Zr&&!(jr&&Zr>vr))return!1;var Nr=Vt.get(z);if(Nr&&Vt.get(Q))return Nr==Q;var $n=-1,Ya=!0,Bn=le&i?new me:void 0;for(Vt.set(z,Q),Vt.set(Q,z);++$n<vr;){var qn=z[$n],Hn=Q[$n];if(Re)var Pi=jr?Re(Hn,qn,$n,Q,z,Vt):Re(qn,Hn,$n,z,Q,Vt);if(Pi!==void 0){if(Pi)continue;Ya=!1;break}if(Bn){if(!We(Q,function(Js,Mi){if(!At(Bn,Mi)&&(qn===Js||rr(qn,Js,le,Re,Vt)))return Bn.push(Mi)})){Ya=!1;break}}else if(!(qn===Hn||rr(qn,Hn,le,Re,Vt))){Ya=!1;break}}return Vt.delete(z),Vt.delete(Q),Ya}function cs(z,Q,le,Re,rr,Vt,jr){switch(le){case R:if(z.byteLength!=Q.byteLength||z.byteOffset!=Q.byteOffset)return!1;z=z.buffer,Q=Q.buffer;case P:return!(z.byteLength!=Q.byteLength||!Vt(new ge(z),new ge(Q)));case f:case p:case b:return Sa(+z,+Q);case g:return z.name==Q.name&&z.message==Q.message;case M:case I:return z==Q+"";case w:var vr=st;case L:var Zr=Re&a;if(vr||(vr=Ve),z.size!=Q.size&&!Zr)return!1;var Nr=jr.get(z);if(Nr)return Nr==Q;Re|=i,jr.set(z,Q);var $n=ga(vr(z),vr(Q),Re,rr,Vt,jr);return jr.delete(z),$n;case T:if(kr)return kr.call(z)==kr.call(Q)}return!1}function Fo(z,Q,le,Re,rr,Vt){var jr=le&a,vr=co(z),Zr=vr.length,Nr=co(Q),$n=Nr.length;if(Zr!=$n&&!jr)return!1;for(var Ya=Zr;Ya--;){var Bn=vr[Ya];if(!(jr?Bn in Q:Dt.call(Q,Bn)))return!1}var qn=Vt.get(z);if(qn&&Vt.get(Q))return qn==Q;var Hn=!0;Vt.set(z,Q),Vt.set(Q,z);for(var Pi=jr;++Ya<Zr;){Bn=vr[Ya];var Js=z[Bn],Mi=Q[Bn];if(Re)var th=jr?Re(Mi,Js,Bn,Q,z,Vt):Re(Js,Mi,Bn,z,Q,Vt);if(!(th===void 0?Js===Mi||rr(Js,Mi,le,Re,Vt):th)){Hn=!1;break}Pi||(Pi=Bn=="constructor")}if(Hn&&!Pi){var Ho=z.constructor,Ol=Q.constructor;Ho!=Ol&&"constructor"in z&&"constructor"in Q&&!(typeof Ho=="function"&&Ho instanceof Ho&&typeof Ol=="function"&&Ol instanceof Ol)&&(Hn=!1)}return Vt.delete(z),Vt.delete(Q),Hn}function co(z){return Tr(z,Il,xc)}function zn(z,Q){var le=z.__data__;return Nu(Q)?le[typeof Q=="string"?"string":"hash"]:le.map}function Ua(z,Q){var le=wt(z,Q);return tn(le)?le:void 0}function Xs(z){var Q=Dt.call(z,De),le=z[De];try{z[De]=void 0;var Re=!0}catch{}var rr=Rt.call(z);return Re&&(Q?z[De]=le:delete z[De]),rr}var xc=nt?function(z){return z==null?[]:(z=Object(z),ye(nt(z),function(Q){return he.call(z,Q)}))}:Bo,us=Gr;($e&&us(new $e(new ArrayBuffer(1)))!=R||dt&&us(new dt)!=w||Tt&&us(Tt.resolve())!=A||Ge&&us(new Ge)!=L||Ct&&us(new Ct)!=D)&&(us=function(z){var Q=Gr(z),le=Q==E?z.constructor:void 0,Re=le?Fn(le):"";if(Re)switch(Re){case fr:return R;case St:return w;case Se:return A;case lt:return L;case ir:return D}return Q});function ku(z,Q){return Q=Q??o,!!Q&&(typeof z=="number"||ie.test(z))&&z>-1&&z%1==0&&z<Q}function Nu(z){var Q=typeof z;return Q=="string"||Q=="number"||Q=="symbol"||Q=="boolean"?z!=="__proto__":z===null}function Qs(z){return!!qt&&qt in z}function yc(z){var Q=z&&z.constructor,le=typeof Q=="function"&&Q.prototype||ot;return z===le}function Cl(z){return Rt.call(z)}function Fn(z){if(z!=null){try{return ht.call(z)}catch{}try{return z+""}catch{}}return""}function Sa(z,Q){return z===Q||z!==z&&Q!==Q}var vc=gr((function(){return arguments})())?gr:function(z){return _r(z)&&Dt.call(z,"callee")&&!he.call(z,"callee")},gi=Array.isArray;function Oi(z){return z!=null&&yi(z.length)&&!xi(z)}var Zs=bt||qo;function Va(z,Q){return Vn(z,Q)}function xi(z){if(!ds(z))return!1;var Q=Gr(z);return Q==x||Q==j||Q==h||Q==O}function yi(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=o}function ds(z){var Q=typeof z;return z!=null&&(Q=="object"||Q=="function")}function _r(z){return z!=null&&typeof z=="object"}var $o=ee?ut(ee):Ra;function Il(z){return Oi(z)?Mt(z):La(z)}function Bo(){return[]}function qo(){return!1}t.exports=Va})(Sx,Sx.exports)),Sx.exports}var g0={},J8;function XTe(){if(J8)return g0;J8=1,Object.defineProperty(g0,"__esModule",{value:!0});const t=JY(),e=eK();var r;return(function(n){function a(u={},h={},f=!1){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});let p=t(h);f||(p=Object.keys(p).reduce((g,x)=>(p[x]!=null&&(g[x]=p[x]),g),{}));for(const g in u)u[g]!==void 0&&h[g]===void 0&&(p[g]=u[g]);return Object.keys(p).length>0?p:void 0}n.compose=a;function i(u={},h={}){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});const f=Object.keys(u).concat(Object.keys(h)).reduce((p,g)=>(e(u[g],h[g])||(p[g]=h[g]===void 0?null:h[g]),p),{});return Object.keys(f).length>0?f:void 0}n.diff=i;function o(u={},h={}){u=u||{};const f=Object.keys(h).reduce((p,g)=>(h[g]!==u[g]&&u[g]!==void 0&&(p[g]=h[g]),p),{});return Object.keys(u).reduce((p,g)=>(u[g]!==h[g]&&h[g]===void 0&&(p[g]=null),p),f)}n.invert=o;function c(u,h,f=!1){if(typeof u!="object")return h;if(typeof h!="object")return;if(!f)return h;const p=Object.keys(h).reduce((g,x)=>(u[x]===void 0&&(g[x]=h[x]),g),{});return Object.keys(p).length>0?p:void 0}n.transform=c})(r||(r={})),g0.default=r,g0}var x0={},eU;function tK(){if(eU)return x0;eU=1,Object.defineProperty(x0,"__esModule",{value:!0});var t;return(function(e){function r(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}e.length=r})(t||(t={})),x0.default=t,x0}var y0={},tU;function QTe(){if(tU)return y0;tU=1,Object.defineProperty(y0,"__esModule",{value:!0});const t=tK();class e{constructor(n){this.ops=n,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(n){n||(n=1/0);const a=this.ops[this.index];if(a){const i=this.offset,o=t.default.length(a);if(n>=o-i?(n=o-i,this.index+=1,this.offset=0):this.offset+=n,typeof a.delete=="number")return{delete:n};{const c={};return a.attributes&&(c.attributes=a.attributes),typeof a.retain=="number"?c.retain=n:typeof a.retain=="object"&&a.retain!==null?c.retain=a.retain:typeof a.insert=="string"?c.insert=a.insert.substr(i,n):c.insert=a.insert,c}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?t.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const n=this.ops[this.index];return n?typeof n.delete=="number"?"delete":typeof n.retain=="number"||typeof n.retain=="object"&&n.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const n=this.offset,a=this.index,i=this.next(),o=this.ops.slice(this.index);return this.offset=n,this.index=a,[i].concat(o)}}else return[]}}return y0.default=e,y0}var rU;function ZTe(){return rU||(rU=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const r=KTe(),n=JY(),a=eK(),i=XTe();e.AttributeMap=i.default;const o=tK();e.Op=o.default;const c=QTe();e.OpIterator=c.default;const u="\0",h=(p,g)=>{if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);const x=Object.keys(p)[0];if(!x||x!==Object.keys(g)[0])throw new Error(`embed types not matched: ${x} != ${Object.keys(g)[0]}`);return[x,p[x],g[x]]};class f{constructor(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]}static registerEmbed(g,x){this.handlers[g]=x}static unregisterEmbed(g){delete this.handlers[g]}static getHandler(g){const x=this.handlers[g];if(!x)throw new Error(`no handlers for embed type "${g}"`);return x}insert(g,x){const j={};return typeof g=="string"&&g.length===0?this:(j.insert=g,x!=null&&typeof x=="object"&&Object.keys(x).length>0&&(j.attributes=x),this.push(j))}delete(g){return g<=0?this:this.push({delete:g})}retain(g,x){if(typeof g=="number"&&g<=0)return this;const j={retain:g};return x!=null&&typeof x=="object"&&Object.keys(x).length>0&&(j.attributes=x),this.push(j)}push(g){let x=this.ops.length,j=this.ops[x-1];if(g=n(g),typeof j=="object"){if(typeof g.delete=="number"&&typeof j.delete=="number")return this.ops[x-1]={delete:j.delete+g.delete},this;if(typeof j.delete=="number"&&g.insert!=null&&(x-=1,j=this.ops[x-1],typeof j!="object"))return this.ops.unshift(g),this;if(a(g.attributes,j.attributes)){if(typeof g.insert=="string"&&typeof j.insert=="string")return this.ops[x-1]={insert:j.insert+g.insert},typeof g.attributes=="object"&&(this.ops[x-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof j.retain=="number")return this.ops[x-1]={retain:j.retain+g.retain},typeof g.attributes=="object"&&(this.ops[x-1].attributes=g.attributes),this}}return x===this.ops.length?this.ops.push(g):this.ops.splice(x,0,g),this}chop(){const g=this.ops[this.ops.length-1];return g&&typeof g.retain=="number"&&!g.attributes&&this.ops.pop(),this}filter(g){return this.ops.filter(g)}forEach(g){this.ops.forEach(g)}map(g){return this.ops.map(g)}partition(g){const x=[],j=[];return this.forEach(w=>{(g(w)?x:j).push(w)}),[x,j]}reduce(g,x){return this.ops.reduce(g,x)}changeLength(){return this.reduce((g,x)=>x.insert?g+o.default.length(x):x.delete?g-x.delete:g,0)}length(){return this.reduce((g,x)=>g+o.default.length(x),0)}slice(g=0,x=1/0){const j=[],w=new c.default(this.ops);let b=0;for(;b<x&&w.hasNext();){let N;b<g?N=w.next(g-b):(N=w.next(x-b),j.push(N)),b+=o.default.length(N)}return new f(j)}compose(g){const x=new c.default(this.ops),j=new c.default(g.ops),w=[],b=j.peek();if(b!=null&&typeof b.retain=="number"&&b.attributes==null){let E=b.retain;for(;x.peekType()==="insert"&&x.peekLength()<=E;)E-=x.peekLength(),w.push(x.next());b.retain-E>0&&j.next(b.retain-E)}const N=new f(w);for(;x.hasNext()||j.hasNext();)if(j.peekType()==="insert")N.push(j.next());else if(x.peekType()==="delete")N.push(x.next());else{const E=Math.min(x.peekLength(),j.peekLength()),A=x.next(E),O=j.next(E);if(O.retain){const M={};if(typeof A.retain=="number")M.retain=typeof O.retain=="number"?E:O.retain;else if(typeof O.retain=="number")A.retain==null?M.insert=A.insert:M.retain=A.retain;else{const I=A.retain==null?"insert":"retain",[T,_,D]=h(A[I],O.retain),P=f.getHandler(T);M[I]={[T]:P.compose(_,D,I==="retain")}}const L=i.default.compose(A.attributes,O.attributes,typeof A.retain=="number");if(L&&(M.attributes=L),N.push(M),!j.hasNext()&&a(N.ops[N.ops.length-1],M)){const I=new f(x.rest());return N.concat(I).chop()}}else typeof O.delete=="number"&&(typeof A.retain=="number"||typeof A.retain=="object"&&A.retain!==null)&&N.push(O)}return N.chop()}concat(g){const x=new f(this.ops.slice());return g.ops.length>0&&(x.push(g.ops[0]),x.ops=x.ops.concat(g.ops.slice(1))),x}diff(g,x){if(this.ops===g.ops)return new f;const j=[this,g].map(A=>A.map(O=>{if(O.insert!=null)return typeof O.insert=="string"?O.insert:u;const M=A===g?"on":"with";throw new Error("diff() called "+M+" non-document")}).join("")),w=new f,b=r(j[0],j[1],x,!0),N=new c.default(this.ops),E=new c.default(g.ops);return b.forEach(A=>{let O=A[1].length;for(;O>0;){let M=0;switch(A[0]){case r.INSERT:M=Math.min(E.peekLength(),O),w.push(E.next(M));break;case r.DELETE:M=Math.min(O,N.peekLength()),N.next(M),w.delete(M);break;case r.EQUAL:M=Math.min(N.peekLength(),E.peekLength(),O);const L=N.next(M),I=E.next(M);a(L.insert,I.insert)?w.retain(M,i.default.diff(L.attributes,I.attributes)):w.push(I).delete(M);break}O-=M}}),w.chop()}eachLine(g,x=`
`){const j=new c.default(this.ops);let w=new f,b=0;for(;j.hasNext();){if(j.peekType()!=="insert")return;const N=j.peek(),E=o.default.length(N)-j.peekLength(),A=typeof N.insert=="string"?N.insert.indexOf(x,E)-E:-1;if(A<0)w.push(j.next());else if(A>0)w.push(j.next(A));else{if(g(w,j.next(1).attributes||{},b)===!1)return;b+=1,w=new f}}w.length()>0&&g(w,{},b)}invert(g){const x=new f;return this.reduce((j,w)=>{if(w.insert)x.delete(o.default.length(w));else{if(typeof w.retain=="number"&&w.attributes==null)return x.retain(w.retain),j+w.retain;if(w.delete||typeof w.retain=="number"){const b=w.delete||w.retain;return g.slice(j,j+b).forEach(E=>{w.delete?x.push(E):w.retain&&w.attributes&&x.retain(o.default.length(E),i.default.invert(w.attributes,E.attributes))}),j+b}else if(typeof w.retain=="object"&&w.retain!==null){const b=g.slice(j,j+1),N=new c.default(b.ops).next(),[E,A,O]=h(w.retain,N.insert),M=f.getHandler(E);return x.retain({[E]:M.invert(A,O)},i.default.invert(w.attributes,N.attributes)),j+1}}return j},0),x.chop()}transform(g,x=!1){if(x=!!x,typeof g=="number")return this.transformPosition(g,x);const j=g,w=new c.default(this.ops),b=new c.default(j.ops),N=new f;for(;w.hasNext()||b.hasNext();)if(w.peekType()==="insert"&&(x||b.peekType()!=="insert"))N.retain(o.default.length(w.next()));else if(b.peekType()==="insert")N.push(b.next());else{const E=Math.min(w.peekLength(),b.peekLength()),A=w.next(E),O=b.next(E);if(A.delete)continue;if(O.delete)N.push(O);else{const M=A.retain,L=O.retain;let I=typeof L=="object"&&L!==null?L:E;if(typeof M=="object"&&M!==null&&typeof L=="object"&&L!==null){const T=Object.keys(M)[0];if(T===Object.keys(L)[0]){const _=f.getHandler(T);_&&(I={[T]:_.transform(M[T],L[T],x)})}}N.retain(I,i.default.transform(A.attributes,O.attributes,x))}}return N.chop()}transformPosition(g,x=!1){x=!!x;const j=new c.default(this.ops);let w=0;for(;j.hasNext()&&w<=g;){const b=j.peekLength(),N=j.peekType();if(j.next(),N==="delete"){g-=Math.min(b,g-w);continue}else N==="insert"&&(w<g||!x)&&(g+=b);w+=b}return g}}f.Op=o.default,f.OpIterator=c.default,f.AttributeMap=i.default,f.handlers={},e.default=f,t.exports=f,t.exports.default=f})(p0,p0.exports)),p0.exports}var Io=ZTe();const $t=jl(Io);class Al extends oo{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Al.blotName="break";Al.tagName="BR";let bl=class extends hj{};const JTe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Jw(t){return t.replace(/[&<>"']/g,e=>JTe[e])}const ql=class ql extends a4{static compare(e,r){const n=ql.order.indexOf(e),a=ql.order.indexOf(r);return n>=0||a>=0?n-a:e===r?0:e<r?-1:1}formatAt(e,r,n,a){if(ql.compare(this.statics.blotName,n)<0&&this.scroll.query(n,Bt.BLOT)){const i=this.isolate(e,r);a&&i.wrap(n,a)}else super.formatAt(e,r,n,a)}optimize(e){if(super.optimize(e),this.parent instanceof ql&&ql.compare(this.statics.blotName,this.parent.statics.blotName)>0){const r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}};yt(ql,"allowedChildren",[ql,Al,oo,bl]),yt(ql,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let uc=ql;const nU=1;class As extends _y{constructor(){super(...arguments);yt(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=rK(this)),this.cache.delta}deleteAt(r,n){super.deleteAt(r,n),this.cache={}}formatAt(r,n,a,i){n<=0||(this.scroll.query(a,Bt.BLOCK)?r+n===this.length()&&this.format(a,i):super.formatAt(r,Math.min(n,this.length()-r-1),a,i),this.cache={})}insertAt(r,n,a){if(a!=null){super.insertAt(r,n,a),this.cache={};return}if(n.length===0)return;const i=n.split(`
`),o=i.shift();o.length>0&&(r<this.length()-1||this.children.tail==null?super.insertAt(Math.min(r,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let c=this;i.reduce((u,h)=>(c=c.split(u,!0),c.insertAt(0,h),h.length),r+o.length)}insertBefore(r,n){const{head:a}=this.children;super.insertBefore(r,n),a instanceof Al&&a.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+nU),this.cache.length}moveChildren(r,n){super.moveChildren(r,n),this.cache={}}optimize(r){super.optimize(r),this.cache={}}path(r){return super.path(r,!0)}removeChild(r){super.removeChild(r),this.cache={}}split(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n&&(r===0||r>=this.length()-nU)){const i=this.clone();return r===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const a=super.split(r,n);return this.cache={},a}}As.blotName="block";As.tagName="P";As.defaultChild=Al;As.allowedChildren=[Al,uc,oo,bl];class _o extends oo{attach(){super.attach(),this.attributes=new Qw(this.domNode)}delta(){return new $t().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,r){const n=this.scroll.query(e,Bt.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,r)}formatAt(e,r,n,a){this.format(n,a)}insertAt(e,r,n){if(n!=null){super.insertAt(e,r,n);return}const a=r.split(`
`),i=a.pop(),o=a.map(u=>{const h=this.scroll.create(As.blotName);return h.insertAt(0,u),h}),c=this.split(e);o.forEach(u=>{this.parent.insertBefore(u,c)}),i&&this.parent.insertBefore(this.scroll.create("text",i),c)}}_o.scope=Bt.BLOCK_BLOT;function rK(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(Bs).reduce((r,n)=>n.length()===0?r:r.insert(n.value(),So(n,{},e)),new $t).insert(`
`,So(t))}function So(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e={...e,...t.formats()},r&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:So(t.parent,e,r)}var ai;let e2=(ai=class extends oo{static value(){}constructor(e,r,n){super(e,r),this.selection=n,this.textNode=document.createTextNode(ai.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,r){if(this.savedLength!==0){super.format(e,r);return}let n=this,a=0;for(;n!=null&&n.statics.scope!==Bt.BLOCK_BLOT;)a+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=ai.CONTENTS.length,n.optimize(),n.formatAt(a,ai.CONTENTS.length,e,r),this.savedLength=0)}index(e,r){return e===this.textNode?0:super.index(e,r)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const r=this.prev instanceof bl?this.prev:null,n=r?r.length():0,a=this.next instanceof bl?this.next:null,i=a?a.text:"",{textNode:o}=this,c=o.data.split(ai.CONTENTS).join("");o.data=ai.CONTENTS;let u;if(r)u=r,(c||a)&&(r.insertAt(r.length(),c+i),a&&a.remove());else if(a)u=a,a.insertAt(0,c);else{const h=document.createTextNode(c);u=this.scroll.create(h),this.parent.insertBefore(u,this)}if(this.remove(),e){const h=(g,x)=>r&&g===r.domNode?x:g===o?n+x-1:a&&g===a.domNode?n+c.length+x:null,f=h(e.start.node,e.start.offset),p=h(e.end.node,e.end.offset);if(f!==null&&p!==null)return{startNode:u.domNode,startOffset:f,endNode:u.domNode,endOffset:p}}return null}update(e,r){if(e.some(n=>n.type==="characterData"&&n.target===this.textNode)){const n=this.restore();n&&(r.range=n)}}optimize(e){super.optimize(e);let{parent:r}=this;for(;r;){if(r.domNode.tagName==="A"){this.savedLength=ai.CONTENTS.length,r.isolate(this.offset(r),this.length()).unwrap(),this.savedLength=0;break}r=r.parent}}value(){return""}},yt(ai,"blotName","cursor"),yt(ai,"className","ql-cursor"),yt(ai,"tagName","span"),yt(ai,"CONTENTS","\uFEFF"),ai);var US={exports:{}},aU;function e_e(){return aU||(aU=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function i(u,h,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var x=new a(f,p||u,g),j=r?r+h:h;return u._events[j]?u._events[j].fn?u._events[j]=[u._events[j],x]:u._events[j].push(x):(u._events[j]=x,u._eventsCount++),u}function o(u,h){--u._eventsCount===0?u._events=new n:delete u._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],f,p;if(this._eventsCount===0)return h;for(p in f=this._events)e.call(f,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},c.prototype.listeners=function(h){var f=r?r+h:h,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,x=p.length,j=new Array(x);g<x;g++)j[g]=p[g].fn;return j},c.prototype.listenerCount=function(h){var f=r?r+h:h,p=this._events[f];return p?p.fn?1:p.length:0},c.prototype.emit=function(h,f,p,g,x,j){var w=r?r+h:h;if(!this._events[w])return!1;var b=this._events[w],N=arguments.length,E,A;if(b.fn){switch(b.once&&this.removeListener(h,b.fn,void 0,!0),N){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,p),!0;case 4:return b.fn.call(b.context,f,p,g),!0;case 5:return b.fn.call(b.context,f,p,g,x),!0;case 6:return b.fn.call(b.context,f,p,g,x,j),!0}for(A=1,E=new Array(N-1);A<N;A++)E[A-1]=arguments[A];b.fn.apply(b.context,E)}else{var O=b.length,M;for(A=0;A<O;A++)switch(b[A].once&&this.removeListener(h,b[A].fn,void 0,!0),N){case 1:b[A].fn.call(b[A].context);break;case 2:b[A].fn.call(b[A].context,f);break;case 3:b[A].fn.call(b[A].context,f,p);break;case 4:b[A].fn.call(b[A].context,f,p,g);break;default:if(!E)for(M=1,E=new Array(N-1);M<N;M++)E[M-1]=arguments[M];b[A].fn.apply(b[A].context,E)}}return!0},c.prototype.on=function(h,f,p){return i(this,h,f,p,!1)},c.prototype.once=function(h,f,p){return i(this,h,f,p,!0)},c.prototype.removeListener=function(h,f,p,g){var x=r?r+h:h;if(!this._events[x])return this;if(!f)return o(this,x),this;var j=this._events[x];if(j.fn)j.fn===f&&(!g||j.once)&&(!p||j.context===p)&&o(this,x);else{for(var w=0,b=[],N=j.length;w<N;w++)(j[w].fn!==f||g&&!j[w].once||p&&j[w].context!==p)&&b.push(j[w]);b.length?this._events[x]=b.length===1?b[0]:b:o(this,x)}return this},c.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(US)),US.exports}var t_e=e_e();const nK=jl(t_e),g_=new WeakMap,x_=["error","warn","log","info"];let y_="warn";function aK(t){if(y_&&x_.indexOf(t)<=x_.indexOf(y_)){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];console[t](...r)}}function gu(t){return x_.reduce((e,r)=>(e[r]=aK.bind(console,r,t),e),{})}gu.level=t=>{y_=t};aK.level=gu.level;const VS=gu("quill:events"),r_e=["selectionchange","mousedown","mouseup","click"];r_e.forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(a=>{const i=g_.get(a);i&&i.emitter&&i.emitter.handleDOM(...r)})})});class Ut extends nK{constructor(){super(),this.domListeners={},this.on("error",VS.error)}emit(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return VS.log.call(VS,...r),super.emit(...r)}handleDOM(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];(this.domListeners[e.type]||[]).forEach(i=>{let{node:o,handler:c}=i;(e.target===o||o.contains(e.target))&&c(e,...n)})}listenDOM(e,r,n){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:r,handler:n})}}yt(Ut,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),yt(Ut,"sources",{API:"api",SILENT:"silent",USER:"user"});const zS=gu("quill:selection");class lf{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=r}}class n_e{constructor(e,r){this.emitter=r,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new lf(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ut.sources.USER),1)}),this.emitter.on(Ut.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once(Ut.events.SCROLL_UPDATE,(a,i)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);const o=i.some(c=>c.type==="characterData"||c.type==="childList"||c.type==="attributes"&&c.target===this.root);this.update(o?Ut.sources.SILENT:a)}catch{}})}),this.emitter.on(Ut.events.SCROLL_OPTIMIZE,(n,a)=>{if(a.range){const{startNode:i,startOffset:o,endNode:c,endOffset:u}=a.range;this.setNativeRange(i,o,c,u),this.update(Ut.sources.SILENT)}}),this.update(Ut.sources.SILENT)}handleComposition(){this.emitter.on(Ut.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ut.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ut.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,r){this.scroll.update();const n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(e,Bt.BLOCK))){if(n.start.node!==this.cursor.textNode){const a=this.scroll.find(n.start.node,!1);if(a==null)return;if(a instanceof Bs){const i=a.split(n.start.offset);a.parent.insertBefore(this.cursor,i)}else a.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,r),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.scroll.length();e=Math.min(e,n-1),r=Math.min(e+r,n-1)-e;let a,[i,o]=this.scroll.leaf(e);if(i==null)return null;if(r>0&&o===i.length()){const[f]=this.scroll.leaf(e+1);if(f){const[p]=this.scroll.line(e),[g]=this.scroll.line(e+1);p===g&&(i=f,o=0)}}[a,o]=i.position(o,!0);const c=document.createRange();if(r>0)return c.setStart(a,o),[i,o]=this.scroll.leaf(e+r),i==null?null:([a,o]=i.position(o,!0),c.setEnd(a,o),c.getBoundingClientRect());let u="left",h;if(a instanceof Text){if(!a.data.length)return null;o<a.data.length?(c.setStart(a,o),c.setEnd(a,o+1)):(c.setStart(a,o-1),c.setEnd(a,o),u="right"),h=c.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;h=i.domNode.getBoundingClientRect(),o>0&&(u="right")}return{bottom:h.top+h.height,height:h.height,left:h[u],right:h[u],top:h.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const r=e.getRangeAt(0);if(r==null)return null;const n=this.normalizeNative(r);return zS.info("getNativeRange",n),n}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const r=this.getNativeRange();return r==null?[null,null]:[this.normalizedToRange(r),r]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&FS(this.root,document.activeElement)}normalizedToRange(e){const r=[[e.start.node,e.start.offset]];e.native.collapsed||r.push([e.end.node,e.end.offset]);const n=r.map(o=>{const[c,u]=o,h=this.scroll.find(c,!0),f=h.offset(this.scroll);return u===0?f:h instanceof Bs?f+h.index(c,u):f+h.length()}),a=Math.min(Math.max(...n),this.scroll.length()-1),i=Math.min(a,...n);return new lf(i,a-i)}normalizeNative(e){if(!FS(this.root,e.startContainer)||!e.collapsed&&!FS(this.root,e.endContainer))return null;const r={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[r.start,r.end].forEach(n=>{let{node:a,offset:i}=n;for(;!(a instanceof Text)&&a.childNodes.length>0;)if(a.childNodes.length>i)a=a.childNodes[i],i=0;else if(a.childNodes.length===i)a=a.lastChild,a instanceof Text?i=a.data.length:a.childNodes.length>0?i=a.childNodes.length:i=a.childNodes.length+1;else break;n.node=a,n.offset=i}),r}rangeToNative(e){const r=this.scroll.length(),n=(a,i)=>{a=Math.min(r-1,a);const[o,c]=this.scroll.leaf(a);return o?o.position(c,i):[null,-1]};return[...n(e.index,!1),...n(e.index+e.length,!0)]}setNativeRange(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(zS.info("setNativeRange",e,r,n,a),e!=null&&(this.root.parentNode==null||e.parentNode==null||n.parentNode==null))return;const o=document.getSelection();if(o!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:c}=this.getNativeRange()||{};if(c==null||i||e!==c.startContainer||r!==c.startOffset||n!==c.endContainer||a!==c.endOffset){e instanceof Element&&e.tagName==="BR"&&(r=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),n instanceof Element&&n.tagName==="BR"&&(a=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const u=document.createRange();u.setStart(e,r),u.setEnd(n,a),o.removeAllRanges(),o.addRange(u)}}else o.removeAllRanges(),this.root.blur()}setRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ut.sources.API;if(typeof r=="string"&&(n=r,r=!1),zS.info("setRange",e),e!=null){const a=this.rangeToNative(e);this.setNativeRange(...a,r)}else this.setNativeRange(null);this.update(n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ut.sources.USER;const r=this.lastRange,[n,a]=this.getRange();if(this.lastRange=n,this.lastNative=a,this.lastRange!=null&&(this.savedRange=this.lastRange),!n4(r,this.lastRange)){if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const i=[Ut.events.SELECTION_CHANGE,Xm(this.lastRange),Xm(r),e];this.emitter.emit(Ut.events.EDITOR_CHANGE,...i),e!==Ut.sources.SILENT&&this.emitter.emit(...i)}}}function FS(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}const a_e=/^[ -~]*$/;class s_e{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let r=this.scroll.length();this.scroll.batchStart();const n=sU(e),a=new $t;return o_e(n.ops.slice()).reduce((o,c)=>{const u=Io.Op.length(c);let h=c.attributes||{},f=!1,p=!1;if(c.insert!=null){if(a.retain(u),typeof c.insert=="string"){const j=c.insert;p=!j.endsWith(`
`)&&(r<=o||!!this.scroll.descendant(_o,o)[0]),this.scroll.insertAt(o,j);const[w,b]=this.scroll.line(o);let N=jd({},So(w));if(w instanceof As){const[E]=w.descendant(Bs,b);E&&(N=jd(N,So(E)))}h=Io.AttributeMap.diff(N,h)||{}}else if(typeof c.insert=="object"){const j=Object.keys(c.insert)[0];if(j==null)return o;const w=this.scroll.query(j,Bt.INLINE)!=null;if(w)(r<=o||this.scroll.descendant(_o,o)[0])&&(p=!0);else if(o>0){const[b,N]=this.scroll.descendant(Bs,o-1);b instanceof bl?b.value()[N]!==`
`&&(f=!0):b instanceof oo&&b.statics.scope===Bt.INLINE_BLOT&&(f=!0)}if(this.scroll.insertAt(o,j,c.insert[j]),w){const[b]=this.scroll.descendant(Bs,o);if(b){const N=jd({},So(b));h=Io.AttributeMap.diff(N,h)||{}}}}r+=u}else if(a.push(c),c.retain!==null&&typeof c.retain=="object"){const j=Object.keys(c.retain)[0];if(j==null)return o;this.scroll.updateEmbedAt(o,j,c.retain[j])}Object.keys(h).forEach(j=>{this.scroll.formatAt(o,u,j,h[j])});const g=f?1:0,x=p?1:0;return r+=g+x,a.retain(g),a.delete(x),o+u+g+x},0),a.reduce((o,c)=>typeof c.delete=="number"?(this.scroll.deleteAt(o,c.delete),o):o+Io.Op.length(c),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(e,r){return this.scroll.deleteAt(e,r),this.update(new $t().retain(e).delete(r))}formatLine(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(i=>{this.scroll.lines(e,Math.max(r,1)).forEach(o=>{o.format(i,n[i])})}),this.scroll.optimize();const a=new $t().retain(e).retain(r,Xm(n));return this.update(a)}formatText(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(i=>{this.scroll.formatAt(e,r,i,n[i])});const a=new $t().retain(e).retain(r,Xm(n));return this.update(a)}getContents(e,r){return this.delta.slice(e,e+r)}getDelta(){return this.scroll.lines().reduce((e,r)=>e.concat(r.delta()),new $t)}getFormat(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],a=[];r===0?this.scroll.path(e).forEach(c=>{const[u]=c;u instanceof As?n.push(u):u instanceof Bs&&a.push(u)}):(n=this.scroll.lines(e,r),a=this.scroll.descendants(Bs,e,r));const[i,o]=[n,a].map(c=>{const u=c.shift();if(u==null)return{};let h=So(u);for(;Object.keys(h).length>0;){const f=c.shift();if(f==null)return h;h=i_e(So(f),h)}return h});return{...i,...o}}getHTML(e,r){const[n,a]=this.scroll.line(e);if(n){const i=n.length();return n.length()>=a+r&&!(a===0&&r===i)?Cy(n,a,r,!0):Cy(this.scroll,e,r,!0)}return""}getText(e,r){return this.getContents(e,r).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(e,r){const n=sU(r),a=new $t().retain(e).concat(n);return this.scroll.insertContents(e,n),this.update(a)}insertEmbed(e,r,n){return this.scroll.insertAt(e,r,n),this.update(new $t().retain(e).insert({[r]:n}))}insertText(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r=r.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,r),Object.keys(n).forEach(a=>{this.scroll.formatAt(e,r.length,a,n[a])}),this.update(new $t().retain(e).insert(r,Xm(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==As.blotName)return!1;const r=e;return r.children.length>1?!1:r.children.head instanceof Al}removeFormat(e,r){const n=this.getText(e,r),[a,i]=this.scroll.line(e+r);let o=0,c=new $t;a!=null&&(o=a.length()-i,c=a.delta().slice(i,i+o-1).insert(`
`));const h=this.getContents(e,r+o).diff(new $t().insert(n).concat(c)),f=new $t().retain(e).concat(h);return this.applyDelta(f)}update(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const a=this.delta;if(r.length===1&&r[0].type==="characterData"&&r[0].target.data.match(a_e)&&this.scroll.find(r[0].target)){const i=this.scroll.find(r[0].target),o=So(i),c=i.offset(this.scroll),u=r[0].oldValue.replace(e2.CONTENTS,""),h=new $t().insert(u),f=new $t().insert(i.value()),p=n&&{oldRange:iU(n.oldRange,-c),newRange:iU(n.newRange,-c)};e=new $t().retain(c).concat(h.diff(f,p)).reduce((x,j)=>j.insert?x.insert(j.insert,o):x.push(j),new $t),this.delta=a.compose(e)}else this.delta=this.getDelta(),(!e||!n4(a.compose(e),this.delta))&&(e=a.diff(this.delta,n));return e}}function Em(t,e,r){if(t.length===0){const[x]=$S(r.pop());return e<=0?`</li></${x}>`:`</li></${x}>${Em([],e-1,r)}`}const[{child:n,offset:a,length:i,indent:o,type:c},...u]=t,[h,f]=$S(c);if(o>e)return r.push(c),o===e+1?`<${h}><li${f}>${Cy(n,a,i)}${Em(u,o,r)}`:`<${h}><li>${Em(t,e+1,r)}`;const p=r[r.length-1];if(o===e&&c===p)return`</li><li${f}>${Cy(n,a,i)}${Em(u,o,r)}`;const[g]=$S(r.pop());return`</li></${g}>${Em(t,e-1,r)}`}function Cy(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,r);if(t instanceof bl)return Jw(t.value().slice(e,e+r)).replaceAll(" ","&nbsp;");if(t instanceof fl){if(t.statics.blotName==="list-container"){const h=[];return t.children.forEachAt(e,r,(f,p,g)=>{const x="formats"in f&&typeof f.formats=="function"?f.formats():{};h.push({child:f,offset:p,length:g,indent:x.indent||0,type:x.list})}),Em(h,-1,[])}const a=[];if(t.children.forEachAt(e,r,(h,f,p)=>{a.push(Cy(h,f,p))}),n||t.statics.blotName==="list")return a.join("");const{outerHTML:i,innerHTML:o}=t.domNode,[c,u]=i.split(`>${o}<`);return c==="<table"?`<table style="border: 1px solid #000;">${a.join("")}<${u}`:`${c}>${a.join("")}<${u}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function i_e(t,e){return Object.keys(e).reduce((r,n)=>{if(t[n]==null)return r;const a=e[n];return a===t[n]?r[n]=a:Array.isArray(a)?a.indexOf(t[n])<0?r[n]=a.concat([t[n]]):r[n]=a:r[n]=[a,t[n]],r},{})}function $S(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function sU(t){return t.reduce((e,r)=>{if(typeof r.insert=="string"){const n=r.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(n,r.attributes)}return e.push(r)},new $t)}function iU(t,e){let{index:r,length:n}=t;return new lf(r+e,n)}function o_e(t){const e=[];return t.forEach(r=>{typeof r.insert=="string"?r.insert.split(`
`).forEach((a,i)=>{i&&e.push({insert:`
`,attributes:r.attributes}),a&&e.push({insert:a,attributes:r.attributes})}):e.push(r)}),e}class Tl{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=r}}yt(Tl,"DEFAULTS",{});const v0="\uFEFF";class i4 extends oo{constructor(e,r){super(e,r),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode(v0),this.rightGuard=document.createTextNode(v0),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,r){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,r)}restore(e){let r=null,n;const a=e.data.split(v0).join("");if(e===this.leftGuard)if(this.prev instanceof bl){const i=this.prev.length();this.prev.insertAt(i,a),r={startNode:this.prev.domNode,startOffset:i+a.length}}else n=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(n),this),r={startNode:n,startOffset:a.length};else e===this.rightGuard&&(this.next instanceof bl?(this.next.insertAt(0,a),r={startNode:this.next.domNode,startOffset:a.length}):(n=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(n),this.next),r={startNode:n,startOffset:a.length}));return e.data=v0,r}update(e,r){e.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){const a=this.restore(n.target);a&&(r.range=a)}})}}class l_e{constructor(e,r){yt(this,"isComposing",!1);this.scroll=e,this.emitter=r,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const r=e.target instanceof Node?this.scroll.find(e.target,!0):null;r&&!(r instanceof i4)&&(this.emitter.emit(Ut.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(Ut.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(Ut.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(Ut.events.COMPOSITION_END,e),this.isComposing=!1}}const Zx=class Zx{constructor(e,r){yt(this,"modules",{});this.quill=e,this.options=r}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const r=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new r(this.quill,this.options.modules[e]||{}),this.modules[e]}};yt(Zx,"DEFAULTS",{modules:{}}),yt(Zx,"themes",{default:Zx});let vp=Zx;const c_e=t=>t.parentElement||t.getRootNode().host||null,u_e=t=>{const e=t.getBoundingClientRect(),r="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,n="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*r,bottom:e.top+t.clientHeight*n,left:e.left}},b0=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},oU=(t,e,r,n,a,i)=>t<r&&e>n?0:t<r?-(r-t+a):e>n?e-t>n-r?t+a-r:e-n+i:0,d_e=(t,e)=>{var i,o,c;const r=t.ownerDocument;let n=e,a=t;for(;a;){const u=a===r.body,h=u?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??r.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??r.documentElement.clientHeight,left:0}:u_e(a),f=getComputedStyle(a),p=oU(n.left,n.right,h.left,h.right,b0(f.scrollPaddingLeft),b0(f.scrollPaddingRight)),g=oU(n.top,n.bottom,h.top,h.bottom,b0(f.scrollPaddingTop),b0(f.scrollPaddingBottom));if(p||g)if(u)(c=r.defaultView)==null||c.scrollBy(p,g);else{const{scrollLeft:x,scrollTop:j}=a;g&&(a.scrollTop+=g),p&&(a.scrollLeft+=p);const w=a.scrollLeft-x,b=a.scrollTop-j;n={left:n.left-w,top:n.top-b,right:n.right-w,bottom:n.bottom-b}}a=u||f.position==="fixed"?null:c_e(a)}},h_e=100,f_e=["block","break","cursor","inline","scroll","text"],m_e=(t,e,r)=>{const n=new yp;return f_e.forEach(a=>{const i=e.query(a);i&&n.register(i)}),t.forEach(a=>{let i=e.query(a);i||r.error(`Cannot register "${a}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;i;)if(n.register(i),i="blotName"in i?i.requiredContainer??null:null,o+=1,o>h_e){r.error(`Cycle detected in registering blot requiredContainer: "${a}"`);break}}),n},Zm=gu("quill"),j0=new yp;fl.uiClass="ql-ui";const rl=class rl{static debug(e){e===!0&&(e="log"),gu.level(e)}static find(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return g_.get(e)||j0.find(e,r)}static import(e){return this.imports[e]==null&&Zm.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],r=!!(!(arguments.length<=1)&&arguments[1]),n="attrName"in e?e.attrName:e.blotName;typeof n=="string"?this.register(`formats/${n}`,e,r):Object.keys(e).forEach(a=>{this.register(a,e[a],r)})}else{const e=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],n=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!n&&Zm.warn(`Overwriting ${e} with`,r),this.imports[e]=r,(e.startsWith("blots/")||e.startsWith("formats/"))&&r&&typeof r!="boolean"&&r.blotName!=="abstract"&&j0.register(r),typeof r.register=="function"&&r.register(j0)}}constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=p_e(e,r),this.container=this.options.container,this.container==null){Zm.error("Invalid Quill container",e);return}this.options.debug&&rl.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",g_.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ut;const a=s4.blotName,i=this.options.registry.query(a);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${a}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new s_e(this.scroll),this.selection=new n_e(this.scroll,this.emitter),this.composition=new l_e(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ut.events.EDITOR_CHANGE,o=>{o===Ut.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ut.events.SCROLL_UPDATE,(o,c)=>{const u=this.selection.lastRange,[h]=this.selection.getRange(),f=u&&h?{oldRange:u,newRange:h}:void 0;Zo.call(this,()=>this.editor.update(null,c,f),o)}),this.emitter.on(Ut.events.SCROLL_EMBED_UPDATE,(o,c)=>{const u=this.selection.lastRange,[h]=this.selection.getRange(),f=u&&h?{oldRange:u,newRange:h}:void 0;Zo.call(this,()=>{const p=new $t().retain(o.offset(this)).retain({[o.statics.blotName]:c});return this.editor.update(p,[],f)},rl.sources.USER)}),n){const o=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const n=e;e=document.createElement("div"),e.classList.add(n)}return this.container.insertBefore(e,r),e}blur(){this.selection.setRange(null)}deleteText(e,r,n){return[e,r,,n]=Dc(e,r,n),Zo.call(this,()=>this.editor.deleteText(e,r),n,e,-1*r)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const r=e();return this.allowReadOnlyEdits=!1,r}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ut.sources.API;return Zo.call(this,()=>{const a=this.getSelection(!0);let i=new $t;if(a==null)return i;if(this.scroll.query(e,Bt.BLOCK))i=this.editor.formatLine(a.index,a.length,{[e]:r});else{if(a.length===0)return this.selection.format(e,r),i;i=this.editor.formatText(a.index,a.length,{[e]:r})}return this.setSelection(a,Ut.sources.SILENT),i},n)}formatLine(e,r,n,a,i){let o;return[e,r,o,i]=Dc(e,r,n,a,i),Zo.call(this,()=>this.editor.formatLine(e,r,o),i,e,0)}formatText(e,r,n,a,i){let o;return[e,r,o,i]=Dc(e,r,n,a,i),Zo.call(this,()=>this.editor.formatText(e,r,o),i,e,0)}getBounds(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof e=="number"?n=this.selection.getBounds(e,r):n=this.selection.getBounds(e.index,e.length),!n)return null;const a=this.container.getBoundingClientRect();return{bottom:n.bottom-a.top,height:n.height,left:n.left-a.left,right:n.right-a.left,top:n.top-a.top,width:n.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,r]=Dc(e,r),this.editor.getContents(e,r)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,r):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,r)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(r=r??this.getLength()-e),[e,r]=Dc(e,r),this.editor.getHTML(e,r)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(r=r??this.getLength()-e),[e,r]=Dc(e,r),this.editor.getText(e,r)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:rl.sources.API;return Zo.call(this,()=>this.editor.insertEmbed(e,r,n),a,e)}insertText(e,r,n,a,i){let o;return[e,,o,i]=Dc(e,0,n,a,i),Zo.call(this,()=>this.editor.insertText(e,r,o),i,e,r.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,r,n){return[e,r,,n]=Dc(e,r,n),Zo.call(this,()=>this.editor.removeFormat(e,r),n,e)}scrollRectIntoView(e){d_e(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,r=e&&this.selection.getBounds(e.index,e.length);r&&this.scrollRectIntoView(r)}setContents(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ut.sources.API;return Zo.call(this,()=>{e=new $t(e);const n=this.getLength(),a=this.editor.deleteText(0,n),i=this.editor.insertContents(0,e),o=this.editor.deleteText(this.getLength()-1,1);return a.compose(i).compose(o)},r)}setSelection(e,r,n){e==null?this.selection.setRange(null,r||rl.sources.API):([e,r,,n]=Dc(e,r,n),this.selection.setRange(new lf(Math.max(0,e),r),n),n!==Ut.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ut.sources.API;const n=new $t().insert(e);return this.setContents(n,r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ut.sources.USER;const r=this.scroll.update(e);return this.selection.update(e),r}updateContents(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ut.sources.API;return Zo.call(this,()=>(e=new $t(e),this.editor.applyDelta(e)),r,!0)}};yt(rl,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:j0,theme:"default"}),yt(rl,"events",Ut.events),yt(rl,"sources",Ut.sources),yt(rl,"version","2.0.3"),yt(rl,"imports",{delta:$t,parchment:YTe,"core/module":Tl,"core/theme":vp});let He=rl;function lU(t){return typeof t=="string"?document.querySelector(t):t}function BS(t){return Object.entries(t??{}).reduce((e,r)=>{let[n,a]=r;return{...e,[n]:a===!0?{}:a}},{})}function cU(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function p_e(t,e){const r=lU(t);if(!r)throw new Error("Invalid Quill container");const a=!e.theme||e.theme===He.DEFAULTS.theme?vp:He.import(`themes/${e.theme}`);if(!a)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:i,...o}=He.DEFAULTS,{modules:c,...u}=a.DEFAULTS;let h=BS(e.modules);h!=null&&h.toolbar&&h.toolbar.constructor!==Object&&(h={...h,toolbar:{container:h.toolbar}});const f=jd({},BS(i),BS(c),h),p={...o,...cU(u),...cU(e)};let g=e.registry;return g?e.formats&&Zm.warn('Ignoring "formats" option because "registry" is specified'):g=e.formats?m_e(e.formats,p.registry,Zm):p.registry,{...p,registry:g,container:r,theme:a,modules:Object.entries(f).reduce((x,j)=>{let[w,b]=j;if(!b)return x;const N=He.import(`modules/${w}`);return N==null?(Zm.error(`Cannot load ${w} module. Are you sure you registered it?`),x):{...x,[w]:jd({},N.DEFAULTS||{},b)}},{}),bounds:lU(p.bounds)}}function Zo(t,e,r,n){if(!this.isEnabled()&&e===Ut.sources.USER&&!this.allowReadOnlyEdits)return new $t;let a=r==null?null:this.getSelection();const i=this.editor.delta,o=t();if(a!=null&&(r===!0&&(r=a.index),n==null?a=uU(a,o,e):n!==0&&(a=uU(a,r,n,e)),this.setSelection(a,Ut.sources.SILENT)),o.length()>0){const c=[Ut.events.TEXT_CHANGE,o,i,e];this.emitter.emit(Ut.events.EDITOR_CHANGE,...c),e!==Ut.sources.SILENT&&this.emitter.emit(...c)}return o}function Dc(t,e,r,n,a){let i={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(a=n,n=r,r=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(a=n,n=r,r=e,e=0),typeof r=="object"?(i=r,a=n):typeof r=="string"&&(n!=null?i[r]=n:a=r),a=a||Ut.sources.API,[t,e,i,a]}function uU(t,e,r,n){const a=typeof r=="number"?r:0;if(t==null)return null;let i,o;return e&&typeof e.transformPosition=="function"?[i,o]=[t.index,t.index+t.length].map(c=>e.transformPosition(c,n!==Ut.sources.USER)):[i,o]=[t.index,t.index+t.length].map(c=>c<e||c===e&&n===Ut.sources.USER?c:a>=0?c+a:Math.max(e,c+a)),new lf(i,o-i)}class If extends Zw{}function dU(t){return t instanceof As||t instanceof _o}function hU(t){return typeof t.updateContent=="function"}class Am extends s4{constructor(e,r,n){let{emitter:a}=n;super(e,r),this.emitter=a,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(Ut.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(Ut.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,r){this.emitter.emit(Ut.events.SCROLL_EMBED_UPDATE,e,r)}deleteAt(e,r){const[n,a]=this.line(e),[i]=this.line(e+r);if(super.deleteAt(e,r),i!=null&&n!==i&&a>0){if(n instanceof _o||i instanceof _o){this.optimize();return}const o=i.children.head instanceof Al?null:i.children.head;n.moveChildren(i,o),n.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,r,n,a){super.formatAt(e,r,n,a),this.optimize()}insertAt(e,r,n){if(e>=this.length())if(n==null||this.scroll.query(r,Bt.BLOCK)==null){const a=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(a),n==null&&r.endsWith(`
`)?a.insertAt(0,r.slice(0,-1),n):a.insertAt(0,r,n)}else{const a=this.scroll.create(r,n);this.appendChild(a)}else super.insertAt(e,r,n);this.optimize()}insertBefore(e,r){if(e.statics.scope===Bt.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(e),super.insertBefore(n,r)}else super.insertBefore(e,r)}insertContents(e,r){const n=this.deltaToRenderBlocks(r.concat(new $t().insert(`
`))),a=n.pop();if(a==null)return;this.batchStart();const i=n.shift();if(i){const u=i.type==="block"&&(i.delta.length()===0||!this.descendant(_o,e)[0]&&e<this.length()),h=i.type==="block"?i.delta:new $t().insert({[i.key]:i.value});qS(this,e,h);const f=i.type==="block"?1:0,p=e+h.length()+f;u&&this.insertAt(p-1,`
`);const g=So(this.line(e)[0]),x=Io.AttributeMap.diff(g,i.attributes)||{};Object.keys(x).forEach(j=>{this.formatAt(p-1,1,j,x[j])}),e=p}let[o,c]=this.children.find(e);if(n.length&&(o&&(o=o.split(c),c=0),n.forEach(u=>{if(u.type==="block"){const h=this.createBlock(u.attributes,o||void 0);qS(h,0,u.delta)}else{const h=this.create(u.key,u.value);this.insertBefore(h,o||void 0),Object.keys(u.attributes).forEach(f=>{h.format(f,u.attributes[f])})}})),a.type==="block"&&a.delta.length()){const u=o?o.offset(o.scroll)+c:this.length();qS(this,u,a.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const r=this.path(e).pop();if(!r)return[null,-1];const[n,a]=r;return n instanceof Bs?[n,a]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(dU,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const n=(a,i,o)=>{let c=[],u=o;return a.children.forEachAt(i,o,(h,f,p)=>{dU(h)?c.push(h):h instanceof Zw&&(c=c.concat(n(h,f,u))),u-=p}),c};return n(this,e,r)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,r),e.length>0&&this.emitter.emit(Ut.events.SCROLL_OPTIMIZE,e,r))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let r=Ut.sources.USER;typeof e=="string"&&(r=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(n=>{let{target:a}=n;const i=this.find(a,!0);return i&&!hU(i)}),e.length>0&&this.emitter.emit(Ut.events.SCROLL_BEFORE_UPDATE,r,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(Ut.events.SCROLL_UPDATE,r,e)}updateEmbedAt(e,r,n){const[a]=this.descendant(i=>i instanceof _o,e);a&&a.statics.blotName===r&&hU(a)&&a.updateContent(n)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const r=[];let n=new $t;return e.forEach(a=>{const i=a==null?void 0:a.insert;if(i)if(typeof i=="string"){const o=i.split(`
`);o.slice(0,-1).forEach(u=>{n.insert(u,a.attributes),r.push({type:"block",delta:n,attributes:a.attributes??{}}),n=new $t});const c=o[o.length-1];c&&n.insert(c,a.attributes)}else{const o=Object.keys(i)[0];if(!o)return;this.query(o,Bt.INLINE)?n.push(a):(n.length()&&r.push({type:"block",delta:n,attributes:{}}),n=new $t,r.push({type:"blockEmbed",key:o,value:i[o],attributes:a.attributes??{}}))}}),n.length()&&r.push({type:"block",delta:n,attributes:{}}),r}createBlock(e,r){let n;const a={};Object.entries(e).forEach(c=>{let[u,h]=c;this.query(u,Bt.BLOCK&Bt.BLOT)!=null?n=u:a[u]=h});const i=this.create(n||this.statics.defaultChild.blotName,n?e[n]:void 0);this.insertBefore(i,r||void 0);const o=i.length();return Object.entries(a).forEach(c=>{let[u,h]=c;i.formatAt(0,o,u,h)}),i}}yt(Am,"blotName","scroll"),yt(Am,"className","ql-editor"),yt(Am,"tagName","DIV"),yt(Am,"defaultChild",As),yt(Am,"allowedChildren",[As,_o,If]);function qS(t,e,r){r.reduce((n,a)=>{const i=Io.Op.length(a);let o=a.attributes||{};if(a.insert!=null){if(typeof a.insert=="string"){const c=a.insert;t.insertAt(n,c);const[u]=t.descendant(Bs,n),h=So(u);o=Io.AttributeMap.diff(h,o)||{}}else if(typeof a.insert=="object"){const c=Object.keys(a.insert)[0];if(c==null)return n;if(t.insertAt(n,c,a.insert[c]),t.scroll.query(c,Bt.INLINE)!=null){const[h]=t.descendant(Bs,n),f=So(h);o=Io.AttributeMap.diff(f,o)||{}}}}return Object.keys(o).forEach(c=>{t.formatAt(n,i,c,o[c])}),n+i},e)}const o4={scope:Bt.BLOCK,whitelist:["right","center","justify"]},g_e=new cc("align","align",o4),sK=new El("align","ql-align",o4),iK=new Kd("align","text-align",o4);class oK extends Kd{value(e){let r=super.value(e);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${r.split(",").map(a=>`00${parseInt(a,10).toString(16)}`.slice(-2)).join("")}`):r}}const x_e=new El("color","ql-color",{scope:Bt.INLINE}),l4=new oK("color","color",{scope:Bt.INLINE}),y_e=new El("background","ql-bg",{scope:Bt.INLINE}),c4=new oK("background","background-color",{scope:Bt.INLINE});class Of extends If{static create(e){const r=super.create(e);return r.setAttribute("spellcheck","false"),r}code(e,r){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(e,e+r)}html(e,r){return`<pre>
${Jw(this.code(e,r))}
</pre>`}}class Ws extends As{static register(){He.register(Of)}}yt(Ws,"TAB","  ");class u4 extends uc{}u4.blotName="code";u4.tagName="CODE";Ws.blotName="code-block";Ws.className="ql-code-block";Ws.tagName="DIV";Of.blotName="code-block-container";Of.className="ql-code-block-container";Of.tagName="DIV";Of.allowedChildren=[Ws];Ws.allowedChildren=[bl,Al,e2];Ws.requiredContainer=Of;const d4={scope:Bt.BLOCK,whitelist:["rtl"]},lK=new cc("direction","dir",d4),cK=new El("direction","ql-direction",d4),uK=new Kd("direction","direction",d4),dK={scope:Bt.INLINE,whitelist:["serif","monospace"]},hK=new El("font","ql-font",dK);class v_e extends Kd{value(e){return super.value(e).replace(/["']/g,"")}}const fK=new v_e("font","font-family",dK),mK=new El("size","ql-size",{scope:Bt.INLINE,whitelist:["small","large","huge"]}),pK=new Kd("size","font-size",{scope:Bt.INLINE,whitelist:["10px","18px","32px"]}),b_e=gu("quill:keyboard"),j_e=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class t2 extends Tl{static match(e,r){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!r[n]!==e[n]&&r[n]!==null)?!1:r.key===e.key||r.key===e.which}constructor(e,r){super(e,r),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=k_e(e);if(a==null){b_e.warn("Attempted to add invalid keyboard binding",a);return}typeof r=="function"&&(r={handler:r}),typeof n=="function"&&(n={handler:n}),(Array.isArray(a.key)?a.key:[a.key]).forEach(o=>{const c={...a,key:o,...r,...n};this.bindings[c.key]=this.bindings[c.key]||[],this.bindings[c.key].push(c)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const a=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(N=>t2.match(e,N));if(a.length===0)return;const i=He.find(e.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[c,u]=this.quill.getLine(o.index),[h,f]=this.quill.getLeaf(o.index),[p,g]=o.length===0?[h,f]:this.quill.getLeaf(o.index+o.length),x=h instanceof hj?h.value().slice(0,f):"",j=p instanceof hj?p.value().slice(g):"",w={collapsed:o.length===0,empty:o.length===0&&c.length()<=1,format:this.quill.getFormat(o),line:c,offset:u,prefix:x,suffix:j,event:e};a.some(N=>{if(N.collapsed!=null&&N.collapsed!==w.collapsed||N.empty!=null&&N.empty!==w.empty||N.offset!=null&&N.offset!==w.offset)return!1;if(Array.isArray(N.format)){if(N.format.every(E=>w.format[E]==null))return!1}else if(typeof N.format=="object"&&!Object.keys(N.format).every(E=>N.format[E]===!0?w.format[E]!=null:N.format[E]===!1?w.format[E]==null:n4(N.format[E],w.format[E])))return!1;return N.prefix!=null&&!N.prefix.test(w.prefix)||N.suffix!=null&&!N.suffix.test(w.suffix)?!1:N.handler.call(this,o,w,N)!==!0})&&e.preventDefault()})}handleBackspace(e,r){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(r.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let a={};const[i]=this.quill.getLine(e.index);let o=new $t().retain(e.index-n).delete(n);if(r.offset===0){const[c]=this.quill.getLine(e.index-1);if(c&&!(c.statics.blotName==="block"&&c.length()<=1)){const h=i.formats(),f=this.quill.getFormat(e.index-1,1);if(a=Io.AttributeMap.diff(h,f)||{},Object.keys(a).length>0){const p=new $t().retain(e.index+i.length()-2).retain(1,a);o=o.compose(p)}}}this.quill.updateContents(o,He.sources.USER),this.quill.focus()}handleDelete(e,r){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(r.suffix)?2:1;if(e.index>=this.quill.getLength()-n)return;let a={};const[i]=this.quill.getLine(e.index);let o=new $t().retain(e.index).delete(n);if(r.offset>=i.length()-1){const[c]=this.quill.getLine(e.index+1);if(c){const u=i.formats(),h=this.quill.getFormat(e.index,1);a=Io.AttributeMap.diff(u,h)||{},Object.keys(a).length>0&&(o=o.retain(c.length()-1).retain(1,a))}}this.quill.updateContents(o,He.sources.USER),this.quill.focus()}handleDeleteRange(e){h4({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,r){const n=Object.keys(r.format).reduce((i,o)=>(this.quill.scroll.query(o,Bt.BLOCK)&&!Array.isArray(r.format[o])&&(i[o]=r.format[o]),i),{}),a=new $t().retain(e.index).delete(e.length).insert(`
`,n);this.quill.updateContents(a,He.sources.USER),this.quill.setSelection(e.index+1,He.sources.SILENT),this.quill.focus()}}const w_e={bindings:{bold:HS("bold"),italic:HS("italic"),underline:HS("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",He.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",He.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",He.sources.USER):e.format.list!=null&&this.quill.format("list",!1,He.sources.USER)}},"indent code-block":fU(!0),"outdent code-block":fU(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,He.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const r=new $t().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(r,He.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,He.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,He.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const r={list:!1};e.format.indent&&(r.indent=!1),this.quill.formatLine(t.index,t.length,r,He.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,r]=this.quill.getLine(t.index),n={...e.formats(),list:"checked"},a=new $t().retain(t.index).insert(`
`,n).retain(e.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,He.sources.USER),this.quill.setSelection(t.index+1,He.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[r,n]=this.quill.getLine(t.index),a=new $t().retain(t.index).insert(`
`,e.format).retain(r.length()-n-1).retain(1,{header:null});this.quill.updateContents(a,He.sources.USER),this.quill.setSelection(t.index+1,He.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[r,n,a,i]=e.getTable(t),o=N_e(r,n,a,i);if(o==null)return;let c=r.offset();if(o<0){const u=new $t().retain(c).insert(`
`);this.quill.updateContents(u,He.sources.USER),this.quill.setSelection(t.index+1,t.length,He.sources.SILENT)}else if(o>0){c+=r.length();const u=new $t().retain(c).insert(`
`);this.quill.updateContents(u,He.sources.USER),this.quill.setSelection(c,He.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:r,line:n}=e,a=n.offset(this.quill.scroll);r.shiftKey?this.quill.setSelection(a-1,He.sources.USER):this.quill.setSelection(a+n.length(),He.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:r}=e.prefix,[n,a]=this.quill.getLine(t.index);if(a>r)return!0;let i;switch(e.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(t.index," ",He.sources.USER),this.quill.history.cutoff();const o=new $t().retain(t.index-a).delete(r+1).retain(n.length()-2-a).retain(1,{list:i});return this.quill.updateContents(o,He.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-r,He.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,r]=this.quill.getLine(t.index);let n=2,a=e;for(;a!=null&&a.length()<=1&&a.formats()["code-block"];)if(a=a.prev,n-=1,n<=0){const i=new $t().retain(t.index+e.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,He.sources.USER),this.quill.setSelection(t.index-1,He.sources.SILENT),!1}return!0}},"embed left":w0("ArrowLeft",!1),"embed left shift":w0("ArrowLeft",!0),"embed right":w0("ArrowRight",!1),"embed right shift":w0("ArrowRight",!0),"table down":mU(!1),"table up":mU(!0)}};t2.DEFAULTS=w_e;function fU(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,r){let{event:n}=r;const a=this.quill.scroll.query("code-block"),{TAB:i}=a;if(e.length===0&&!n.shiftKey){this.quill.insertText(e.index,i,He.sources.USER),this.quill.setSelection(e.index+i.length,He.sources.SILENT);return}const o=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:c,length:u}=e;o.forEach((h,f)=>{t?(h.insertAt(0,i),f===0?c+=i.length:u+=i.length):h.domNode.textContent.startsWith(i)&&(h.deleteAt(0,i.length),f===0?c-=i.length:u-=i.length)}),this.quill.update(He.sources.USER),this.quill.setSelection(c,u,He.sources.SILENT)}}}function w0(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:a}=n;t==="ArrowRight"&&(a+=n.length+1);const[i]=this.quill.getLeaf(a);return i instanceof oo?(t==="ArrowLeft"?e?this.quill.setSelection(n.index-1,n.length+1,He.sources.USER):this.quill.setSelection(n.index-1,He.sources.USER):e?this.quill.setSelection(n.index,n.length+1,He.sources.USER):this.quill.setSelection(n.index+n.length+1,He.sources.USER),!1):!0}}}function HS(t){return{key:t[0],shortKey:!0,handler(e,r){this.quill.format(t,!r.format[t],He.sources.USER)}}}function mU(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,r){const n=t?"prev":"next",a=r.line,i=a.parent[n];if(i!=null){if(i.statics.blotName==="table-row"){let o=i.children.head,c=a;for(;c.prev!=null;)c=c.prev,o=o.next;const u=o.offset(this.quill.scroll)+Math.min(r.offset,o.length()-1);this.quill.setSelection(u,0,He.sources.USER)}}else{const o=a.table()[n];o!=null&&(t?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,He.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,He.sources.USER))}return!1}}}function k_e(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=Xm(t);else return null;return t.shortKey&&(t[j_e]=t.shortKey,delete t.shortKey),t}function h4(t){let{quill:e,range:r}=t;const n=e.getLines(r);let a={};if(n.length>1){const i=n[0].formats(),o=n[n.length-1].formats();a=Io.AttributeMap.diff(o,i)||{}}e.deleteText(r,He.sources.USER),Object.keys(a).length>0&&e.formatLine(r.index,1,a,He.sources.USER),e.setSelection(r.index,He.sources.SILENT)}function N_e(t,e,r,n){return e.prev==null&&e.next==null?r.prev==null&&r.next==null?n===0?-1:1:r.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const S_e=/font-weight:\s*normal/,E_e=["P","OL","UL"],pU=t=>t&&E_e.includes(t.tagName),A_e=t=>{Array.from(t.querySelectorAll("br")).filter(e=>pU(e.previousElementSibling)&&pU(e.nextElementSibling)).forEach(e=>{var r;(r=e.parentNode)==null||r.removeChild(e)})},T_e=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var r;return(r=e.getAttribute("style"))==null?void 0:r.match(S_e)}).forEach(e=>{var n;const r=t.createDocumentFragment();r.append(...e.childNodes),(n=e.parentNode)==null||n.replaceChild(r,e)})};function __e(t){t.querySelector('[id^="docs-internal-guid-"]')&&(T_e(t),A_e(t))}const C_e=/\bmso-list:[^;]*ignore/i,I_e=/\bmso-list:[^;]*\bl(\d+)/i,O_e=/\bmso-list:[^;]*\blevel(\d+)/i,P_e=(t,e)=>{const r=t.getAttribute("style"),n=r==null?void 0:r.match(I_e);if(!n)return null;const a=Number(n[1]),i=r==null?void 0:r.match(O_e),o=i?Number(i[1]):1,c=new RegExp(`@list l${a}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),u=e.match(c),h=u&&u[1]==="bullet"?"bullet":"ordered";return{id:a,indent:o,type:h,element:t}},M_e=t=>{var o,c;const e=Array.from(t.querySelectorAll("[style*=mso-list]")),r=[],n=[];e.forEach(u=>{(u.getAttribute("style")||"").match(C_e)?r.push(u):n.push(u)}),r.forEach(u=>{var h;return(h=u.parentNode)==null?void 0:h.removeChild(u)});const a=t.documentElement.innerHTML,i=n.map(u=>P_e(u,a)).filter(u=>u);for(;i.length;){const u=[];let h=i.shift();for(;h;)u.push(h),h=i.length&&((o=i[0])==null?void 0:o.element)===h.element.nextElementSibling&&i[0].id===h.id?i.shift():null;const f=document.createElement("ul");u.forEach(x=>{const j=document.createElement("li");j.setAttribute("data-list",x.type),x.indent>1&&j.setAttribute("class",`ql-indent-${x.indent-1}`),j.innerHTML=x.element.innerHTML,f.appendChild(j)});const p=(c=u[0])==null?void 0:c.element,{parentNode:g}=p??{};p&&(g==null||g.replaceChild(f,p)),u.slice(1).forEach(x=>{let{element:j}=x;g==null||g.removeChild(j)})}};function D_e(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&M_e(t)}const R_e=[D_e,__e],L_e=t=>{t.documentElement&&R_e.forEach(e=>{e(t)})},U_e=gu("quill:clipboard"),V_e=[[Node.TEXT_NODE,Q_e],[Node.TEXT_NODE,xU],["br",q_e],[Node.ELEMENT_NODE,xU],[Node.ELEMENT_NODE,B_e],[Node.ELEMENT_NODE,$_e],[Node.ELEMENT_NODE,K_e],["li",G_e],["ol, ul",Y_e],["pre",H_e],["tr",X_e],["b",WS("bold")],["i",WS("italic")],["strike",WS("strike")],["style",W_e]],z_e=[g_e,lK].reduce((t,e)=>(t[e.keyName]=e,t),{}),gU=[iK,c4,l4,uK,fK,pK].reduce((t,e)=>(t[e.keyName]=e,t),{});class gK extends Tl{constructor(e,r){super(e,r),this.quill.root.addEventListener("copy",n=>this.onCaptureCopy(n,!1)),this.quill.root.addEventListener("cut",n=>this.onCaptureCopy(n,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],V_e.concat(this.options.matchers??[]).forEach(n=>{let[a,i]=n;this.addMatcher(a,i)})}addMatcher(e,r){this.matchers.push([e,r])}convert(e){let{html:r,text:n}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a[Ws.blotName])return new $t().insert(n||"",{[Ws.blotName]:a[Ws.blotName]});if(!r)return new $t().insert(n||"",a);const i=this.convertHTML(r);return jv(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||a.table)?i.compose(new $t().retain(i.length()-1).delete(1)):i}normalizeHTML(e){L_e(e)}convertHTML(e){const r=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(r);const n=r.body,a=new WeakMap,[i,o]=this.prepareMatching(n,a);return f4(this.quill.scroll,n,i,o,a)}dangerouslyPasteHTML(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:He.sources.API;if(typeof e=="string"){const a=this.convert({html:e,text:""});this.quill.setContents(a,r),this.quill.setSelection(0,He.sources.SILENT)}else{const a=this.convert({html:r,text:""});this.quill.updateContents(new $t().retain(e).concat(a),n),this.quill.setSelection(e+a.length(),He.sources.SILENT)}}onCaptureCopy(e){var o,c;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:a,text:i}=this.onCopy(n,r);(o=e.clipboardData)==null||o.setData("text/plain",i),(c=e.clipboardData)==null||c.setData("text/html",a),r&&h4({range:n,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(r=>r[0]!=="#").join(`
`)}onCapturePaste(e){var o,c,u,h,f;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const r=this.quill.getSelection(!0);if(r==null)return;const n=(o=e.clipboardData)==null?void 0:o.getData("text/html");let a=(c=e.clipboardData)==null?void 0:c.getData("text/plain");if(!n&&!a){const p=(u=e.clipboardData)==null?void 0:u.getData("text/uri-list");p&&(a=this.normalizeURIList(p))}const i=Array.from(((h=e.clipboardData)==null?void 0:h.files)||[]);if(!n&&i.length>0){this.quill.uploader.upload(r,i);return}if(n&&i.length>0){const p=new DOMParser().parseFromString(n,"text/html");if(p.body.childElementCount===1&&((f=p.body.firstElementChild)==null?void 0:f.tagName)==="IMG"){this.quill.uploader.upload(r,i);return}}this.onPaste(r,{html:n,text:a})}onCopy(e){const r=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:r}}onPaste(e,r){let{text:n,html:a}=r;const i=this.quill.getFormat(e.index),o=this.convert({text:n,html:a},i);U_e.log("onPaste",o,{text:n,html:a});const c=new $t().retain(e.index).delete(e.length).concat(o);this.quill.updateContents(c,He.sources.USER),this.quill.setSelection(c.length()-e.length,He.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,r){const n=[],a=[];return this.matchers.forEach(i=>{const[o,c]=i;switch(o){case Node.TEXT_NODE:a.push(c);break;case Node.ELEMENT_NODE:n.push(c);break;default:Array.from(e.querySelectorAll(o)).forEach(u=>{if(r.has(u)){const h=r.get(u);h==null||h.push(c)}else r.set(u,[c])});break}}),[n,a]}}yt(gK,"DEFAULTS",{matchers:[]});function Pf(t,e,r,n){return n.query(e)?t.reduce((a,i)=>{if(!i.insert)return a;if(i.attributes&&i.attributes[e])return a.push(i);const o=r?{[e]:r}:{};return a.insert(i.insert,{...o,...i.attributes})},new $t):t}function jv(t,e){let r="";for(let n=t.ops.length-1;n>=0&&r.length<e.length;--n){const a=t.ops[n];if(typeof a.insert!="string")break;r=a.insert+r}return r.slice(-1*e.length)===e}function fd(t,e){if(!(t instanceof Element))return!1;const r=e.query(t);return r&&r.prototype instanceof oo?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function F_e(t,e){return t.previousElementSibling&&t.nextElementSibling&&!fd(t.previousElementSibling,e)&&!fd(t.nextElementSibling,e)}const k0=new WeakMap;function xK(t){return t==null?!1:(k0.has(t)||(t.tagName==="PRE"?k0.set(t,!0):k0.set(t,xK(t.parentNode))),k0.get(t))}function f4(t,e,r,n,a){return e.nodeType===e.TEXT_NODE?n.reduce((i,o)=>o(e,i,t),new $t):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((i,o)=>{let c=f4(t,o,r,n,a);return o.nodeType===e.ELEMENT_NODE&&(c=r.reduce((u,h)=>h(o,u,t),c),c=(a.get(o)||[]).reduce((u,h)=>h(o,u,t),c)),i.concat(c)},new $t):new $t}function WS(t){return(e,r,n)=>Pf(r,t,!0,n)}function $_e(t,e,r){const n=cc.keys(t),a=El.keys(t),i=Kd.keys(t),o={};return n.concat(a).concat(i).forEach(c=>{let u=r.query(c,Bt.ATTRIBUTE);u!=null&&(o[u.attrName]=u.value(t),o[u.attrName])||(u=z_e[c],u!=null&&(u.attrName===c||u.keyName===c)&&(o[u.attrName]=u.value(t)||void 0),u=gU[c],u!=null&&(u.attrName===c||u.keyName===c)&&(u=gU[c],o[u.attrName]=u.value(t)||void 0))}),Object.entries(o).reduce((c,u)=>{let[h,f]=u;return Pf(c,h,f,r)},e)}function B_e(t,e,r){const n=r.query(t);if(n==null)return e;if(n.prototype instanceof oo){const a={},i=n.value(t);if(i!=null)return a[n.blotName]=i,new $t().insert(a,n.formats(t,r))}else if(n.prototype instanceof _y&&!jv(e,`
`)&&e.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return Pf(e,n.blotName,n.formats(t,r),r);return e}function q_e(t,e){return jv(e,`
`)||e.insert(`
`),e}function H_e(t,e,r){const n=r.query("code-block"),a=n&&"formats"in n&&typeof n.formats=="function"?n.formats(t,r):!0;return Pf(e,"code-block",a,r)}function W_e(){return new $t}function G_e(t,e,r){const n=r.query(t);if(n==null||n.blotName!=="list"||!jv(e,`
`))return e;let a=-1,i=t.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(a+=1),i=i.parentNode;return a<=0?e:e.reduce((o,c)=>c.insert?c.attributes&&typeof c.attributes.indent=="number"?o.push(c):o.insert(c.insert,{indent:a,...c.attributes||{}}):o,new $t)}function Y_e(t,e,r){const n=t;let a=n.tagName==="OL"?"ordered":"bullet";const i=n.getAttribute("data-checked");return i&&(a=i==="true"?"checked":"unchecked"),Pf(e,"list",a,r)}function xU(t,e,r){if(!jv(e,`
`)){if(fd(t,r)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let n=t.nextSibling;for(;n!=null;){if(fd(n,r))return e.insert(`
`);const a=r.query(n);if(a&&a.prototype instanceof _o)return e.insert(`
`);n=n.firstChild}}}return e}function K_e(t,e,r){var i;const n={},a=t.style||{};return a.fontStyle==="italic"&&(n.italic=!0),a.textDecoration==="underline"&&(n.underline=!0),a.textDecoration==="line-through"&&(n.strike=!0),((i=a.fontWeight)!=null&&i.startsWith("bold")||parseInt(a.fontWeight,10)>=700)&&(n.bold=!0),e=Object.entries(n).reduce((o,c)=>{let[u,h]=c;return Pf(o,u,h,r)},e),parseFloat(a.textIndent||0)>0?new $t().insert("	").concat(e):e}function X_e(t,e,r){var a,i;const n=((a=t.parentElement)==null?void 0:a.tagName)==="TABLE"?t.parentElement:(i=t.parentElement)==null?void 0:i.parentElement;if(n!=null){const c=Array.from(n.querySelectorAll("tr")).indexOf(t)+1;return Pf(e,"table",c,r)}return e}function Q_e(t,e,r){var a;let n=t.data;if(((a=t.parentElement)==null?void 0:a.tagName)==="O:P")return e.insert(n.trim());if(!xK(t)){if(n.trim().length===0&&n.includes(`
`)&&!F_e(t,r))return e;n=n.replace(/[^\S\u00a0]/g," "),n=n.replace(/ {2,}/g," "),(t.previousSibling==null&&t.parentElement!=null&&fd(t.parentElement,r)||t.previousSibling instanceof Element&&fd(t.previousSibling,r))&&(n=n.replace(/^ /,"")),(t.nextSibling==null&&t.parentElement!=null&&fd(t.parentElement,r)||t.nextSibling instanceof Element&&fd(t.nextSibling,r))&&(n=n.replace(/ $/,"")),n=n.replaceAll(""," ")}return e.insert(n)}class yK extends Tl{constructor(r,n){super(r,n);yt(this,"lastRecorded",0);yt(this,"ignoreChange",!1);yt(this,"stack",{undo:[],redo:[]});yt(this,"currentRange",null);this.quill.on(He.events.EDITOR_CHANGE,(a,i,o,c)=>{a===He.events.SELECTION_CHANGE?i&&c!==He.sources.SILENT&&(this.currentRange=i):a===He.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||c===He.sources.USER?this.record(i,o):this.transform(i)),this.currentRange=v_(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",a=>{a.inputType==="historyUndo"?(this.undo(),a.preventDefault()):a.inputType==="historyRedo"&&(this.redo(),a.preventDefault())})}change(r,n){if(this.stack[r].length===0)return;const a=this.stack[r].pop();if(!a)return;const i=this.quill.getContents(),o=a.delta.invert(i);this.stack[n].push({delta:o,range:v_(a.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(a.delta,He.sources.USER),this.ignoreChange=!1,this.restoreSelection(a)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(r,n){if(r.ops.length===0)return;this.stack.redo=[];let a=r.invert(n),i=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const c=this.stack.undo.pop();c&&(a=a.compose(c.delta),i=c.range)}else this.lastRecorded=o;a.length()!==0&&(this.stack.undo.push({delta:a,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(r){yU(this.stack.undo,r),yU(this.stack.redo,r)}undo(){this.change("undo","redo")}restoreSelection(r){if(r.range)this.quill.setSelection(r.range,He.sources.USER);else{const n=J_e(this.quill.scroll,r.delta);this.quill.setSelection(n,He.sources.USER)}}}yt(yK,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function yU(t,e){let r=e;for(let n=t.length-1;n>=0;n-=1){const a=t[n];t[n]={delta:r.transform(a.delta,!0),range:a.range&&v_(a.range,r)},r=a.delta.transform(r),t[n].delta.length()===0&&t.splice(n,1)}}function Z_e(t,e){const r=e.ops[e.ops.length-1];return r==null?!1:r.insert!=null?typeof r.insert=="string"&&r.insert.endsWith(`
`):r.attributes!=null?Object.keys(r.attributes).some(n=>t.query(n,Bt.BLOCK)!=null):!1}function J_e(t,e){const r=e.reduce((a,i)=>a+(i.delete||0),0);let n=e.length()-r;return Z_e(t,e)&&(n-=1),n}function v_(t,e){if(!t)return t;const r=e.transformPosition(t.index),n=e.transformPosition(t.index+t.length);return{index:r,length:n-r}}class vK extends Tl{constructor(e,r){super(e,r),e.root.addEventListener("drop",n=>{var o;n.preventDefault();let a=null;if(document.caretRangeFromPoint)a=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){const c=document.caretPositionFromPoint(n.clientX,n.clientY);a=document.createRange(),a.setStart(c.offsetNode,c.offset),a.setEnd(c.offsetNode,c.offset)}const i=a&&e.selection.normalizeNative(a);if(i){const c=e.selection.normalizedToRange(i);(o=n.dataTransfer)!=null&&o.files&&this.upload(c,n.dataTransfer.files)}})}upload(e,r){const n=[];Array.from(r).forEach(a=>{var i;a&&((i=this.options.mimetypes)!=null&&i.includes(a.type))&&n.push(a)}),n.length>0&&this.options.handler.call(this,e,n)}}vK.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const r=e.map(n=>new Promise(a=>{const i=new FileReader;i.onload=()=>{a(i.result)},i.readAsDataURL(n)}));Promise.all(r).then(n=>{const a=n.reduce((i,o)=>i.insert({image:o}),new $t().retain(t.index).delete(t.length));this.quill.updateContents(a,Ut.sources.USER),this.quill.setSelection(t.index+n.length,Ut.sources.SILENT)})}};const eCe=["insertText","insertReplacementText"];class tCe extends Tl{constructor(e,r){super(e,r),e.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||e.on(He.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){h4({range:e,quill:this.quill})}replaceText(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(r){const n=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new $t().retain(e.index).insert(r,n),He.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+r.length,0,He.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!eCe.includes(e.inputType))return;const r=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!r||r.collapsed===!0)return;const n=rCe(e);if(n==null)return;const a=this.quill.selection.normalizeNative(r),i=a?this.quill.selection.normalizedToRange(a):null;i&&this.replaceText(i,n)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function rCe(t){var e;return typeof t.data=="string"?t.data:(e=t.dataTransfer)!=null&&e.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const nCe=/Mac/i.test(navigator.platform),aCe=100,sCe=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||nCe&&t.key==="a"&&t.ctrlKey===!0);class iCe extends Tl{constructor(r,n){super(r,n);yt(this,"isListening",!1);yt(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(r,n){let{line:a,event:i}=n;if(!(a instanceof fl)||!a.uiNode)return!0;const o=getComputedStyle(a.domNode).direction==="rtl";return o&&i.key!=="ArrowRight"||!o&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(r.index-1,r.length+(i.shiftKey?1:0),He.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",r=>{!r.defaultPrevented&&sCe(r)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+aCe,this.isListening)return;this.isListening=!0;const r=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",r,{once:!0})}handleSelectionChange(){const r=document.getSelection();if(!r)return;const n=r.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;const a=this.quill.scroll.find(n.startContainer);if(!(a instanceof fl)||!a.uiNode)return;const i=document.createRange();i.setStartAfter(a.uiNode),i.setEndAfter(a.uiNode),r.removeAllRanges(),r.addRange(i)}}He.register({"blots/block":As,"blots/block/embed":_o,"blots/break":Al,"blots/container":If,"blots/cursor":e2,"blots/embed":i4,"blots/inline":uc,"blots/scroll":Am,"blots/text":bl,"modules/clipboard":gK,"modules/history":yK,"modules/keyboard":t2,"modules/uploader":vK,"modules/input":tCe,"modules/uiNode":iCe});class oCe extends El{add(e,r){let n=0;if(r==="+1"||r==="-1"){const a=this.value(e)||0;n=r==="+1"?a+1:a-1}else typeof r=="number"&&(n=r);return n===0?(this.remove(e),!0):super.add(e,n.toString())}canAdd(e,r){return super.canAdd(e,r)||super.canAdd(e,parseInt(r,10))}value(e){return parseInt(super.value(e),10)||void 0}}const lCe=new oCe("indent","ql-indent",{scope:Bt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class b_ extends As{}yt(b_,"blotName","blockquote"),yt(b_,"tagName","blockquote");class j_ extends As{static formats(e){return this.tagName.indexOf(e.tagName)+1}}yt(j_,"blotName","header"),yt(j_,"tagName",["H1","H2","H3","H4","H5","H6"]);class wv extends If{}wv.blotName="list-container";wv.tagName="OL";class kv extends As{static create(e){const r=super.create();return r.setAttribute("data-list",e),r}static formats(e){return e.getAttribute("data-list")||void 0}static register(){He.register(wv)}constructor(e,r){super(e,r);const n=r.ownerDocument.createElement("span"),a=i=>{if(!e.isEnabled())return;const o=this.statics.formats(r,e);o==="checked"?(this.format("list","unchecked"),i.preventDefault()):o==="unchecked"&&(this.format("list","checked"),i.preventDefault())};n.addEventListener("mousedown",a),n.addEventListener("touchstart",a),this.attachUI(n)}format(e,r){e===this.statics.blotName&&r?this.domNode.setAttribute("data-list",r):super.format(e,r)}}kv.blotName="list";kv.tagName="LI";wv.allowedChildren=[kv];kv.requiredContainer=wv;class Iy extends uc{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}yt(Iy,"blotName","bold"),yt(Iy,"tagName",["STRONG","B"]);class w_ extends Iy{}yt(w_,"blotName","italic"),yt(w_,"tagName",["EM","I"]);class md extends uc{static create(e){const r=super.create(e);return r.setAttribute("href",this.sanitize(e)),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}static formats(e){return e.getAttribute("href")}static sanitize(e){return bK(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,r){e!==this.statics.blotName||!r?super.format(e,r):this.domNode.setAttribute("href",this.constructor.sanitize(r))}}yt(md,"blotName","link"),yt(md,"tagName","A"),yt(md,"SANITIZED_URL","about:blank"),yt(md,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function bK(t,e){const r=document.createElement("a");r.href=t;const n=r.href.slice(0,r.href.indexOf(":"));return e.indexOf(n)>-1}class k_ extends uc{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}yt(k_,"blotName","script"),yt(k_,"tagName",["SUB","SUP"]);class N_ extends Iy{}yt(N_,"blotName","strike"),yt(N_,"tagName",["S","STRIKE"]);class S_ extends uc{}yt(S_,"blotName","underline"),yt(S_,"tagName","U");class f1 extends i4{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const r=super.create(e);return typeof e=="string"&&(window.katex.render(e,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",e)),r}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}yt(f1,"blotName","formula"),yt(f1,"className","ql-formula"),yt(f1,"tagName","SPAN");const vU=["alt","height","width"];var H0;let cCe=(H0=class extends oo{static create(e){const r=super.create(e);return typeof e=="string"&&r.setAttribute("src",this.sanitize(e)),r}static formats(e){return vU.reduce((r,n)=>(e.hasAttribute(n)&&(r[n]=e.getAttribute(n)),r),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return bK(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,r){vU.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):super.format(e,r)}},yt(H0,"blotName","image"),yt(H0,"tagName","IMG"),H0);const bU=["height","width"];class m1 extends _o{static create(e){const r=super.create(e);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen","true"),r.setAttribute("src",this.sanitize(e)),r}static formats(e){return bU.reduce((r,n)=>(e.hasAttribute(n)&&(r[n]=e.getAttribute(n)),r),{})}static sanitize(e){return md.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,r){bU.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):super.format(e,r)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}yt(m1,"blotName","video"),yt(m1,"className","ql-video"),yt(m1,"tagName","IFRAME");const Ex=new El("code-token","hljs",{scope:Bt.INLINE});class au extends uc{static formats(e,r){for(;e!=null&&e!==r.domNode;){if(e.classList&&e.classList.contains(Ws.className))return super.formats(e,r);e=e.parentNode}}constructor(e,r,n){super(e,r,n),Ex.add(this.domNode,n)}format(e,r){e!==au.blotName?super.format(e,r):r?Ex.add(this.domNode,r):(Ex.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Ex.value(this.domNode)||this.unwrap()}}au.blotName="code-token";au.className="ql-token";class Eo extends Ws{static create(e){const r=super.create(e);return typeof e=="string"&&r.setAttribute("data-language",e),r}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,r){e===this.statics.blotName&&r?this.domNode.setAttribute("data-language",r):super.format(e,r)}replaceWith(e,r){return this.formatAt(0,this.length(),au.blotName,!1),super.replaceWith(e,r)}}class Kx extends Of{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,r){e===Eo.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(e,r)}))}formatAt(e,r,n,a){n===Eo.blotName&&(this.forceNext=!0),super.formatAt(e,r,n,a)}highlight(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const a=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,i=Eo.formats(this.children.head.domNode);if(r||this.forceNext||this.cachedText!==a){if(a.trim().length>0||this.cachedText==null){const o=this.children.reduce((u,h)=>u.concat(rK(h,!1)),new $t),c=e(a,i);o.diff(c).reduce((u,h)=>{let{retain:f,attributes:p}=h;return f?(p&&Object.keys(p).forEach(g=>{[Eo.blotName,au.blotName].includes(g)&&this.formatAt(u,f,g,p[g])}),u+f):u},0)}this.cachedText=a,this.forceNext=!1}}html(e,r){const[n]=this.children.find(e);return`<pre data-language="${n?Eo.formats(n.domNode):"plain"}">
${Jw(this.code(e,r))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const r=Eo.formats(this.children.head.domNode);r!==this.uiNode.value&&(this.uiNode.value=r)}}}Kx.allowedChildren=[Eo];Eo.requiredContainer=Kx;Eo.allowedChildren=[au,e2,bl,Al];const uCe=(t,e,r)=>{if(typeof t.versionString=="string"){const n=t.versionString.split(".")[0];if(parseInt(n,10)>=11)return t.highlight(r,{language:e}).value}return t.highlight(e,r).value};class jK extends Tl{static register(){He.register(au,!0),He.register(Eo,!0),He.register(Kx,!0)}constructor(e,r){if(super(e,r),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,a)=>{let{key:i}=a;return n[i]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(He.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Kx))return;const r=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:a,label:i}=n;const o=r.ownerDocument.createElement("option");o.textContent=i,o.setAttribute("value",a),r.appendChild(o)}),r.addEventListener("change",()=>{e.format(Eo.blotName,r.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(r),e.children.head&&(r.value=Eo.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(He.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(He.sources.USER);const n=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Kx):[e]).forEach(i=>{i.highlight(this.highlightBlot,r)}),this.quill.update(He.sources.SILENT),n!=null&&this.quill.setSelection(n,He.sources.SILENT)}highlightBlot(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(r=this.languages[r]?r:"plain",r==="plain")return Jw(e).split(`
`).reduce((a,i,o)=>(o!==0&&a.insert(`
`,{[Ws.blotName]:r}),a.insert(i)),new $t);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(Ws.className),n.innerHTML=uCe(this.options.hljs,r,e),f4(this.quill.scroll,n,[(a,i)=>{const o=Ex.value(a);return o?i.compose(new $t().retain(i.length(),{[au.blotName]:o})):i}],[(a,i)=>a.data.split(`
`).reduce((o,c,u)=>(u!==0&&o.insert(`
`,{[Ws.blotName]:r}),o.insert(c)),i)],new WeakMap)}}jK.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Jx=class Jx extends As{static create(e){const r=super.create();return e?r.setAttribute("data-row",e):r.setAttribute("data-row",m4()),r}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,r){e===Jx.blotName&&r?this.domNode.setAttribute("data-row",r):super.format(e,r)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};yt(Jx,"blotName","table"),yt(Jx,"tagName","TD");let sl=Jx;class su extends If{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),r=this.children.tail.formats(),n=this.next.children.head.formats(),a=this.next.children.tail.formats();return e.table===r.table&&e.table===n.table&&e.table===a.table}return!1}optimize(e){super.optimize(e),this.children.forEach(r=>{if(r.next==null)return;const n=r.formats(),a=r.next.formats();if(n.table!==a.table){const i=this.splitAfter(r);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}yt(su,"blotName","table-row"),yt(su,"tagName","TR");class sc extends If{}yt(sc,"blotName","table-body"),yt(sc,"tagName","TBODY");class bp extends If{balanceCells(){const e=this.descendants(su),r=e.reduce((n,a)=>Math.max(a.children.length,n),0);e.forEach(n=>{new Array(r-n.children.length).fill(0).forEach(()=>{let a;n.children.head!=null&&(a=sl.formats(n.children.head.domNode));const i=this.scroll.create(sl.blotName,a);n.appendChild(i),i.optimize()})})}cells(e){return this.rows().map(r=>r.children.at(e))}deleteColumn(e){const[r]=this.descendant(sc);r==null||r.children.head==null||r.children.forEach(n=>{const a=n.children.at(e);a!=null&&a.remove()})}insertColumn(e){const[r]=this.descendant(sc);r==null||r.children.head==null||r.children.forEach(n=>{const a=n.children.at(e),i=sl.formats(n.children.head.domNode),o=this.scroll.create(sl.blotName,i);n.insertBefore(o,a)})}insertRow(e){const[r]=this.descendant(sc);if(r==null||r.children.head==null)return;const n=m4(),a=this.scroll.create(su.blotName);r.children.head.children.forEach(()=>{const o=this.scroll.create(sl.blotName,n);a.appendChild(o)});const i=r.children.at(e);r.insertBefore(a,i)}rows(){const e=this.children.head;return e==null?[]:e.children.map(r=>r)}}yt(bp,"blotName","table-container"),yt(bp,"tagName","TABLE");bp.allowedChildren=[sc];sc.requiredContainer=bp;sc.allowedChildren=[su];su.requiredContainer=sc;su.allowedChildren=[sl];sl.requiredContainer=su;function m4(){return`row-${Math.random().toString(36).slice(2,6)}`}class dCe extends Tl{static register(){He.register(sl),He.register(su),He.register(sc),He.register(bp)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(bp).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,r]=this.getTable();r!=null&&(e.deleteColumn(r.cellOffset()),this.quill.update(He.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(He.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const r=e.offset();e.remove(),this.quill.update(He.sources.USER),this.quill.setSelection(r,He.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[r,n]=this.quill.getLine(e.index);if(r==null||r.statics.blotName!==sl.blotName)return[null,null,null,-1];const a=r.parent;return[a.parent.parent,a,r,n]}insertColumn(e){const r=this.quill.getSelection();if(!r)return;const[n,a,i]=this.getTable(r);if(i==null)return;const o=i.cellOffset();n.insertColumn(o+e),this.quill.update(He.sources.USER);let c=a.rowOffset();e===0&&(c+=1),this.quill.setSelection(r.index+c,r.length,He.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const r=this.quill.getSelection();if(!r)return;const[n,a,i]=this.getTable(r);if(i==null)return;const o=a.rowOffset();n.insertRow(o+e),this.quill.update(He.sources.USER),e>0?this.quill.setSelection(r,He.sources.SILENT):this.quill.setSelection(r.index+a.children.length,r.length,He.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,r){const n=this.quill.getSelection();if(n==null)return;const a=new Array(e).fill(0).reduce(i=>{const o=new Array(r).fill(`
`).join("");return i.insert(o,{table:m4()})},new $t().retain(n.index));this.quill.updateContents(a,He.sources.USER),this.quill.setSelection(n.index,He.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(He.events.SCROLL_OPTIMIZE,e=>{e.some(r=>["TD","TR","TBODY","TABLE"].includes(r.target.tagName)?(this.quill.once(He.events.TEXT_CHANGE,(n,a,i)=>{i===He.sources.USER&&this.balanceTables()}),!0):!1)})}}const jU=gu("quill:toolbar");class p4 extends Tl{constructor(e,r){var n,a;if(super(e,r),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),hCe(i,this.options.container),(a=(n=e.container)==null?void 0:n.parentNode)==null||a.insertBefore(i,e.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){jU.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var c;const o=(c=this.options.handlers)==null?void 0:c[i];o&&this.addHandler(i,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(He.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(e,r){this.handlers[e]=r}attach(e){let r=Array.from(e.classList).find(a=>a.indexOf("ql-")===0);if(!r)return;if(r=r.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[r]==null&&this.quill.scroll.query(r)==null){jU.warn("ignoring attaching to nonexistent format",r,e);return}const n=e.tagName==="SELECT"?"change":"click";e.addEventListener(n,a=>{let i;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const c=e.options[e.selectedIndex];c.hasAttribute("selected")?i=!1:i=c.value||!1}else e.classList.contains("ql-active")?i=!1:i=e.value||!e.hasAttribute("value"),a.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[r]!=null)this.handlers[r].call(this,i);else if(this.quill.scroll.query(r).prototype instanceof oo){if(i=prompt(`Enter ${r}`),!i)return;this.quill.updateContents(new $t().retain(o.index).delete(o.length).insert({[r]:i}),He.sources.USER)}else this.quill.format(r,i,He.sources.USER);this.update(o)}),this.controls.push([r,e])}update(e){const r=e==null?{}:this.quill.getFormat(e);this.controls.forEach(n=>{const[a,i]=n;if(i.tagName==="SELECT"){let o=null;if(e==null)o=null;else if(r[a]==null)o=i.querySelector("option[selected]");else if(!Array.isArray(r[a])){let c=r[a];typeof c=="string"&&(c=c.replace(/"/g,'\\"')),o=i.querySelector(`option[value="${c}"]`)}o==null?(i.value="",i.selectedIndex=-1):o.selected=!0}else if(e==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const o=r[a],c=o===i.getAttribute("value")||o!=null&&o.toString()===i.getAttribute("value")||o==null&&!i.getAttribute("value");i.classList.toggle("ql-active",c),i.setAttribute("aria-pressed",c.toString())}else{const o=r[a]!=null;i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}})}}p4.DEFAULTS={};function wU(t,e,r){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${e}`),n.setAttribute("aria-pressed","false"),r!=null?(n.value=r,n.setAttribute("aria-label",`${e}: ${r}`)):n.setAttribute("aria-label",e),t.appendChild(n)}function hCe(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(r=>{const n=document.createElement("span");n.classList.add("ql-formats"),r.forEach(a=>{if(typeof a=="string")wU(n,a);else{const i=Object.keys(a)[0],o=a[i];Array.isArray(o)?fCe(n,i,o):wU(n,i,o)}}),t.appendChild(n)})}function fCe(t,e,r){const n=document.createElement("select");n.classList.add(`ql-${e}`),r.forEach(a=>{const i=document.createElement("option");a!==!1?i.setAttribute("value",String(a)):i.setAttribute("selected","selected"),n.appendChild(i)}),t.appendChild(n)}p4.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(r=>{this.quill.scroll.query(r,Bt.INLINE)!=null&&this.quill.format(r,!1,He.sources.USER)})}else this.quill.removeFormat(t.index,t.length,He.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",He.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,He.sources.USER),this.quill.format("direction",t,He.sources.USER)},indent(t){const e=this.quill.getSelection(),r=this.quill.getFormat(e),n=parseInt(r.indent||0,10);if(t==="+1"||t==="-1"){let a=t==="+1"?1:-1;r.direction==="rtl"&&(a*=-1),this.quill.format("indent",n+a,He.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,He.sources.USER)},list(t){const e=this.quill.getSelection(),r=this.quill.getFormat(e);t==="check"?r.list==="checked"||r.list==="unchecked"?this.quill.format("list",!1,He.sources.USER):this.quill.format("list","unchecked",He.sources.USER):this.quill.format("list",t,He.sources.USER)}}};const mCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',pCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',gCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',xCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',yCe='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',vCe='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bCe='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',jCe='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',kU='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',wCe='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',kCe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',NCe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',SCe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',ECe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',ACe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',TCe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',_Ce='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',CCe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',ICe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',OCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',PCe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',MCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',DCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',RCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',LCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',UCe='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',VCe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',zCe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',FCe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',$Ce='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',BCe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',qCe='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',HCe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Oy={align:{"":mCe,center:pCe,right:gCe,justify:xCe},background:yCe,blockquote:vCe,bold:bCe,clean:jCe,code:kU,"code-block":kU,color:wCe,direction:{"":kCe,rtl:NCe},formula:SCe,header:{1:ECe,2:ACe,3:TCe,4:_Ce,5:CCe,6:ICe},italic:OCe,image:PCe,indent:{"+1":MCe,"-1":DCe},link:RCe,list:{bullet:LCe,check:UCe,ordered:VCe},script:{sub:zCe,super:FCe},strike:$Ce,table:BCe,underline:qCe,video:HCe},WCe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let NU=0;function SU(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class r2{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),r.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),SU(this.label,"aria-expanded"),SU(this.options,"aria-hidden")}buildItem(e){const r=document.createElement("span");r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item");const n=e.getAttribute("value");return n&&r.setAttribute("data-value",n),e.textContent&&r.setAttribute("data-label",e.textContent),r.addEventListener("click",()=>{this.selectItem(r,!0)}),r.addEventListener("keydown",a=>{switch(a.key){case"Enter":this.selectItem(r,!0),a.preventDefault();break;case"Escape":this.escape(),a.preventDefault();break}}),r}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=WCe,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${NU}`,NU+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(r=>{const n=this.buildItem(r);e.appendChild(n),r.selected===!0&&this.selectItem(n)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.container.querySelector(".ql-selected");e!==n&&(n!=null&&n.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),r&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);const r=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}class wK extends r2{constructor(e,r){super(e),this.label.innerHTML=r,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(e){const r=super.buildItem(e);return r.style.backgroundColor=e.getAttribute("value")||"",r}selectItem(e,r){super.selectItem(e,r);const n=this.label.querySelector(".ql-color-label"),a=e&&e.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=a:n.style.fill=a)}}class kK extends r2{constructor(e,r){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=r[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,r){super.selectItem(e,r);const n=e||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const GCe=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};let NK=class{constructor(e,r){this.quill=e,this.boundsContainer=r||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,GCe(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const r=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${r}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const a=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let o=0;if(i.right>a.right&&(o=a.right-i.right,this.root.style.left=`${r+o}px`),i.left<a.left&&(o=a.left-i.left,this.root.style.left=`${r+o}px`),i.bottom>a.bottom){const c=i.bottom-i.top,u=e.bottom-e.top+c;this.root.style.top=`${n-u}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}};const YCe=[!1,"center","right","justify"],KCe=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],XCe=[!1,"serif","monospace"],QCe=["1","2","3",!1],ZCe=["small",!1,"large","huge"];class Nv extends vp{constructor(e,r){super(e,r);const n=a=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(a.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(a.target)||i.close()})};e.emitter.listenDOM("click",document.body,n)}addModule(e){const r=super.addModule(e);return e==="toolbar"&&this.extendToolbar(r),r}buildButtons(e,r){Array.from(e).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),r[i]!=null))if(i==="direction")n.innerHTML=r[i][""]+r[i].rtl;else if(typeof r[i]=="string")n.innerHTML=r[i];else{const o=n.value||"";o!=null&&r[i][o]&&(n.innerHTML=r[i][o])}})})}buildPickers(e,r){this.pickers=Array.from(e).map(a=>{if(a.classList.contains("ql-align")&&(a.querySelector("option")==null&&ix(a,YCe),typeof r.align=="object"))return new kK(a,r.align);if(a.classList.contains("ql-background")||a.classList.contains("ql-color")){const i=a.classList.contains("ql-background")?"background":"color";return a.querySelector("option")==null&&ix(a,KCe,i==="background"?"#ffffff":"#000000"),new wK(a,r[i])}return a.querySelector("option")==null&&(a.classList.contains("ql-font")?ix(a,XCe):a.classList.contains("ql-header")?ix(a,QCe):a.classList.contains("ql-size")&&ix(a,ZCe)),new r2(a)});const n=()=>{this.pickers.forEach(a=>{a.update()})};this.quill.on(Ut.events.EDITOR_CHANGE,n)}}Nv.DEFAULTS=jd({},vp.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class SK extends NK{constructor(e,r){super(e,r),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;r!=null?this.textbox.value=r:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:r}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,Ut.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,Ut.sources.USER)),this.quill.root.scrollTop=r;break}case"video":e=JCe(e);case"formula":{if(!e)break;const r=this.quill.getSelection(!0);if(r!=null){const n=r.index+r.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),e,Ut.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",Ut.sources.USER),this.quill.setSelection(n+2,Ut.sources.USER)}break}}this.textbox.value="",this.hide()}}function JCe(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function ix(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(n=>{const a=document.createElement("option");n===r?a.setAttribute("selected","selected"):a.setAttribute("value",String(n)),t.appendChild(a)})}const e3e=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class EK extends SK{constructor(e,r){super(e,r),this.quill.on(Ut.events.EDITOR_CHANGE,(n,a,i,o)=>{if(n===Ut.events.SELECTION_CHANGE)if(a!=null&&a.length>0&&o===Ut.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const c=this.quill.getLines(a.index,a.length);if(c.length===1){const u=this.quill.getBounds(a);u!=null&&this.position(u)}else{const u=c[c.length-1],h=this.quill.getIndex(u),f=Math.min(u.length()-1,a.index+a.length-h),p=this.quill.getBounds(new lf(h,f));p!=null&&this.position(p)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ut.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const r=this.quill.getBounds(e);r!=null&&this.position(r)}},1)})}cancel(){this.show()}position(e){const r=super.position(e),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",r!==0&&(n.style.marginLeft=`${-1*r-n.offsetWidth/2}px`),r}}yt(EK,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class AK extends Nv{constructor(e,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=e3e),super(e,r),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new EK(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Oy),this.buildPickers(e.container.querySelectorAll("select"),Oy))}}AK.DEFAULTS=jd({},Nv.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,He.sources.USER)}}}}});const t3e=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class TK extends SK{constructor(){super(...arguments);yt(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",r=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),r.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",r=>{if(this.linkRange!=null){const n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,Ut.sources.USER),delete this.linkRange}r.preventDefault(),this.hide()}),this.quill.on(Ut.events.SELECTION_CHANGE,(r,n,a)=>{if(r!=null){if(r.length===0&&a===Ut.sources.USER){const[i,o]=this.quill.scroll.descendant(md,r.index);if(i!=null){this.linkRange=new lf(r.index-o,i.length());const c=md.formats(i.domNode);this.preview.textContent=c,this.preview.setAttribute("href",c),this.show();const u=this.quill.getBounds(this.linkRange);u!=null&&this.position(u);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}yt(TK,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class _K extends Nv{constructor(e,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=t3e),super(e,r),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Oy),this.buildPickers(e.container.querySelectorAll("select"),Oy),this.tooltip=new TK(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(r,n)=>{e.handlers.link.call(e,!n.format.link)}))}}_K.DEFAULTS=jd({},Nv.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let r=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(r)&&r.indexOf("mailto:")!==0&&(r=`mailto:${r}`);const{tooltip:n}=this.quill.theme;n.edit("link",r)}else this.quill.format("link",!1,He.sources.USER)}}}}});He.register({"attributors/attribute/direction":lK,"attributors/class/align":sK,"attributors/class/background":y_e,"attributors/class/color":x_e,"attributors/class/direction":cK,"attributors/class/font":hK,"attributors/class/size":mK,"attributors/style/align":iK,"attributors/style/background":c4,"attributors/style/color":l4,"attributors/style/direction":uK,"attributors/style/font":fK,"attributors/style/size":pK},!0);He.register({"formats/align":sK,"formats/direction":cK,"formats/indent":lCe,"formats/background":c4,"formats/color":l4,"formats/font":hK,"formats/size":mK,"formats/blockquote":b_,"formats/code-block":Ws,"formats/header":j_,"formats/list":kv,"formats/bold":Iy,"formats/code":u4,"formats/italic":w_,"formats/link":md,"formats/script":k_,"formats/strike":N_,"formats/underline":S_,"formats/formula":f1,"formats/image":cCe,"formats/video":m1,"modules/syntax":jK,"modules/table":dCe,"modules/toolbar":p4,"themes/bubble":AK,"themes/snow":_K,"ui/icons":Oy,"ui/picker":r2,"ui/icon-picker":kK,"ui/color-picker":wK,"ui/tooltip":NK},!0);const CK=({initialHtml:t="",onChangeHtml:e,placeholder:r,className:n})=>{const a=v.useRef(null),i=v.useRef(null);return v.useEffect(()=>{if(!a.current||i.current)return;i.current=new He(a.current,{theme:"snow",modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},placeholder:r}),t&&(i.current.root.innerHTML=t);const o=()=>{var u;const c=((u=i.current)==null?void 0:u.root.innerHTML)||"";e(c)};return i.current.on("text-change",o),()=>{var c;(c=i.current)==null||c.off("text-change",o),a.current&&(a.current.innerHTML=""),i.current=null}},[]),v.useEffect(()=>{if(!i.current)return;const o=i.current.root.innerHTML;t&&o!==t&&(i.current.root.innerHTML=t)},[t]),s.jsx("div",{ref:a,className:n})},Sv=bH(ov),iu=async(t,e)=>{try{const r=kn(Sv,e),n=await io(r,t);return await Ci(n.ref)}catch(r){throw console.error("Erro no upload da imagem:",r),new Error("Falha no upload da imagem.")}},E_=async(t,e)=>{try{if(t.size>5242880)throw new Error("Arquivo muito grande. Tamanho mximo permitido  5MB.");const n=t.name.replace(/[^a-zA-Z0-9._-]/g,"_"),a=`images/avatars/${e}/${Date.now()}-${n}`,i=kn(Sv,a),o=await io(i,t);return await Ci(o.ref)}catch(r){console.error("Erro no upload do avatar:",r);const n=r instanceof Error?r.message:"Falha no upload do avatar.";throw new Error(n)}},r3e=async t=>{try{const e=["video/mp4","video/quicktime"];if(t.type&&!e.includes(t.type))throw new Error("Formato invlido. Use arquivos MP4 ou MOV.");const r=200*1024*1024;if(t.size>r)throw new Error("Arquivo muito grande. Tamanho mximo permitido  200MB.");const n=t.name.replace(/[^a-zA-Z0-9._-]/g,"_"),a=`documents/videos/news/${Date.now()}-${n}`,i=kn(Sv,a),o=await io(i,t);return await Ci(o.ref)}catch(e){console.error("Erro no upload de vdeo news:",e);const r=e instanceof Error?e.message:"Falha no upload do vdeo.";throw new Error(r)}},n3e=async(t,e)=>{try{const r=["audio/mpeg","audio/mp3"];if(t.type&&!r.includes(t.type))throw new Error("Formato invlido. Use arquivos MP3.");const n=20*1024*1024;if(t.size>n)throw new Error("Arquivo muito grande. Tamanho mximo permitido  20MB.");const a=t.name.replace(/[^a-zA-Z0-9._-]/g,"_"),i=`${e}/${Date.now()}-${a}`,o=kn(Sv,i),c=await io(o,t);return await Ci(c.ref)}catch(r){console.error("Erro no upload de udio:",r);const n=r instanceof Error?r.message:"Falha no upload do udio.";throw new Error(n)}},a3e=async(t,e)=>{try{const r=t.name.replace(/[^a-zA-Z0-9._-]/g,"_"),n=`images/uploads/${e}/chat/${Date.now()}-${r}`,a=kn(Sv,n),i=await io(a,t);return{url:await Ci(i.ref),storagePath:n,contentType:t.type,size:t.size,name:r}}catch(r){console.error("Erro no upload de anexo do chat:",r);const n=r instanceof Error?r.message:"Falha no upload do anexo.";throw new Error(n)}},s3e=[{value:"aviso",label:"Aviso"},{value:"evento",label:"Evento"},{value:"retiro",label:"Retiro"},{value:"jantar",label:"Jantar"},{value:"visita",label:"Visita"},{value:"evangelismo",label:"Evangelismo"},{value:"audicao",label:"Audio"},{value:"curso",label:"Curso"},{value:"confraternizacao",label:"Confraternizao"},{value:"jornada-vida",label:"Jornada Vida"}],i3e=[{value:"baixa",label:"Baixa"},{value:"media",label:"Mdia"},{value:"alta",label:"Alta"}],o3e=()=>{const{user:t}=xr(),{addAnnouncement:e}=cr(),r=mn(),[n,a]=v.useState({title:"",content:"",type:"aviso",priority:"media",image:""}),[i,o]=v.useState(null),[c,u]=v.useState(""),[h,f]=v.useState(""),[p,g]=v.useState(!1),[x,j]=v.useState([]),[w,b]=v.useState([]),[N,E]=v.useState(""),[A,O]=v.useState(null);v.useEffect(()=>{(async()=>{try{const[_,D]=await Promise.all([ss("tipo"),ss("prioridade")]);j(_),b(D),_.length>0&&!_.find(P=>P.name===n.type)&&a(P=>({...P,type:_[0].name})),D.length>0&&!D.find(P=>P.name===n.priority)&&a(P=>({...P,priority:D[0].name}))}catch{}})()},[]);const M=async T=>{if(T.preventDefault(),!t)return;g(!0),O(null);let _=n.image;if(i)try{const D=`announcements/${Date.now()}_${i.name}`;_=await iu(i,D)}catch(D){console.error("Image upload failed:",D),g(!1);return}try{if(!c||c.trim()===""){O("Configure data e horrio na recorrncia antes de salvar."),g(!1);return}const D=Ww.sanitize(N||""),P=U=>{const $=document.createElement("div");return $.innerHTML=U||"",($.textContent||$.innerText||"").trim()},R={title:n.title,content:P(D)||n.content,...D&&D.trim()&&{contentHtml:D},type:n.type,rruleString:c,...h&&{endTime:h},priority:n.priority,ministry:t.ministry};_&&_.trim()!==""&&(R.image=_),e(R,t),r("/dashboard")}catch(D){console.error("Erro ao criar programao:",D)}finally{g(!1)}},L=T=>{a(_=>({..._,image:T})),T&&o(null)},I=T=>{var D;const _=(D=T.target.files)==null?void 0:D[0];_&&(o(_),a(P=>({...P,image:""})))};return t?s.jsxs("div",{className:"min-h-screen bg-jkd-bg py-8",children:[s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(xt,{to:"/dashboard",className:"inline-flex items-center space-x-2 text-church-primary hover:text-church-primary/80 mb-4",children:[s.jsx(_s,{size:20}),s.jsx("span",{children:"Voltar ao Painel"})]}),s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Nova Programao"})]}),s.jsx("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-8",children:s.jsxs("form",{onSubmit:M,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Tipo *"}),s.jsx("select",{id:"type",required:!0,value:n.type,onChange:T=>a(_=>({..._,type:T.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",children:(x.length>0?x.map(T=>({value:T.name,label:T.name})):s3e).map(T=>s.jsx("option",{value:T.value,children:T.label},T.value))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Ttulo *"}),s.jsx("input",{type:"text",id:"title",required:!0,value:n.title,onChange:T=>a(_=>({..._,title:T.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Contedo *"}),s.jsx(CK,{initialHtml:N,onChangeHtml:E,className:"min-h-[150px]"})]}),s.jsx(Gw,{rruleString:c,onChange:u,endTime:h,onEndTimeChange:f}),A&&s.jsx("div",{className:"text-red-600 text-sm",children:A}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Prioridade"}),s.jsx("select",{id:"priority",value:n.priority,onChange:T=>a(_=>({..._,priority:T.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",children:(w.length>0?w.map(T=>({value:T.name,label:T.name})):i3e).map(T=>s.jsx("option",{value:T.value,children:T.label},T.value))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Is,{size:16}),s.jsx("span",{children:"Imagem (opcional)"})]}),s.jsxs("p",{className:"text-xs text-jkd-text/70",children:["Recomendado: formato vertical (9:16). Tamanho mximo: ",s.jsx("strong",{children:"5MB"}),"."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex gap-2",children:s.jsx("input",{type:"url",id:"image",value:n.image,onChange:T=>L(T.target.value),disabled:!!i,className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary disabled:bg-jkd-border/20 disabled:cursor-not-allowed",placeholder:"https://exemplo.com/imagem.jpg"})}),s.jsxs("div",{className:"relative flex items-center justify-center",children:[s.jsx("div",{className:"flex-grow border-t border-jkd-border"}),s.jsx("span",{className:"flex-shrink mx-4 text-jkd-text text-sm",children:"ou"}),s.jsx("div",{className:"flex-grow border-t border-jkd-border"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"file-upload",className:`relative cursor-pointer rounded-lg border-2 border-dashed border-jkd-border w-full p-4 flex justify-center items-center text-center transition-colors ${n.image?"bg-jkd-border/20 cursor-not-allowed opacity-50":"hover:border-church-primary"}`,children:[s.jsxs("div",{className:"space-y-1 text-jkd-text",children:[s.jsx(ns,{className:"mx-auto h-8 w-8"}),s.jsx("span",{className:"font-medium text-church-primary text-sm",children:"Enviar arquivo"})]}),s.jsx("input",{id:"file-upload",type:"file",className:"sr-only",onChange:I,disabled:!!n.image,accept:"image/*"})]}),i&&s.jsxs("div",{className:"flex items-center justify-between bg-jkd-bg p-2 rounded-lg border border-jkd-border mt-2",children:[s.jsx("p",{className:"text-sm text-jkd-text truncate",children:i.name}),s.jsx("button",{type:"button",onClick:()=>o(null),className:"p-1 rounded-full hover:bg-red-500/10 text-red-500",children:s.jsx(On,{size:16})})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6",children:[s.jsx(xt,{to:"/dashboard",className:"px-4 py-2 text-jkd-text hover:text-church-primary",children:"Cancelar"}),s.jsxs("button",{type:"submit",disabled:p,className:"inline-flex items-center space-x-2 bg-church-primary text-white px-6 py-2 rounded-lg hover:bg-church-primary/90 disabled:opacity-50",children:[s.jsx(as,{size:20}),s.jsx("span",{children:p?"Salvando...":"Salvar Programao"})]})]})]})})]}),s.jsx("style",{children:`
        .input-style { @apply px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary; }
      `})]}):s.jsx("div",{children:"Acesso negado"})},fj="images/galeria",IK=async t=>{const e=t?`${fj}/${t}`:fj,r=kn(da,e),a=(await Xfe(r)).items.map(async o=>{const c=await Ci(o),u=o.name,h=t||(o.fullPath.includes("/countdown/")?"countdown":"principal");return{name:u,fullPath:o.fullPath,url:c,type:h}});return(await Promise.all(a)).sort((o,c)=>o.name.localeCompare(c.name))},l3e=async(t,e="principal")=>{const r=["image/jpeg","image/png","image/svg+xml"];if(t.type&&!r.includes(t.type))throw new Error("Formato invlido. Use JPEG, JPG, PNG ou SVG.");const n=5*1024*1024;if(t.size>n)throw new Error("Imagem muito grande. Tamanho mximo permitido  5MB.");const a=t.name.replace(/[^a-zA-Z0-9._-]/g,"_"),i=`${fj}/${e}/${Date.now()}_${a}`,o=kn(da,i),c=await io(o,t);return await Ci(c.ref)},c3e=async(t,e="principal")=>{try{const r=await fetch(t,{mode:"cors"});if(!r.ok)throw new Error("No foi possvel baixar a imagem pela URL fornecida.");const n=await r.blob(),a=["image/jpeg","image/png","image/svg+xml"];if(n.type&&!a.includes(n.type))throw new Error("Formato invlido na URL. Use JPEG, JPG, PNG ou SVG.");const i=5*1024*1024;if(n.size>i)throw new Error("Imagem muito grande. Tamanho mximo permitido  5MB.");const u=(new URL(t).pathname.split("/").pop()||"imagem").replace(/[^a-zA-Z0-9._-]/g,"_"),h=`${fj}/${e}/${Date.now()}_${u}`,f=kn(da,h),p=await io(f,n);return await Ci(p.ref)}catch(r){const n=(r==null?void 0:r.message)||"Falha ao importar imagem por URL.";throw new Error(n)}},u3e=async t=>{const e=kn(da,t);await hu(e)},EU=({isOpen:t,onClose:e,onInsert:r,initialTab:n="principal"})=>{const{showToast:a}=Da(),[i,o]=v.useState([]),[c,u]=v.useState(!1),[h,f]=v.useState(""),[p,g]=v.useState(n);v.useEffect(()=>{if(!t)return;(async()=>{u(!0);try{const b=await IK(p);o(b)}catch(b){console.error("Erro ao carregar galeria (light):",b),a("error","Falha ao carregar a galeria.")}finally{u(!1)}})()},[t,p]);const x=v.useMemo(()=>{const w=h.trim().toLowerCase();return i.filter(b=>!w||b.name.toLowerCase().includes(w))},[i,h]),j=async w=>{try{await navigator.clipboard.writeText(w),a("success","URL copiada!")}catch{a("error","No foi possvel copiar a URL.")}};return t?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:e}),s.jsxs("div",{className:"relative bg-jkd-bg-sec border border-jkd-border rounded-lg w-full max-w-4xl h-[80vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-jkd-border flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Uw,{size:16,className:"text-jkd-text"}),s.jsx("input",{type:"text",value:h,onChange:w=>f(w.target.value),placeholder:"Buscar por nome...",className:"input-style"})]}),s.jsx("button",{className:"p-2 rounded hover:bg-jkd-border",onClick:e,"aria-label":"Fechar",children:s.jsx(On,{size:18})})]}),s.jsxs("div",{className:"px-4 pt-3 flex-shrink-0",children:[s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx("button",{className:`px-3 py-1.5 rounded-md text-sm font-medium border ${p==="principal"?"bg-church-primary text-white border-church-primary":"bg-jkd-bg border-jkd-border text-jkd-text hover:bg-jkd-bg-sec"}`,onClick:()=>g("principal"),children:"Imagem Principal"}),s.jsx("button",{className:`px-3 py-1.5 rounded-md text-sm font-medium border ${p==="countdown"?"bg-church-primary text-white border-church-primary":"bg-jkd-bg border-jkd-border text-jkd-text hover:bg-jkd-bg-sec"}`,onClick:()=>g("countdown"),children:"Destaque Countdown"})]}),s.jsx("p",{className:"text-xs text-jkd-text mb-2",children:p==="principal"?"Use imagens 1:1 (1000x1000 - Feed) ou 9:16 (1080x1920 - Reels/History).":"Use imagens 16:9 (1920x1080 - Paisagem/Horizontal)."})]}),s.jsx("div",{className:"p-4 overflow-auto flex-1 min-h-0",children:c?s.jsx("div",{className:"text-center py-12",children:"Carregando..."}):s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[x.map(w=>s.jsxs("div",{className:"border border-jkd-border rounded-lg overflow-hidden bg-white",children:[s.jsx("div",{className:"aspect-square flex items-center justify-center",children:s.jsx("img",{src:w.url,alt:w.name,className:"h-full w-full object-contain"})}),s.jsxs("div",{className:"p-2 flex items-center gap-2",children:[s.jsx("p",{className:"text-xs truncate flex-1",title:w.name,children:w.name}),s.jsx("button",{className:"p-1 rounded hover:bg-jkd-border",onClick:()=>j(w.url),title:"Copiar",children:s.jsx(II,{size:16})}),r&&s.jsx("button",{className:"px-2 py-1 rounded bg-church-primary text-white text-xs",onClick:()=>r(w.url),children:"Inserir"})]})]},w.fullPath)),x.length===0&&s.jsx("div",{className:"col-span-full text-center py-12 text-jkd-text",children:"Nenhuma imagem encontrada."})]})})]})]}):null};function AU(t){if(!t)return new Date;const[e,r,n]=t.split("-").map(Number),a=new Date(e||new Date().getFullYear(),(r||1)-1,n||1,0,0,0,0);return Number.isNaN(a.getTime())?new Date:a}function kh(t,e="19:00"){const n=(t||e).trim().match(/^([01]\d|2[0-3]):([0-5]\d)$/);if(!n)return{h:19,m:0,str:"19:00"};const a=Number(n[1]),i=Number(n[2]),o=`${String(a).padStart(2,"0")}:${String(i).padStart(2,"0")}`;return{h:a,m:i,str:o}}const TU=({value:t,onChange:e,accentColor:r="#246BFD"})=>{const{h:n,m:a}=kh(t),i=v.useMemo(()=>Array.from({length:24},(c,u)=>u),[]),o=v.useMemo(()=>Array.from({length:60},(c,u)=>u),[]);return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-semibold mb-2",style:{color:r},children:"Hora"}),s.jsx("div",{className:"h-48 overflow-y-auto rounded-lg border border-gray-200",children:i.map(c=>{const u=c===n;return s.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-gray-100",style:u?{backgroundColor:r,color:"#fff"}:void 0,onClick:()=>e(`${String(c).padStart(2,"0")}:${String(a).padStart(2,"0")}`),children:String(c).padStart(2,"0")},c)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-semibold mb-2",style:{color:r},children:"Minuto"}),s.jsx("div",{className:"h-48 overflow-y-auto rounded-lg border border-gray-200",children:o.map(c=>{const u=c===a;return s.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-gray-100",style:u?{backgroundColor:r,color:"#fff"}:void 0,onClick:()=>e(`${String(n).padStart(2,"0")}:${String(c).padStart(2,"0")}`),children:String(c).padStart(2,"0")},c)})})]})]})},N0=[{label:"Dom",value:0,rrule:Je.SU},{label:"Seg",value:1,rrule:Je.MO},{label:"Ter",value:2,rrule:Je.TU},{label:"Qua",value:3,rrule:Je.WE},{label:"Qui",value:4,rrule:Je.TH},{label:"Sex",value:5,rrule:Je.FR},{label:"Sb",value:6,rrule:Je.SA}];function _U(t){return Math.ceil(t.getDate()/7)}const d3e=({isOpen:t,initialDate:e,onClose:r,onConfirm:n,confirmColor:a="#246BFD"})=>{const[i,o]=v.useState(e),[c,u]=v.useState(!1),[h,f]=v.useState(Ar(e,"yyyy-MM-dd")),p=g=>{try{const[x,j,w]=g.split("-").map(N=>parseInt(N,10)),b=new Date(x,(j||1)-1,w||1);if(!Number.isNaN(b.getTime()))return b}catch{}return null};return t?s.jsxs("div",{className:"fixed inset-0 z-[1100]",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"w-[92%] max-w-md rounded-2xl bg-white shadow-2xl overflow-hidden animate-[fadeIn_120ms_ease-out]",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsx("h3",{className:"text-base font-semibold",children:"Calendrio"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",className:"p-2 rounded-full hover:bg-gray-100",onClick:()=>u(g=>!g),"aria-label":"Alternar modo manual",children:s.jsx(q0e,{size:18})}),s.jsx("button",{type:"button",className:"px-3 py-1.5 rounded-lg text-white hover:opacity-90",style:{backgroundColor:a},onClick:()=>{const g=c&&p(h)||i;n(g),r()},children:"Confirmar"})]})]}),s.jsx("div",{className:"p-4",children:c?s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Inserir data manualmente (yyyy-MM-dd)"}),s.jsx("input",{type:"text",value:h,onChange:g=>f(g.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-300",placeholder:"2025-12-31"}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Atual: ",Ar(i,"dd/MM/yyyy")]})]}):s.jsx(vv,{value:i,onChange:g=>{const x=Array.isArray(g)?g[0]:g;o(x)},locale:"pt-BR",className:"react-calendar"})})]})})]}):null},h3e=({isOpen:t,title:e="Data e Horrio",initialDate:r,initialStartTime:n,initialEndTime:a,initialAllDay:i,initialIsRecurring:o,initialFreq:c="WEEKLY",initialInterval:u=1,initialByWeekday:h=[],initialMonthlyMode:f="bymonthday",initialCount:p,initialUntil:g,initialRruleString:x,onClose:j,onConfirm:w})=>{const[b,N]=v.useState(()=>AU(r)),[E,A]=v.useState(!!i),[O,M]=v.useState(!!o),[L,I]=v.useState(()=>kh(n,"19:00").str),[T,_]=v.useState(()=>a?kh(a).str:void 0),[D,P]=v.useState(c),[R,U]=v.useState(u||1),[$,K]=v.useState(h),[F,W]=v.useState(f),[te,X]=v.useState(p?"count":g?"until":"never"),[B,G]=v.useState(p||10),[J,ne]=v.useState(()=>g?AU(g):void 0),[ie,se]=v.useState("idle"),[je,Pe]=v.useState(!1),[ue,ae]=v.useState("start"),oe=v.useMemo(()=>Ar(b,"dd/MM/yyyy",{locale:Hs}),[b]),ve=v.useMemo(()=>kh(L,"00:00").str,[L]),Y=v.useMemo(()=>T?kh(T).str:void 0,[T]);function fe(){if(!O)return"";const ee={DAILY:Je.DAILY,WEEKLY:Je.WEEKLY,MONTHLY:Je.MONTHLY,YEARLY:Je.YEARLY},ye=new Date(b),{h:Oe,m:We}=kh(L||"00:00","00:00");E?ye.setHours(0,0,0,0):ye.setHours(Oe??0,We??0,0,0);const it={freq:ee[D],interval:Math.max(1,R||1),dtstart:ye};if(D==="WEEKLY"&&$.length&&(it.byweekday=$.map(At=>N0[At].rrule)),D==="MONTHLY"&&(F==="bymonthday"?it.bymonthday=b.getDate():(it.byweekday=[N0[b.getDay()].rrule],it.bysetpos=_U(b))),te==="count")it.count=Math.max(1,B||1);else if(te==="until"&&J){const At=new Date(J);At.setHours(23,59,59,999),it.until=At}return new Je(it).toString().replace(/DTSTART:(\d{8}T\d{6})Z/g,"DTSTART:$1").replace(/UNTIL=(\d{8}T\d{6})Z/g,"UNTIL=$1")}return t?s.jsxs("div",{className:"fixed inset-0 z-[1000]",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:j}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"w-[92%] max-w-md rounded-2xl bg-white shadow-2xl overflow-hidden animate-[fadeIn_120ms_ease-out]",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:j,"aria-label":"Fechar",className:"p-2 rounded-full hover:bg-gray-100",children:s.jsx(On,{size:18})}),s.jsx("h3",{className:"text-base font-semibold",children:e})]}),s.jsx("button",{type:"button",onClick:()=>{const ee=Ar(b,"yyyy-MM-dd"),ye=fe();w({date:ee,startTime:kh(ve,"00:00").str,endTime:Y,isAllDay:E,isRecurring:O,rruleString:ye}),j()},className:"px-3 py-1.5 rounded-lg bg-church-primary text-white hover:bg-church-primary/90",children:"Salvar"})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium",children:"Dia inteiro"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:E,onChange:ee=>{const ye=ee.target.checked;A(ye),ye&&(I("00:00"),_(void 0))}}),s.jsx("div",{className:"toggle-container bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-5 peer-checked:bg-[#246BFD] after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:transition-all"})]}),s.jsx("span",{className:`${E?"bg-[#246BFD] text-white":"bg-gray-100 text-gray-700"} text-xs px-2 py-0.5 rounded`,children:E?"Ativo":"Inativo"})]}),s.jsxs("button",{type:"button",className:"w-full flex items-center justify-between px-3 py-3 rounded-xl border border-gray-200 hover:border-[#246BFD]",onClick:()=>{ae("start"),Pe(!0)},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-[#246BFD]/10 text-[#246BFD]",children:s.jsx(Cs,{size:18})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Incio"}),s.jsxs("div",{className:"text-sm font-medium",children:[oe,!E&&ve?` s ${ve}`:""]})]})]}),s.jsx(l1,{size:18,className:"text-gray-400"})]}),s.jsxs("button",{type:"button",className:`w-full flex items-center justify-between px-3 py-3 rounded-xl border border-gray-200 ${E?"opacity-50 cursor-not-allowed":"hover:border-[#EF4444]"}`,onClick:()=>{E||se("time-end")},disabled:E,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-[#EF4444]/10 text-[#EF4444]",children:s.jsx(kf,{size:18})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Trmino"}),s.jsx("div",{className:"text-sm font-medium",children:E?"":Y?`${oe} s ${Y}`:"Definir trmino"})]})]}),s.jsx(l1,{size:18,className:"text-gray-400"})]}),s.jsxs("button",{type:"button",className:"w-full flex items-center justify-between px-3 py-3 rounded-xl border border-gray-200 hover:border-[#10B981]",onClick:()=>se("recurrence"),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-[#10B981]/10 text-[#10B981]",children:s.jsx(Q0e,{size:18})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Recorrncia"}),s.jsx("div",{className:"text-sm font-medium",children:O?`${D==="DAILY"?"Dirio":D==="WEEKLY"?"Semanal":D==="MONTHLY"?"Mensal":"Anual"}  intervalo ${R}`:"No repete"})]})]}),s.jsx(l1,{size:18,className:"text-gray-400"})]}),ie!=="idle"&&s.jsxs("div",{className:"mt-2 rounded-2xl border border-gray-200 overflow-hidden",children:[ie==="date-start"&&s.jsx("div",{className:"bg-white",children:s.jsx(vv,{value:b,onChange:ee=>{const ye=Array.isArray(ee)?ee[0]:ee;N(ye),se(E?"idle":"time-start")},locale:"pt-BR",className:"react-calendar"})}),ie==="time-start"&&s.jsxs("div",{className:"p-3 bg-white space-y-3",children:[s.jsx(TU,{value:L,onChange:ee=>{I(ee)},accentColor:"#246BFD"}),s.jsx("div",{className:"pt-1 flex justify-end",children:s.jsx("button",{type:"button",className:"px-3 py-1.5 rounded-lg bg-church-primary text-white hover:bg-church-primary/90",onClick:()=>se("idle"),children:"Concluir"})})]}),ie==="time-end"&&s.jsxs("div",{className:"p-3 bg-white space-y-3",children:[s.jsx(TU,{value:T||"19:30",onChange:ee=>{_(ee)},accentColor:"#EF4444"}),s.jsx("div",{className:"pt-1 flex justify-end",children:s.jsx("button",{type:"button",className:"px-3 py-1.5 rounded-lg bg-church-primary text-white hover:bg-church-primary/90",onClick:()=>se("idle"),children:"Concluir"})})]}),ie==="recurrence"&&s.jsxs("div",{className:"p-4 bg-white space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium",children:"Ativar recorrncia"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:O,onChange:ee=>M(ee.target.checked)}),s.jsx("div",{className:"toggle-container bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-5 peer-checked:bg-[#10B981] after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:transition-all"})]}),s.jsx("span",{className:`${O?"bg-[#10B981] text-white":"bg-gray-100 text-gray-700"} text-xs px-2 py-0.5 rounded`,children:O?"Ativo":"Inativo"})]}),O&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Frequncia"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:["DAILY","WEEKLY","MONTHLY","YEARLY"].map(ee=>s.jsxs("button",{type:"button",className:`px-2 py-1.5 rounded-lg border ${D===ee?"bg-[#10B981] text-white border-[#10B981]":"border-gray-300 hover:border-[#10B981]"}`,onClick:()=>P(ee),children:[ee==="DAILY"&&"Dirio",ee==="WEEKLY"&&"Semanal",ee==="MONTHLY"&&"Mensal",ee==="YEARLY"&&"Anual"]},ee))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Intervalo"}),s.jsx("input",{type:"number",min:1,value:R,onChange:ee=>U(Math.max(1,parseInt(ee.target.value||"1"))),className:"w-full px-3 py-2 rounded-lg border border-gray-300"})]}),D==="WEEKLY"&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Dias da semana"}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:N0.map(ee=>{const ye=$.includes(ee.value);return s.jsx("button",{type:"button",className:`px-2 py-1.5 rounded-lg border text-xs ${ye?"bg-[#10B981] text-white border-[#10B981]":"border-gray-300 hover:border-[#10B981]"}`,onClick:()=>{K(Oe=>Oe.includes(ee.value)?Oe.filter(We=>We!==ee.value):[...Oe,ee.value].sort((We,it)=>We-it))},children:ee.label},ee.value)})})]}),D==="MONTHLY"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Configurao mensal"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{type:"button",className:`px-2 py-1.5 rounded-lg border ${F==="bymonthday"?"bg-[#10B981] text-white border-[#10B981]":"border-gray-300 hover:border-[#10B981]"}`,onClick:()=>W("bymonthday"),children:["Dia do ms (",b.getDate(),")"]}),s.jsxs("button",{type:"button",className:`px-2 py-1.5 rounded-lg border ${F==="byweekdaypos"?"bg-[#10B981] text-white border-[#10B981]":"border-gray-300 hover:border-[#10B981]"}`,onClick:()=>W("byweekdaypos"),children:[_U(b)," ",N0[b.getDay()].label]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Termina"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:["never","count","until"].map(ee=>s.jsxs("button",{type:"button",className:`px-2 py-1.5 rounded-lg border ${te===ee?"bg-[#10B981] text-white border-[#10B981]":"border-gray-300 hover:border-[#10B981]"}`,onClick:()=>X(ee),children:[ee==="never"&&"Nunca",ee==="count"&&"Aps N",ee==="until"&&"At data"]},ee))}),te==="count"&&s.jsx("div",{className:"mt-2",children:s.jsx("input",{type:"number",min:1,value:B,onChange:ee=>G(Math.max(1,parseInt(ee.target.value||"1"))),className:"w-full px-3 py-2 rounded-lg border border-gray-300"})}),te==="until"&&s.jsx("div",{className:"mt-2",children:s.jsxs("button",{type:"button",className:"w-full flex items-center justify-between px-3 py-2 rounded-lg border border-gray-300 hover:border-[#10B981]",onClick:()=>{ae("until"),Pe(!0)},children:[s.jsx("span",{className:"text-sm",children:J?Ar(J,"dd/MM/yyyy"):"Selecionar data"}),s.jsx(Cs,{size:18,className:"text-gray-500"})]})})]})]}),s.jsx("div",{className:"pt-2 flex justify-end",children:s.jsx("button",{type:"button",className:"px-3 py-1.5 rounded-lg bg-church-primary text-white hover:bg-church-primary/90",onClick:()=>se("idle"),children:"Concluir"})})]})]})]})]})}),s.jsx(d3e,{isOpen:je,initialDate:ue==="until"?J||new Date:b,onClose:()=>Pe(!1),onConfirm:ee=>{ue==="start"?(N(ee),Pe(!1),se(E?"idle":"time-start")):(ne(ee),Pe(!1))},confirmColor:ue==="until"?"#10B981":"#246BFD"}),s.jsx("style",{children:`
        @keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0px); } }
        .react-calendar { width: 100%; border: none; }
        .react-calendar__navigation button { padding: 8px; border-radius: 8px; }
        .react-calendar__tile { padding: 10px 6px; border-radius: 8px; }
        .react-calendar__tile--now { background: rgba(36,107,253,0.08); }
        .react-calendar__tile--active { background: #246BFD; color: white; }
        .react-calendar__tile:enabled:hover { background: rgba(36,107,253,0.12); }
      `})]}):null},n2=({initialTitle:t="",initialDescription:e="",initialImageUrl:r="",initialCountdownUrl:n="",initialVideoUrl:a="",initialIsLive:i=!1,initialDate:o,initialStartTime:c,initialEndTime:u,initialRruleString:h,uploaderAuthorizedUserId:f,onSubmit:p,submitLabel:g="Salvar",entityLabel:x="Programao"})=>{const[j,w]=v.useState(t),[b,N]=v.useState(e),[E,A]=v.useState(r),[O,M]=v.useState(null),[L,I]=v.useState(n||""),[T,_]=v.useState(null),[D,P]=v.useState(a||""),[R,U]=v.useState(i||!1),[$,K]=v.useState(o||Ar(new Date,"yyyy-MM-dd")),[F,W]=v.useState(c||"19:00"),[te,X]=v.useState(u),[B,G]=v.useState(!1),[J,ne]=v.useState(!1),[ie,se]=v.useState(()=>{if(h)return h;const wt=o||Ar(new Date,"yyyy-MM-dd"),st=c||"19:00",[Ce,Ve,Qe]=wt.split("-").map(Number),[rt,ot]=st.split(":").map(Number),gt=new Date(Ce,(Ve||1)-1,Qe||1,rt||0,ot||0,0,0);return new Je({freq:Je.DAILY,count:1,dtstart:gt}).toString().replace(/DTSTART:(\d{8}T\d{6})Z/g,"DTSTART:$1").replace(/UNTIL=(\d{8}T\d{6})Z/g,"UNTIL=$1")}),[je,Pe]=v.useState(!1);v.useRef(null),v.useRef(null);const[ue,ae]=v.useState(!1),[oe,ve]=v.useState(!1);v.useRef(null);const[Y,fe]=v.useState(!1),ee=wt=>{try{const[st,Ce,Ve]=(wt||Ar(new Date,"yyyy-MM-dd")).split("-").map(Number);return new Date(st||new Date().getFullYear(),(Ce||1)-1,Ve||1,0,0,0,0)}catch{return new Date}},ye=v.useMemo(()=>{try{if(!B)return"Sem recorrncia";if(!ie)return"Recorrncia no configurada";const st=Je.fromString(ie).options,Ce=(qt,Rt)=>{const Xt=qt===Je.DAILY?"Diariamente":qt===Je.WEEKLY?"Semanalmente":qt===Je.MONTHLY?"Mensalmente":qt===Je.YEARLY?"Anualmente":"Recorrente";return Rt&&Rt>1?`A cada ${Rt} ${Xt.toLowerCase()}`:Xt},Ve=["Seg","Ter","Qua","Qui","Sex","Sb","Dom"],Qe=["segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado","domingo"],rt=["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],ot=qt=>({1:"Primeira",2:"Segunda",3:"Terceira",4:"Quarta",5:"Quinta"})[qt]||`${qt}`,gt=qt=>typeof qt=="number"?qt:qt.weekday;let ht=Ce(st.freq,st.interval||1);if(st.freq===Je.WEEKLY&&st.byweekday&&st.byweekday.length){const qt=st.byweekday.map(Rt=>Ve[gt(Rt)]).join(", ");ht+=`: ${qt}`}else if(st.freq===Je.MONTHLY){if(st.bymonthday&&st.bymonthday.length)ht+=` no dia ${st.bymonthday[0]}`;else if(st.bysetpos&&st.byweekday&&st.byweekday.length){const qt=Array.isArray(st.bysetpos)?st.bysetpos[0]:st.bysetpos,Rt=st.byweekday[0],Xt=Qe[gt(Rt)];ht+=` na ${ot(qt)} ${Xt} do ms`}}else st.freq===Je.YEARLY&&st.bymonth&&st.bymonth.length&&st.bymonthday&&st.bymonthday.length&&(ht+=` em ${rt[(st.bymonth[0]||1)-1]} no dia ${st.bymonthday[0]}`);let Dt="";return st.count?Dt=`, por ${st.count} ocorrncia${st.count>1?"s":""}`:st.until&&(Dt=`, at ${Ar(st.until,"dd/MM/yyyy")}`),`${ht}${Dt}`}catch{return"Recorrncia"}},[B,ie]);v.useEffect(()=>{if(!B){const wt=J?"00:00":F,[st,Ce]=wt.split(":").map(Number),[Ve,Qe,rt]=$.split("-").map(Number),ot=new Date(Ve,(Qe||1)-1,rt||1,st||0,Ce||0,0,0),ht=new Je({freq:Je.DAILY,count:1,dtstart:ot}).toString().replace(/DTSTART:(\d{8}T\d{6})Z/g,"DTSTART:$1").replace(/UNTIL=(\d{8}T\d{6})Z/g,"UNTIL=$1");se(ht)}},[$,F,B,J]);const Oe=wt=>{var Ce;const st=((Ce=wt.target.files)==null?void 0:Ce[0])||null;M(st)},We=wt=>{var Ce;const st=((Ce=wt.target.files)==null?void 0:Ce[0])||null;_(st)},it=v.useMemo(()=>O?URL.createObjectURL(O):E||"",[O,E]),ut=v.useMemo(()=>T?URL.createObjectURL(T):L||"",[T,L]),At=async wt=>{wt.preventDefault(),Pe(!0);try{let st=E!=null&&E.trim()?E.trim():void 0;if(O){const ot=O.name.replace(/[^a-zA-Z0-9._-]/g,"_"),gt=f?`images/uploads/${f}`:"images/announcements";st=await iu(O,`${gt}/${Date.now()}_${ot}`)}let Ce=L!=null&&L.trim()?L.trim():void 0;if(T){const ot=T.name.replace(/[^a-zA-Z0-9._-]/g,"_"),gt=f?`images/uploads/${f}`:"images/announcements";Ce=await iu(T,`${gt}/${Date.now()}_${ot}`)}const Ve=Ww.sanitize(b||""),Qe=ot=>{const gt=document.createElement("div");return gt.innerHTML=ot||"",(gt.textContent||gt.innerText||"").trim()},rt={title:j.trim(),description:Qe(Ve),descriptionHtml:Ve,imageUrl:st,destaqueCountdownUrl:Ce,rruleString:ie,endTime:te,videoUrl:D!=null&&D.trim()?D.trim():void 0,isLive:R};await p(rt)}finally{Pe(!1)}};return s.jsxs("form",{onSubmit:At,className:"space-y-6",children:[s.jsxs("div",{className:"bg-jkd-bg-sec border border-jkd-border rounded-lg p-6 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading",children:x==="Culto"?"Informaes do Culto":"Informaes da Programao"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:x==="Culto"?"Nome do Culto":"Nome da Programao"}),s.jsx("input",{type:"text",value:j,onChange:wt=>w(wt.target.value),className:"w-full input-style",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Imagem Principal (URL)"}),s.jsx("p",{className:"text-xs text-jkd-text mb-2",children:"Use imagens com proporo 1:1 (1000x1000 - Feed) ou 9:16 (1080x1920-Reels/History)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"url",placeholder:"https://...",value:E,onChange:wt=>A(wt.target.value),className:"flex-1 input-style"}),s.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg cursor-pointer hover:bg-jkd-border",children:[s.jsx(ns,{size:18}),s.jsx("span",{children:"Upload"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Oe})]}),s.jsxs("button",{type:"button",onClick:()=>ae(!0),className:"inline-flex items-center gap-2 px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg hover:bg-jkd-border",children:[s.jsx(gp,{size:18}),s.jsx("span",{children:"Galeria"})]})]}),it&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-jkd-text",children:[s.jsx(Is,{size:16}),s.jsx("span",{children:"Pr-visualizao"})]}),it&&s.jsx("img",{src:it,alt:"Preview",className:"mt-1 h-24 w-auto rounded border border-jkd-border object-cover"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Destaque Countdown (URL)"}),s.jsx("p",{className:"text-xs text-jkd-text mb-2",children:"Use imagens com proporo 16:9 (1920x1080)-Paisagem/Horizontal"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"url",placeholder:"https://...",value:L,onChange:wt=>I(wt.target.value),className:"flex-1 input-style"}),s.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg cursor-pointer hover:bg-jkd-border",children:[s.jsx(ns,{size:18}),s.jsx("span",{children:"Upload"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:We})]}),s.jsxs("button",{type:"button",onClick:()=>ve(!0),className:"inline-flex items-center gap-2 px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg hover:bg-jkd-border",children:[s.jsx(gp,{size:18}),s.jsx("span",{children:"Galeria"})]})]}),ut&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-jkd-text",children:[s.jsx(Is,{size:16}),s.jsx("span",{children:"Pr-visualizao (Countdown)"})]}),ut&&s.jsx("img",{src:ut,alt:"Preview Countdown",className:"mt-1 h-24 w-auto rounded border border-jkd-border object-cover"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Descrio"}),s.jsx(CK,{initialHtml:b,onChangeHtml:N,className:"min-h-[150px]"})]})]}),s.jsxs("div",{className:"bg-jkd-bg-sec border border-jkd-border rounded-lg p-6 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading",children:"Vdeo"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"URL do vdeo (YouTube ou MP4/MOV)"}),s.jsx("input",{type:"url",placeholder:"https://youtu.be/... ou https://.../video.mp4",value:D,onChange:wt=>P(wt.target.value),className:"w-full input-style"}),s.jsx("p",{className:"text-xs text-jkd-text mt-1",children:"Se preenchido, o carto mostrar um boto de play."})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm font-medium text-jkd-heading",children:"Transmisso Ao Vivo"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:R,onChange:wt=>U(wt.target.checked)}),s.jsx("div",{className:"toggle-container bg-jkd-border peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-5 peer-checked:bg-church-primary after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:transition-all"})]}),s.jsx("span",{className:`${R?"bg-church-primary text-white":"bg-jkd-bg-sec border border-jkd-border text-jkd-text"} text-xs px-2 py-0.5 rounded`,children:R?"Ativo":"Inativo"})]})]})]}),s.jsxs("div",{className:"bg-jkd-bg-sec border border-jkd-border rounded-lg p-6 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading",children:"Configurao de Data e Horrio"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"text-gray-600",children:"Selecionado"}),s.jsx("div",{className:"font-medium",children:J?`${Ar(ee($),"dd/MM/yyyy")} (dia inteiro)`:`${Ar(ee($),"dd/MM/yyyy")} s ${F}${te?`  ${te}`:""}`}),s.jsx("div",{className:"text-xs text-jkd-text mt-1",children:ye})]}),s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-[#246BFD] text-white hover:bg-[#1e5be0]",onClick:()=>fe(!0),children:"Data e Horrio"})]}),s.jsx(h3e,{isOpen:Y,initialDate:$,initialStartTime:F,initialEndTime:te,initialAllDay:J,initialIsRecurring:B,initialRruleString:ie,onClose:()=>fe(!1),onConfirm:({date:wt,startTime:st,endTime:Ce,isAllDay:Ve,isRecurring:Qe,rruleString:rt})=>{K(wt),W(st),X(Ce),ne(Ve),G(Qe),se(rt),fe(!1)}})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"submit",disabled:je,className:"px-4 py-2 rounded-lg bg-church-primary text-white hover:bg-church-primary/90 disabled:opacity-60",children:g})}),s.jsx("style",{children:".input-style { @apply px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary; }"}),s.jsx(EU,{isOpen:ue,onClose:()=>ae(!1),onInsert:wt=>{A(wt),ae(!1)},initialTab:"principal"}),s.jsx(EU,{isOpen:oe,onClose:()=>ve(!1),onInsert:wt=>{I(wt),ve(!1)},initialTab:"countdown"})]})},f3e=[{value:"aviso",label:"Aviso"},{value:"evento",label:"Evento"},{value:"retiro",label:"Retiro"},{value:"jantar",label:"Jantar"},{value:"visita",label:"Visita"},{value:"evangelismo",label:"Evangelismo"},{value:"audicao",label:"Audio"},{value:"curso",label:"Curso"},{value:"confraternizacao",label:"Confraternizao"},{value:"jornada-vida",label:"Jornada Vida"}],m3e=[{value:"baixa",label:"Baixa"},{value:"media",label:"Mdia"},{value:"alta",label:"Alta"}],p3e=()=>{var A,O,M,L,I,T,_;const{user:t}=xr(),{getAnnouncementById:e,updateAnnouncement:r}=cr(),{showToast:n}=Da(),a=mn(),{id:i}=Mp(),[o,c]=v.useState({title:"",type:"aviso",priority:"media",image:""}),[u,h]=v.useState([]),[f,p]=v.useState([]),[g,x]=v.useState(!1),[j,w]=v.useState(!0),[b,N]=v.useState(null);v.useEffect(()=>{if(i){const P=e(i);if(P)if((t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.id)!==P.authorId)N("Voc no tem permisso para editar esta programao.");else{if(P.status==="rejected"){n("warning","Programaes Rejeitadas no podero ser Restauradas"),a("/dashboard"),w(!1);return}c({title:P.title,type:P.type,priority:P.priority,image:P.image||""})}else N("Programao no encontrada.")}else N("ID invlido.");w(!1),(async()=>{try{const[P,R]=await Promise.all([ss("tipo"),ss("prioridade")]);h(P),p(R)}catch{}})()},[i,e,t]);const E=async D=>{if(!(!t||!i)){x(!0);try{const P={title:D.title,content:D.description,...D.descriptionHtml&&{contentHtml:D.descriptionHtml},type:o.type,priority:o.priority,rruleString:D.rruleString,...D.endTime&&{endTime:D.endTime},...D.imageUrl&&D.imageUrl.trim()&&{image:D.imageUrl.trim()},...D.destaqueCountdownUrl&&D.destaqueCountdownUrl.trim()&&{destaqueCountdownUrl:D.destaqueCountdownUrl.trim()},...D.videoUrl&&D.videoUrl.trim()&&{videoUrl:D.videoUrl.trim()},...typeof D.isLive<"u"&&{isLive:!!D.isLive}};await r(i,P),a("/dashboard")}catch(P){console.error("Erro ao atualizar:",P)}finally{x(!1)}}};return j?s.jsx("div",{className:"text-center p-8",children:"Carregando editor..."}):b?s.jsxs("div",{className:"text-center p-8 text-red-500",children:[s.jsx("p",{children:b}),s.jsx(xt,{to:"/dashboard",className:"text-church-primary mt-4 inline-block",children:"Voltar ao Painel"})]}):s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(xt,{to:"/dashboard",className:"inline-flex items-center space-x-2 text-church-primary hover:text-church-primary/80 mb-4",children:[s.jsx(_s,{size:20}),s.jsx("span",{children:"Voltar ao Painel"})]}),s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Editar Programao"})]}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-8 space-y-6",children:[s.jsx(n2,{initialTitle:o.title,initialDescription:((A=e(i))==null?void 0:A.contentHtml)||((O=e(i))==null?void 0:O.content)||"",initialImageUrl:((M=e(i))==null?void 0:M.image)||"",initialRruleString:((L=e(i))==null?void 0:L.rruleString)||"",initialEndTime:((I=e(i))==null?void 0:I.endTime)||"",initialVideoUrl:((T=e(i))==null?void 0:T.videoUrl)||"",initialIsLive:!!((_=e(i))!=null&&_.isLive),uploaderAuthorizedUserId:t==null?void 0:t.id,onSubmit:E,submitLabel:g?"Salvando...":"Salvar Alteraes",entityLabel:"Programao"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Tipo *"}),s.jsx("select",{id:"type",required:!0,value:o.type,onChange:D=>c(P=>({...P,type:D.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",children:(u.length>0?u.map(D=>({value:D.name,label:D.name})):f3e).map(D=>s.jsx("option",{value:D.value,children:D.label},D.value))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Prioridade"}),s.jsx("select",{id:"priority",value:o.priority,onChange:D=>c(P=>({...P,priority:D.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",children:(f.length>0?f.map(D=>({value:D.name,label:D.name})):m3e).map(D=>s.jsx("option",{value:D.value,children:D.label},D.value))})]}),s.jsx("div",{className:"flex items-center justify-end space-x-4 pt-6",children:s.jsx(xt,{to:"/dashboard",className:"px-4 py-2 text-jkd-text hover:text-church-primary",children:"Cancelar"})})]})]})})},g3e=()=>{const{announcements:t,updateAnnouncement:e}=cr(),[r,n]=v.useState("pendentes"),a=t.filter(u=>u.status==="pending"&&!u.restoreRequested),i=t.filter(u=>u.status==="pending"&&u.restoreRequested),o=u=>{e(u,{status:"approved"})},c=u=>{e(u,{status:"rejected"})};return s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border",children:[s.jsx("div",{className:"p-6 border-b border-jkd-border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Aprovaes"}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Gerencie pendncias e restauraes enviadas por lderes/editores."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{className:`px-3 py-1.5 rounded-md text-sm font-medium border ${r==="pendentes"?"bg-church-primary text-white border-church-primary":"bg-jkd-bg border-jkd-border text-jkd-text hover:bg-jkd-bg-sec"}`,onClick:()=>n("pendentes"),children:["Pendentes (",a.length,")"]}),s.jsxs("button",{className:`px-3 py-1.5 rounded-md text-sm font-medium border ${r==="restaurados"?"bg-church-primary text-white border-church-primary":"bg-jkd-bg border-jkd-border text-jkd-text hover:bg-jkd-bg-sec"}`,onClick:()=>n("restaurados"),children:["Restaurados (",i.length,")"]})]})]})}),s.jsx("div",{className:"p-6",children:r==="pendentes"?a.length>0?s.jsx("div",{className:"space-y-6",children:a.map(u=>s.jsx(af,{announcement:u,showApprovalActions:!0,onApprove:o,onReject:c},u.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(tf,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-jkd-text",children:"Nenhuma programao pendente."})]}):i.length>0?s.jsx("div",{className:"space-y-6",children:i.map(u=>s.jsx(af,{announcement:u,showApprovalActions:!0,onApprove:o,onReject:c},u.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(tf,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-jkd-text",children:"Nenhuma programao restaurada aguardando aprovao."})]})})]})},S0=({title:t,count:e,icon:r,color:n,onClick:a,isActive:i})=>s.jsxs("div",{className:`bg-jkd-bg-sec rounded-lg border p-4 flex items-center space-x-4 transition-all ${a?"cursor-pointer hover:shadow-md hover:scale-105":""} ${i?"border-church-primary ring-2 ring-church-primary/20":"border-jkd-border"}`,onClick:a,children:[s.jsx("div",{className:`h-12 w-12 rounded-lg flex items-center justify-center ${n}`,children:r}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-jkd-text",children:t}),s.jsx("p",{className:"text-2xl font-bold text-jkd-heading",children:e})]})]}),x3e=({user:t,isOnline:e,allDepartments:r,onEdit:n,onDelete:a,onToggleBlock:i,onToggleInactive:o})=>{const c={active:{text:"Ativo",color:"text-green-500 bg-green-500/10",icon:s.jsx(RT,{size:14})},blocked:{text:"Bloqueado",color:"text-red-500 bg-red-500/10",icon:s.jsx(bG,{size:14})},inactive:{text:"Inativo",color:"text-gray-500 bg-gray-500/10",icon:s.jsx(hi,{size:14})}}[t.status]||{text:"Ativo",color:"text-green-500 bg-green-500/10",icon:s.jsx(RT,{size:14})};console.log(" LeaderCard - StatusInfo selecionado:",c.text,"para status:",t.status);const u=r.filter(f=>f.leaderIds.includes(t.id)),h={admin:{text:"Admin",icon:s.jsx(yG,{size:12})},editor:{text:"Editor",icon:s.jsx(Od,{size:12})},leader:{text:"Lder",icon:s.jsx(hi,{size:12})}}[t.role];return s.jsxs("div",{className:"bg-jkd-bg rounded-lg border border-jkd-border p-4 flex flex-col justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"flex-shrink-0 text-center w-20",children:[s.jsx("img",{src:t.avatarUrl||`https://ui-avatars.com/api/?name=${t.name}&background=ff652c&color=fff`,alt:t.name,className:"h-20 w-20 rounded-lg object-cover mx-auto"}),s.jsxs("div",{className:`mt-2 inline-flex items-center justify-center gap-1 text-xs font-medium rounded-full px-2 py-0.5 ${c.color}`,children:[c.icon,s.jsx("span",{children:c.text})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-semibold text-jkd-heading",children:t.name}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{title:e?"Online agora":"Offline",className:`h-2.5 w-2.5 rounded-full ${e?"bg-green-500 animate-pulse":"bg-gray-400"}`}),s.jsx("span",{className:`text-xs font-medium ${e?"text-green-600":"text-gray-500"}`,children:e?"Online":"Offline"})]})]}),s.jsx("p",{className:"text-sm text-jkd-text truncate",children:t.email}),s.jsxs("div",{className:"mt-2 space-y-2 text-xs text-jkd-text/80",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[h.icon,s.jsxs("span",{children:["Funo: ",s.jsx("strong",{children:h.text})]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(gG,{size:12}),s.jsxs("span",{children:["Telefone: ",s.jsx("strong",{children:t.phone||"No definido"})]})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-xs text-jkd-text/80 mb-1",children:"Ministrios / Departamentos:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:u.length>0?u.map(f=>s.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-church-primary/10 text-church-primary",children:f.name},f.id)):s.jsx("span",{className:"text-xs text-jkd-text/60",children:"Nenhum"})})]})]})]}),s.jsx("div",{className:"mt-4 flex justify-end gap-2 border-t border-jkd-border pt-3",children:!(t.role==="admin"&&(t.email==="secretaria.adfdevidalaranjeiras@gmail.com"||t.email==="fontedevidalaranjeiras@gmail.com"))&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>o(t.id,t.status==="active"?"inactive":"active"),className:"p-2 rounded-md text-jkd-text hover:bg-blue-500/10 hover:text-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",title:t.status==="active"?"Inativar":"Ativar",disabled:t.status==="blocked",children:t.status==="active"?s.jsx(E1e,{size:16}):s.jsx(T1e,{size:16})}),s.jsx("button",{onClick:()=>i(t.id,t.status==="active"?"blocked":"active"),className:"p-2 rounded-md text-jkd-text hover:bg-yellow-500/10 hover:text-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed",title:t.status==="active"?"Bloquear":"Desbloquear",disabled:t.status==="inactive",children:t.status==="active"?s.jsx(w0e,{size:16}):s.jsx(b0e,{size:16})}),s.jsx("button",{onClick:()=>n(t),className:"p-2 rounded-md text-jkd-text hover:bg-church-primary/10 hover:text-church-primary",title:"Editar",children:s.jsx(Od,{size:16})}),s.jsx("button",{onClick:()=>a(t.id,t.name),className:"p-2 rounded-md text-jkd-text hover:bg-red-500/10 hover:text-red-500",title:"Excluir",children:s.jsx(Ss,{size:16})})]})})]})},y3e=()=>{const{authorizedUsers:t,onlineUserIds:e,addAuthorizedUser:r,updateAuthorizedUser:n,removeAuthorizedUser:a,showConfirmation:i,updateLeaderMinistryDepartmentMembership:o,ministryDepartments:c,addMinistryDepartment:u,deleteMinistryDepartment:h,leaderRequests:f,updateLeaderRequestStatus:p}=cr(),[g,x]=v.useState(null),[j,w]=v.useState("all"),b=v.useMemo(()=>({total:t.length,active:t.filter(I=>I.status==="active").length,blocked:t.filter(I=>I.status==="blocked").length,inactive:t.filter(I=>I.status==="inactive").length}),[t]),N=v.useMemo(()=>j==="all"?t:t.filter(I=>I.status===j),[t,j]),E=async(I,T,_)=>{if(!(!I.name||!I.email))try{let D,P=I.avatarUrl;const R=t.find($=>$.id===I.id);if((R==null?void 0:R.role)==="admin"&&((R==null?void 0:R.email)==="secretaria.adfdevidalaranjeiras@gmail.com"||(R==null?void 0:R.email)==="fontedevidalaranjeiras@gmail.com")){console.warn("Edio bloqueada para admin protegido:",R==null?void 0:R.email),x(null);return}if(I.id)D=I.id,_&&(P=await E_(_,D)),await n(D,{...I,avatarUrl:P});else{D=await r({name:I.name,email:I.email,phone:I.phone,role:I.role||"leader",avatarUrl:P,status:"active"});try{const $=f.filter(K=>{var F;return K.status==="pending"&&((F=K.email)==null?void 0:F.toLowerCase())===(I.email||"").toLowerCase()});for(const K of $)await p(K.id,"approved")}catch($){console.warn("Falha ao auto-aprovar solicitaes pendentes para o novo usurio:",$)}_&&(P=await E_(_,D),await n(D,{avatarUrl:P}))}T.length>0&&await o(D,T),x(null)}catch(D){console.error("Erro ao salvar usurio:",D)}},A=(I,T)=>{const _=t.find(P=>P.id===I);if((_==null?void 0:_.role)==="admin"&&((_==null?void 0:_.email)==="secretaria.adfdevidalaranjeiras@gmail.com"||(_==null?void 0:_.email)==="fontedevidalaranjeiras@gmail.com")){console.warn("Excluso bloqueada para admin protegido:",_==null?void 0:_.email);return}i("Remover Lder",`Tem certeza que deseja remover o acesso de ${T}?`,()=>a(I))},O=(I,T)=>{i("Excluir Ministrio / Departamento",`Tem certeza que deseja excluir "${T}"? Esta ao no pode ser desfeita.`,()=>h(I))},M=(I,T)=>{const _=t.find(P=>P.id===I);if((_==null?void 0:_.role)==="admin"&&((_==null?void 0:_.email)==="secretaria.adfdevidalaranjeiras@gmail.com"||(_==null?void 0:_.email)==="fontedevidalaranjeiras@gmail.com")){console.warn("Alterao de status bloqueada para admin protegido:",_==null?void 0:_.email);return}n(I,{status:T})},L=(I,T)=>{const _=t.find(P=>P.id===I);if((_==null?void 0:_.role)==="admin"&&((_==null?void 0:_.email)==="secretaria.adfdevidalaranjeiras@gmail.com"||(_==null?void 0:_.email)==="fontedevidalaranjeiras@gmail.com")){console.warn("Alterao de status bloqueada para admin protegido:",_==null?void 0:_.email);return}n(I,{status:T})};return g?s.jsx(v3e,{user:g,onSave:E,onCancel:()=>x(null),allDepartments:c,addDepartment:u,deleteDepartment:O}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(S0,{title:"Total de Lderes",count:b.total,icon:s.jsx(Wc,{size:24,className:"text-blue-500"}),color:"bg-blue-500/10",onClick:()=>w("all"),isActive:j==="all"}),s.jsx(S0,{title:"Ativos",count:b.active,icon:s.jsx(RT,{size:24,className:"text-green-500"}),color:"bg-green-500/10",onClick:()=>w("active"),isActive:j==="active"}),s.jsx(S0,{title:"Bloqueados",count:b.blocked,icon:s.jsx(bG,{size:24,className:"text-red-500"}),color:"bg-red-500/10",onClick:()=>w("blocked"),isActive:j==="blocked"}),s.jsx(S0,{title:"Inativos",count:b.inactive,icon:s.jsx(hi,{size:24,className:"text-gray-500"}),color:"bg-gray-500/10",onClick:()=>w("inactive"),isActive:j==="inactive"})]}),s.jsxs("div",{className:"bg-church-primary/10 rounded-lg border border-jkd-border",children:[s.jsxs("div",{className:"p-6 border-b border-jkd-border flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Lderes Autorizados"}),s.jsxs("button",{onClick:()=>x({role:"leader"}),className:"inline-flex items-center space-x-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90",children:[s.jsx(vl,{size:16}),s.jsx("span",{children:"Novo Lder"})]})]}),s.jsx("div",{className:"p-6",children:N.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(hi,{size:48,className:"mx-auto text-jkd-text/50 mb-4"}),s.jsx("p",{className:"text-jkd-text/70",children:"Nenhum lder encontrado para o filtro selecionado."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N.map(I=>s.jsx(x3e,{user:I,isOnline:e.includes(I.id),allDepartments:c,onEdit:()=>x(I),onDelete:A,onToggleBlock:M,onToggleInactive:L},I.id))})})]})]})},v3e=({user:t,onSave:e,onCancel:r,allDepartments:n,addDepartment:a,deleteDepartment:i})=>{const o=!!(t!=null&&t.id),[c,u]=v.useState({id:t==null?void 0:t.id,name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",avatarUrl:(t==null?void 0:t.avatarUrl)||"",role:(t==null?void 0:t.role)||"leader"}),[h,f]=v.useState(null),[p,g]=v.useState([]),[x,j]=v.useState(""),[w,b]=v.useState("");v.useEffect(()=>{if(t!=null&&t.id){const I=n.filter(T=>T.leaderIds.includes(t.id)).map(T=>T.id);g(I)}},[t,n]);const N=async I=>{if(I.preventDefault(),b(""),!o&&p.length===0){b(" obrigatrio selecionar pelo menos um Ministrio / Departamento para um novo usurio.");return}let T=c.avatarUrl;e({...c,avatarUrl:T},p,h)},E=I=>{g(T=>T.includes(I)?T.filter(_=>_!==I):[...T,I])},A=async()=>{if(x.trim()&&!n.some(I=>I.name.toLowerCase()===x.trim().toLowerCase()))try{await a({name:x.trim(),leaderIds:[]}),j("")}catch(I){console.error("Erro ao criar ministrio/departamento:",I),b("Erro ao criar ministrio/departamento. Tente novamente.")}},O=I=>{u(T=>({...T,avatarUrl:I})),I&&f(null)},M=I=>{var _;const T=(_=I.target.files)==null?void 0:_[0];T&&(f(T),u(D=>({...D,avatarUrl:""})))},L=[{value:"leader",label:"Lder"},{value:"editor",label:"Editor"},{value:"admin",label:"Admin"}];return s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border",children:[s.jsx("div",{className:"p-6 border-b border-jkd-border",children:s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:o?"Editar Lder":"Adicionar Novo Lder"})}),s.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-jkd-heading mb-1",children:"Nome *"}),s.jsx("input",{type:"text",id:"name",value:c.name,onChange:I=>u({...c,name:I.target.value}),required:!0,className:"w-full input-style"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-jkd-heading mb-1",children:"Email *"}),s.jsx("input",{type:"email",id:"email",value:c.email,onChange:I=>u({...c,email:I.target.value}),required:!0,className:"w-full input-style"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-jkd-heading mb-1",children:"Funo *"}),s.jsx("select",{id:"role",value:c.role,onChange:I=>u({...c,role:I.target.value}),required:!0,className:"w-full input-style",children:L.map(I=>s.jsx("option",{value:I.value,children:I.label},I.value))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-jkd-heading mb-1",children:"Telefone *"}),s.jsx("input",{type:"tel",id:"phone",value:c.phone,onChange:I=>u({...c,phone:I.target.value}),required:!0,className:"w-full input-style"})]})]}),s.jsxs("div",{className:"md:col-span-2 space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Foto de Perfil"}),s.jsx("input",{type:"url",placeholder:"URL da foto",value:c.avatarUrl,onChange:I=>O(I.target.value),disabled:!!h,className:"w-full input-style disabled:bg-jkd-border/20"}),s.jsxs("div",{className:"relative flex items-center justify-center my-2",children:[s.jsx("div",{className:"flex-grow border-t border-jkd-border"}),s.jsx("span",{className:"flex-shrink mx-4 text-jkd-text text-sm",children:"ou"}),s.jsx("div",{className:"flex-grow border-t border-jkd-border"})]}),h?s.jsxs("div",{className:"flex items-center justify-between bg-jkd-bg p-2 rounded-lg border border-jkd-border",children:[s.jsx("p",{className:"text-sm text-jkd-text truncate",children:h.name}),s.jsx("button",{type:"button",onClick:()=>f(null),className:"p-1 rounded-full hover:bg-red-500/10 text-red-500",children:s.jsx(On,{size:16})})]}):s.jsxs("label",{htmlFor:"avatar-upload",className:`relative cursor-pointer rounded-lg border-2 border-dashed border-jkd-border w-full p-4 flex justify-center items-center text-center transition-colors ${c.avatarUrl?"bg-jkd-border/20 cursor-not-allowed opacity-50":"hover:border-church-primary"}`,children:[s.jsxs("div",{className:"space-y-1 text-jkd-text",children:[s.jsx(ns,{className:"mx-auto h-8 w-8"}),s.jsx("span",{className:"font-medium text-church-primary text-sm",children:"Clique para enviar"}),s.jsx("p",{className:"text-xs",children:"PNG, JPG at 5MB"})]}),s.jsx("input",{id:"avatar-upload",type:"file",className:"sr-only",onChange:M,disabled:!!c.avatarUrl,accept:"image/*"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-md font-semibold text-jkd-heading",children:"Ministrio / Departamento *"}),s.jsx("div",{className:"bg-jkd-bg border border-jkd-border rounded-lg p-4 space-y-3 max-h-60 overflow-y-auto",children:n.map(I=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:`group-assign-${I.id}`,checked:p.includes(I.id),onChange:()=>E(I.id),className:"h-4 w-4 rounded border-gray-300 text-church-primary focus:ring-church-primary"}),s.jsx("label",{htmlFor:`group-assign-${I.id}`,className:"ml-3 block text-sm text-jkd-text",children:I.name})]}),s.jsx("button",{type:"button",onClick:()=>i(I.id,I.name),className:"p-1 rounded-full hover:bg-red-500/10 text-red-500",children:s.jsx(Ss,{size:14})})]},I.id))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",placeholder:"Nome do novo Ministrio / Departamento...",value:x,onChange:I=>j(I.target.value),className:"w-full input-style"}),s.jsxs("button",{type:"button",onClick:A,className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded-lg bg-jkd-bg border border-jkd-border text-jkd-text hover:bg-jkd-border",children:[s.jsx(vl,{size:16})," Criar"]})]})]}),w&&s.jsxs("div",{className:"text-red-600 text-sm bg-red-50 dark:bg-red-900/20 p-3 rounded-lg flex items-center gap-2",children:[s.jsx(rj,{size:16}),s.jsx("span",{children:w})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-jkd-border",children:[r&&s.jsxs("button",{type:"button",onClick:r,className:"inline-flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-jkd-bg",children:[s.jsx(On,{size:16}),s.jsx("span",{children:"Cancelar"})]}),s.jsxs("button",{type:"submit",className:"inline-flex items-center space-x-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90",children:[o?s.jsx(as,{size:16}):s.jsx(vl,{size:16}),s.jsx("span",{children:o?"Salvar Alteraes":"Adicionar Usurio"})]})]}),s.jsx("style",{children:".input-style { @apply px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary; }"})]})]})};var GS={},YS={},CU;function b3e(){return CU||(CU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(YS)),YS}var KS={},IU;function OK(){return IU||(IU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(KS)),KS}var XS={},OU;function g4(){return OU||(OU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(XS)),XS}var QS={},ZS={},PU;function j3e(){return PU||(PU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(ZS)),ZS}var MU;function x4(){return MU||(MU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j3e(),r=g4();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const i=[],o=a.length;if(o===0)return i;let c=0,u="",h="",f=!1;for(a.charCodeAt(0)===46&&(i.push(""),c++);c<o;){const p=a[c];h?p==="\\"&&c+1<o?(c++,u+=a[c]):p===h?h="":u+=p:f?p==='"'||p==="'"?h=p:p==="]"?(f=!1,i.push(u),u=""):u+=p:p==="["?(f=!0,u&&(i.push(u),u="")):p==="."?u&&(i.push(u),u=""):u+=p,c++}return u&&i.push(u),i}t.toPath=n})(QS)),QS}var DU;function y4(){return DU||(DU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b3e(),r=OK(),n=g4(),a=x4();function i(c,u,h){if(c==null)return h;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return h;const f=c[u];return f===void 0?r.isDeepKey(u)?i(c,a.toPath(u),h):h:f}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const f=c[u];return f===void 0?h:f}default:{if(Array.isArray(u))return o(c,u,h);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return h;const f=c[u];return f===void 0?h:f}}}function o(c,u,h){if(u.length===0)return h;let f=c;for(let p=0;p<u.length;p++){if(f==null||e.isUnsafeProperty(u[p]))return h;f=f[u[p]]}return f===void 0?h:f}t.get=i})(GS)),GS}var JS,RU;function w3e(){return RU||(RU=1,JS=y4().get),JS}var k3e=w3e();const cf=jl(k3e);var eE={exports:{}},vn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LU;function N3e(){if(LU)return vn;LU=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function j(w){if(typeof w=="object"&&w!==null){var b=w.$$typeof;switch(b){case t:switch(w=w.type,w){case r:case a:case n:case u:case h:case g:return w;default:switch(w=w&&w.$$typeof,w){case o:case c:case p:case f:return w;case i:return w;default:return b}}case e:return b}}}return vn.ContextConsumer=i,vn.ContextProvider=o,vn.Element=t,vn.ForwardRef=c,vn.Fragment=r,vn.Lazy=p,vn.Memo=f,vn.Portal=e,vn.Profiler=a,vn.StrictMode=n,vn.Suspense=u,vn.SuspenseList=h,vn.isContextConsumer=function(w){return j(w)===i},vn.isContextProvider=function(w){return j(w)===o},vn.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},vn.isForwardRef=function(w){return j(w)===c},vn.isFragment=function(w){return j(w)===r},vn.isLazy=function(w){return j(w)===p},vn.isMemo=function(w){return j(w)===f},vn.isPortal=function(w){return j(w)===e},vn.isProfiler=function(w){return j(w)===a},vn.isStrictMode=function(w){return j(w)===n},vn.isSuspense=function(w){return j(w)===u},vn.isSuspenseList=function(w){return j(w)===h},vn.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===u||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===f||w.$$typeof===o||w.$$typeof===i||w.$$typeof===c||w.$$typeof===x||w.getModuleId!==void 0)},vn.typeOf=j,vn}var UU;function S3e(){return UU||(UU=1,eE.exports=N3e()),eE.exports}var E3e=S3e(),is=t=>t===0?0:t>0?1:-1,no=t=>typeof t=="number"&&t!=+t,Ph=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Kt=t=>(typeof t=="number"||t instanceof Number)&&!no(t),dc=t=>Kt(t)||typeof t=="string",A3e=0,Py=t=>{var e=++A3e;return"".concat(t||"").concat(e)},Gs=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Kt(e)&&typeof e!="string")return n;var i;if(Ph(e)){if(r==null)return n;var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return no(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},PK=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1};function ua(t,e,r){return Kt(t)&&Kt(e)?t+r*(e-t):e}function MK(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):cf(n,e))===r)}var Zn=t=>t===null||typeof t>"u",Ev=t=>Zn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),T3e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function v4(t){if(typeof t!="string")return!1;var e=T3e;return e.includes(t)}var _3e=["viewBox","children"],VU=["points","pathLength"],tE={svg:_3e,polygon:VU,polyline:VU},b4=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(v.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{v4(a)&&(n[a]=(i=>r[a](r,i)))}),n},C3e=(t,e,r)=>n=>(t(e,r,n),null),Av=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(a=>{var i=t[a];v4(a)&&typeof i=="function"&&(n||(n={}),n[a]=C3e(i,e,r))}),n},I3e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function DK(t){if(typeof t!="string")return!1;var e=I3e;return e.includes(t)}function gc(t){var e=Object.entries(t).filter(r=>{var[n]=r;return DK(n)});return Object.fromEntries(e)}var zU=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",FU=null,rE=null,RK=t=>{if(t===FU&&Array.isArray(rE))return rE;var e=[];return v.Children.forEach(t,r=>{Zn(r)||(E3e.isFragment(r)?e=e.concat(RK(r.props.children)):e.push(r))}),rE=e,FU=t,e};function j4(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(a=>zU(a)):n=[zU(e)],RK(t).forEach(a=>{var i=cf(a,"type.displayName")||cf(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var LK=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,O3e=(t,e,r,n)=>{var a;if(typeof e=="symbol"||typeof e=="number")return!0;var i=(a=n&&(tE==null?void 0:tE[n]))!==null&&a!==void 0?a:[],o=e.startsWith("data-"),c=typeof t!="function"&&(!!n&&i.includes(e)||DK(e)),u=!!r&&v4(e);return o||c||u},sa=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(v.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var o;O3e((o=n)===null||o===void 0?void 0:o[i],i,e,r)&&(a[i]=n[i])}),a},P3e=["children","width","height","viewBox","className","style","title","desc"];function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A_.apply(null,arguments)}function M3e(t,e){if(t==null)return{};var r,n,a=D3e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function D3e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var w4=v.forwardRef((t,e)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:c,title:u,desc:h}=t,f=M3e(t,P3e),p=i||{width:n,height:a,x:0,y:0},g=Lr("recharts-surface",o);return v.createElement("svg",A_({},sa(f,!0,"svg"),{className:g,width:n,height:a,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),v.createElement("title",null,u),v.createElement("desc",null,h),r)}),R3e=["children","className"];function T_(){return T_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T_.apply(null,arguments)}function L3e(t,e){if(t==null)return{};var r,n,a=U3e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function U3e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Os=v.forwardRef((t,e)=>{var{children:r,className:n}=t,a=L3e(t,R3e),i=Lr("recharts-layer",n);return v.createElement("g",T_({className:i},sa(a,!0),{ref:e}),r)}),UK=v.createContext(null),V3e=()=>v.useContext(UK);function Cn(t){return function(){return t}}const VK=Math.cos,mj=Math.sin,_l=Math.sqrt,pj=Math.PI,a2=2*pj,__=Math.PI,C_=2*__,Nh=1e-6,z3e=C_-Nh;function zK(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function F3e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return zK;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class $3e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?zK:F3e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,c=this._y1,u=n-e,h=a-r,f=o-e,p=c-r,g=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>Nh)if(!(Math.abs(p*u-h*f)>Nh)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-o,j=a-c,w=u*u+h*h,b=x*x+j*j,N=Math.sqrt(w),E=Math.sqrt(g),A=i*Math.tan((__-Math.acos((w+g-b)/(2*N*E)))/2),O=A/E,M=A/N;Math.abs(O-1)>Nh&&this._append`L${e+O*f},${r+O*p}`,this._append`A${i},${i},0,0,${+(p*x>f*j)},${this._x1=e+M*u},${this._y1=r+M*h}`}}arc(e,r,n,a,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),u=n*Math.sin(a),h=e+c,f=r+u,p=1^o,g=o?a-i:i-a;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>Nh||Math.abs(this._y1-f)>Nh)&&this._append`L${h},${f}`,n&&(g<0&&(g=g%C_+C_),g>z3e?this._append`A${n},${n},0,1,${p},${e-c},${r-u}A${n},${n},0,1,${p},${this._x1=h},${this._y1=f}`:g>Nh&&this._append`A${n},${n},0,${+(g>=__)},${p},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function k4(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new $3e(e)}function N4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function FK(t){this._context=t}FK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function s2(t){return new FK(t)}function $K(t){return t[0]}function BK(t){return t[1]}function qK(t,e){var r=Cn(!0),n=null,a=s2,i=null,o=k4(c);t=typeof t=="function"?t:t===void 0?$K:Cn(t),e=typeof e=="function"?e:e===void 0?BK:Cn(e);function c(u){var h,f=(u=N4(u)).length,p,g=!1,x;for(n==null&&(i=a(x=o())),h=0;h<=f;++h)!(h<f&&r(p=u[h],h,u))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+t(p,h,u),+e(p,h,u));if(x)return i=null,x+""||null}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:Cn(+u),c):t},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:Cn(+u),c):e},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Cn(!!u),c):r},c.curve=function(u){return arguments.length?(a=u,n!=null&&(i=a(n)),c):a},c.context=function(u){return arguments.length?(u==null?n=i=null:i=a(n=u),c):n},c}function E0(t,e,r){var n=null,a=Cn(!0),i=null,o=s2,c=null,u=k4(h);t=typeof t=="function"?t:t===void 0?$K:Cn(+t),e=typeof e=="function"?e:Cn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?BK:Cn(+r);function h(p){var g,x,j,w=(p=N4(p)).length,b,N=!1,E,A=new Array(w),O=new Array(w);for(i==null&&(c=o(E=u())),g=0;g<=w;++g){if(!(g<w&&a(b=p[g],g,p))===N)if(N=!N)x=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),j=g-1;j>=x;--j)c.point(A[j],O[j]);c.lineEnd(),c.areaEnd()}N&&(A[g]=+t(b,g,p),O[g]=+e(b,g,p),c.point(n?+n(b,g,p):A[g],r?+r(b,g,p):O[g]))}if(E)return c=null,E+""||null}function f(){return qK().defined(a).curve(o).context(i)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:Cn(+p),n=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Cn(+p),h):t},h.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Cn(+p),h):n},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:Cn(+p),r=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Cn(+p),h):e},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Cn(+p),h):r},h.lineX0=h.lineY0=function(){return f().x(t).y(e)},h.lineY1=function(){return f().x(t).y(r)},h.lineX1=function(){return f().x(n).y(e)},h.defined=function(p){return arguments.length?(a=typeof p=="function"?p:Cn(!!p),h):a},h.curve=function(p){return arguments.length?(o=p,i!=null&&(c=o(i)),h):o},h.context=function(p){return arguments.length?(p==null?i=c=null:c=o(i=p),h):i},h}class HK{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function B3e(t){return new HK(t,!0)}function q3e(t){return new HK(t,!1)}const S4={draw(t,e){const r=_l(e/pj);t.moveTo(r,0),t.arc(0,0,r,0,a2)}},H3e={draw(t,e){const r=_l(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},WK=_l(1/3),W3e=WK*2,G3e={draw(t,e){const r=_l(e/W3e),n=r*WK;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Y3e={draw(t,e){const r=_l(e),n=-r/2;t.rect(n,n,r,r)}},K3e=.8908130915292852,GK=mj(pj/10)/mj(7*pj/10),X3e=mj(a2/10)*GK,Q3e=-VK(a2/10)*GK,Z3e={draw(t,e){const r=_l(e*K3e),n=X3e*r,a=Q3e*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const o=a2*i/5,c=VK(o),u=mj(o);t.lineTo(u*r,-c*r),t.lineTo(c*n-u*a,u*n+c*a)}t.closePath()}},nE=_l(3),J3e={draw(t,e){const r=-_l(e/(nE*3));t.moveTo(0,r*2),t.lineTo(-nE*r,-r),t.lineTo(nE*r,-r),t.closePath()}},vo=-.5,bo=_l(3)/2,I_=1/_l(12),eIe=(I_/2+1)*3,tIe={draw(t,e){const r=_l(e/eIe),n=r/2,a=r*I_,i=n,o=r*I_+r,c=-i,u=o;t.moveTo(n,a),t.lineTo(i,o),t.lineTo(c,u),t.lineTo(vo*n-bo*a,bo*n+vo*a),t.lineTo(vo*i-bo*o,bo*i+vo*o),t.lineTo(vo*c-bo*u,bo*c+vo*u),t.lineTo(vo*n+bo*a,vo*a-bo*n),t.lineTo(vo*i+bo*o,vo*o-bo*i),t.lineTo(vo*c+bo*u,vo*u-bo*c),t.closePath()}};function rIe(t,e){let r=null,n=k4(a);t=typeof t=="function"?t:Cn(t||S4),e=typeof e=="function"?e:Cn(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Cn(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Cn(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function gj(){}function xj(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function YK(t){this._context=t}YK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xj(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xj(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nIe(t){return new YK(t)}function KK(t){this._context=t}KK.prototype={areaStart:gj,areaEnd:gj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xj(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function aIe(t){return new KK(t)}function XK(t){this._context=t}XK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:xj(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sIe(t){return new XK(t)}function QK(t){this._context=t}QK.prototype={areaStart:gj,areaEnd:gj,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function iIe(t){return new QK(t)}function $U(t){return t<0?-1:1}function BU(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),c=(i*a+o*n)/(n+a);return($U(i)+$U(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function qU(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function aE(t,e,r){var n=t._x0,a=t._y0,i=t._x1,o=t._y1,c=(i-n)/3;t._context.bezierCurveTo(n+c,a+c*e,i-c,o-c*r,i,o)}function yj(t){this._context=t}yj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:aE(this,this._t0,qU(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,aE(this,qU(this,r=BU(this,t,e)),r);break;default:aE(this,this._t0,r=BU(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function ZK(t){this._context=new JK(t)}(ZK.prototype=Object.create(yj.prototype)).point=function(t,e){yj.prototype.point.call(this,e,t)};function JK(t){this._context=t}JK.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function oIe(t){return new yj(t)}function lIe(t){return new ZK(t)}function eX(t){this._context=t}eX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=HU(t),a=HU(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function HU(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function cIe(t){return new eX(t)}function i2(t,e){this._context=t,this._t=e}i2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function uIe(t){return new i2(t,.5)}function dIe(t){return new i2(t,0)}function hIe(t){return new i2(t,1)}function jp(t,e){if((o=t.length)>1)for(var r=1,n,a,i=t[e[0]],o,c=i.length;r<o;++r)for(a=i,i=t[e[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function O_(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function fIe(t,e){return t[e]}function mIe(t){const e=[];return e.key=t,e}function pIe(){var t=Cn([]),e=O_,r=jp,n=fIe;function a(i){var o=Array.from(t.apply(this,arguments),mIe),c,u=o.length,h=-1,f;for(const p of i)for(c=0,++h;c<u;++c)(o[c][h]=[0,+n(p,o[c].key,h,i)]).data=p;for(c=0,f=N4(e(o));c<u;++c)o[f[c]].index=c;return r(o,f),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Cn(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Cn(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?O_:typeof i=="function"?i:Cn(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??jp,a):r},a}function gIe(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}jp(t,e)}}function xIe(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var o=0,c=0;o<a;++o)c+=t[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}jp(t,e)}}function yIe(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var c=0,u=0,h=0;c<o;++c){for(var f=t[e[c]],p=f[n][1]||0,g=f[n-1][1]||0,x=(p-g)/2,j=0;j<c;++j){var w=t[e[j]],b=w[n][1]||0,N=w[n-1][1]||0;x+=b-N}u+=p,h+=x*p}a[n-1][1]+=a[n-1][0]=r,u&&(r-=h/u)}a[n-1][1]+=a[n-1][0]=r,jp(t,e)}}var vIe=["type","size","sizeType"];function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P_.apply(null,arguments)}function WU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function GU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WU(Object(r),!0).forEach(function(n){bIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bIe(t,e,r){return(e=jIe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jIe(t){var e=wIe(t,"string");return typeof e=="symbol"?e:e+""}function wIe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kIe(t,e){if(t==null)return{};var r,n,a=NIe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function NIe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var tX={symbolCircle:S4,symbolCross:H3e,symbolDiamond:G3e,symbolSquare:Y3e,symbolStar:Z3e,symbolTriangle:J3e,symbolWye:tIe},SIe=Math.PI/180,EIe=t=>{var e="symbol".concat(Ev(t));return tX[e]||S4},AIe=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*SIe;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},TIe=(t,e)=>{tX["symbol".concat(Ev(t))]=e},E4=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,a=kIe(t,vIe),i=GU(GU({},a),{},{type:e,size:r,sizeType:n}),o="circle";typeof e=="string"&&(o=e);var c=()=>{var g=EIe(o),x=rIe().type(g).size(AIe(r,n,o));return x()},{className:u,cx:h,cy:f}=i,p=sa(i,!0);return h===+h&&f===+f&&r===+r?v.createElement("path",P_({},p,{className:Lr("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(f,")"),d:c()})):null};E4.registerSymbol=TIe;function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M_.apply(null,arguments)}function YU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _Ie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YU(Object(r),!0).forEach(function(n){A4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A4(t,e,r){return(e=CIe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CIe(t){var e=IIe(t,"string");return typeof e=="symbol"?e:e+""}function IIe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jo=32;class T4 extends v.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,a=jo/2,i=jo/6,o=jo/3,c=e.inactive?n:e.color,u=r??e.type;if(u==="none")return null;if(u==="plainline")return v.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:a,x2:jo,y2:a,className:"recharts-legend-icon"});if(u==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(jo,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return v.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(jo/8,"h").concat(jo,"v").concat(jo*3/4,"h").concat(-jo,"z"),className:"recharts-legend-icon"});if(v.isValidElement(e.legendIcon)){var h=_Ie({},e);return delete h.legendIcon,v.cloneElement(e.legendIcon,h)}return v.createElement(E4,{fill:c,cx:a,cy:a,size:jo,sizeType:"diameter",type:u})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:o}=this.props,c={x:0,y:0,width:jo,height:jo},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((f,p)=>{var g=f.formatter||a,x=Lr({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:f.inactive});if(f.type==="none")return null;var j=f.inactive?i:f.color,w=g?g(f.value,f,p):f.value;return v.createElement("li",M_({className:x,style:u,key:"legend-item-".concat(p)},Av(this.props,f,p)),v.createElement(w4,{width:r,height:r,viewBox:c,style:h,"aria-label":"".concat(w," legend icon")},this.renderIcon(f,o)),v.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},w))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}A4(T4,"displayName","Legend");A4(T4,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var sE={},iE={},KU;function OIe(){return KU||(KU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],c=n(o);a.has(c)||a.set(c,o)}return Array.from(a.values())}t.uniqBy=e})(iE)),iE}var oE={},XU;function rX(){return XU||(XU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(oE)),oE}var lE={},cE={},uE={},QU;function PIe(){return QU||(QU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(uE)),uE}var ZU;function _4(){return ZU||(ZU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PIe();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(cE)),cE}var dE={},JU;function MIe(){return JU||(JU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(dE)),dE}var e7;function DIe(){return e7||(e7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_4(),r=MIe();function n(a){return r.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=n})(lE)),lE}var hE={},fE={},t7;function RIe(){return t7||(t7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y4();function r(n){return function(a){return e.get(a,n)}}t.property=r})(fE)),fE}var mE={},pE={},gE={},xE={},r7;function nX(){return r7||(r7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(xE)),xE}var yE={},n7;function aX(){return n7||(n7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(yE)),yE}var vE={},a7;function sX(){return a7||(a7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(vE)),vE}var s7;function LIe(){return s7||(s7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C4(),r=nX(),n=aX(),a=sX();function i(p,g,x){return typeof x!="function"?e.isMatch(p,g):o(p,g,function j(w,b,N,E,A,O){const M=x(w,b,N,E,A,O);return M!==void 0?!!M:o(w,b,j,O)},new Map)}function o(p,g,x,j){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,x,j);case"function":return Object.keys(g).length>0?o(p,{...g},x,j):a.eq(p,g);default:return r.isObject(p)?typeof g=="string"?g==="":!0:a.eq(p,g)}}function c(p,g,x,j){if(g==null)return!0;if(Array.isArray(g))return h(p,g,x,j);if(g instanceof Map)return u(p,g,x,j);if(g instanceof Set)return f(p,g,x,j);const w=Object.keys(g);if(p==null)return w.length===0;if(w.length===0)return!0;if(j&&j.has(g))return j.get(g)===p;j&&j.set(g,p);try{for(let b=0;b<w.length;b++){const N=w[b];if(!n.isPrimitive(p)&&!(N in p)||g[N]===void 0&&p[N]!==void 0||g[N]===null&&p[N]!==null||!x(p[N],g[N],N,p,g,j))return!1}return!0}finally{j&&j.delete(g)}}function u(p,g,x,j){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,b]of g.entries()){const N=p.get(w);if(x(N,b,w,p,g,j)===!1)return!1}return!0}function h(p,g,x,j){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let b=0;b<g.length;b++){const N=g[b];let E=!1;for(let A=0;A<p.length;A++){if(w.has(A))continue;const O=p[A];let M=!1;if(x(O,N,b,p,g,j)&&(M=!0),M){w.add(A),E=!0;break}}if(!E)return!1}return!0}function f(p,g,x,j){return g.size===0?!0:p instanceof Set?h([...p],[...g],x,j):!1}t.isMatchWith=i,t.isSetMatch=f})(gE)),gE}var i7;function C4(){return i7||(i7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LIe();function r(n,a){return e.isMatchWith(n,a,()=>{})}t.isMatch=r})(pE)),pE}var bE={},jE={},wE={},o7;function UIe(){return o7||(o7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(wE)),wE}var kE={},l7;function iX(){return l7||(l7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(kE)),kE}var NE={},c7;function oX(){return c7||(c7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",c="[object Date]",u="[object Map]",h="[object Set]",f="[object Array]",p="[object Function]",g="[object ArrayBuffer]",x="[object Object]",j="[object Error]",w="[object DataView]",b="[object Uint8Array]",N="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]",O="[object BigUint64Array]",M="[object Int8Array]",L="[object Int16Array]",I="[object Int32Array]",T="[object BigInt64Array]",_="[object Float32Array]",D="[object Float64Array]";t.argumentsTag=i,t.arrayBufferTag=g,t.arrayTag=f,t.bigInt64ArrayTag=T,t.bigUint64ArrayTag=O,t.booleanTag=a,t.dataViewTag=w,t.dateTag=c,t.errorTag=j,t.float32ArrayTag=_,t.float64ArrayTag=D,t.functionTag=p,t.int16ArrayTag=L,t.int32ArrayTag=I,t.int8ArrayTag=M,t.mapTag=u,t.numberTag=n,t.objectTag=x,t.regexpTag=e,t.setTag=h,t.stringTag=r,t.symbolTag=o,t.uint16ArrayTag=E,t.uint32ArrayTag=A,t.uint8ArrayTag=b,t.uint8ClampedArrayTag=N})(NE)),NE}var SE={},u7;function VIe(){return u7||(u7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(SE)),SE}var d7;function lX(){return d7||(d7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UIe(),r=iX(),n=oX(),a=aX(),i=VIe();function o(f,p){return c(f,void 0,f,new Map,p)}function c(f,p,g,x=new Map,j=void 0){const w=j==null?void 0:j(f,p,g,x);if(w!==void 0)return w;if(a.isPrimitive(f))return f;if(x.has(f))return x.get(f);if(Array.isArray(f)){const b=new Array(f.length);x.set(f,b);for(let N=0;N<f.length;N++)b[N]=c(f[N],N,g,x,j);return Object.hasOwn(f,"index")&&(b.index=f.index),Object.hasOwn(f,"input")&&(b.input=f.input),b}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const b=new RegExp(f.source,f.flags);return b.lastIndex=f.lastIndex,b}if(f instanceof Map){const b=new Map;x.set(f,b);for(const[N,E]of f)b.set(N,c(E,N,g,x,j));return b}if(f instanceof Set){const b=new Set;x.set(f,b);for(const N of f)b.add(c(N,void 0,g,x,j));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(i.isTypedArray(f)){const b=new(Object.getPrototypeOf(f)).constructor(f.length);x.set(f,b);for(let N=0;N<f.length;N++)b[N]=c(f[N],N,g,x,j);return b}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const b=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return x.set(f,b),u(b,f,g,x,j),b}if(typeof File<"u"&&f instanceof File){const b=new File([f],f.name,{type:f.type});return x.set(f,b),u(b,f,g,x,j),b}if(typeof Blob<"u"&&f instanceof Blob){const b=new Blob([f],{type:f.type});return x.set(f,b),u(b,f,g,x,j),b}if(f instanceof Error){const b=new f.constructor;return x.set(f,b),b.message=f.message,b.name=f.name,b.stack=f.stack,b.cause=f.cause,u(b,f,g,x,j),b}if(f instanceof Boolean){const b=new Boolean(f.valueOf());return x.set(f,b),u(b,f,g,x,j),b}if(f instanceof Number){const b=new Number(f.valueOf());return x.set(f,b),u(b,f,g,x,j),b}if(f instanceof String){const b=new String(f.valueOf());return x.set(f,b),u(b,f,g,x,j),b}if(typeof f=="object"&&h(f)){const b=Object.create(Object.getPrototypeOf(f));return x.set(f,b),u(b,f,g,x,j),b}return f}function u(f,p,g=f,x,j){const w=[...Object.keys(p),...e.getSymbols(p)];for(let b=0;b<w.length;b++){const N=w[b],E=Object.getOwnPropertyDescriptor(f,N);(E==null||E.writable)&&(f[N]=c(p[N],N,g,x,j))}}function h(f){switch(r.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=c,t.copyProperties=u})(jE)),jE}var h7;function zIe(){return h7||(h7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lX();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(bE)),bE}var f7;function FIe(){return f7||(f7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C4(),r=zIe();function n(a){return a=r.cloneDeep(a),i=>e.isMatch(i,a)}t.matches=n})(mE)),mE}var EE={},AE={},TE={},m7;function $Ie(){return m7||(m7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lX(),r=oX();function n(a,i){return e.cloneDeepWith(a,(o,c,u,h)=>{const f=i==null?void 0:i(o,c,u,h);if(f!==void 0)return f;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(p,a),p}case r.argumentsTag:{const p={};return e.copyProperties(p,a),p.length=a.length,p[Symbol.iterator]=a[Symbol.iterator],p}default:return}})}t.cloneDeepWith=n})(TE)),TE}var p7;function BIe(){return p7||(p7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$Ie();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(AE)),AE}var _E={},CE={},g7;function cX(){return g7||(g7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(CE)),CE}var IE={},x7;function qIe(){return x7||(x7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iX();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(IE)),IE}var y7;function HIe(){return y7||(y7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OK(),r=cX(),n=qIe(),a=x4();function i(o,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&e.isDeepKey(c)&&(o==null?void 0:o[c])==null?u=a.toPath(c):u=[c],u.length===0)return!1;let h=o;for(let f=0;f<u.length;f++){const p=u[f];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}t.has=i})(_E)),_E}var v7;function WIe(){return v7||(v7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C4(),r=g4(),n=BIe(),a=y4(),i=HIe();function o(c,u){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return u=n.cloneDeep(u),function(h){const f=a.get(h,c);return f===void 0?i.has(h,c):u===void 0?f===void 0:e.isMatch(f,u)}}t.matchesProperty=o})(EE)),EE}var b7;function GIe(){return b7||(b7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rX(),r=RIe(),n=FIe(),a=WIe();function i(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}t.iteratee=i})(hE)),hE}var j7;function YIe(){return j7||(j7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OIe(),r=rX(),n=DIe(),a=GIe();function i(o,c=r.identity){return n.isArrayLikeObject(o)?e.uniqBy(Array.from(o),a.iteratee(c)):[]}t.uniqBy=i})(sE)),sE}var OE,w7;function KIe(){return w7||(w7=1,OE=YIe().uniqBy),OE}var XIe=KIe();const k7=jl(XIe);function uX(t,e,r){return e===!0?k7(t,r):typeof e=="function"?k7(t,e):t}var PE={exports:{}},ME={},DE={exports:{}},RE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N7;function QIe(){if(N7)return RE;N7=1;var t=Cp();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function c(p,g){var x=g(),j=n({inst:{value:x,getSnapshot:g}}),w=j[0].inst,b=j[1];return i(function(){w.value=x,w.getSnapshot=g,u(w)&&b({inst:w})},[p,x,g]),a(function(){return u(w)&&b({inst:w}),p(function(){u(w)&&b({inst:w})})},[p]),o(x),x}function u(p){var g=p.getSnapshot;p=p.value;try{var x=g();return!r(p,x)}catch{return!0}}function h(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return RE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,RE}var S7;function ZIe(){return S7||(S7=1,DE.exports=QIe()),DE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E7;function JIe(){if(E7)return ME;E7=1;var t=Cp(),e=ZIe();function r(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,i=t.useRef,o=t.useEffect,c=t.useMemo,u=t.useDebugValue;return ME.useSyncExternalStoreWithSelector=function(h,f,p,g,x){var j=i(null);if(j.current===null){var w={hasValue:!1,value:null};j.current=w}else w=j.current;j=c(function(){function N(L){if(!E){if(E=!0,A=L,L=g(L),x!==void 0&&w.hasValue){var I=w.value;if(x(I,L))return O=I}return O=L}if(I=O,n(A,L))return I;var T=g(L);return x!==void 0&&x(I,T)?(A=L,I):(A=L,O=T)}var E=!1,A,O,M=p===void 0?null:p;return[function(){return N(f())},M===null?void 0:function(){return N(M())}]},[f,p,g,x]);var b=a(h,j[0],j[1]);return o(function(){w.hasValue=!0,w.value=b},[b]),u(b),b},ME}var A7;function e4e(){return A7||(A7=1,PE.exports=JIe()),PE.exports}var t4e=e4e(),I4=v.createContext(null),r4e=t=>t,ia=()=>{var t=v.useContext(I4);return t?t.store.dispatch:r4e},p1=()=>{},n4e=()=>p1,a4e=(t,e)=>t===e;function Ft(t){var e=v.useContext(I4);return t4e.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:n4e,e?e.store.getState:p1,e?e.store.getState:p1,e?t:p1,a4e)}function s4e(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function i4e(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function o4e(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var T7=t=>Array.isArray(t)?t:[t];function l4e(t){const e=Array.isArray(t[0])?t[0]:t;return o4e(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function c4e(t,e){const r=[],{length:n}=t;for(let a=0;a<n;a++)r.push(t[a].apply(null,e));return r}var u4e=class{constructor(t){this.value=t}deref(){return this.value}},d4e=typeof WeakRef<"u"?WeakRef:u4e,h4e=0,_7=1;function A0(){return{s:h4e,v:void 0,o:null,p:null}}function dX(t,e={}){let r=A0();const{resultEqualityCheck:n}=e;let a,i=0;function o(){var p;let c=r;const{length:u}=arguments;for(let g=0,x=u;g<x;g++){const j=arguments[g];if(typeof j=="function"||typeof j=="object"&&j!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const b=w.get(j);b===void 0?(c=A0(),w.set(j,c)):c=b}else{let w=c.p;w===null&&(c.p=w=new Map);const b=w.get(j);b===void 0?(c=A0(),w.set(j,c)):c=b}}const h=c;let f;if(c.s===_7)f=c.v;else if(f=t.apply(null,arguments),i++,n){const g=((p=a==null?void 0:a.deref)==null?void 0:p.call(a))??a;g!=null&&n(g,f)&&(f=g,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new d4e(f):f}return h.s=_7,h.v=f,f}return o.clearCache=()=>{r=A0(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function f4e(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...a)=>{let i=0,o=0,c,u={},h=a.pop();typeof h=="object"&&(u=h,h=a.pop()),s4e(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const f={...r,...u},{memoize:p,memoizeOptions:g=[],argsMemoize:x=dX,argsMemoizeOptions:j=[]}=f,w=T7(g),b=T7(j),N=l4e(a),E=p(function(){return i++,h.apply(null,arguments)},...w),A=x(function(){o++;const M=c4e(N,arguments);return c=E.apply(null,M),c},...b);return Object.assign(A,{resultFunc:h,memoizedResultFunc:E,dependencies:N,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:p,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var _e=f4e(dX),m4e=Object.assign((t,e=_e)=>{i4e(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(i=>t[i]);return e(n,(...i)=>i.reduce((o,c,u)=>(o[r[u]]=c,o),{}))},{withTypes:()=>m4e}),LE={},UE={},VE={},C7;function p4e(){return C7||(C7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=e(n),c=e(a);if(o===c&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?c-o:o-c}return 0};t.compareValues=r})(VE)),VE}var zE={},FE={},I7;function hX(){return I7||(I7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(FE)),FE}var O7;function g4e(){return O7||(O7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hX(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||e.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}t.isKey=a})(zE)),zE}var P7;function x4e(){return P7||(P7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p4e(),r=g4e(),n=x4();function a(i,o,c,u){if(i==null)return[];c=u?void 0:c,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(x=>String(x));const h=(x,j)=>{let w=x;for(let b=0;b<j.length&&w!=null;++b)w=w[j[b]];return w},f=(x,j)=>j==null||x==null?j:typeof x=="object"&&"key"in x?Object.hasOwn(j,x.key)?j[x.key]:h(j,x.path):typeof x=="function"?x(j):Array.isArray(x)?h(j,x):typeof j=="object"?j[x]:j,p=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return i.map(x=>({original:x,criteria:p.map(j=>f(j,x))})).slice().sort((x,j)=>{for(let w=0;w<p.length;w++){const b=e.compareValues(x.criteria[w],j.criteria[w],c[w]);if(b!==0)return b}return 0}).map(x=>x.original)}t.orderBy=a})(UE)),UE}var $E={},M7;function y4e(){return M7||(M7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const a=[],i=Math.floor(n),o=(c,u)=>{for(let h=0;h<c.length;h++){const f=c[h];Array.isArray(f)&&u<i?o(f,u+1):a.push(f)}};return o(r,0),a}t.flatten=e})($E)),$E}var BE={},D7;function fX(){return D7||(D7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cX(),r=_4(),n=nX(),a=sX();function i(o,c,u){return n.isObject(u)&&(typeof c=="number"&&r.isArrayLike(u)&&e.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?a.eq(u[c],o):!1}t.isIterateeCall=i})(BE)),BE}var R7;function v4e(){return R7||(R7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x4e(),r=y4e(),n=fX();function a(i,...o){const c=o.length;return c>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:c>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(i,r.flatten(o),["asc"])}t.sortBy=a})(LE)),LE}var qE,L7;function b4e(){return L7||(L7=1,qE=v4e().sortBy),qE}var j4e=b4e();const o2=jl(j4e);var mX=t=>t.legend.settings,w4e=t=>t.legend.size,k4e=t=>t.legend.payload,N4e=_e([k4e,mX],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?o2(n,r):n});function S4e(){return Ft(N4e)}var T0=1;function pX(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-e.height)>T0||Math.abs(o.left-e.left)>T0||Math.abs(o.top-e.top)>T0||Math.abs(o.width-e.width)>T0)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function gs(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var E4e=typeof Symbol=="function"&&Symbol.observable||"@@observable",U7=E4e,HE=()=>Math.random().toString(36).substring(7).split("").join("."),A4e={INIT:`@@redux/INIT${HE()}`,REPLACE:`@@redux/REPLACE${HE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${HE()}`},vj=A4e;function O4(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function gX(t,e,r){if(typeof t!="function")throw new Error(gs(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(gs(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(gs(1));return r(gX)(t,e)}let n=t,a=e,i=new Map,o=i,c=0,u=!1;function h(){o===i&&(o=new Map,i.forEach((b,N)=>{o.set(N,b)}))}function f(){if(u)throw new Error(gs(3));return a}function p(b){if(typeof b!="function")throw new Error(gs(4));if(u)throw new Error(gs(5));let N=!0;h();const E=c++;return o.set(E,b),function(){if(N){if(u)throw new Error(gs(6));N=!1,h(),o.delete(E),i=null}}}function g(b){if(!O4(b))throw new Error(gs(7));if(typeof b.type>"u")throw new Error(gs(8));if(typeof b.type!="string")throw new Error(gs(17));if(u)throw new Error(gs(9));try{u=!0,a=n(a,b)}finally{u=!1}return(i=o).forEach(E=>{E()}),b}function x(b){if(typeof b!="function")throw new Error(gs(10));n=b,g({type:vj.REPLACE})}function j(){const b=p;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(gs(11));function E(){const O=N;O.next&&O.next(f())}return E(),{unsubscribe:b(E)}},[U7](){return this}}}return g({type:vj.INIT}),{dispatch:g,subscribe:p,getState:f,replaceReducer:x,[U7]:j}}function T4e(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:vj.INIT})>"u")throw new Error(gs(12));if(typeof r(void 0,{type:vj.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gs(13))})}function xX(t){const e=Object.keys(t),r={};for(let i=0;i<e.length;i++){const o=e[i];typeof t[o]=="function"&&(r[o]=t[o])}const n=Object.keys(r);let a;try{T4e(r)}catch(i){a=i}return function(o={},c){if(a)throw a;let u=!1;const h={};for(let f=0;f<n.length;f++){const p=n[f],g=r[p],x=o[p],j=g(x,c);if(typeof j>"u")throw c&&c.type,new Error(gs(14));h[p]=j,u=u||j!==x}return u=u||n.length!==Object.keys(o).length,u?h:o}}function bj(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function _4e(...t){return e=>(r,n)=>{const a=e(r,n);let i=()=>{throw new Error(gs(15))};const o={getState:a.getState,dispatch:(u,...h)=>i(u,...h)},c=t.map(u=>u(o));return i=bj(...c)(a.dispatch),{...a,dispatch:i}}}function yX(t){return O4(t)&&"type"in t&&typeof t.type=="string"}var vX=Symbol.for("immer-nothing"),V7=Symbol.for("immer-draftable"),ao=Symbol.for("immer-state");function il(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var wp=Object.getPrototypeOf;function uf(t){return!!t&&!!t[ao]}function ou(t){var e;return t?bX(t)||Array.isArray(t)||!!t[V7]||!!((e=t.constructor)!=null&&e[V7])||Tv(t)||c2(t):!1}var C4e=Object.prototype.constructor.toString();function bX(t){if(!t||typeof t!="object")return!1;const e=wp(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===C4e}function jj(t,e){l2(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function l2(t){const e=t[ao];return e?e.type_:Array.isArray(t)?1:Tv(t)?2:c2(t)?3:0}function D_(t,e){return l2(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function jX(t,e,r){const n=l2(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function I4e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Tv(t){return t instanceof Map}function c2(t){return t instanceof Set}function Sh(t){return t.copy_||t.base_}function R_(t,e){if(Tv(t))return new Map(t);if(c2(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=bX(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[ao];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],c=n[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[o]})}return Object.create(wp(t),n)}else{const n=wp(t);if(n!==null&&r)return{...t};const a=Object.create(n);return Object.assign(a,t)}}function P4(t,e=!1){return u2(t)||uf(t)||!ou(t)||(l2(t)>1&&Object.defineProperties(t,{set:{value:_0},add:{value:_0},clear:{value:_0},delete:{value:_0}}),Object.freeze(t),e&&Object.values(t).forEach(r=>P4(r,!0))),t}function _0(){il(2)}function u2(t){return Object.isFrozen(t)}var O4e={};function df(t){const e=O4e[t];return e||il(0,t),e}var My;function wX(){return My}function P4e(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function z7(t,e){e&&(df("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function L_(t){U_(t),t.drafts_.forEach(M4e),t.drafts_=null}function U_(t){t===My&&(My=t.parent_)}function F7(t){return My=P4e(My,t)}function M4e(t){const e=t[ao];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function $7(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[ao].modified_&&(L_(e),il(4)),ou(t)&&(t=wj(e,t),e.parent_||kj(e,t)),e.patches_&&df("Patches").generateReplacementPatches_(r[ao].base_,t,e.patches_,e.inversePatches_)):t=wj(e,r,[]),L_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==vX?t:void 0}function wj(t,e,r){if(u2(e))return e;const n=e[ao];if(!n)return jj(e,(a,i)=>B7(t,n,e,a,i,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return kj(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,o=!1;n.type_===3&&(i=new Set(a),a.clear(),o=!0),jj(i,(c,u)=>B7(t,n,a,c,u,r,o)),kj(t,a,!1),r&&t.patches_&&df("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function B7(t,e,r,n,a,i,o){if(uf(a)){const c=i&&e&&e.type_!==3&&!D_(e.assigned_,n)?i.concat(n):void 0,u=wj(t,a,c);if(jX(r,n,u),uf(u))t.canAutoFreeze_=!1;else return}else o&&r.add(a);if(ou(a)&&!u2(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;wj(t,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(Tv(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&kj(t,a)}}function kj(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&P4(e,r)}function D4e(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:wX(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=M4;r&&(a=[n],i=Dy);const{revoke:o,proxy:c}=Proxy.revocable(a,i);return n.draft_=c,n.revoke_=o,c}var M4={get(t,e){if(e===ao)return t;const r=Sh(t);if(!D_(r,e))return R4e(t,r,e);const n=r[e];return t.finalized_||!ou(n)?n:n===WE(t.base_,e)?(GE(t),t.copy_[e]=z_(n,t)):n},has(t,e){return e in Sh(t)},ownKeys(t){return Reflect.ownKeys(Sh(t))},set(t,e,r){const n=kX(Sh(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=WE(Sh(t),e),i=a==null?void 0:a[ao];if(i&&i.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(I4e(r,a)&&(r!==void 0||D_(t.base_,e)))return!0;GE(t),V_(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return WE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,GE(t),V_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Sh(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){il(11)},getPrototypeOf(t){return wp(t.base_)},setPrototypeOf(){il(12)}},Dy={};jj(M4,(t,e)=>{Dy[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Dy.deleteProperty=function(t,e){return Dy.set.call(this,t,e,void 0)};Dy.set=function(t,e,r){return M4.set.call(this,t[0],e,r,t[0])};function WE(t,e){const r=t[ao];return(r?Sh(r):t)[e]}function R4e(t,e,r){var a;const n=kX(e,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function kX(t,e){if(!(e in t))return;let r=wp(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=wp(r)}}function V_(t){t.modified_||(t.modified_=!0,t.parent_&&V_(t.parent_))}function GE(t){t.copy_||(t.copy_=R_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var L4e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const i=r;r=e;const o=this;return function(u=i,...h){return o.produce(u,f=>r.call(this,f,...h))}}typeof r!="function"&&il(6),n!==void 0&&typeof n!="function"&&il(7);let a;if(ou(e)){const i=F7(this),o=z_(e,void 0);let c=!0;try{a=r(o),c=!1}finally{c?L_(i):U_(i)}return z7(i,n),$7(a,i)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===vX&&(a=void 0),this.autoFreeze_&&P4(a,!0),n){const i=[],o=[];df("Patches").generateReplacementPatches_(e,a,i,o),n(i,o)}return a}else il(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...c)=>this.produceWithPatches(o,u=>e(u,...c));let n,a;return[this.produce(e,r,(o,c)=>{n=o,a=c}),n,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ou(t)||il(8),uf(t)&&(t=Gc(t));const e=F7(this),r=z_(t,void 0);return r[ao].isManual_=!0,U_(e),r}finishDraft(t,e){const r=t&&t[ao];(!r||!r.isManual_)&&il(9);const{scope_:n}=r;return z7(n,e),$7(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const n=df("Patches").applyPatches_;return uf(t)?n(t,e):this.produce(t,a=>n(a,e))}};function z_(t,e){const r=Tv(t)?df("MapSet").proxyMap_(t,e):c2(t)?df("MapSet").proxySet_(t,e):D4e(t,e);return(e?e.scope_:wX()).drafts_.push(r),r}function Gc(t){return uf(t)||il(10,t),NX(t)}function NX(t){if(!ou(t)||u2(t))return t;const e=t[ao];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=R_(t,e.scope_.immer_.useStrictShallowCopy_)}else r=R_(t,!0);return jj(r,(n,a)=>{jX(r,n,NX(a))}),e&&(e.finalized_=!1),r}var U4e=new L4e,SX=U4e.produce;function EX(t){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,t):a(i)}var V4e=EX(),z4e=EX,F4e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bj:bj.apply(null,arguments)};function Lo(t,e){function r(...n){if(e){let a=e(...n);if(!a)throw new Error(to(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>yX(n)&&n.type===t,r}var AX=class Ax extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ax.prototype)}static get[Symbol.species](){return Ax}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ax(...e[0].concat(this)):new Ax(...e.concat(this))}};function q7(t){return ou(t)?SX(t,()=>{}):t}function C0(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function $4e(t){return typeof t=="boolean"}var B4e=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=e??{};let o=new AX;return r&&($4e(r)?o.push(V4e):o.push(z4e(r.extraArgument))),o},q4e="RTK_autoBatch",H7=t=>e=>{setTimeout(e,t)},H4e=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let a=!0,i=!1,o=!1;const c=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:H7(10):t.type==="callback"?t.queueNotification:H7(t.timeout),h=()=>{o=!1,i&&(i=!1,c.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const p=()=>a&&f(),g=n.subscribe(p);return c.add(f),()=>{g(),c.delete(f)}},dispatch(f){var p;try{return a=!((p=f==null?void 0:f.meta)!=null&&p[q4e]),i=!a,i&&(o||(o=!0,u(h))),n.dispatch(f)}finally{a=!0}}})},W4e=t=>function(r){const{autoBatch:n=!0}=r??{};let a=new AX(t);return n&&a.push(H4e(typeof n=="object"?n:void 0)),a};function G4e(t){const e=B4e(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=t||{};let c;if(typeof r=="function")c=r;else if(O4(r))c=xX(r);else throw new Error(to(1));let u;typeof n=="function"?u=n(e):u=e();let h=bj;a&&(h=F4e({trace:!1,...typeof a=="object"&&a}));const f=_4e(...u),p=W4e(f);let g=typeof o=="function"?o(p):p();const x=h(...g);return gX(c,i,x)}function TX(t){const e={},r=[];let n;const a={addCase(i,o){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(to(28));if(c in e)throw new Error(to(29));return e[c]=o,a},addAsyncThunk(i,o){return o.pending&&(e[i.pending.type]=o.pending),o.rejected&&(e[i.rejected.type]=o.rejected),o.fulfilled&&(e[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return t(a),[e,r,n]}function Y4e(t){return typeof t=="function"}function K4e(t,e){let[r,n,a]=TX(e),i;if(Y4e(t))i=()=>q7(t());else{const c=q7(t);i=()=>c}function o(c=i(),u){let h=[r[u.type],...n.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return h.filter(f=>!!f).length===0&&(h=[a]),h.reduce((f,p)=>{if(p)if(uf(f)){const x=p(f,u);return x===void 0?f:x}else{if(ou(f))return SX(f,g=>p(g,u));{const g=p(f,u);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},c)}return o.getInitialState=i,o}var X4e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Q4e=(t=21)=>{let e="",r=t;for(;r--;)e+=X4e[Math.random()*64|0];return e},Z4e=Symbol.for("rtk-slice-createasyncthunk");function J4e(t,e){return`${t}/${e}`}function eOe({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[Z4e];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(to(11));const c=(typeof a.reducers=="function"?a.reducers(rOe()):a.reducers)||{},u=Object.keys(c),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,M){const L=typeof O=="string"?O:O.type;if(!L)throw new Error(to(12));if(L in h.sliceCaseReducersByType)throw new Error(to(13));return h.sliceCaseReducersByType[L]=M,f},addMatcher(O,M){return h.sliceMatchers.push({matcher:O,reducer:M}),f},exposeAction(O,M){return h.actionCreators[O]=M,f},exposeCaseReducer(O,M){return h.sliceCaseReducersByName[O]=M,f}};u.forEach(O=>{const M=c[O],L={reducerName:O,type:J4e(i,O),createNotation:typeof a.reducers=="function"};aOe(M)?iOe(L,M,f,e):nOe(L,M,f)});function p(){const[O={},M=[],L=void 0]=typeof a.extraReducers=="function"?TX(a.extraReducers):[a.extraReducers],I={...O,...h.sliceCaseReducersByType};return K4e(a.initialState,T=>{for(let _ in I)T.addCase(_,I[_]);for(let _ of h.sliceMatchers)T.addMatcher(_.matcher,_.reducer);for(let _ of M)T.addMatcher(_.matcher,_.reducer);L&&T.addDefaultCase(L)})}const g=O=>O,x=new Map,j=new WeakMap;let w;function b(O,M){return w||(w=p()),w(O,M)}function N(){return w||(w=p()),w.getInitialState()}function E(O,M=!1){function L(T){let _=T[O];return typeof _>"u"&&M&&(_=C0(j,L,N)),_}function I(T=g){const _=C0(x,M,()=>new WeakMap);return C0(_,T,()=>{const D={};for(const[P,R]of Object.entries(a.selectors??{}))D[P]=tOe(R,T,()=>C0(j,T,N),M);return D})}return{reducerPath:O,getSelectors:I,get selectors(){return I(L)},selectSlice:L}}const A={name:i,reducer:b,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:N,...E(o),injectInto(O,{reducerPath:M,...L}={}){const I=M??o;return O.inject({reducerPath:I,reducer:b},L),{...A,...E(I,!0)}}};return A}}function tOe(t,e,r,n){function a(i,...o){let c=e(i);return typeof c>"u"&&n&&(c=r()),t(c,...o)}return a.unwrapped=t,a}var lo=eOe();function rOe(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function nOe({type:t,reducerName:e,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!sOe(n))throw new Error(to(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,o?Lo(t,o):Lo(t))}function aOe(t){return t._reducerDefinitionType==="asyncThunk"}function sOe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function iOe({type:t,reducerName:e},r,n,a){if(!a)throw new Error(to(18));const{payloadCreator:i,fulfilled:o,pending:c,rejected:u,settled:h,options:f}=r,p=a(t,i,f);n.exposeAction(e,p),o&&n.addCase(p.fulfilled,o),c&&n.addCase(p.pending,c),u&&n.addCase(p.rejected,u),h&&n.addMatcher(p.settled,h),n.exposeCaseReducer(e,{fulfilled:o||I0,pending:c||I0,rejected:u||I0,settled:h||I0})}function I0(){}var oOe="task",_X="listener",CX="completed",D4="cancelled",lOe=`task-${D4}`,cOe=`task-${CX}`,F_=`${_X}-${D4}`,uOe=`${_X}-${CX}`,d2=class{constructor(t){yt(this,"name","TaskAbortError");yt(this,"message");this.code=t,this.message=`${oOe} ${D4} (reason: ${t})`}},R4=(t,e)=>{if(typeof t!="function")throw new TypeError(to(32))},Nj=()=>{},IX=(t,e=Nj)=>(t.catch(e),t),OX=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Bh=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},qh=t=>{if(t.aborted){const{reason:e}=t;throw new d2(e)}};function PX(t,e){let r=Nj;return new Promise((n,a)=>{const i=()=>a(new d2(t.reason));if(t.aborted){i();return}r=OX(t,i),e.finally(()=>r()).then(n,a)}).finally(()=>{r=Nj})}var dOe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof d2?"cancelled":"rejected",error:r}}finally{e==null||e()}},Sj=t=>e=>IX(PX(t,e).then(r=>(qh(t),r))),MX=t=>{const e=Sj(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Jm}=Object,W7={},h2="listenerMiddleware",hOe=(t,e)=>{const r=n=>OX(t,()=>Bh(n,t.reason));return(n,a)=>{R4(n);const i=new AbortController;r(i);const o=dOe(async()=>{qh(t),qh(i.signal);const c=await n({pause:Sj(i.signal),delay:MX(i.signal),signal:i.signal});return qh(i.signal),c},()=>Bh(i,cOe));return a!=null&&a.autoJoin&&e.push(o.catch(Nj)),{result:Sj(t)(o),cancel(){Bh(i,lOe)}}}},fOe=(t,e)=>{const r=async(n,a)=>{qh(e);let i=()=>{};const c=[new Promise((u,h)=>{let f=t({predicate:n,effect:(p,g)=>{g.unsubscribe(),u([p,g.getState(),g.getOriginalState()])}});i=()=>{f(),h()}})];a!=null&&c.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await PX(e,Promise.race(c));return qh(e),u}finally{i()}};return(n,a)=>IX(r(n,a))},DX=t=>{let{type:e,actionCreator:r,matcher:n,predicate:a,effect:i}=t;if(e)a=Lo(e).match;else if(r)e=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(to(21));return R4(i),{predicate:a,type:e,effect:i}},RX=Jm(t=>{const{type:e,predicate:r,effect:n}=DX(t);return{id:Q4e(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(to(22))}}},{withTypes:()=>RX}),G7=(t,e)=>{const{type:r,effect:n,predicate:a}=DX(e);return Array.from(t.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},$_=t=>{t.pending.forEach(e=>{Bh(e,F_)})},mOe=t=>()=>{t.forEach($_),t.clear()},Y7=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},LX=Jm(Lo(`${h2}/add`),{withTypes:()=>LX}),pOe=Lo(`${h2}/removeAll`),UX=Jm(Lo(`${h2}/remove`),{withTypes:()=>UX}),gOe=(...t)=>{console.error(`${h2}/error`,...t)},_v=(t={})=>{const e=new Map,{extra:r,onError:n=gOe}=t;R4(n);const a=f=>(f.unsubscribe=()=>e.delete(f.id),e.set(f.id,f),p=>{f.unsubscribe(),p!=null&&p.cancelActive&&$_(f)}),i=f=>{const p=G7(e,f)??RX(f);return a(p)};Jm(i,{withTypes:()=>i});const o=f=>{const p=G7(e,f);return p&&(p.unsubscribe(),f.cancelActive&&$_(p)),!!p};Jm(o,{withTypes:()=>o});const c=async(f,p,g,x)=>{const j=new AbortController,w=fOe(i,j.signal),b=[];try{f.pending.add(j),await Promise.resolve(f.effect(p,Jm({},g,{getOriginalState:x,condition:(N,E)=>w(N,E).then(Boolean),take:w,delay:MX(j.signal),pause:Sj(j.signal),extra:r,signal:j.signal,fork:hOe(j.signal,b),unsubscribe:f.unsubscribe,subscribe:()=>{e.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((N,E,A)=>{N!==j&&(Bh(N,F_),A.delete(N))})},cancel:()=>{Bh(j,F_),f.pending.delete(j)},throwIfCancelled:()=>{qh(j.signal)}})))}catch(N){N instanceof d2||Y7(n,N,{raisedBy:"effect"})}finally{await Promise.all(b),Bh(j,uOe),f.pending.delete(j)}},u=mOe(e);return{middleware:f=>p=>g=>{if(!yX(g))return p(g);if(LX.match(g))return i(g.payload);if(pOe.match(g)){u();return}if(UX.match(g))return o(g.payload);let x=f.getState();const j=()=>{if(x===W7)throw new Error(to(23));return x};let w;try{if(w=p(g),e.size>0){const b=f.getState(),N=Array.from(e.values());for(const E of N){let A=!1;try{A=E.predicate(g,b,x)}catch(O){A=!1,Y7(n,O,{raisedBy:"predicate"})}A&&c(E,g,f,j)}}}finally{x=W7}return w},startListening:i,stopListening:o,clearListeners:u}};function to(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var xOe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},VX=lo({name:"chartLayout",initialState:xOe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,a,i;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(i=e.payload.left)!==null&&i!==void 0?i:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:yOe,setLayout:vOe,setChartSize:bOe,setScale:jOe}=VX.actions,wOe=VX.reducer;function K7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function X7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K7(Object(r),!0).forEach(function(n){kOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kOe(t,e,r){return(e=NOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NOe(t){var e=SOe(t,"string");return typeof e=="symbol"?e:e+""}function SOe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ej=Math.PI/180,EOe=t=>t*180/Math.PI,Pa=(t,e,r,n)=>({x:t+Math.cos(-Ej*n)*r,y:e+Math.sin(-Ej*n)*r}),zX=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},AOe=(t,e)=>{var{x:r,y:n}=t,{x:a,y:i}=e;return Math.sqrt((r-a)**2+(n-i)**2)},TOe=(t,e)=>{var{x:r,y:n}=t,{cx:a,cy:i}=e,o=AOe({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var c=(r-a)/o,u=Math.acos(c);return n>i&&(u=2*Math.PI-u),{radius:o,angle:EOe(u),angleInRadian:u}},_Oe=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:e-i*360,endAngle:r-i*360}},COe=(t,e)=>{var{startAngle:r,endAngle:n}=e,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return t+o*360},IOe=(t,e)=>{var{x:r,y:n}=t,{radius:a,angle:i}=TOe({x:r,y:n},e),{innerRadius:o,outerRadius:c}=e;if(a<o||a>c||a===0)return null;var{startAngle:u,endAngle:h}=_Oe(e),f=i,p;if(u<=h){for(;f>h;)f-=360;for(;f<u;)f+=360;p=f>=u&&f<=h}else{for(;f>u;)f-=360;for(;f<h;)f+=360;p=f>=h&&f<=u}return p?X7(X7({},e),{},{radius:a,angle:COe(f,e)}):null};function FX(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function Q7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ao(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q7(Object(r),!0).forEach(function(n){OOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OOe(t,e,r){return(e=POe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function POe(t){var e=MOe(t,"string");return typeof e=="symbol"?e:e+""}function MOe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function In(t,e,r){return Zn(t)||Zn(e)?r:dc(e)?cf(t,e,r):typeof e=="function"?e(t):r}var DOe=(t,e,r,n,a)=>{var i,o=-1,c=(i=e==null?void 0:e.length)!==null&&i!==void 0?i:0;if(c<=1||t==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<c;u++){var h=u>0?r[u-1].coordinate:r[c-1].coordinate,f=r[u].coordinate,p=u>=c-1?r[0].coordinate:r[u+1].coordinate,g=void 0;if(is(f-h)!==is(p-f)){var x=[];if(is(p-f)===is(a[1]-a[0])){g=p;var j=f+a[1]-a[0];x[0]=Math.min(j,(j+h)/2),x[1]=Math.max(j,(j+h)/2)}else{g=h;var w=p+a[1]-a[0];x[0]=Math.min(f,(w+f)/2),x[1]=Math.max(f,(w+f)/2)}var b=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>b[0]&&t<=b[1]||t>=x[0]&&t<=x[1]){({index:o}=r[u]);break}}else{var N=Math.min(h,p),E=Math.max(h,p);if(t>(N+f)/2&&t<=(E+f)/2){({index:o}=r[u]);break}}}else if(e){for(var A=0;A<c;A++)if(A===0&&t<=(e[A].coordinate+e[A+1].coordinate)/2||A>0&&A<c-1&&t>(e[A].coordinate+e[A-1].coordinate)/2&&t<=(e[A].coordinate+e[A+1].coordinate)/2||A===c-1&&t>(e[A].coordinate+e[A-1].coordinate)/2){({index:o}=e[A]);break}}return o},ROe=(t,e,r)=>{if(e&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:c}=e;if((c==="vertical"||c==="horizontal"&&o==="middle")&&i!=="center"&&Kt(t[i]))return Ao(Ao({},t),{},{[i]:t[i]+(n||0)});if((c==="horizontal"||c==="vertical"&&i==="center")&&o!=="middle"&&Kt(t[o]))return Ao(Ao({},t),{},{[o]:t[o]+(a||0)})}return t},Xd=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",$X=(t,e,r,n)=>{if(n)return t.map(c=>c.coordinate);var a,i,o=t.map(c=>(c.coordinate===e&&(a=!0),c.coordinate===r&&(i=!0),c.coordinate));return a||o.push(e),i||o.push(r),o},BX=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:c,isCategorical:u,categoricalDomain:h,tickCount:f,ticks:p,niceTicks:g,axisType:x}=t;if(!o)return null;var j=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=a==="category"&&o.bandwidth?o.bandwidth()/j:0;if(w=x==="angleAxis"&&i&&i.length>=2?is(i[0]-i[1])*2*w:w,p||g){var b=(p||g||[]).map((N,E)=>{var A=n?n.indexOf(N):N;return{coordinate:o(A)+w,value:N,offset:w,index:E}});return b.filter(N=>!no(N.coordinate))}return u&&h?h.map((N,E)=>({coordinate:o(N)+w,value:N,index:E,offset:w})):o.ticks&&f!=null?o.ticks(f).map((N,E)=>({coordinate:o(N)+w,value:N,offset:w,index:E})):o.domain().map((N,E)=>({coordinate:o(N)+w,value:n?n[N]:N,index:E,offset:w}))},Z7=1e-4,LOe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),a=Math.min(n[0],n[1])-Z7,i=Math.max(n[0],n[1])+Z7,o=t(e[0]),c=t(e[r-1]);(o<a||o>i||c<a||c>i)&&t.domain([e[0],e[r-1]])}},UOe=(t,e)=>{if(!e||e.length!==2||!Kt(e[0])||!Kt(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!Kt(t[0])||t[0]<r)&&(a[0]=r),(!Kt(t[1])||t[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},VOe=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var a=0,i=0,o=0;o<e;++o){var c=no(t[o][r][1])?t[o][r][0]:t[o][r][1];c>=0?(t[o][r][0]=a,t[o][r][1]=a+c,a=t[o][r][1]):(t[o][r][0]=i,t[o][r][1]=i+c,i=t[o][r][1])}},zOe=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var a=0,i=0;i<e;++i){var o=no(t[i][r][1])?t[i][r][0]:t[i][r][1];o>=0?(t[i][r][0]=a,t[i][r][1]=a+o,a=t[i][r][1]):(t[i][r][0]=0,t[i][r][1]=0)}},FOe={sign:VOe,expand:gIe,none:jp,silhouette:xIe,wiggle:yIe,positive:zOe},$Oe=(t,e,r)=>{var n=FOe[r],a=pIe().keys(e).value((i,o)=>+In(i,o,0)).order(O_).offset(n);return a(t)};function BOe(t){return t==null?void 0:String(t)}function J7(t){var{axis:e,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Zn(a[e.dataKey])){var c=MK(r,"value",a[e.dataKey]);if(c)return c.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=In(a,Zn(o)?e.dataKey:o);return Zn(u)?null:e.scale(u)}var eV=t=>{var{axis:e,ticks:r,offset:n,bandSize:a,entry:i,index:o}=t;if(e.type==="category")return r[o]?r[o].coordinate+n:null;var c=In(i,e.dataKey,e.scale.domain()[o]);return Zn(c)?null:e.scale(c)-a/2+n},qOe=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},HOe=t=>{var e=t.flat(2).filter(Kt);return[Math.min(...e),Math.max(...e)]},WOe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],GOe=(t,e,r)=>{if(t!=null)return WOe(Object.keys(t).reduce((n,a)=>{var i=t[a],{stackedData:o}=i,c=o.reduce((u,h)=>{var f=FX(h,e,r),p=HOe(f);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},tV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ry=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var a=o2(e,f=>f.coordinate),i=1/0,o=1,c=a.length;o<c;o++){var u=a[o],h=a[o-1];i=Math.min((u.coordinate||0)-(h.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function nV(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:a,name:i}=t;return Ao(Ao({},e),{},{dataKey:r,payload:n,value:a,name:i})}function Kp(t,e){if(t)return String(t);if(typeof e=="string")return e}function YOe(t,e,r,n,a){if(r==="horizontal"||r==="vertical"){var i=t>=a.left&&t<=a.left+a.width&&e>=a.top&&e<=a.top+a.height;return i?{x:t,y:e}:null}return n?IOe({x:t,y:e},n):null}var KOe=(t,e,r,n)=>{var a=e.find(h=>h&&h.index===r);if(a){if(t==="horizontal")return{x:a.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:a.coordinate};if(t==="centric"){var i=a.coordinate,{radius:o}=n;return Ao(Ao(Ao({},n),Pa(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var c=a.coordinate,{angle:u}=n;return Ao(Ao(Ao({},n),Pa(n.cx,n.cy,c,u)),{},{angle:u,radius:c})}return{x:0,y:0}},XOe=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,xu=t=>t.layout.width,yu=t=>t.layout.height,QOe=t=>t.layout.scale,qX=t=>t.layout.margin,f2=_e(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),m2=_e(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),HX="data-recharts-item-index",WX="data-recharts-item-data-key",Cv=60;function aV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function O0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aV(Object(r),!0).forEach(function(n){ZOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZOe(t,e,r){return(e=JOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JOe(t){var e=ePe(t,"string");return typeof e=="symbol"?e:e+""}function ePe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tPe=t=>t.brush.height;function rPe(t){var e=m2(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Cv;return r+a}return r},0)}function nPe(t){var e=m2(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Cv;return r+a}return r},0)}function aPe(t){var e=f2(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function sPe(t){var e=f2(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ha=_e([xu,yu,qX,tPe,rPe,nPe,aPe,sPe,mX,w4e],(t,e,r,n,a,i,o,c,u,h)=>{var f={left:(r.left||0)+a,right:(r.right||0)+i},p={top:(r.top||0)+o,bottom:(r.bottom||0)+c},g=O0(O0({},p),f),x=g.bottom;g.bottom+=n,g=ROe(g,u,h);var j=t-g.left-g.right,w=e-g.top-g.bottom;return O0(O0({brushBottom:x},g),{},{width:Math.max(j,0),height:Math.max(w,0)})}),iPe=_e(Ha,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),L4=_e(xu,yu,(t,e)=>({x:0,y:0,width:t,height:e})),oPe=v.createContext(null),Ii=()=>v.useContext(oPe)!=null,p2=t=>t.brush,g2=_e([p2,Ha,qX],(t,e,r)=>({height:t.height,x:Kt(t.x)?t.x:e.left,y:Kt(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:Kt(t.width)?t.width:e.width})),U4=()=>{var t,e=Ii(),r=Ft(iPe),n=Ft(g2),a=(t=Ft(p2))===null||t===void 0?void 0:t.padding;return!e||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},lPe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},GX=()=>{var t;return(t=Ft(Ha))!==null&&t!==void 0?t:lPe},V4=()=>Ft(xu),z4=()=>Ft(yu),cPe=()=>Ft(t=>t.layout.margin),Hr=t=>t.layout.layoutType,x2=()=>Ft(Hr),uPe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},YX=lo({name:"legend",initialState:uPe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=Gc(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:sV,setLegendSettings:dPe,addLegendPayload:KX,removeLegendPayload:XX}=YX.actions,hPe=YX.reducer,fPe=["contextPayload"];function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B_.apply(null,arguments)}function iV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iV(Object(r),!0).forEach(function(n){F4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F4(t,e,r){return(e=mPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mPe(t){var e=pPe(t,"string");return typeof e=="symbol"?e:e+""}function pPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gPe(t,e){if(t==null)return{};var r,n,a=xPe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function xPe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function yPe(t){return t.value}function vPe(t){var{contextPayload:e}=t,r=gPe(t,fPe),n=uX(e,t.payloadUniqBy,yPe),a=kp(kp({},r),{},{payload:n});return v.isValidElement(t.content)?v.cloneElement(t.content,a):typeof t.content=="function"?v.createElement(t.content,a):v.createElement(T4,a)}function bPe(t,e,r,n,a,i){var{layout:o,align:c,verticalAlign:u}=e,h,f;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(c==="center"&&o==="vertical"?h={left:((n||0)-i.width)/2}:h=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(u==="middle"?f={top:((a||0)-i.height)/2}:f=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),kp(kp({},h),f)}function jPe(t){var e=ia();return v.useEffect(()=>{e(dPe(t))},[e,t]),null}function wPe(t){var e=ia();return v.useEffect(()=>(e(sV(t)),()=>{e(sV({width:0,height:0}))}),[e,t]),null}function kPe(t){var e=S4e(),r=V3e(),n=cPe(),{width:a,height:i,wrapperStyle:o,portal:c}=t,[u,h]=pX([e]),f=V4(),p=z4();if(f==null||p==null)return null;var g=f-(n.left||0)-(n.right||0),x=Wi.getWidthOrHeight(t.layout,i,a,g),j=c?o:kp(kp({position:"absolute",width:(x==null?void 0:x.width)||a||"auto",height:(x==null?void 0:x.height)||i||"auto"},bPe(o,t,n,f,p,u)),o),w=c??r;if(w==null)return null;var b=v.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:h},v.createElement(jPe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),v.createElement(wPe,{width:u.width,height:u.height}),v.createElement(vPe,B_({},t,x,{margin:n,chartWidth:f,chartHeight:p,contextPayload:e})));return _C.createPortal(b,w)}class Wi extends v.PureComponent{static getWidthOrHeight(e,r,n,a){return e==="vertical"&&Kt(r)?{height:r}:e==="horizontal"?{width:n||a}:null}render(){return v.createElement(kPe,this.props)}}F4(Wi,"displayName","Legend");F4(Wi,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q_.apply(null,arguments)}function oV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function YE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oV(Object(r),!0).forEach(function(n){NPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NPe(t,e,r){return(e=SPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SPe(t){var e=EPe(t,"string");return typeof e=="symbol"?e:e+""}function EPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function APe(t){return Array.isArray(t)&&dc(t[0])&&dc(t[1])?t.join(" ~ "):t}var TPe=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:c,wrapperClassName:u,labelClassName:h,label:f,labelFormatter:p,accessibilityLayer:g=!1}=t,x=()=>{if(i&&i.length){var M={padding:0,margin:0},L=(c?o2(i,c):i).map((I,T)=>{if(I.type==="none")return null;var _=I.formatter||o||APe,{value:D,name:P}=I,R=D,U=P;if(_){var $=_(D,P,I,T,i);if(Array.isArray($))[R,U]=$;else if($!=null)R=$;else return null}var K=YE({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:K},dc(U)?v.createElement("span",{className:"recharts-tooltip-item-name"},U):null,dc(U)?v.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,v.createElement("span",{className:"recharts-tooltip-item-value"},R),v.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:M},L)}return null},j=YE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=YE({margin:0},a),b=!Zn(f),N=b?f:"",E=Lr("recharts-default-tooltip",u),A=Lr("recharts-tooltip-label",h);b&&p&&i!==void 0&&i!==null&&(N=p(f,i));var O=g?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",q_({className:E,style:j},O),v.createElement("p",{className:A,style:w},v.isValidElement(N)?N:"".concat(N)),x())},ox="recharts-tooltip-wrapper",_Pe={visibility:"hidden"};function CPe(t){var{coordinate:e,translateX:r,translateY:n}=t;return Lr(ox,{["".concat(ox,"-right")]:Kt(r)&&e&&Kt(e.x)&&r>=e.x,["".concat(ox,"-left")]:Kt(r)&&e&&Kt(e.x)&&r<e.x,["".concat(ox,"-bottom")]:Kt(n)&&e&&Kt(e.y)&&n>=e.y,["".concat(ox,"-top")]:Kt(n)&&e&&Kt(e.y)&&n<e.y})}function lV(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:c,viewBox:u,viewBoxDimension:h}=t;if(i&&Kt(i[n]))return i[n];var f=r[n]-c-(a>0?a:0),p=r[n]+a;if(e[n])return o[n]?f:p;var g=u[n];if(g==null)return 0;if(o[n]){var x=f,j=g;return x<j?Math.max(p,g):Math.max(f,g)}if(h==null)return 0;var w=p+c,b=g+h;return w>b?Math.max(f,g):Math.max(p,g)}function IPe(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function OPe(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:c,viewBox:u}=t,h,f,p;return o.height>0&&o.width>0&&r?(f=lV({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=lV({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),h=IPe({translateX:f,translateY:p,useTranslate3d:c})):h=_Pe,{cssProperties:h,cssClasses:CPe({translateX:f,translateY:p,coordinate:r})}}function cV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function P0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cV(Object(r),!0).forEach(function(n){H_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H_(t,e,r){return(e=PPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PPe(t){var e=MPe(t,"string");return typeof e=="symbol"?e:e+""}function MPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class DPe extends v.PureComponent{constructor(){super(...arguments),H_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),H_(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:c,isAnimationActive:u,offset:h,position:f,reverseDirection:p,useTranslate3d:g,viewBox:x,wrapperStyle:j,lastBoundingBox:w,innerRef:b,hasPortalFromProps:N}=this.props,{cssClasses:E,cssProperties:A}=OPe({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:h,position:f,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:g,viewBox:x}),O=N?{}:P0(P0({transition:u&&e?"transform ".concat(n,"ms ").concat(a):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),M=P0(P0({},O),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},j);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:M,ref:b},i)}}var RPe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Qd={devToolsEnabled:!1,isSsr:RPe()},QX=()=>Ft(t=>t.rootProps.accessibilityLayer);function so(t){return Number.isFinite(t)}function Np(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W_.apply(null,arguments)}function uV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uV(Object(r),!0).forEach(function(n){LPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LPe(t,e,r){return(e=UPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UPe(t){var e=VPe(t,"string");return typeof e=="symbol"?e:e+""}function VPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hV={curveBasisClosed:aIe,curveBasisOpen:sIe,curveBasis:nIe,curveBumpX:B3e,curveBumpY:q3e,curveLinearClosed:iIe,curveLinear:s2,curveMonotoneX:oIe,curveMonotoneY:lIe,curveNatural:cIe,curveStep:uIe,curveStepAfter:hIe,curveStepBefore:dIe},M0=t=>so(t.x)&&so(t.y),lx=t=>t.x,cx=t=>t.y,zPe=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(Ev(t));return(r==="curveMonotone"||r==="curveBump")&&e?hV["".concat(r).concat(e==="vertical"?"Y":"X")]:hV[r]||s2},FPe=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=t,o=zPe(e,a),c=i?r.filter(M0):r,u;if(Array.isArray(n)){var h=i?n.filter(p=>M0(p)):n,f=c.map((p,g)=>dV(dV({},p),{},{base:h[g]}));return a==="vertical"?u=E0().y(cx).x1(lx).x0(p=>p.base.x):u=E0().x(lx).y1(cx).y0(p=>p.base.y),u.defined(M0).curve(o),u(f)}return a==="vertical"&&Kt(n)?u=E0().y(cx).x1(lx).x0(n):Kt(n)?u=E0().x(lx).y1(cx).y0(n):u=qK().x(lx).y(cx),u.defined(M0).curve(o),u(c)},$4=t=>{var{className:e,points:r,path:n,pathRef:a}=t;if((!r||!r.length)&&!n)return null;var i=r&&r.length?FPe(t):n;return v.createElement("path",W_({},gc(t),b4(t),{className:Lr("recharts-curve",e),d:i===null?void 0:i,ref:a}))},$Pe=["x","y","top","left","width","height","className"];function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G_.apply(null,arguments)}function fV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function BPe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fV(Object(r),!0).forEach(function(n){qPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qPe(t,e,r){return(e=HPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HPe(t){var e=WPe(t,"string");return typeof e=="symbol"?e:e+""}function WPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GPe(t,e){if(t==null)return{};var r,n,a=YPe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function YPe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var KPe=(t,e,r,n,a,i)=>"M".concat(t,",").concat(a,"v").concat(n,"M").concat(i,",").concat(e,"h").concat(r),XPe=t=>{var{x:e=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:c}=t,u=GPe(t,$Pe),h=BPe({x:e,y:r,top:n,left:a,width:i,height:o},u);return!Kt(e)||!Kt(r)||!Kt(i)||!Kt(o)||!Kt(n)||!Kt(a)?null:v.createElement("path",G_({},sa(h,!0),{className:Lr("recharts-cross",c),d:KPe(e,r,i,o,n,a)}))};function QPe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function mV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ZPe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(r),!0).forEach(function(n){JPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JPe(t,e,r){return(e=eMe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eMe(t){var e=tMe(t,"string");return typeof e=="symbol"?e:e+""}function tMe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ps(t,e){var r=ZPe({},t),n=e,a=Object.keys(e),i=a.reduce((o,c)=>(o[c]===void 0&&n[c]!==void 0&&(o[c]=n[c]),o),r);return i}function rMe(){}function pV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(r),!0).forEach(function(n){nMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nMe(t,e,r){return(e=aMe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aMe(t){var e=sMe(t,"string");return typeof e=="symbol"?e:e+""}function sMe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iMe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),ZX=(t,e,r)=>t.map(n=>"".concat(iMe(n)," ").concat(e,"ms ").concat(r)).join(","),oMe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(a=>n.includes(a))),Ly=(t,e)=>Object.keys(e).reduce((r,n)=>gV(gV({},r),{},{[n]:t(n,e[n])}),{});function xV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xV(Object(r),!0).forEach(function(n){lMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lMe(t,e,r){return(e=cMe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cMe(t){var e=uMe(t,"string");return typeof e=="symbol"?e:e+""}function uMe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aj=(t,e,r)=>t+(e-t)*r,Y_=t=>{var{from:e,to:r}=t;return e!==r},JX=(t,e,r)=>{var n=Ly((a,i)=>{if(Y_(i)){var[o,c]=t(i.from,i.to,i.velocity);return vs(vs({},i),{},{from:o,velocity:c})}return i},e);return r<1?Ly((a,i)=>Y_(i)?vs(vs({},i),{},{velocity:Aj(i.velocity,n[a].velocity,r),from:Aj(i.from,n[a].from,r)}):i,e):JX(t,n,r-1)};function dMe(t,e,r,n,a,i){var o,c=n.reduce((g,x)=>vs(vs({},g),{},{[x]:{from:t[x],velocity:0,to:e[x]}}),{}),u=()=>Ly((g,x)=>x.from,c),h=()=>!Object.values(c).filter(Y_).length,f=null,p=g=>{o||(o=g);var x=g-o,j=x/r.dt;c=JX(r,c,j),a(vs(vs(vs({},t),e),u())),o=g,h()||(f=i.setTimeout(p))};return()=>(f=i.setTimeout(p),()=>{f()})}function hMe(t,e,r,n,a,i,o){var c=null,u=a.reduce((p,g)=>vs(vs({},p),{},{[g]:[t[g],e[g]]}),{}),h,f=p=>{h||(h=p);var g=(p-h)/n,x=Ly((w,b)=>Aj(...b,r(g)),u);if(i(vs(vs(vs({},t),e),x)),g<1)c=o.setTimeout(f);else{var j=Ly((w,b)=>Aj(...b,r(1)),u);i(vs(vs(vs({},t),e),j))}};return()=>(c=o.setTimeout(f),()=>{c()})}const fMe=(t,e,r,n,a,i)=>{var o=oMe(t,e);return r.isStepper===!0?dMe(t,e,r,o,a,i):hMe(t,e,r,n,o,a,i)};var Tj=1e-4,eQ=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],tQ=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),yV=(t,e)=>r=>{var n=eQ(t,e);return tQ(n,r)},mMe=(t,e)=>r=>{var n=eQ(t,e),a=[...n.map((i,o)=>i*o).slice(1),0];return tQ(a,r)},vV=function(){for(var e,r,n,a,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];if(o.length===1)switch(o[0]){case"linear":[e,n,r,a]=[0,0,1,1];break;case"ease":[e,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,a]=[.42,0,1,1];break;case"ease-out":[e,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,a]=[0,0,.58,1];break;default:{var u=o[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([e,n,r,a]=u[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else o.length===4&&([e,n,r,a]=o);var h=yV(e,r),f=yV(n,a),p=mMe(e,r),g=j=>j>1?1:j<0?0:j,x=j=>{for(var w=j>1?1:j,b=w,N=0;N<8;++N){var E=h(b)-w,A=p(b);if(Math.abs(E-w)<Tj||A<Tj)return f(b);b=g(b-E/A)}return f(b)};return x.isStepper=!1,x},pMe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=e,i=(o,c,u)=>{var h=-(o-c)*r,f=u*n,p=u+(h-f)*a/1e3,g=u*a/1e3+o;return Math.abs(g-c)<Tj&&Math.abs(p)<Tj?[c,0]:[g,p]};return i.isStepper=!0,i.dt=a,i},gMe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vV(t);case"spring":return pMe();default:if(t.split("(")[0]==="cubic-bezier")return vV(t)}return typeof t=="function"?t:null};function xMe(t){var e,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var c=o,[u,...h]=c;if(typeof u=="number"){a=t.setTimeout(i.bind(null,h),u);return}i(u),a=t.setTimeout(i.bind(null,h));return}typeof o=="string"&&(e=o,r(e)),typeof o=="object"&&(e=o,r(e)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>t}}class yMe{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?e(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function vMe(){return xMe(new yMe)}var bMe=v.createContext(vMe);function jMe(t,e){var r=v.useContext(bMe);return v.useMemo(()=>e??r(t),[t,e,r])}var wMe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},bV={t:0},KE={t:1};function Iv(t){var e=Ps(t,wMe),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:c,onAnimationStart:u,children:h}=e,f=jMe(e.animationId,e.animationManager),[p,g]=v.useState(r?bV:KE),x=v.useRef(null);return v.useEffect(()=>{r||g(KE)},[r]),v.useEffect(()=>{if(!r||!n)return rMe;var j=fMe(bV,KE,gMe(i),a,g,f.getTimeoutController()),w=()=>{x.current=j()};return f.start([u,o,w,a,c]),()=>{f.stop(),x.current&&x.current(),c()}},[r,n,a,i,o,u,c,f]),h(p.t)}function Ov(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(Py(e)),n=v.useRef(t);return n.current!==t&&(r.current=Py(e),n.current=t),r.current}function jV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jV(Object(r),!0).forEach(function(n){kMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kMe(t,e,r){return(e=NMe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NMe(t){var e=SMe(t,"string");return typeof e=="symbol"?e:e+""}function SMe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _j(){return _j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_j.apply(null,arguments)}var kV=(t,e,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,c=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,h;if(i>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,g=4;p<g;p++)f[p]=a[p]>i?i:a[p];h="M".concat(t,",").concat(e+o*f[0]),f[0]>0&&(h+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(e)),h+="L ".concat(t+r-c*f[1],",").concat(e),f[1]>0&&(h+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(e+o*f[1])),h+="L ".concat(t+r,",").concat(e+n-o*f[2]),f[2]>0&&(h+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-c*f[2],",").concat(e+n)),h+="L ".concat(t+c*f[3],",").concat(e+n),f[3]>0&&(h+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+n-o*f[3])),h+="Z"}else if(i>0&&a===+a&&a>0){var x=Math.min(i,a);h="M ".concat(t,",").concat(e+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(e,`
            L `).concat(t+r-c*x,",").concat(e,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+r,",").concat(e+o*x,`
            L `).concat(t+r,",").concat(e+n-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+r-c*x,",").concat(e+n,`
            L `).concat(t+c*x,",").concat(e+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(e+n-o*x," Z")}else h="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return h},EMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rQ=t=>{var e=Ps(t,EMe),r=v.useRef(null),[n,a]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var $=r.current.getTotalLength();$&&a($)}catch{}},[]);var{x:i,y:o,width:c,height:u,radius:h,className:f}=e,{animationEasing:p,animationDuration:g,animationBegin:x,isAnimationActive:j,isUpdateAnimationActive:w}=e,b=v.useRef(c),N=v.useRef(u),E=v.useRef(i),A=v.useRef(o),O=v.useMemo(()=>({x:i,y:o,width:c,height:u,radius:h}),[i,o,c,u,h]),M=Ov(O,"rectangle-");if(i!==+i||o!==+o||c!==+c||u!==+u||c===0||u===0)return null;var L=Lr("recharts-rectangle",f);if(!w)return v.createElement("path",_j({},sa(e,!0),{className:L,d:kV(i,o,c,u,h)}));var I=b.current,T=N.current,_=E.current,D=A.current,P="0px ".concat(n===-1?1:n,"px"),R="".concat(n,"px 0px"),U=ZX(["strokeDasharray"],g,typeof p=="string"?p:void 0);return v.createElement(Iv,{animationId:M,key:M,canBegin:n>0,duration:g,easing:p,isActive:w,begin:x},$=>{var K=ua(I,c,$),F=ua(T,u,$),W=ua(_,i,$),te=ua(D,o,$);r.current&&(b.current=K,N.current=F,E.current=W,A.current=te);var X;return j?$>0?X={transition:U,strokeDasharray:R}:X={strokeDasharray:P}:X={strokeDasharray:R},v.createElement("path",_j({},sa(e,!0),{className:L,d:kV(W,te,K,F,h),ref:r,style:wV(wV({},X),e.style)}))})};function nQ(t){var{cx:e,cy:r,radius:n,startAngle:a,endAngle:i}=t,o=Pa(e,r,n,a),c=Pa(e,r,n,i);return{points:[o,c],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K_.apply(null,arguments)}var AMe=(t,e)=>{var r=is(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},D0=t=>{var{cx:e,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:c,cornerIsExternal:u}=t,h=c*(o?1:-1)+n,f=Math.asin(c/h)/Ej,p=u?a:a+i*f,g=Pa(e,r,h,p),x=Pa(e,r,n,p),j=u?a-i*f:a,w=Pa(e,r,h*Math.cos(f*Ej),j);return{center:g,circleTangency:x,lineTangency:w,theta:f}},aQ=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=t,c=AMe(i,o),u=i+c,h=Pa(e,r,a,i),f=Pa(e,r,a,u),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(n>0){var g=Pa(e,r,n,i),x=Pa(e,r,n,u);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(e,",").concat(r," Z");return p},TMe=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:h}=t,f=is(h-u),{circleTangency:p,lineTangency:g,theta:x}=D0({cx:e,cy:r,radius:a,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),{circleTangency:j,lineTangency:w,theta:b}=D0({cx:e,cy:r,radius:a,angle:h,sign:-f,cornerRadius:i,cornerIsExternal:c}),N=c?Math.abs(u-h):Math.abs(u-h)-x-b;if(N<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):aQ({cx:e,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:h});var E="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(n>0){var{circleTangency:A,lineTangency:O,theta:M}=D0({cx:e,cy:r,radius:n,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),{circleTangency:L,lineTangency:I,theta:T}=D0({cx:e,cy:r,radius:n,angle:h,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),_=c?Math.abs(u-h):Math.abs(u-h)-M-T;if(_<0&&i===0)return"".concat(E,"L").concat(e,",").concat(r,"Z");E+="L".concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(_>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else E+="L".concat(e,",").concat(r,"Z");return E},_Me={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sQ=t=>{var e=Ps(t,_Me),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:f,className:p}=e;if(i<a||h===f)return null;var g=Lr("recharts-sector",p),x=i-a,j=Gs(o,x,0,!0),w;return j>0&&Math.abs(h-f)<360?w=TMe({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(j,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:f}):w=aQ({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:h,endAngle:f}),v.createElement("path",K_({},sa(e,!0),{className:g,d:w}))};function CMe(t,e,r){var n,a,i,o;if(t==="horizontal")n=e.x,i=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:c,cy:u,innerRadius:h,outerRadius:f,angle:p}=e,g=Pa(c,u,h,p),x=Pa(c,u,f,p);n=g.x,a=g.y,i=x.x,o=x.y}else return nQ(e);return[{x:n,y:a},{x:i,y:o}]}var XE={},QE={},ZE={},NV;function IMe(){return NV||(NV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hX();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(ZE)),ZE}var SV;function OMe(){return SV||(SV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IMe();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(QE)),QE}var EV;function PMe(){return EV||(EV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fX(),r=OMe();function n(a,i,o){o&&typeof o!="number"&&e.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const c=Math.max(Math.ceil((i-a)/(o||1)),0),u=new Array(c);for(let h=0;h<c;h++)u[h]=a,a+=o;return u}t.range=n})(XE)),XE}var JE,AV;function MMe(){return AV||(AV=1,JE=PMe().range),JE}var DMe=MMe();const iQ=jl(DMe);function wd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function RMe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function B4(t){let e,r,n;t.length!==2?(e=wd,r=(c,u)=>wd(t(c),u),n=(c,u)=>t(c)-u):(e=t===wd||t===RMe?t:LMe,r=t,n=t);function a(c,u,h=0,f=c.length){if(h<f){if(e(u,u)!==0)return f;do{const p=h+f>>>1;r(c[p],u)<0?h=p+1:f=p}while(h<f)}return h}function i(c,u,h=0,f=c.length){if(h<f){if(e(u,u)!==0)return f;do{const p=h+f>>>1;r(c[p],u)<=0?h=p+1:f=p}while(h<f)}return h}function o(c,u,h=0,f=c.length){const p=a(c,u,h,f-1);return p>h&&n(c[p-1],u)>-n(c[p],u)?p-1:p}return{left:a,center:o,right:i}}function LMe(){return 0}function oQ(t){return t===null?NaN:+t}function*UMe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const VMe=B4(wd),Pv=VMe.right;B4(oQ).center;class TV extends Map{constructor(e,r=$Me){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(_V(this,e))}has(e){return super.has(_V(this,e))}set(e,r){return super.set(zMe(this,e),r)}delete(e){return super.delete(FMe(this,e))}}function _V({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function zMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function FMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function $Me(t){return t!==null&&typeof t=="object"?t.valueOf():t}function BMe(t=wd){if(t===wd)return lQ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function lQ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const qMe=Math.sqrt(50),HMe=Math.sqrt(10),WMe=Math.sqrt(2);function Cj(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=qMe?10:i>=HMe?5:i>=WMe?2:1;let c,u,h;return a<0?(h=Math.pow(10,-a)/o,c=Math.round(t*h),u=Math.round(e*h),c/h<t&&++c,u/h>e&&--u,h=-h):(h=Math.pow(10,a)*o,c=Math.round(t/h),u=Math.round(e/h),c*h<t&&++c,u*h>e&&--u),u<c&&.5<=r&&r<2?Cj(t,e,r*2):[c,u,h]}function X_(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,o]=n?Cj(e,t,r):Cj(t,e,r);if(!(i>=a))return[];const c=i-a+1,u=new Array(c);if(n)if(o<0)for(let h=0;h<c;++h)u[h]=(i-h)/-o;else for(let h=0;h<c;++h)u[h]=(i-h)*o;else if(o<0)for(let h=0;h<c;++h)u[h]=(a+h)/-o;else for(let h=0;h<c;++h)u[h]=(a+h)*o;return u}function Q_(t,e,r){return e=+e,t=+t,r=+r,Cj(t,e,r)[2]}function Z_(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?Q_(e,t,r):Q_(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function CV(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function IV(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function cQ(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?lQ:BMe(a);n>r;){if(n-r>600){const u=n-r+1,h=e-r+1,f=Math.log(u),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(u-p)/u)*(h-u/2<0?-1:1),x=Math.max(r,Math.floor(e-h*p/u+g)),j=Math.min(n,Math.floor(e+(u-h)*p/u+g));cQ(t,e,x,j,a)}const i=t[e];let o=r,c=n;for(ux(t,r,e),a(t[n],i)>0&&ux(t,r,n);o<c;){for(ux(t,o,c),++o,--c;a(t[o],i)<0;)++o;for(;a(t[c],i)>0;)--c}a(t[r],i)===0?ux(t,r,c):(++c,ux(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function ux(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function GMe(t,e,r){if(t=Float64Array.from(UMe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return IV(t);if(e>=1)return CV(t);var n,a=(n-1)*e,i=Math.floor(a),o=CV(cQ(t,i).subarray(0,i+1)),c=IV(t.subarray(i+1));return o+(c-o)*(a-i)}}function YMe(t,e,r=oQ){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),o=+r(t[i],i,t),c=+r(t[i+1],i+1,t);return o+(c-o)*(a-i)}}function KMe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function zo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function vu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const J_=Symbol("implicit");function q4(){var t=new TV,e=[],r=[],n=J_;function a(i){let o=t.get(i);if(o===void 0){if(n!==J_)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new TV;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return q4(e,r).unknown(n)},zo.apply(a,arguments),a}function H4(){var t=q4().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,o,c=!1,u=0,h=0,f=.5;delete t.unknown;function p(){var g=e().length,x=a<n,j=x?a:n,w=x?n:a;i=(w-j)/Math.max(1,g-u+h*2),c&&(i=Math.floor(i)),j+=(w-j-i*(g-u))*f,o=i*(1-u),c&&(j=Math.round(j),o=Math.round(o));var b=KMe(g).map(function(N){return j+i*N});return r(x?b.reverse():b)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,p()):[n,a]},t.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,c=!0,p()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(g){return arguments.length?(c=!!g,p()):c},t.padding=function(g){return arguments.length?(u=Math.min(1,h=+g),p()):u},t.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},t.paddingOuter=function(g){return arguments.length?(h=+g,p()):h},t.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),p()):f},t.copy=function(){return H4(e(),[n,a]).round(c).paddingInner(u).paddingOuter(h).align(f)},zo.apply(p(),arguments)}function uQ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return uQ(e())},t}function XMe(){return uQ(H4.apply(null,arguments).paddingInner(1))}function W4(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function dQ(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Mv(){}var Uy=.7,Ij=1/Uy,ep="\\s*([+-]?\\d+)\\s*",Vy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ic="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QMe=/^#([0-9a-f]{3,8})$/,ZMe=new RegExp(`^rgb\\(${ep},${ep},${ep}\\)$`),JMe=new RegExp(`^rgb\\(${ic},${ic},${ic}\\)$`),eDe=new RegExp(`^rgba\\(${ep},${ep},${ep},${Vy}\\)$`),tDe=new RegExp(`^rgba\\(${ic},${ic},${ic},${Vy}\\)$`),rDe=new RegExp(`^hsl\\(${Vy},${ic},${ic}\\)$`),nDe=new RegExp(`^hsla\\(${Vy},${ic},${ic},${Vy}\\)$`),OV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};W4(Mv,zy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:PV,formatHex:PV,formatHex8:aDe,formatHsl:sDe,formatRgb:MV,toString:MV});function PV(){return this.rgb().formatHex()}function aDe(){return this.rgb().formatHex8()}function sDe(){return hQ(this).formatHsl()}function MV(){return this.rgb().formatRgb()}function zy(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=QMe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?DV(e):r===3?new Si(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?R0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?R0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ZMe.exec(t))?new Si(e[1],e[2],e[3],1):(e=JMe.exec(t))?new Si(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=eDe.exec(t))?R0(e[1],e[2],e[3],e[4]):(e=tDe.exec(t))?R0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rDe.exec(t))?UV(e[1],e[2]/100,e[3]/100,1):(e=nDe.exec(t))?UV(e[1],e[2]/100,e[3]/100,e[4]):OV.hasOwnProperty(t)?DV(OV[t]):t==="transparent"?new Si(NaN,NaN,NaN,0):null}function DV(t){return new Si(t>>16&255,t>>8&255,t&255,1)}function R0(t,e,r,n){return n<=0&&(t=e=r=NaN),new Si(t,e,r,n)}function iDe(t){return t instanceof Mv||(t=zy(t)),t?(t=t.rgb(),new Si(t.r,t.g,t.b,t.opacity)):new Si}function eC(t,e,r,n){return arguments.length===1?iDe(t):new Si(t,e,r,n??1)}function Si(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}W4(Si,eC,dQ(Mv,{brighter(t){return t=t==null?Ij:Math.pow(Ij,t),new Si(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Uy:Math.pow(Uy,t),new Si(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Si(Hh(this.r),Hh(this.g),Hh(this.b),Oj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RV,formatHex:RV,formatHex8:oDe,formatRgb:LV,toString:LV}));function RV(){return`#${Mh(this.r)}${Mh(this.g)}${Mh(this.b)}`}function oDe(){return`#${Mh(this.r)}${Mh(this.g)}${Mh(this.b)}${Mh((isNaN(this.opacity)?1:this.opacity)*255)}`}function LV(){const t=Oj(this.opacity);return`${t===1?"rgb(":"rgba("}${Hh(this.r)}, ${Hh(this.g)}, ${Hh(this.b)}${t===1?")":`, ${t})`}`}function Oj(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Hh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mh(t){return t=Hh(t),(t<16?"0":"")+t.toString(16)}function UV(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ol(t,e,r,n)}function hQ(t){if(t instanceof ol)return new ol(t.h,t.s,t.l,t.opacity);if(t instanceof Mv||(t=zy(t)),!t)return new ol;if(t instanceof ol)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,c=i-a,u=(i+a)/2;return c?(e===i?o=(r-n)/c+(r<n)*6:r===i?o=(n-e)/c+2:o=(e-r)/c+4,c/=u<.5?i+a:2-i-a,o*=60):c=u>0&&u<1?0:o,new ol(o,c,u,t.opacity)}function lDe(t,e,r,n){return arguments.length===1?hQ(t):new ol(t,e,r,n??1)}function ol(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}W4(ol,lDe,dQ(Mv,{brighter(t){return t=t==null?Ij:Math.pow(Ij,t),new ol(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Uy:Math.pow(Uy,t),new ol(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Si(eA(t>=240?t-240:t+120,a,n),eA(t,a,n),eA(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new ol(VV(this.h),L0(this.s),L0(this.l),Oj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Oj(this.opacity);return`${t===1?"hsl(":"hsla("}${VV(this.h)}, ${L0(this.s)*100}%, ${L0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function VV(t){return t=(t||0)%360,t<0?t+360:t}function L0(t){return Math.max(0,Math.min(1,t||0))}function eA(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const G4=t=>()=>t;function cDe(t,e){return function(r){return t+r*e}}function uDe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function dDe(t){return(t=+t)==1?fQ:function(e,r){return r-e?uDe(e,r,t):G4(isNaN(e)?r:e)}}function fQ(t,e){var r=e-t;return r?cDe(t,r):G4(isNaN(t)?e:t)}const zV=(function t(e){var r=dDe(e);function n(a,i){var o=r((a=eC(a)).r,(i=eC(i)).r),c=r(a.g,i.g),u=r(a.b,i.b),h=fQ(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=c(f),a.b=u(f),a.opacity=h(f),a+""}}return n.gamma=t,n})(1);function hDe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function fDe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mDe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Xp(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(c){for(o=0;o<n;++o)i[o]=a[o](c);return i}}function pDe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Pj(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function gDe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Xp(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var tC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tA=new RegExp(tC.source,"g");function xDe(t){return function(){return t}}function yDe(t){return function(e){return t(e)+""}}function vDe(t,e){var r=tC.lastIndex=tA.lastIndex=0,n,a,i,o=-1,c=[],u=[];for(t=t+"",e=e+"";(n=tC.exec(t))&&(a=tA.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),c[o]?c[o]+=i:c[++o]=i),(n=n[0])===(a=a[0])?c[o]?c[o]+=a:c[++o]=a:(c[++o]=null,u.push({i:o,x:Pj(n,a)})),r=tA.lastIndex;return r<e.length&&(i=e.slice(r),c[o]?c[o]+=i:c[++o]=i),c.length<2?u[0]?yDe(u[0].x):xDe(e):(e=u.length,function(h){for(var f=0,p;f<e;++f)c[(p=u[f]).i]=p.x(h);return c.join("")})}function Xp(t,e){var r=typeof e,n;return e==null||r==="boolean"?G4(e):(r==="number"?Pj:r==="string"?(n=zy(e))?(e=n,zV):vDe:e instanceof zy?zV:e instanceof Date?pDe:fDe(e)?hDe:Array.isArray(e)?mDe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gDe:Pj)(t,e)}function Y4(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function bDe(t,e){e===void 0&&(e=t,t=Xp);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[c](o-c)}}function jDe(t){return function(){return t}}function Mj(t){return+t}var FV=[0,1];function di(t){return t}function rC(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:jDe(isNaN(e)?NaN:.5)}function wDe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function kDe(t,e,r){var n=t[0],a=t[1],i=e[0],o=e[1];return a<n?(n=rC(a,n),i=r(o,i)):(n=rC(n,a),i=r(i,o)),function(c){return i(n(c))}}function NDe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=rC(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(c){var u=Pv(t,c,1,n)-1;return i[u](a[u](c))}}function Dv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function y2(){var t=FV,e=FV,r=Xp,n,a,i,o=di,c,u,h;function f(){var g=Math.min(t.length,e.length);return o!==di&&(o=wDe(t[0],t[g-1])),c=g>2?NDe:kDe,u=h=null,p}function p(g){return g==null||isNaN(g=+g)?i:(u||(u=c(t.map(n),e,r)))(n(o(g)))}return p.invert=function(g){return o(a((h||(h=c(e,t.map(n),Pj)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,Mj),f()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),f()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),r=Y4,f()},p.clamp=function(g){return arguments.length?(o=g?!0:di,f()):o!==di},p.interpolate=function(g){return arguments.length?(r=g,f()):r},p.unknown=function(g){return arguments.length?(i=g,p):i},function(g,x){return n=g,a=x,f()}}function K4(){return y2()(di,di)}function SDe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Dj(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Sp(t){return t=Dj(Math.abs(t)),t?t[1]:NaN}function EDe(t,e){return function(r,n){for(var a=r.length,i=[],o=0,c=t[0],u=0;a>0&&c>0&&(u+c+1>n&&(c=Math.max(1,n-u)),i.push(r.substring(a-=c,a+c)),!((u+=c+1)>n));)c=t[o=(o+1)%t.length];return i.reverse().join(e)}}function ADe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var TDe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fy(t){if(!(e=TDe.exec(t)))throw new Error("invalid format: "+t);var e;return new X4({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fy.prototype=X4.prototype;function X4(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}X4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _De(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var mQ;function CDe(t,e){var r=Dj(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(mQ=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Dj(t,Math.max(0,e+i-1))[0]}function $V(t,e){var r=Dj(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const BV={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:SDe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$V(t*100,e),r:$V,s:CDe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function qV(t){return t}var HV=Array.prototype.map,WV=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function IDe(t){var e=t.grouping===void 0||t.thousands===void 0?qV:EDe(HV.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?qV:ADe(HV.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function h(p){p=Fy(p);var g=p.fill,x=p.align,j=p.sign,w=p.symbol,b=p.zero,N=p.width,E=p.comma,A=p.precision,O=p.trim,M=p.type;M==="n"?(E=!0,M="g"):BV[M]||(A===void 0&&(A=12),O=!0,M="g"),(b||g==="0"&&x==="=")&&(b=!0,g="0",x="=");var L=w==="$"?r:w==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",I=w==="$"?n:/[%p]/.test(M)?o:"",T=BV[M],_=/[defgprs%]/.test(M);A=A===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function D(P){var R=L,U=I,$,K,F;if(M==="c")U=T(P)+U,P="";else{P=+P;var W=P<0||1/P<0;if(P=isNaN(P)?u:T(Math.abs(P),A),O&&(P=_De(P)),W&&+P==0&&j!=="+"&&(W=!1),R=(W?j==="("?j:c:j==="-"||j==="("?"":j)+R,U=(M==="s"?WV[8+mQ/3]:"")+U+(W&&j==="("?")":""),_){for($=-1,K=P.length;++$<K;)if(F=P.charCodeAt($),48>F||F>57){U=(F===46?a+P.slice($+1):P.slice($))+U,P=P.slice(0,$);break}}}E&&!b&&(P=e(P,1/0));var te=R.length+P.length+U.length,X=te<N?new Array(N-te+1).join(g):"";switch(E&&b&&(P=e(X+P,X.length?N-U.length:1/0),X=""),x){case"<":P=R+P+U+X;break;case"=":P=R+X+P+U;break;case"^":P=X.slice(0,te=X.length>>1)+R+P+U+X.slice(te);break;default:P=X+R+P+U;break}return i(P)}return D.toString=function(){return p+""},D}function f(p,g){var x=h((p=Fy(p),p.type="f",p)),j=Math.max(-8,Math.min(8,Math.floor(Sp(g)/3)))*3,w=Math.pow(10,-j),b=WV[8+j/3];return function(N){return x(w*N)+b}}return{format:h,formatPrefix:f}}var U0,Q4,pQ;ODe({thousands:",",grouping:[3],currency:["$",""]});function ODe(t){return U0=IDe(t),Q4=U0.format,pQ=U0.formatPrefix,U0}function PDe(t){return Math.max(0,-Sp(Math.abs(t)))}function MDe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sp(e)/3)))*3-Sp(Math.abs(t)))}function DDe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sp(e)-Sp(t))+1}function gQ(t,e,r,n){var a=Z_(t,e,r),i;switch(n=Fy(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=MDe(a,o))&&(n.precision=i),pQ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=DDe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=PDe(a))&&(n.precision=i-(n.type==="%")*2);break}}return Q4(n)}function Zd(t){var e=t.domain;return t.ticks=function(r){var n=e();return X_(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return gQ(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,o=n[a],c=n[i],u,h,f=10;for(c<o&&(h=o,o=c,c=h,h=a,a=i,i=h);f-- >0;){if(h=Q_(o,c,r),h===u)return n[a]=o,n[i]=c,e(n);if(h>0)o=Math.floor(o/h)*h,c=Math.ceil(c/h)*h;else if(h<0)o=Math.ceil(o*h)/h,c=Math.floor(c*h)/h;else break;u=h}return t},t}function xQ(){var t=K4();return t.copy=function(){return Dv(t,xQ())},zo.apply(t,arguments),Zd(t)}function yQ(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Mj),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return yQ(t).unknown(e)},t=arguments.length?Array.from(t,Mj):[0,1],Zd(r)}function vQ(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),t[r]=e.floor(a),t[n]=e.ceil(i),t}function GV(t){return Math.log(t)}function YV(t){return Math.exp(t)}function RDe(t){return-Math.log(-t)}function LDe(t){return-Math.exp(-t)}function UDe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function VDe(t){return t===10?UDe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function zDe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function KV(t){return(e,r)=>-t(-e,r)}function Z4(t){const e=t(GV,YV),r=e.domain;let n=10,a,i;function o(){return a=zDe(n),i=VDe(n),r()[0]<0?(a=KV(a),i=KV(i),t(RDe,LDe)):t(GV,YV),e}return e.base=function(c){return arguments.length?(n=+c,o()):n},e.domain=function(c){return arguments.length?(r(c),o()):r()},e.ticks=c=>{const u=r();let h=u[0],f=u[u.length-1];const p=f<h;p&&([h,f]=[f,h]);let g=a(h),x=a(f),j,w;const b=c==null?10:+c;let N=[];if(!(n%1)&&x-g<b){if(g=Math.floor(g),x=Math.ceil(x),h>0){for(;g<=x;++g)for(j=1;j<n;++j)if(w=g<0?j/i(-g):j*i(g),!(w<h)){if(w>f)break;N.push(w)}}else for(;g<=x;++g)for(j=n-1;j>=1;--j)if(w=g>0?j/i(-g):j*i(g),!(w<h)){if(w>f)break;N.push(w)}N.length*2<b&&(N=X_(h,f,b))}else N=X_(g,x,Math.min(x-g,b)).map(i);return p?N.reverse():N},e.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=Fy(u)).precision==null&&(u.trim=!0),u=Q4(u)),c===1/0)return u;const h=Math.max(1,n*c/e.ticks().length);return f=>{let p=f/i(Math.round(a(f)));return p*n<n-.5&&(p*=n),p<=h?u(f):""}},e.nice=()=>r(vQ(r(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),e}function bQ(){const t=Z4(y2()).domain([1,10]);return t.copy=()=>Dv(t,bQ()).base(t.base()),zo.apply(t,arguments),t}function XV(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function QV(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function J4(t){var e=1,r=t(XV(e),QV(e));return r.constant=function(n){return arguments.length?t(XV(e=+n),QV(e)):e},Zd(r)}function jQ(){var t=J4(y2());return t.copy=function(){return Dv(t,jQ()).constant(t.constant())},zo.apply(t,arguments)}function ZV(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function FDe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function $De(t){return t<0?-t*t:t*t}function eO(t){var e=t(di,di),r=1;function n(){return r===1?t(di,di):r===.5?t(FDe,$De):t(ZV(r),ZV(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Zd(e)}function tO(){var t=eO(y2());return t.copy=function(){return Dv(t,tO()).exponent(t.exponent())},zo.apply(t,arguments),t}function BDe(){return tO.apply(null,arguments).exponent(.5)}function JV(t){return Math.sign(t)*t*t}function qDe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function wQ(){var t=K4(),e=[0,1],r=!1,n;function a(i){var o=qDe(t(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return t.invert(JV(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,Mj)).map(JV)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return wQ(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},zo.apply(a,arguments),Zd(a)}function kQ(){var t=[],e=[],r=[],n;function a(){var o=0,c=Math.max(1,e.length);for(r=new Array(c-1);++o<c;)r[o-1]=YMe(t,o/c);return i}function i(o){return o==null||isNaN(o=+o)?n:e[Pv(r,o)]}return i.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let c of o)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(wd),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return kQ().domain(t).range(e).unknown(n)},zo.apply(i,arguments)}function NQ(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function o(u){return u!=null&&u<=u?a[Pv(n,u,0,r)]:i}function c(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return o}return o.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,c()):[t,e]},o.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,c()):a.slice()},o.invertExtent=function(u){var h=a.indexOf(u);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return NQ().domain([t,e]).range(a).unknown(i)},zo.apply(Zd(o),arguments)}function SQ(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[Pv(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return SQ().domain(t).range(e).unknown(r)},zo.apply(a,arguments)}const rA=new Date,nA=new Date;function Wa(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),c=a.ceil(i);return i-o<c-i?o:c},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,c)=>{const u=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return u;let h;do u.push(h=new Date(+i)),e(i,c),t(i);while(h<i&&i<o);return u},a.filter=i=>Wa(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!i(o););else for(;--c>=0;)for(;e(o,1),!i(o););}),r&&(a.count=(i,o)=>(rA.setTime(+i),nA.setTime(+o),t(rA),t(nA),Math.floor(r(rA,nA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Rj=Wa(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Rj.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Wa(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Rj);Rj.range;const $c=1e3,Oo=$c*60,Bc=Oo*60,lu=Bc*24,rO=lu*7,ez=lu*30,aA=lu*365,Dh=Wa(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*$c)},(t,e)=>(e-t)/$c,t=>t.getUTCSeconds());Dh.range;const nO=Wa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$c)},(t,e)=>{t.setTime(+t+e*Oo)},(t,e)=>(e-t)/Oo,t=>t.getMinutes());nO.range;const aO=Wa(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Oo)},(t,e)=>(e-t)/Oo,t=>t.getUTCMinutes());aO.range;const sO=Wa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$c-t.getMinutes()*Oo)},(t,e)=>{t.setTime(+t+e*Bc)},(t,e)=>(e-t)/Bc,t=>t.getHours());sO.range;const iO=Wa(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Bc)},(t,e)=>(e-t)/Bc,t=>t.getUTCHours());iO.range;const Rv=Wa(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Oo)/lu,t=>t.getDate()-1);Rv.range;const v2=Wa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/lu,t=>t.getUTCDate()-1);v2.range;const EQ=Wa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/lu,t=>Math.floor(t/lu));EQ.range;function Mf(t){return Wa(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Oo)/rO)}const b2=Mf(0),Lj=Mf(1),HDe=Mf(2),WDe=Mf(3),Ep=Mf(4),GDe=Mf(5),YDe=Mf(6);b2.range;Lj.range;HDe.range;WDe.range;Ep.range;GDe.range;YDe.range;function Df(t){return Wa(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/rO)}const j2=Df(0),Uj=Df(1),KDe=Df(2),XDe=Df(3),Ap=Df(4),QDe=Df(5),ZDe=Df(6);j2.range;Uj.range;KDe.range;XDe.range;Ap.range;QDe.range;ZDe.range;const oO=Wa(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());oO.range;const lO=Wa(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());lO.range;const cu=Wa(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());cu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wa(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});cu.range;const uu=Wa(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());uu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wa(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});uu.range;function AQ(t,e,r,n,a,i){const o=[[Dh,1,$c],[Dh,5,5*$c],[Dh,15,15*$c],[Dh,30,30*$c],[i,1,Oo],[i,5,5*Oo],[i,15,15*Oo],[i,30,30*Oo],[a,1,Bc],[a,3,3*Bc],[a,6,6*Bc],[a,12,12*Bc],[n,1,lu],[n,2,2*lu],[r,1,rO],[e,1,ez],[e,3,3*ez],[t,1,aA]];function c(h,f,p){const g=f<h;g&&([h,f]=[f,h]);const x=p&&typeof p.range=="function"?p:u(h,f,p),j=x?x.range(h,+f+1):[];return g?j.reverse():j}function u(h,f,p){const g=Math.abs(f-h)/p,x=B4(([,,b])=>b).right(o,g);if(x===o.length)return t.every(Z_(h/aA,f/aA,p));if(x===0)return Rj.every(Math.max(Z_(h,f,p),1));const[j,w]=o[g/o[x-1][2]<o[x][2]/g?x-1:x];return j.every(w)}return[c,u]}const[JDe,eRe]=AQ(uu,lO,j2,EQ,iO,aO),[tRe,rRe]=AQ(cu,oO,b2,Rv,sO,nO);function sA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function iA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dx(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function nRe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,o=t.shortDays,c=t.months,u=t.shortMonths,h=hx(a),f=fx(a),p=hx(i),g=fx(i),x=hx(o),j=fx(o),w=hx(c),b=fx(c),N=hx(u),E=fx(u),A={a:W,A:te,b:X,B,c:null,d:iz,e:iz,f:ERe,g:RRe,G:URe,H:kRe,I:NRe,j:SRe,L:TQ,m:ARe,M:TRe,p:G,q:J,Q:cz,s:uz,S:_Re,u:CRe,U:IRe,V:ORe,w:PRe,W:MRe,x:null,X:null,y:DRe,Y:LRe,Z:VRe,"%":lz},O={a:ne,A:ie,b:se,B:je,c:null,d:oz,e:oz,f:BRe,g:JRe,G:t6e,H:zRe,I:FRe,j:$Re,L:CQ,m:qRe,M:HRe,p:Pe,q:ue,Q:cz,s:uz,S:WRe,u:GRe,U:YRe,V:KRe,w:XRe,W:QRe,x:null,X:null,y:ZRe,Y:e6e,Z:r6e,"%":lz},M={a:D,A:P,b:R,B:U,c:$,d:az,e:az,f:vRe,g:nz,G:rz,H:sz,I:sz,j:pRe,L:yRe,m:mRe,M:gRe,p:_,q:fRe,Q:jRe,s:wRe,S:xRe,u:lRe,U:cRe,V:uRe,w:oRe,W:dRe,x:K,X:F,y:nz,Y:rz,Z:hRe,"%":bRe};A.x=L(r,A),A.X=L(n,A),A.c=L(e,A),O.x=L(r,O),O.X=L(n,O),O.c=L(e,O);function L(ae,oe){return function(ve){var Y=[],fe=-1,ee=0,ye=ae.length,Oe,We,it;for(ve instanceof Date||(ve=new Date(+ve));++fe<ye;)ae.charCodeAt(fe)===37&&(Y.push(ae.slice(ee,fe)),(We=tz[Oe=ae.charAt(++fe)])!=null?Oe=ae.charAt(++fe):We=Oe==="e"?" ":"0",(it=oe[Oe])&&(Oe=it(ve,We)),Y.push(Oe),ee=fe+1);return Y.push(ae.slice(ee,fe)),Y.join("")}}function I(ae,oe){return function(ve){var Y=dx(1900,void 0,1),fe=T(Y,ae,ve+="",0),ee,ye;if(fe!=ve.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(oe&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ee=iA(dx(Y.y,0,1)),ye=ee.getUTCDay(),ee=ye>4||ye===0?Uj.ceil(ee):Uj(ee),ee=v2.offset(ee,(Y.V-1)*7),Y.y=ee.getUTCFullYear(),Y.m=ee.getUTCMonth(),Y.d=ee.getUTCDate()+(Y.w+6)%7):(ee=sA(dx(Y.y,0,1)),ye=ee.getDay(),ee=ye>4||ye===0?Lj.ceil(ee):Lj(ee),ee=Rv.offset(ee,(Y.V-1)*7),Y.y=ee.getFullYear(),Y.m=ee.getMonth(),Y.d=ee.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),ye="Z"in Y?iA(dx(Y.y,0,1)).getUTCDay():sA(dx(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(ye+5)%7:Y.w+Y.U*7-(ye+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,iA(Y)):sA(Y)}}function T(ae,oe,ve,Y){for(var fe=0,ee=oe.length,ye=ve.length,Oe,We;fe<ee;){if(Y>=ye)return-1;if(Oe=oe.charCodeAt(fe++),Oe===37){if(Oe=oe.charAt(fe++),We=M[Oe in tz?oe.charAt(fe++):Oe],!We||(Y=We(ae,ve,Y))<0)return-1}else if(Oe!=ve.charCodeAt(Y++))return-1}return Y}function _(ae,oe,ve){var Y=h.exec(oe.slice(ve));return Y?(ae.p=f.get(Y[0].toLowerCase()),ve+Y[0].length):-1}function D(ae,oe,ve){var Y=x.exec(oe.slice(ve));return Y?(ae.w=j.get(Y[0].toLowerCase()),ve+Y[0].length):-1}function P(ae,oe,ve){var Y=p.exec(oe.slice(ve));return Y?(ae.w=g.get(Y[0].toLowerCase()),ve+Y[0].length):-1}function R(ae,oe,ve){var Y=N.exec(oe.slice(ve));return Y?(ae.m=E.get(Y[0].toLowerCase()),ve+Y[0].length):-1}function U(ae,oe,ve){var Y=w.exec(oe.slice(ve));return Y?(ae.m=b.get(Y[0].toLowerCase()),ve+Y[0].length):-1}function $(ae,oe,ve){return T(ae,e,oe,ve)}function K(ae,oe,ve){return T(ae,r,oe,ve)}function F(ae,oe,ve){return T(ae,n,oe,ve)}function W(ae){return o[ae.getDay()]}function te(ae){return i[ae.getDay()]}function X(ae){return u[ae.getMonth()]}function B(ae){return c[ae.getMonth()]}function G(ae){return a[+(ae.getHours()>=12)]}function J(ae){return 1+~~(ae.getMonth()/3)}function ne(ae){return o[ae.getUTCDay()]}function ie(ae){return i[ae.getUTCDay()]}function se(ae){return u[ae.getUTCMonth()]}function je(ae){return c[ae.getUTCMonth()]}function Pe(ae){return a[+(ae.getUTCHours()>=12)]}function ue(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var oe=L(ae+="",A);return oe.toString=function(){return ae},oe},parse:function(ae){var oe=I(ae+="",!1);return oe.toString=function(){return ae},oe},utcFormat:function(ae){var oe=L(ae+="",O);return oe.toString=function(){return ae},oe},utcParse:function(ae){var oe=I(ae+="",!0);return oe.toString=function(){return ae},oe}}}var tz={"-":"",_:" ",0:"0"},os=/^\s*\d+/,aRe=/^%/,sRe=/[\\^$*+?|[\]().{}]/g;function Qr(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function iRe(t){return t.replace(sRe,"\\$&")}function hx(t){return new RegExp("^(?:"+t.map(iRe).join("|")+")","i")}function fx(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function oRe(t,e,r){var n=os.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function lRe(t,e,r){var n=os.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function cRe(t,e,r){var n=os.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function uRe(t,e,r){var n=os.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function dRe(t,e,r){var n=os.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function rz(t,e,r){var n=os.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function nz(t,e,r){var n=os.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function hRe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function fRe(t,e,r){var n=os.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function mRe(t,e,r){var n=os.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function az(t,e,r){var n=os.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function pRe(t,e,r){var n=os.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function sz(t,e,r){var n=os.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function gRe(t,e,r){var n=os.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function xRe(t,e,r){var n=os.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function yRe(t,e,r){var n=os.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function vRe(t,e,r){var n=os.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function bRe(t,e,r){var n=aRe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function jRe(t,e,r){var n=os.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function wRe(t,e,r){var n=os.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function iz(t,e){return Qr(t.getDate(),e,2)}function kRe(t,e){return Qr(t.getHours(),e,2)}function NRe(t,e){return Qr(t.getHours()%12||12,e,2)}function SRe(t,e){return Qr(1+Rv.count(cu(t),t),e,3)}function TQ(t,e){return Qr(t.getMilliseconds(),e,3)}function ERe(t,e){return TQ(t,e)+"000"}function ARe(t,e){return Qr(t.getMonth()+1,e,2)}function TRe(t,e){return Qr(t.getMinutes(),e,2)}function _Re(t,e){return Qr(t.getSeconds(),e,2)}function CRe(t){var e=t.getDay();return e===0?7:e}function IRe(t,e){return Qr(b2.count(cu(t)-1,t),e,2)}function _Q(t){var e=t.getDay();return e>=4||e===0?Ep(t):Ep.ceil(t)}function ORe(t,e){return t=_Q(t),Qr(Ep.count(cu(t),t)+(cu(t).getDay()===4),e,2)}function PRe(t){return t.getDay()}function MRe(t,e){return Qr(Lj.count(cu(t)-1,t),e,2)}function DRe(t,e){return Qr(t.getFullYear()%100,e,2)}function RRe(t,e){return t=_Q(t),Qr(t.getFullYear()%100,e,2)}function LRe(t,e){return Qr(t.getFullYear()%1e4,e,4)}function URe(t,e){var r=t.getDay();return t=r>=4||r===0?Ep(t):Ep.ceil(t),Qr(t.getFullYear()%1e4,e,4)}function VRe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Qr(e/60|0,"0",2)+Qr(e%60,"0",2)}function oz(t,e){return Qr(t.getUTCDate(),e,2)}function zRe(t,e){return Qr(t.getUTCHours(),e,2)}function FRe(t,e){return Qr(t.getUTCHours()%12||12,e,2)}function $Re(t,e){return Qr(1+v2.count(uu(t),t),e,3)}function CQ(t,e){return Qr(t.getUTCMilliseconds(),e,3)}function BRe(t,e){return CQ(t,e)+"000"}function qRe(t,e){return Qr(t.getUTCMonth()+1,e,2)}function HRe(t,e){return Qr(t.getUTCMinutes(),e,2)}function WRe(t,e){return Qr(t.getUTCSeconds(),e,2)}function GRe(t){var e=t.getUTCDay();return e===0?7:e}function YRe(t,e){return Qr(j2.count(uu(t)-1,t),e,2)}function IQ(t){var e=t.getUTCDay();return e>=4||e===0?Ap(t):Ap.ceil(t)}function KRe(t,e){return t=IQ(t),Qr(Ap.count(uu(t),t)+(uu(t).getUTCDay()===4),e,2)}function XRe(t){return t.getUTCDay()}function QRe(t,e){return Qr(Uj.count(uu(t)-1,t),e,2)}function ZRe(t,e){return Qr(t.getUTCFullYear()%100,e,2)}function JRe(t,e){return t=IQ(t),Qr(t.getUTCFullYear()%100,e,2)}function e6e(t,e){return Qr(t.getUTCFullYear()%1e4,e,4)}function t6e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ap(t):Ap.ceil(t),Qr(t.getUTCFullYear()%1e4,e,4)}function r6e(){return"+0000"}function lz(){return"%"}function cz(t){return+t}function uz(t){return Math.floor(+t/1e3)}var gm,OQ,PQ;n6e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function n6e(t){return gm=nRe(t),OQ=gm.format,gm.parse,PQ=gm.utcFormat,gm.utcParse,gm}function a6e(t){return new Date(t)}function s6e(t){return t instanceof Date?+t:+new Date(+t)}function cO(t,e,r,n,a,i,o,c,u,h){var f=K4(),p=f.invert,g=f.domain,x=h(".%L"),j=h(":%S"),w=h("%I:%M"),b=h("%I %p"),N=h("%a %d"),E=h("%b %d"),A=h("%B"),O=h("%Y");function M(L){return(u(L)<L?x:c(L)<L?j:o(L)<L?w:i(L)<L?b:n(L)<L?a(L)<L?N:E:r(L)<L?A:O)(L)}return f.invert=function(L){return new Date(p(L))},f.domain=function(L){return arguments.length?g(Array.from(L,s6e)):g().map(a6e)},f.ticks=function(L){var I=g();return t(I[0],I[I.length-1],L??10)},f.tickFormat=function(L,I){return I==null?M:h(I)},f.nice=function(L){var I=g();return(!L||typeof L.range!="function")&&(L=e(I[0],I[I.length-1],L??10)),L?g(vQ(I,L)):f},f.copy=function(){return Dv(f,cO(t,e,r,n,a,i,o,c,u,h))},f}function i6e(){return zo.apply(cO(tRe,rRe,cu,oO,b2,Rv,sO,nO,Dh,OQ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function o6e(){return zo.apply(cO(JDe,eRe,uu,lO,j2,v2,iO,aO,Dh,PQ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function w2(){var t=0,e=1,r,n,a,i,o=di,c=!1,u;function h(p){return p==null||isNaN(p=+p)?u:o(a===0?.5:(p=(i(p)-r)*a,c?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(p){return arguments.length?(c=!!p,h):c},h.interpolator=function(p){return arguments.length?(o=p,h):o};function f(p){return function(g){var x,j;return arguments.length?([x,j]=g,o=p(x,j),h):[o(0),o(1)]}}return h.range=f(Xp),h.rangeRound=f(Y4),h.unknown=function(p){return arguments.length?(u=p,h):u},function(p){return i=p,r=p(t),n=p(e),a=r===n?0:1/(n-r),h}}function Jd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function MQ(){var t=Zd(w2()(di));return t.copy=function(){return Jd(t,MQ())},vu.apply(t,arguments)}function DQ(){var t=Z4(w2()).domain([1,10]);return t.copy=function(){return Jd(t,DQ()).base(t.base())},vu.apply(t,arguments)}function RQ(){var t=J4(w2());return t.copy=function(){return Jd(t,RQ()).constant(t.constant())},vu.apply(t,arguments)}function uO(){var t=eO(w2());return t.copy=function(){return Jd(t,uO()).exponent(t.exponent())},vu.apply(t,arguments)}function l6e(){return uO.apply(null,arguments).exponent(.5)}function LQ(){var t=[],e=di;function r(n){if(n!=null&&!isNaN(n=+n))return e((Pv(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(wd),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>GMe(t,i/n))},r.copy=function(){return LQ(e).domain(t)},vu.apply(r,arguments)}function k2(){var t=0,e=.5,r=1,n=1,a,i,o,c,u,h=di,f,p=!1,g;function x(w){return isNaN(w=+w)?g:(w=.5+((w=+f(w))-i)*(n*w<n*i?c:u),h(p?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,r]=w,a=f(t=+t),i=f(e=+e),o=f(r=+r),c=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),n=i<a?-1:1,x):[t,e,r]},x.clamp=function(w){return arguments.length?(p=!!w,x):p},x.interpolator=function(w){return arguments.length?(h=w,x):h};function j(w){return function(b){var N,E,A;return arguments.length?([N,E,A]=b,h=bDe(w,[N,E,A]),x):[h(0),h(.5),h(1)]}}return x.range=j(Xp),x.rangeRound=j(Y4),x.unknown=function(w){return arguments.length?(g=w,x):g},function(w){return f=w,a=w(t),i=w(e),o=w(r),c=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),n=i<a?-1:1,x}}function UQ(){var t=Zd(k2()(di));return t.copy=function(){return Jd(t,UQ())},vu.apply(t,arguments)}function VQ(){var t=Z4(k2()).domain([.1,1,10]);return t.copy=function(){return Jd(t,VQ()).base(t.base())},vu.apply(t,arguments)}function zQ(){var t=J4(k2());return t.copy=function(){return Jd(t,zQ()).constant(t.constant())},vu.apply(t,arguments)}function dO(){var t=eO(k2());return t.copy=function(){return Jd(t,dO()).exponent(t.exponent())},vu.apply(t,arguments)}function c6e(){return dO.apply(null,arguments).exponent(.5)}const Tx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:H4,scaleDiverging:UQ,scaleDivergingLog:VQ,scaleDivergingPow:dO,scaleDivergingSqrt:c6e,scaleDivergingSymlog:zQ,scaleIdentity:yQ,scaleImplicit:J_,scaleLinear:xQ,scaleLog:bQ,scaleOrdinal:q4,scalePoint:XMe,scalePow:tO,scaleQuantile:kQ,scaleQuantize:NQ,scaleRadial:wQ,scaleSequential:MQ,scaleSequentialLog:DQ,scaleSequentialPow:uO,scaleSequentialQuantile:LQ,scaleSequentialSqrt:l6e,scaleSequentialSymlog:RQ,scaleSqrt:BDe,scaleSymlog:jQ,scaleThreshold:SQ,scaleTime:i6e,scaleUtc:o6e,tickFormat:gQ},Symbol.toStringTag,{value:"Module"}));var eh=t=>t.chartData,hO=_e([eh],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),N2=(t,e,r,n)=>n?hO(t):eh(t);function Tp(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(so(e)&&so(r))return!0}return!1}function dz(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function u6e(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,a,i;if(so(r))a=r;else if(typeof r=="function")return;if(so(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(Tp(o))return o}}function d6e(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(Tp(n))return dz(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[a,i]=t,o,c;if(a==="auto")e!=null&&(o=Math.min(...e));else if(Kt(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&tV.test(a)){var u=tV.exec(a);if(u==null||e==null)o=void 0;else{var h=+u[1];o=e[0]-h}}else o=e==null?void 0:e[0];if(i==="auto")e!=null&&(c=Math.max(...e));else if(Kt(i))c=i;else if(typeof i=="function")try{e!=null&&(c=i(e==null?void 0:e[1]))}catch{}else if(typeof i=="string"&&rV.test(i)){var f=rV.exec(i);if(f==null||e==null)c=void 0;else{var p=+f[1];c=e[1]+p}}else c=e==null?void 0:e[1];var g=[o,c];if(Tp(g))return e==null?g:dz(g,e,r)}}}var Qp=1e9,h6e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mO,Xn=!0,Uo="[DecimalError] ",Wh=Uo+"Invalid argument: ",fO=Uo+"Exponent out of range: ",Zp=Math.floor,Eh=Math.pow,f6e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xi,es=1e7,Rn=7,FQ=9007199254740991,Vj=Zp(FQ/Rn),Lt={};Lt.absoluteValue=Lt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Lt.comparedTo=Lt.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Lt.decimalPlaces=Lt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Rn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Lt.dividedBy=Lt.div=function(t){return Yc(this,new this.constructor(t))};Lt.dividedToIntegerBy=Lt.idiv=function(t){var e=this,r=e.constructor;return wn(Yc(e,new r(t),0,1),r.precision)};Lt.equals=Lt.eq=function(t){return!this.cmp(t)};Lt.exponent=function(){return Ma(this)};Lt.greaterThan=Lt.gt=function(t){return this.cmp(t)>0};Lt.greaterThanOrEqualTo=Lt.gte=function(t){return this.cmp(t)>=0};Lt.isInteger=Lt.isint=function(){return this.e>this.d.length-2};Lt.isNegative=Lt.isneg=function(){return this.s<0};Lt.isPositive=Lt.ispos=function(){return this.s>0};Lt.isZero=function(){return this.s===0};Lt.lessThan=Lt.lt=function(t){return this.cmp(t)<0};Lt.lessThanOrEqualTo=Lt.lte=function(t){return this.cmp(t)<1};Lt.logarithm=Lt.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Xi))throw Error(Uo+"NaN");if(r.s<1)throw Error(Uo+(r.s?"NaN":"-Infinity"));return r.eq(Xi)?new n(0):(Xn=!1,e=Yc($y(r,i),$y(t,i),i),Xn=!0,wn(e,a))};Lt.minus=Lt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qQ(e,t):$Q(e,(t.s=-t.s,t))};Lt.modulo=Lt.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Uo+"NaN");return r.s?(Xn=!1,e=Yc(r,t,0,1).times(t),Xn=!0,r.minus(e)):wn(new n(r),a)};Lt.naturalExponential=Lt.exp=function(){return BQ(this)};Lt.naturalLogarithm=Lt.ln=function(){return $y(this)};Lt.negated=Lt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Lt.plus=Lt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$Q(e,t):qQ(e,(t.s=-t.s,t))};Lt.precision=Lt.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Wh+t);if(e=Ma(a)+1,n=a.d.length-1,r=n*Rn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Lt.squareRoot=Lt.sqrt=function(){var t,e,r,n,a,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(Uo+"NaN")}for(t=Ma(c),Xn=!1,a=Math.sqrt(+c),a==0||a==1/0?(e=Xl(c.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Zp((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(a.toString()),r=u.precision,a=o=r+3;;)if(i=n,n=i.plus(Yc(c,i,o+2)).times(.5),Xl(i.d).slice(0,o)===(e=Xl(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(wn(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(e!="9999")break;o+=4}return Xn=!0,wn(n,r)};Lt.times=Lt.mul=function(t){var e,r,n,a,i,o,c,u,h,f=this,p=f.constructor,g=f.d,x=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,r=f.e+t.e,u=g.length,h=x.length,u<h&&(i=g,g=x,x=i,o=u,u=h,h=o),i=[],o=u+h,n=o;n--;)i.push(0);for(n=h;--n>=0;){for(e=0,a=u+n;a>n;)c=i[a]+x[n]*g[a-n-1]+e,i[a--]=c%es|0,e=c/es|0;i[a]=(i[a]+e)%es|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Xn?wn(t,p.precision):t};Lt.toDecimalPlaces=Lt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(hc(t,0,Qp),e===void 0?e=n.rounding:hc(e,0,8),wn(r,t+Ma(r)+1,e))};Lt.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=hf(n,!0):(hc(t,0,Qp),e===void 0?e=a.rounding:hc(e,0,8),n=wn(new a(n),t+1,e),r=hf(n,!0,t+1)),r};Lt.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?hf(a):(hc(t,0,Qp),e===void 0?e=i.rounding:hc(e,0,8),n=wn(new i(a),t+Ma(a)+1,e),r=hf(n.abs(),!1,t+Ma(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Lt.toInteger=Lt.toint=function(){var t=this,e=t.constructor;return wn(new e(t),Ma(t)+1,e.rounding)};Lt.toNumber=function(){return+this};Lt.toPower=Lt.pow=function(t){var e,r,n,a,i,o,c=this,u=c.constructor,h=12,f=+(t=new u(t));if(!t.s)return new u(Xi);if(c=new u(c),!c.s){if(t.s<1)throw Error(Uo+"Infinity");return c}if(c.eq(Xi))return c;if(n=u.precision,t.eq(Xi))return wn(c,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=c.s,o){if((r=f<0?-f:f)<=FQ){for(a=new u(Xi),e=Math.ceil(n/Rn+4),Xn=!1;r%2&&(a=a.times(c),fz(a.d,e)),r=Zp(r/2),r!==0;)c=c.times(c),fz(c.d,e);return Xn=!0,t.s<0?new u(Xi).div(a):wn(a,n)}}else if(i<0)throw Error(Uo+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,Xn=!1,a=t.times($y(c,n+h)),Xn=!0,a=BQ(a),a.s=i,a};Lt.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=Ma(a),n=hf(a,r<=i.toExpNeg||r>=i.toExpPos)):(hc(t,1,Qp),e===void 0?e=i.rounding:hc(e,0,8),a=wn(new i(a),t,e),r=Ma(a),n=hf(a,t<=r||r<=i.toExpNeg,t)),n};Lt.toSignificantDigits=Lt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(hc(t,1,Qp),e===void 0?e=n.rounding:hc(e,0,8)),wn(new n(r),t,e)};Lt.toString=Lt.valueOf=Lt.val=Lt.toJSON=Lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ma(t),r=t.constructor;return hf(t,e<=r.toExpNeg||e>=r.toExpPos)};function $Q(t,e){var r,n,a,i,o,c,u,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Xn?wn(e,p):e;if(u=t.d,h=e.d,o=t.e,a=e.e,u=u.slice(),i=o-a,i){for(i<0?(n=u,i=-i,c=h.length):(n=h,a=o,c=u.length),o=Math.ceil(p/Rn),c=o>c?o+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=u.length,i=h.length,c-i<0&&(i=c,n=h,h=u,u=n),r=0;i;)r=(u[--i]=u[i]+h[i]+r)/es|0,u[i]%=es;for(r&&(u.unshift(r),++a),c=u.length;u[--c]==0;)u.pop();return e.d=u,e.e=a,Xn?wn(e,p):e}function hc(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Wh+t)}function Xl(t){var e,r,n,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)n=t[e]+"",r=Rn-n.length,r&&(i+=Zu(r)),i+=n;o=t[e],n=o+"",r=Rn-n.length,r&&(i+=Zu(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Yc=(function(){function t(n,a){var i,o=0,c=n.length;for(n=n.slice();c--;)i=n[c]*a+o,n[c]=i%es|0,o=i/es|0;return o&&n.unshift(o),n}function e(n,a,i,o){var c,u;if(i!=o)u=i>o?1:-1;else for(c=u=0;c<i;c++)if(n[c]!=a[c]){u=n[c]>a[c]?1:-1;break}return u}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*es+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var c,u,h,f,p,g,x,j,w,b,N,E,A,O,M,L,I,T,_=n.constructor,D=n.s==a.s?1:-1,P=n.d,R=a.d;if(!n.s)return new _(n);if(!a.s)throw Error(Uo+"Division by zero");for(u=n.e-a.e,I=R.length,M=P.length,x=new _(D),j=x.d=[],h=0;R[h]==(P[h]||0);)++h;if(R[h]>(P[h]||0)&&--u,i==null?E=i=_.precision:o?E=i+(Ma(n)-Ma(a))+1:E=i,E<0)return new _(0);if(E=E/Rn+2|0,h=0,I==1)for(f=0,R=R[0],E++;(h<M||f)&&E--;h++)A=f*es+(P[h]||0),j[h]=A/R|0,f=A%R|0;else{for(f=es/(R[0]+1)|0,f>1&&(R=t(R,f),P=t(P,f),I=R.length,M=P.length),O=I,w=P.slice(0,I),b=w.length;b<I;)w[b++]=0;T=R.slice(),T.unshift(0),L=R[0],R[1]>=es/2&&++L;do f=0,c=e(R,w,I,b),c<0?(N=w[0],I!=b&&(N=N*es+(w[1]||0)),f=N/L|0,f>1?(f>=es&&(f=es-1),p=t(R,f),g=p.length,b=w.length,c=e(p,w,g,b),c==1&&(f--,r(p,I<g?T:R,g))):(f==0&&(c=f=1),p=R.slice()),g=p.length,g<b&&p.unshift(0),r(w,p,b),c==-1&&(b=w.length,c=e(R,w,I,b),c<1&&(f++,r(w,I<b?T:R,b))),b=w.length):c===0&&(f++,w=[0]),j[h++]=f,c&&w[0]?w[b++]=P[O]||0:(w=[P[O]],b=1);while((O++<M||w[0]!==void 0)&&E--)}return j[0]||j.shift(),x.e=u,wn(x,o?i+Ma(x)+1:i)}})();function BQ(t,e){var r,n,a,i,o,c,u=0,h=0,f=t.constructor,p=f.precision;if(Ma(t)>16)throw Error(fO+Ma(t));if(!t.s)return new f(Xi);for(Xn=!1,c=p,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),h+=5;for(n=Math.log(Eh(2,h))/Math.LN10*2+5|0,c+=n,r=a=i=new f(Xi),f.precision=c;;){if(a=wn(a.times(t),c),r=r.times(++u),o=i.plus(Yc(a,r,c)),Xl(o.d).slice(0,c)===Xl(i.d).slice(0,c)){for(;h--;)i=wn(i.times(i),c);return f.precision=p,e==null?(Xn=!0,wn(i,p)):i}i=o}}function Ma(t){for(var e=t.e*Rn,r=t.d[0];r>=10;r/=10)e++;return e}function oA(t,e,r){if(e>t.LN10.sd())throw Xn=!0,r&&(t.precision=r),Error(Uo+"LN10 precision limit exceeded");return wn(new t(t.LN10),e)}function Zu(t){for(var e="";t--;)e+="0";return e}function $y(t,e){var r,n,a,i,o,c,u,h,f,p=1,g=10,x=t,j=x.d,w=x.constructor,b=w.precision;if(x.s<1)throw Error(Uo+(x.s?"NaN":"-Infinity"));if(x.eq(Xi))return new w(0);if(e==null?(Xn=!1,h=b):h=e,x.eq(10))return e==null&&(Xn=!0),oA(w,h);if(h+=g,w.precision=h,r=Xl(j),n=r.charAt(0),i=Ma(x),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=Xl(x.d),n=r.charAt(0),p++;i=Ma(x),n>1?(x=new w("0."+r),i++):x=new w(n+"."+r.slice(1))}else return u=oA(w,h+2,b).times(i+""),x=$y(new w(n+"."+r.slice(1)),h-g).plus(u),w.precision=b,e==null?(Xn=!0,wn(x,b)):x;for(c=o=x=Yc(x.minus(Xi),x.plus(Xi),h),f=wn(x.times(x),h),a=3;;){if(o=wn(o.times(f),h),u=c.plus(Yc(o,new w(a),h)),Xl(u.d).slice(0,h)===Xl(c.d).slice(0,h))return c=c.times(2),i!==0&&(c=c.plus(oA(w,h+2,b).times(i+""))),c=Yc(c,new w(p),h),w.precision=b,e==null?(Xn=!0,wn(c,b)):c;c=u,a+=2}}function hz(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Zp(r/Rn),t.d=[],n=(r+1)%Rn,r<0&&(n+=Rn),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Rn;n<a;)t.d.push(+e.slice(n,n+=Rn));e=e.slice(n),n=Rn-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Xn&&(t.e>Vj||t.e<-Vj))throw Error(fO+r)}else t.s=0,t.e=0,t.d=[0];return t}function wn(t,e,r){var n,a,i,o,c,u,h,f,p=t.d;for(o=1,i=p[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=Rn,a=e,h=p[f=0];else{if(f=Math.ceil((n+1)/Rn),i=p.length,f>=i)return t;for(h=i=p[f],o=1;i>=10;i/=10)o++;n%=Rn,a=n-Rn+o}if(r!==void 0&&(i=Eh(10,o-a-1),c=h/i%10|0,u=e<0||p[f+1]!==void 0||h%i,u=r<4?(c||u)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||u||r==6&&(n>0?a>0?h/Eh(10,o-a):0:p[f-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return u?(i=Ma(t),p.length=1,e=e-i-1,p[0]=Eh(10,(Rn-e%Rn)%Rn),t.e=Zp(-e/Rn)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=f,i=1,f--):(p.length=f+1,i=Eh(10,Rn-n),p[f]=a>0?(h/Eh(10,o-a)%Eh(10,a)|0)*i:0),u)for(;;)if(f==0){(p[0]+=i)==es&&(p[0]=1,++t.e);break}else{if(p[f]+=i,p[f]!=es)break;p[f--]=0,i=1}for(n=p.length;p[--n]===0;)p.pop();if(Xn&&(t.e>Vj||t.e<-Vj))throw Error(fO+Ma(t));return t}function qQ(t,e){var r,n,a,i,o,c,u,h,f,p,g=t.constructor,x=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Xn?wn(e,x):e;if(u=t.d,p=e.d,n=e.e,h=t.e,u=u.slice(),o=h-n,o){for(f=o<0,f?(r=u,o=-o,c=p.length):(r=p,n=h,c=u.length),a=Math.max(Math.ceil(x/Rn),c)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=u.length,c=p.length,f=a<c,f&&(c=a),a=0;a<c;a++)if(u[a]!=p[a]){f=u[a]<p[a];break}o=0}for(f&&(r=u,u=p,p=r,e.s=-e.s),c=u.length,a=p.length-c;a>0;--a)u[c++]=0;for(a=p.length;a>o;){if(u[--a]<p[a]){for(i=a;i&&u[--i]===0;)u[i]=es-1;--u[i],u[a]+=es}u[a]-=p[a]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,Xn?wn(e,x):e):new g(0)}function hf(t,e,r){var n,a=Ma(t),i=Xl(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Zu(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Zu(-a-1)+i,r&&(n=r-o)>0&&(i+=Zu(n))):a>=o?(i+=Zu(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Zu(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Zu(n))),t.s<0?"-"+i:i}function fz(t,e){if(t.length>e)return t.length=e,!0}function HQ(t){var e,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Wh+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return hz(o,i.toString())}else if(typeof i!="string")throw Error(Wh+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,f6e.test(i))hz(o,i);else throw Error(Wh+i)}if(a.prototype=Lt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=HQ,a.config=a.set=m6e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function m6e(t){if(!t||typeof t!="object")throw Error(Uo+"Object expected");var e,r,n,a=["precision",1,Qp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Zp(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Wh+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Wh+r+": "+n);return this}var mO=HQ(h6e);Xi=new mO(1);const dn=mO;var p6e=t=>t,WQ={},GQ=t=>t===WQ,mz=t=>function e(){return arguments.length===0||arguments.length===1&&GQ(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},YQ=(t,e)=>t===1?e:mz(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==WQ).length;return i>=t?e(...n):YQ(t-i,mz(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var h=n.map(f=>GQ(f)?c.shift():f);return e(...h,...c)}))}),S2=t=>YQ(t.length,t),nC=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},g6e=S2((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),x6e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return p6e;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((c,u)=>u(c),i(...arguments))}},aC=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),KQ=t=>{var e=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e&&a.every((o,c)=>{var u;return o===((u=e)===null||u===void 0?void 0:u[c])})||(e=a,r=t(...a)),r}};function XQ(t){var e;return t===0?e=1:e=Math.floor(new dn(t).abs().log(10).toNumber())+1,e}function QQ(t,e,r){for(var n=new dn(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}S2((t,e,r)=>{var n=+t,a=+e;return n+r*(a-n)});S2((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});S2((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var ZQ=t=>{var[e,r]=t,[n,a]=[e,r];return e>r&&([n,a]=[r,e]),[n,a]},JQ=(t,e,r)=>{if(t.lte(0))return new dn(0);var n=XQ(t.toNumber()),a=new dn(10).pow(n),i=t.div(a),o=n!==1?.05:.1,c=new dn(Math.ceil(i.div(o).toNumber())).add(r).mul(o),u=c.mul(a);return e?new dn(u.toNumber()):new dn(Math.ceil(u.toNumber()))},y6e=(t,e,r)=>{var n=new dn(1),a=new dn(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new dn(10).pow(XQ(t)-1),a=new dn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new dn(Math.floor(t)))}else t===0?a=new dn(Math.floor((e-1)/2)):r||(a=new dn(Math.floor(t)));var o=Math.floor((e-1)/2),c=x6e(g6e(u=>a.add(new dn(u-o).mul(n)).toNumber()),nC);return c(0,e)},eZ=function(e,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new dn(0),tickMin:new dn(0),tickMax:new dn(0)};var o=JQ(new dn(r).sub(e).div(n-1),a,i),c;e<=0&&r>=0?c=new dn(0):(c=new dn(e).add(r).div(2),c=c.sub(new dn(c).mod(o)));var u=Math.ceil(c.sub(e).div(o).toNumber()),h=Math.ceil(new dn(r).sub(c).div(o).toNumber()),f=u+h+1;return f>n?eZ(e,r,n,a,i+1):(f<n&&(h=r>0?h+(n-f):h,u=r>0?u:u+(n-f)),{step:o,tickMin:c.sub(new dn(u).mul(o)),tickMax:c.add(new dn(h).mul(o))})};function v6e(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,c]=ZQ([e,r]);if(o===-1/0||c===1/0){var u=c===1/0?[o,...nC(0,n-1).map(()=>1/0)]:[...nC(0,n-1).map(()=>-1/0),c];return e>r?aC(u):u}if(o===c)return y6e(o,n,a);var{step:h,tickMin:f,tickMax:p}=eZ(o,c,i,a,0),g=QQ(f,p.add(new dn(.1).mul(h)),h);return e>r?aC(g):g}function b6e(t,e){var[r,n]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=ZQ([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var c=Math.max(e,2),u=JQ(new dn(o).sub(i).div(c-1),a,0),h=[...QQ(new dn(i),new dn(o),u),o];return a===!1&&(h=h.map(f=>Math.round(f))),r>n?aC(h):h}var j6e=KQ(v6e),w6e=KQ(b6e),tZ=t=>t.rootProps.maxBarSize,k6e=t=>t.rootProps.barGap,rZ=t=>t.rootProps.barCategoryGap,N6e=t=>t.rootProps.barSize,Lv=t=>t.rootProps.stackOffset,pO=t=>t.options.chartName,gO=t=>t.rootProps.syncId,nZ=t=>t.rootProps.syncMethod,xO=t=>t.options.eventEmitter,Uc={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Gi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},E2=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},S6e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Uc.angleAxisId,includeHidden:!1,name:void 0,reversed:Uc.reversed,scale:Uc.scale,tick:Uc.tick,tickCount:void 0,ticks:void 0,type:Uc.type,unit:void 0},E6e={allowDataOverflow:Gi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gi.scale,tick:Gi.tick,tickCount:Gi.tickCount,ticks:void 0,type:Gi.type,unit:void 0},A6e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Uc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Uc.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Uc.scale,tick:Uc.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},T6e={allowDataOverflow:Gi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gi.scale,tick:Gi.tick,tickCount:Gi.tickCount,ticks:void 0,type:"category",unit:void 0},yO=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?A6e:S6e,vO=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?T6e:E6e,A2=t=>t.polarOptions,bO=_e([xu,yu,Ha],zX),aZ=_e([A2,bO],(t,e)=>{if(t!=null)return Gs(t.innerRadius,e,0)}),sZ=_e([A2,bO],(t,e)=>{if(t!=null)return Gs(t.outerRadius,e,e*.8)}),_6e=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},iZ=_e([A2],_6e);_e([yO,iZ],E2);var oZ=_e([bO,aZ,sZ],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});_e([vO,oZ],E2);var lZ=_e([Hr,A2,aZ,sZ,xu,yu],(t,e,r,n,a,i)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:o,cy:c,startAngle:u,endAngle:h}=e;return{cx:Gs(o,a,a/2),cy:Gs(c,i,i/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:h,clockWise:!1}}}),ea=(t,e)=>e,Uv=(t,e,r)=>r;function jO(t){return t==null?void 0:t.id}var Ga=t=>{var e=Hr(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Jp=t=>t.tooltip.settings.axisId,ls=t=>{var e=Ga(t),r=Jp(t);return Vv(t,e,r)},cZ=_e([ls],t=>t==null?void 0:t.dataKey);function uZ(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return t.forEach(c=>{var u,h=(u=c.data)!==null&&u!==void 0?u:n;if(!(h==null||h.length===0)){var f=jO(c);h.forEach((p,g)=>{var x=i==null||a?g:String(In(p,i,null)),j=In(p,c.dataKey,0),w;o.has(x)?w=o.get(x):w={},Object.assign(w,{[f]:j}),o.set(x,w)})}}),Array.from(o.values())}function T2(t){return t.stackId!=null&&t.dataKey!=null}function pz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pz(Object(r),!0).forEach(function(n){C6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C6e(t,e,r){return(e=I6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I6e(t){var e=O6e(t,"string");return typeof e=="symbol"?e:e+""}function O6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sC=[0,"auto"],qi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},dZ=(t,e)=>t.cartesianAxis.xAxis[e],bu=(t,e)=>{var r=dZ(t,e);return r??qi},Hi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:sC,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Cv},hZ=(t,e)=>t.cartesianAxis.yAxis[e],ju=(t,e)=>{var r=hZ(t,e);return r??Hi},P6e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},wO=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??P6e},Na=(t,e,r)=>{switch(e){case"xAxis":return bu(t,r);case"yAxis":return ju(t,r);case"zAxis":return wO(t,r);case"angleAxis":return yO(t,r);case"radiusAxis":return vO(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},M6e=(t,e,r)=>{switch(e){case"xAxis":return bu(t,r);case"yAxis":return ju(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Vv=(t,e,r)=>{switch(e){case"xAxis":return bu(t,r);case"yAxis":return ju(t,r);case"angleAxis":return yO(t,r);case"radiusAxis":return vO(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},fZ=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function kO(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var _2=t=>t.graphicalItems.cartesianItems,D6e=_e([ea,Uv],kO),NO=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),zv=_e([_2,Na,D6e],NO),mZ=_e([zv],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(T2)),pZ=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),gZ=_e([zv],pZ),SO=t=>t.map(e=>e.data).filter(Boolean).flat(1),R6e=_e([zv],SO),EO=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=e;return t.length>0?t:r.slice(n,a+1)},AO=_e([R6e,N2],EO),TO=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:In(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(a=>({value:In(a,n)}))):t.map(n=>({value:n})),C2=_e([AO,Na,zv],TO);function xZ(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Rf(t){return t.filter(e=>dc(e)||e instanceof Date).map(Number).filter(e=>no(e)===!1)}function L6e(t,e,r){return!r||typeof e!="number"||no(e)?[]:r.length?Rf(r.flatMap(n=>{var a=In(t,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!so(i)||!so(o)))return[e-i,e+o]})):[]}var U6e=_e([mZ,N2,ls],uZ),yZ=(t,e,r)=>{var n={},a=e.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[o,c]=i,u=c.map(jO);return[o,{stackedData:$Oe(t,u,r),graphicalItems:c}]}))},iC=_e([U6e,mZ,Lv],yZ),vZ=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:a}=e;if(r!=="zAxis"){var i=GOe(t,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},V6e=_e([iC,eh,ea],vZ),bZ=(t,e,r,n,a)=>r.length>0?t.flatMap(i=>r.flatMap(o=>{var c,u,h=(c=n[o.id])===null||c===void 0?void 0:c.filter(p=>xZ(a,p)),f=In(i,(u=e.dataKey)!==null&&u!==void 0?u:o.dataKey);return{value:f,errorDomain:L6e(i,f,h)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:In(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),I2=t=>t.errorBars,jZ=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>xZ(r,n));_e([gZ,I2,ea],jZ);var z6e=_e([AO,Na,gZ,I2,ea],bZ);function F6e(t){var{value:e}=t;if(dc(e)||e instanceof Date)return e}var gz=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Rf(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},$6e=(t,e,r)=>{var n=t.map(F6e).filter(a=>a!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&PK(n))?iQ(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},_O=t=>{var e;if(t==null||!("domain"in t))return sC;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=Rf(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:sC},Fj=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),c=Math.max(...i);return[o,c]}},wZ=t=>t.referenceElements.dots,eg=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),B6e=_e([wZ,ea,Uv],eg),kZ=t=>t.referenceElements.areas,q6e=_e([kZ,ea,Uv],eg),NZ=t=>t.referenceElements.lines,H6e=_e([NZ,ea,Uv],eg),SZ=(t,e)=>{var r=Rf(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},W6e=_e(B6e,ea,SZ),EZ=(t,e)=>{var r=Rf(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},G6e=_e([q6e,ea],EZ),AZ=(t,e)=>{var r=Rf(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Y6e=_e(H6e,ea,AZ),K6e=_e(W6e,Y6e,G6e,(t,e,r)=>Fj(t,r,e)),TZ=_e([Na],_O),CO=(t,e,r,n,a,i,o)=>{var c=u6e(e,t.allowDataOverflow);if(c!=null)return c;var u=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",h=u?Fj(r,a,gz(n)):Fj(a,gz(n));return d6e(e,h,t.allowDataOverflow)},X6e=_e([Na,TZ,V6e,z6e,K6e,Hr,ea],CO),Q6e=[0,1],IO=(t,e,r,n,a,i,o)=>{if(!((t==null||r==null||r.length===0)&&o===void 0)){var{dataKey:c,type:u}=t,h=Xd(e,i);return h&&c==null?iQ(0,r.length):u==="category"?$6e(n,t,h):a==="expand"?Q6e:o}},OO=_e([Na,Hr,AO,C2,Lv,ea,X6e],IO),_Z=(t,e,r,n,a)=>{if(t!=null){var{scale:i,type:o}=t;if(i==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var c="scale".concat(Ev(i));return c in Tx?c:"point"}}},tg=_e([Na,Hr,fZ,pO,ea],_Z);function Z6e(t){if(t!=null){if(t in Tx)return Tx[t]();var e="scale".concat(Ev(t));if(e in Tx)return Tx[e]()}}function PO(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var a=Z6e(e);if(a!=null){var i=a.domain(r).range(n);return LOe(i),i}}}var MO=(t,e,r)=>{var n=_O(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Tp(t))return j6e(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Tp(t))return w6e(t,e.tickCount,e.allowDecimals)}},DO=_e([OO,Vv,tg],MO),RO=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Tp(e)&&Array.isArray(r)&&r.length>0){var a=e[0],i=r[0],o=e[1],c=r[r.length-1];return[Math.min(a,i),Math.max(o,c)]}return e},J6e=_e([Na,OO,DO,ea],RO),e5e=_e(C2,Na,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(Rf(t.map(c=>c.value))).sort((c,u)=>c-u);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/a}}),CZ=_e(e5e,Hr,rZ,Ha,(t,e,r,n)=>n,(t,e,r,n,a)=>{if(!so(t))return 0;var i=e==="vertical"?n.height:n.width;if(a==="gap")return t*i/2;if(a==="no-gap"){var o=Gs(r,t*i),c=t*i/2;return c-o-(c-o)/i*o}return 0}),t5e=(t,e)=>{var r=bu(t,e);return r==null||typeof r.padding!="string"?0:CZ(t,"xAxis",e,r.padding)},r5e=(t,e)=>{var r=ju(t,e);return r==null||typeof r.padding!="string"?0:CZ(t,"yAxis",e,r.padding)},n5e=_e(bu,t5e,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((r=a.left)!==null&&r!==void 0?r:0)+e,right:((n=a.right)!==null&&n!==void 0?n:0)+e}}),a5e=_e(ju,r5e,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((r=a.top)!==null&&r!==void 0?r:0)+e,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+e}}),s5e=_e([Ha,n5e,g2,p2,(t,e,r)=>r],(t,e,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[t.left+e.left,t.left+t.width-e.right]}),i5e=_e([Ha,Hr,a5e,g2,p2,(t,e,r)=>r],(t,e,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Fv=(t,e,r,n)=>{var a;switch(e){case"xAxis":return s5e(t,r,n);case"yAxis":return i5e(t,r,n);case"zAxis":return(a=wO(t,r))===null||a===void 0?void 0:a.range;case"angleAxis":return iZ(t);case"radiusAxis":return oZ(t,r);default:return}},IZ=_e([Na,Fv],E2),rg=_e([Na,tg,J6e,IZ],PO);_e([zv,I2,ea],jZ);function OZ(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var O2=(t,e)=>e,P2=(t,e,r)=>r,o5e=_e(f2,O2,P2,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(OZ)),l5e=_e(m2,O2,P2,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(OZ)),PZ=(t,e)=>({width:t.width,height:e.height}),c5e=(t,e)=>{var r=typeof e.width=="number"?e.width:Cv;return{width:r,height:t.height}},MZ=_e(Ha,bu,PZ),u5e=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},d5e=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},h5e=_e(yu,Ha,o5e,O2,P2,(t,e,r,n,a)=>{var i={},o;return r.forEach(c=>{var u=PZ(e,c);o==null&&(o=u5e(e,n,t));var h=n==="top"&&!a||n==="bottom"&&a;i[c.id]=o-Number(h)*u.height,o+=(h?-1:1)*u.height}),i}),f5e=_e(xu,Ha,l5e,O2,P2,(t,e,r,n,a)=>{var i={},o;return r.forEach(c=>{var u=c5e(e,c);o==null&&(o=d5e(e,n,t));var h=n==="left"&&!a||n==="right"&&a;i[c.id]=o-Number(h)*u.width,o+=(h?-1:1)*u.width}),i}),m5e=(t,e)=>{var r=bu(t,e);if(r!=null)return h5e(t,r.orientation,r.mirror)},p5e=_e([Ha,bu,m5e,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var a=r==null?void 0:r[n];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),g5e=(t,e)=>{var r=ju(t,e);if(r!=null)return f5e(t,r.orientation,r.mirror)},x5e=_e([Ha,ju,g5e,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),DZ=_e(Ha,ju,(t,e)=>{var r=typeof e.width=="number"?e.width:Cv;return{width:r,height:t.height}}),xz=(t,e,r)=>{switch(e){case"xAxis":return MZ(t,r).width;case"yAxis":return DZ(t,r).height;default:return}},RZ=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,c=Xd(t,n),u=e.map(h=>h.value);if(o&&c&&i==="category"&&a&&PK(u))return u}},LO=_e([Hr,C2,Na,ea],RZ),LZ=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Xd(t,n);if(o&&(a==="number"||i!=="auto"))return e.map(c=>c.value)}},UO=_e([Hr,C2,Vv,ea],LZ),yz=_e([Hr,M6e,tg,rg,LO,UO,Fv,DO,ea],(t,e,r,n,a,i,o,c,u)=>{if(e==null)return null;var h=Xd(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:i,duplicateDomain:a,isCategorical:h,niceTicks:c,range:o,realScaleType:r,scale:n}}),y5e=(t,e,r,n,a,i,o,c,u)=>{if(!(e==null||n==null)){var h=Xd(t,u),{type:f,ticks:p,tickCount:g}=e,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=f==="category"&&n.bandwidth?n.bandwidth()/x:0;j=u==="angleAxis"&&i!=null&&i.length>=2?is(i[0]-i[1])*2*j:j;var w=p||a;if(w){var b=w.map((N,E)=>{var A=o?o.indexOf(N):N;return{index:E,coordinate:n(A)+j,value:N,offset:j}});return b.filter(N=>!no(N.coordinate))}return h&&c?c.map((N,E)=>({coordinate:n(N)+j,value:N,index:E,offset:j})):n.ticks?n.ticks(g).map(N=>({coordinate:n(N)+j,value:N,offset:j})):n.domain().map((N,E)=>({coordinate:n(N)+j,value:o?o[N]:N,index:E,offset:j}))}},UZ=_e([Hr,Vv,tg,rg,DO,Fv,LO,UO,ea],y5e),v5e=(t,e,r,n,a,i,o)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var c=Xd(t,o),{tickCount:u}=e,h=0;return h=o==="angleAxis"&&(n==null?void 0:n.length)>=2?is(n[0]-n[1])*2*h:h,c&&i?i.map((f,p)=>({coordinate:r(f)+h,value:f,index:p,offset:h})):r.ticks?r.ticks(u).map(f=>({coordinate:r(f)+h,value:f,offset:h})):r.domain().map((f,p)=>({coordinate:r(f)+h,value:a?a[f]:f,index:p,offset:h}))}},Dd=_e([Hr,Vv,rg,Fv,LO,UO,ea],v5e),Rd=_e(Na,rg,(t,e)=>{if(!(t==null||e==null))return zj(zj({},t),{},{scale:e})}),b5e=_e([Na,tg,OO,IZ],PO);_e((t,e,r)=>wO(t,r),b5e,(t,e)=>{if(!(t==null||e==null))return zj(zj({},t),{},{scale:e})});var j5e=_e([Hr,f2,m2],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),VZ=t=>t.options.defaultTooltipEventType,zZ=t=>t.options.validateTooltipEventTypes;function FZ(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function VO(t,e){var r=VZ(t),n=zZ(t);return FZ(e,r,n)}function w5e(t){return Ft(e=>VO(e,t))}var $Z=(t,e)=>{var r,n=Number(e);if(!(no(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},k5e=t=>t.tooltip.settings,sd={active:!1,index:null,dataKey:void 0,coordinate:void 0},N5e={itemInteraction:{click:sd,hover:sd},axisInteraction:{click:sd,hover:sd},keyboardInteraction:sd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},BZ=lo({name:"tooltip",initialState:N5e,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=Gc(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:S5e,removeTooltipEntrySettings:E5e,setTooltipSettingsState:A5e,setActiveMouseOverItemIndex:qZ,mouseLeaveItem:T5e,mouseLeaveChart:HZ,setActiveClickItemIndex:_5e,setMouseOverAxisIndex:WZ,setMouseClickAxisIndex:C5e,setSyncInteraction:oC,setKeyboardInteraction:lC}=BZ.actions,I5e=BZ.reducer;function vz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function V0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vz(Object(r),!0).forEach(function(n){O5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O5e(t,e,r){return(e=P5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P5e(t){var e=M5e(t,"string");return typeof e=="symbol"?e:e+""}function M5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D5e(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function R5e(t){return t.index!=null}var GZ=(t,e,r,n)=>{if(e==null)return sd;var a=D5e(t,e,r);if(a==null)return sd;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var i=t.settings.active===!0;if(R5e(a)){if(i)return V0(V0({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return V0(V0({},sd),{},{coordinate:a.coordinate})},zO=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!so(n))return r;var a=0,i=1/0;return e.length>0&&(i=e.length-1),String(Math.max(a,Math.min(n,i)))},YZ=(t,e,r,n,a,i,o,c)=>{if(!(i==null||c==null)){var u=o[0],h=u==null?void 0:c(u.positions,i);if(h!=null)return h;var f=a==null?void 0:a[Number(i)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:f.coordinate}}}},KZ=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},$v=t=>t.options.tooltipPayloadSearcher,ng=t=>t.tooltip;function bz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bz(Object(r),!0).forEach(function(n){L5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L5e(t,e,r){return(e=U5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U5e(t){var e=V5e(t,"string");return typeof e=="symbol"?e:e+""}function V5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z5e(t,e){return t??e}var XZ=(t,e,r,n,a,i,o)=>{if(!(e==null||i==null)){var{chartData:c,computedData:u,dataStartIndex:h,dataEndIndex:f}=r,p=[];return t.reduce((g,x)=>{var j,{dataDefinedOnItem:w,settings:b}=x,N=z5e(w,c),E=Array.isArray(N)?FX(N,h,f):N,A=(j=b==null?void 0:b.dataKey)!==null&&j!==void 0?j:n,O=b==null?void 0:b.nameKey,M;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&o==="axis"?M=MK(E,n,a):M=i(E,e,u,O),Array.isArray(M))M.forEach(I=>{var T=jz(jz({},b),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});g.push(nV({tooltipEntrySettings:T,dataKey:I.dataKey,payload:I.payload,value:In(I.payload,I.dataKey),name:I.name}))});else{var L;g.push(nV({tooltipEntrySettings:b,dataKey:A,payload:M,value:In(M,A),name:(L=In(M,O))!==null&&L!==void 0?L:b==null?void 0:b.name}))}return g},p)}},FO=_e([ls,Hr,fZ,pO,Ga],_Z),F5e=_e([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),$5e=_e([Ga,Jp],kO),Bv=_e([F5e,ls,$5e],NO),B5e=_e([Bv],t=>t.filter(T2)),q5e=_e([Bv],SO),ag=_e([q5e,eh],EO),H5e=_e([B5e,eh,ls],uZ),$O=_e([ag,ls,Bv],TO),W5e=_e([ls],_O),G5e=_e([Bv],t=>t.filter(T2)),Y5e=_e([H5e,G5e,Lv],yZ),K5e=_e([Y5e,eh,Ga],vZ),X5e=_e([Bv],pZ),Q5e=_e([ag,ls,X5e,I2,Ga],bZ),Z5e=_e([wZ,Ga,Jp],eg),J5e=_e([Z5e,Ga],SZ),eLe=_e([kZ,Ga,Jp],eg),tLe=_e([eLe,Ga],EZ),rLe=_e([NZ,Ga,Jp],eg),nLe=_e([rLe,Ga],AZ),aLe=_e([J5e,nLe,tLe],Fj),sLe=_e([ls,W5e,K5e,Q5e,aLe,Hr,Ga],CO),QZ=_e([ls,Hr,ag,$O,Lv,Ga,sLe],IO),iLe=_e([QZ,ls,FO],MO),oLe=_e([ls,QZ,iLe,Ga],RO),ZZ=t=>{var e=Ga(t),r=Jp(t),n=!1;return Fv(t,e,r,n)},JZ=_e([ls,ZZ],E2),eJ=_e([ls,FO,oLe,JZ],PO),lLe=_e([Hr,$O,ls,Ga],RZ),cLe=_e([Hr,$O,ls,Ga],LZ),uLe=(t,e,r,n,a,i,o,c)=>{if(e){var{type:u}=e,h=Xd(t,c);if(n){var f=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=u==="category"&&n.bandwidth?n.bandwidth()/f:0;return p=c==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?is(a[0]-a[1])*2*p:p,h&&o?o.map((g,x)=>({coordinate:n(g)+p,value:g,index:x,offset:p})):n.domain().map((g,x)=>({coordinate:n(g)+p,value:i?i[g]:g,index:x,offset:p}))}}},wu=_e([Hr,ls,FO,eJ,ZZ,lLe,cLe,Ga],uLe),BO=_e([VZ,zZ,k5e],(t,e,r)=>FZ(r.shared,t,e)),tJ=t=>t.tooltip.settings.trigger,qO=t=>t.tooltip.settings.defaultIndex,M2=_e([ng,BO,tJ,qO],GZ),Ld=_e([M2,ag],zO),rJ=_e([wu,Ld],$Z),nJ=_e([M2],t=>{if(t)return t.dataKey}),aJ=_e([ng,BO,tJ,qO],KZ),dLe=_e([xu,yu,Hr,Ha,wu,qO,aJ,$v],YZ),hLe=_e([M2,dLe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),fLe=_e([M2],t=>t.active),mLe=_e([aJ,Ld,eh,cZ,rJ,$v,BO],XZ),pLe=_e([mLe],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function wz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wz(Object(r),!0).forEach(function(n){gLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gLe(t,e,r){return(e=xLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xLe(t){var e=yLe(t,"string");return typeof e=="symbol"?e:e+""}function yLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vLe=()=>Ft(ls),bLe=()=>{var t=vLe(),e=Ft(wu),r=Ft(eJ);return Ry(kz(kz({},t),{},{scale:r}),e)},jLe=()=>Ft(pO),HO=(t,e)=>e,sJ=(t,e,r)=>r,WO=(t,e,r,n)=>n,wLe=_e(wu,t=>o2(t,e=>e.coordinate)),GO=_e([ng,HO,sJ,WO],GZ),iJ=_e([GO,ag],zO),kLe=(t,e,r)=>{if(e!=null){var n=ng(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},oJ=_e([ng,HO,sJ,WO],KZ),$j=_e([xu,yu,Hr,Ha,wu,WO,oJ,$v],YZ),NLe=_e([GO,$j],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),lJ=_e(wu,iJ,$Z),SLe=_e([oJ,iJ,eh,cZ,lJ,$v,HO],XZ),ELe=_e([GO],t=>({isActive:t.active,activeIndex:t.index})),ALe=(t,e,r,n,a,i,o,c)=>{if(!(!t||!e||!n||!a||!i)){var u=YOe(t.chartX,t.chartY,e,r,c);if(u){var h=XOe(u,e),f=DOe(h,o,i,n,a),p=KOe(e,i,f,u);return{activeIndex:String(f),activeCoordinate:p}}}};function cC(){return cC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cC.apply(null,arguments)}function Nz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function z0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nz(Object(r),!0).forEach(function(n){TLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TLe(t,e,r){return(e=_Le(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Le(t){var e=CLe(t,"string");return typeof e=="symbol"?e:e+""}function CLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ILe(t){var{coordinate:e,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:o,cursor:c,tooltipEventType:u,chartName:h}=t,f=e,p=r,g=n;if(!c||!f||h!=="ScatterChart"&&u!=="axis")return null;var x,j;if(h==="ScatterChart")x=f,j=XPe;else if(h==="BarChart")x=QPe(o,f,a,i),j=rQ;else if(o==="radial"){var{cx:w,cy:b,radius:N,startAngle:E,endAngle:A}=nQ(f);x={cx:w,cy:b,startAngle:E,endAngle:A,innerRadius:N,outerRadius:N},j=sQ}else x={points:CMe(o,f,a)},j=$4;var O=typeof c=="object"&&"className"in c?c.className:void 0,M=z0(z0(z0(z0({stroke:"#ccc",pointerEvents:"none"},a),x),sa(c,!1)),{},{payload:p,payloadIndex:g,className:Lr("recharts-tooltip-cursor",O)});return v.isValidElement(c)?v.cloneElement(c,M):v.createElement(j,M)}function OLe(t){var e=bLe(),r=GX(),n=x2(),a=jLe();return v.createElement(ILe,cC({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:a}))}var cJ=v.createContext(null),PLe=()=>v.useContext(cJ),By=new nK,uC="recharts.syncEvent.tooltip",Sz="recharts.syncEvent.brush";function YO(t,e){if(e){var r=Number.parseInt(e,10);if(!no(r))return t==null?void 0:t[r]}}var MLe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},uJ=lo({name:"options",initialState:MLe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),DLe=uJ.reducer,{createEventEmitter:RLe}=uJ.actions;function LLe(t){return t.tooltip.syncInteraction}var ULe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},dJ=lo({name:"chartData",initialState:ULe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:Ez,setDataStartEndIndexes:VLe,setComputedData:SBe}=dJ.actions,zLe=dJ.reducer,FLe=["x","y"];function Az(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Az(Object(r),!0).forEach(function(n){$Le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Az(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Le(t,e,r){return(e=BLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BLe(t){var e=qLe(t,"string");return typeof e=="symbol"?e:e+""}function qLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HLe(t,e){if(t==null)return{};var r,n,a=WLe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function WLe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var hJ=()=>{};function GLe(){var t=Ft(gO),e=Ft(xO),r=ia(),n=Ft(nZ),a=Ft(wu),i=x2(),o=U4(),c=Ft(u=>u.rootProps.className);v.useEffect(()=>{if(t==null)return hJ;var u=(h,f,p)=>{if(e!==p&&t===h){if(n==="index"){var g;if(o&&f!==null&&f!==void 0&&(g=f.payload)!==null&&g!==void 0&&g.coordinate){var x=f.payload.coordinate,{x:j,y:w}=x,b=HLe(x,FLe),N=yh(yh(yh({},b),typeof j=="number"&&{x:Math.max(o.x,Math.min(j,o.x+o.width))}),typeof w=="number"&&{y:Math.max(o.y,Math.min(w,o.y+o.height))}),E=yh(yh({},f),{},{payload:yh(yh({},f.payload),{},{coordinate:N})});r(E)}else r(f);return}if(a!=null){var A;if(typeof n=="function"){var O={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},M=n(a,O);A=a[M]}else n==="value"&&(A=a.find(U=>String(U.value)===f.payload.label));var{coordinate:L}=f.payload;if(A==null||f.payload.active===!1||L==null||o==null){r(oC({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:I,y:T}=L,_=Math.min(I,o.x+o.width),D=Math.min(T,o.y+o.height),P={x:i==="horizontal"?A.coordinate:_,y:i==="horizontal"?D:A.coordinate},R=oC({active:f.payload.active,coordinate:P,dataKey:f.payload.dataKey,index:String(A.index),label:f.payload.label});r(R)}}};return By.on(uC,u),()=>{By.off(uC,u)}},[c,r,e,t,n,a,i,o])}function YLe(){var t=Ft(gO),e=Ft(xO),r=ia();v.useEffect(()=>{if(t==null)return hJ;var n=(a,i,o)=>{e!==o&&t===a&&r(VLe(i))};return By.on(Sz,n),()=>{By.off(Sz,n)}},[r,e,t])}function KLe(){var t=ia();v.useEffect(()=>{t(RLe())},[t]),GLe(),YLe()}function XLe(t,e,r,n,a,i){var o=Ft(g=>kLe(g,t,e)),c=Ft(xO),u=Ft(gO),h=Ft(nZ),f=Ft(LLe),p=f==null?void 0:f.active;v.useEffect(()=>{if(!p&&u!=null&&c!=null){var g=oC({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n});By.emit(uC,u,g,c)}},[p,r,o,a,n,c,u,h,i])}function Tz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tz(Object(r),!0).forEach(function(n){QLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QLe(t,e,r){return(e=ZLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZLe(t){var e=JLe(t,"string");return typeof e=="symbol"?e:e+""}function JLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e9e(t){return t.dataKey}function t9e(t,e){return v.isValidElement(t)?v.cloneElement(t,e):typeof t=="function"?v.createElement(t,e):v.createElement(TPe,e)}var Cz=[],r9e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Qd.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Fl(t){var e=Ps(t,r9e),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:o,filterNull:c,isAnimationActive:u,offset:h,payloadUniqBy:f,position:p,reverseDirection:g,useTranslate3d:x,wrapperStyle:j,cursor:w,shared:b,trigger:N,defaultIndex:E,portal:A,axisId:O}=e,M=ia(),L=typeof E=="number"?String(E):E;v.useEffect(()=>{M(A5e({shared:b,trigger:N,axisId:O,active:r,defaultIndex:L}))},[M,b,N,O,r,L]);var I=U4(),T=QX(),_=w5e(b),{activeIndex:D,isActive:P}=Ft(se=>ELe(se,_,N,L)),R=Ft(se=>SLe(se,_,N,L)),U=Ft(se=>lJ(se,_,N,L)),$=Ft(se=>NLe(se,_,N,L)),K=R,F=PLe(),W=r??P,[te,X]=pX([K,W]),B=_==="axis"?U:void 0;XLe(_,N,$,B,D,W);var G=A??F;if(G==null)return null;var J=K??Cz;W||(J=Cz),c&&J.length&&(J=uX(K.filter(se=>se.value!=null&&(se.hide!==!0||e.includeHidden)),f,e9e));var ne=J.length>0,ie=v.createElement(DPe,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:u,active:W,coordinate:$,hasPayload:ne,offset:h,position:p,reverseDirection:g,useTranslate3d:x,viewBox:I,wrapperStyle:j,lastBoundingBox:te,innerRef:X,hasPortalFromProps:!!A},t9e(o,_z(_z({},e),{},{payload:J,label:B,active:W,coordinate:$,accessibilityLayer:T})));return v.createElement(v.Fragment,null,_C.createPortal(ie,G),W&&v.createElement(OLe,{cursor:w,tooltipEventType:_,coordinate:$,payload:K,index:D}))}var lA={},cA={},uA={},Iz;function n9e(){return Iz||(Iz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:a,edges:i}={}){let o,c=null;const u=i!=null&&i.includes("leading"),h=i==null||i.includes("trailing"),f=()=>{c!==null&&(r.apply(o,c),o=void 0,c=null)},p=()=>{h&&f(),w()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},n)},j=()=>{g!==null&&(clearTimeout(g),g=null)},w=()=>{j(),o=void 0,c=null},b=()=>{f()},N=function(...E){if(a!=null&&a.aborted)return;o=this,c=E;const A=g==null;x(),u&&A&&f()};return N.schedule=x,N.cancel=w,N.flush=b,a==null||a.addEventListener("abort",w,{once:!0}),N}t.debounce=e})(uA)),uA}var Oz;function a9e(){return Oz||(Oz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n9e();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:c=!0,maxWait:u}=i,h=Array(2);o&&(h[0]="leading"),c&&(h[1]="trailing");let f,p=null;const g=e.debounce(function(...w){f=n.apply(this,w),p=null},a,{edges:h}),x=function(...w){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(f=n.apply(this,w),p=Date.now(),g.cancel(),g.schedule(),f):(g.apply(this,w),f)},j=()=>(g.flush(),f);return x.cancel=g.cancel,x.flush=j,x}t.debounce=r})(cA)),cA}var Pz;function s9e(){return Pz||(Pz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a9e();function r(n,a=0,i={}){const{leading:o=!0,trailing:c=!0}=i;return e.debounce(n,a,{leading:o,maxWait:a,trailing:c})}t.throttle=r})(lA)),lA}var dA,Mz;function i9e(){return Mz||(Mz=1,dA=s9e().throttle),dA}var o9e=i9e();const l9e=jl(o9e);var Xx=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Dz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dz(Object(r),!0).forEach(function(n){c9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c9e(t,e,r){return(e=u9e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u9e(t){var e=d9e(t,"string");return typeof e=="symbol"?e:e+""}function d9e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $l=v.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:o=0,minHeight:c,maxHeight:u,children:h,debounce:f=0,id:p,className:g,onResize:x,style:j={}}=t,w=v.useRef(null),b=v.useRef();b.current=x,v.useImperativeHandle(e,()=>w.current);var[N,E]=v.useState({containerWidth:n.width,containerHeight:n.height}),A=v.useCallback((M,L)=>{E(I=>{var T=Math.round(M),_=Math.round(L);return I.containerWidth===T&&I.containerHeight===_?I:{containerWidth:T,containerHeight:_}})},[]);v.useEffect(()=>{var M=_=>{var D,{width:P,height:R}=_[0].contentRect;A(P,R),(D=b.current)===null||D===void 0||D.call(b,P,R)};f>0&&(M=l9e(M,f,{trailing:!0,leading:!1}));var L=new ResizeObserver(M),{width:I,height:T}=w.current.getBoundingClientRect();return A(I,T),L.observe(w.current),()=>{L.disconnect()}},[A,f]);var O=v.useMemo(()=>{var{containerWidth:M,containerHeight:L}=N;if(M<0||L<0)return null;Xx(Ph(a)||Ph(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),Xx(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=Ph(a)?M:a,T=Ph(i)?L:i;return r&&r>0&&(I?T=I/r:T&&(I=T*r),u&&T>u&&(T=u)),Xx(I>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,T,a,i,o,c,r),v.Children.map(h,_=>v.cloneElement(_,{width:I,height:T,style:hA({width:I,height:T},_.props.style)}))},[r,h,i,u,c,o,N,a]);return v.createElement("div",{id:p?"".concat(p):void 0,className:Lr("recharts-responsive-container",g),style:hA(hA({},j),{},{width:a,height:i,minWidth:o,minHeight:c,maxHeight:u}),ref:w},v.createElement("div",{style:{width:0,height:0,overflow:"visible"}},O))}),pd=t=>null;pd.displayName="Cell";function h9e(t,e,r){return(e=f9e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f9e(t){var e=m9e(t,"string");return typeof e=="symbol"?e:e+""}function m9e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class p9e{constructor(e){h9e(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Rz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function g9e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rz(Object(r),!0).forEach(function(n){x9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x9e(t,e,r){return(e=y9e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y9e(t){var e=v9e(t,"string");return typeof e=="symbol"?e:e+""}function v9e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b9e={cacheSize:2e3,enableCache:!0},fJ=g9e({},b9e),Lz=new p9e(fJ.cacheSize),j9e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Uz="recharts_measurement_span";function w9e(t,e){var r=e.fontSize||"",n=e.fontFamily||"",a=e.fontWeight||"",i=e.fontStyle||"",o=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(c)}var Vz=(t,e)=>{try{var r=document.getElementById(Uz);r||(r=document.createElement("span"),r.setAttribute("id",Uz),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,j9e,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Qx=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Qd.isSsr)return{width:0,height:0};if(!fJ.enableCache)return Vz(e,r);var n=w9e(e,r),a=Lz.get(n);if(a)return a;var i=Vz(e,r);return Lz.set(n,i),i},zz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,k9e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,N9e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},S9e=Object.keys(mJ),Um="NaN";function E9e(t,e){return t*mJ[e]}class wi{static parse(e){var r,[,n,a]=(r=N9e.exec(e))!==null&&r!==void 0?r:[];return new wi(parseFloat(n),a??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,no(e)&&(this.unit=""),r!==""&&!k9e.test(r)&&(this.num=NaN,this.unit=""),S9e.includes(r)&&(this.num=E9e(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new wi(NaN,""):new wi(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new wi(NaN,""):new wi(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new wi(NaN,""):new wi(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new wi(NaN,""):new wi(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return no(this.num)}}function pJ(t){if(t.includes(Um))return Um;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,a,i]=(r=zz.exec(e))!==null&&r!==void 0?r:[],o=wi.parse(n??""),c=wi.parse(i??""),u=a==="*"?o.multiply(c):o.divide(c);if(u.isNaN())return Um;e=e.replace(zz,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,f,p,g]=(h=Fz.exec(e))!==null&&h!==void 0?h:[],x=wi.parse(f??""),j=wi.parse(g??""),w=p==="+"?x.add(j):x.subtract(j);if(w.isNaN())return Um;e=e.replace(Fz,w.toString())}return e}var $z=/\(([^()]*)\)/;function A9e(t){for(var e=t,r;(r=$z.exec(e))!=null;){var[,n]=r;e=e.replace($z,pJ(n))}return e}function T9e(t){var e=t.replace(/\s+/g,"");return e=A9e(e),e=pJ(e),e}function _9e(t){try{return T9e(t)}catch{return Um}}function fA(t){var e=_9e(t.slice(5,-1));return e===Um?"":e}var C9e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],I9e=["dx","dy","angle","className","breakAll"];function dC(){return dC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dC.apply(null,arguments)}function Bz(t,e){if(t==null)return{};var r,n,a=O9e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function O9e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var gJ=/[ \f\n\r\t\v\u2028\u2029]+/,xJ=t=>{var{children:e,breakAll:r,style:n}=t;try{var a=[];Zn(e)||(r?a=e.toString().split(""):a=e.toString().split(gJ));var i=a.map(c=>({word:c,width:Qx(c,n).width})),o=r?0:Qx("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},P9e=(t,e,r,n,a)=>{var{maxLines:i,children:o,style:c,breakAll:u}=t,h=Kt(i),f=o,p=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((R,U)=>{var{word:$,width:K}=U,F=R[R.length-1];if(F&&(n==null||a||F.width+K+r<Number(n)))F.words.push($),F.width+=K+r;else{var W={words:[$],width:K};R.push(W)}return R},[])},g=p(e),x=D=>D.reduce((P,R)=>P.width>R.width?P:R);if(!h||a)return g;var j=g.length>i||x(g).width>Number(n);if(!j)return g;for(var w="",b=D=>{var P=f.slice(0,D),R=xJ({breakAll:u,style:c,children:P+w}).wordsWithComputedWidth,U=p(R),$=U.length>i||x(U).width>Number(n);return[$,U]},N=0,E=f.length-1,A=0,O;N<=E&&A<=f.length-1;){var M=Math.floor((N+E)/2),L=M-1,[I,T]=b(L),[_]=b(M);if(!I&&!_&&(N=M+1),I&&_&&(E=M-1),!I&&_){O=T;break}A++}return O||g},qz=t=>{var e=Zn(t)?[]:t.toString().split(gJ);return[{words:e}]},M9e=t=>{var{width:e,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=t;if((e||r)&&!Qd.isSsr){var c,u,h=xJ({breakAll:i,children:n,style:a});if(h){var{wordsWithComputedWidth:f,spaceWidth:p}=h;c=f,u=p}else return qz(n);return P9e({breakAll:i,children:n,maxLines:o,style:a},c,u,e,r)}return qz(n)},Hz="#808080",D2=v.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:c="start",verticalAnchor:u="end",fill:h=Hz}=t,f=Bz(t,C9e),p=v.useMemo(()=>M9e({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:o,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,o,f.style,f.width]),{dx:g,dy:x,angle:j,className:w,breakAll:b}=f,N=Bz(f,I9e);if(!dc(r)||!dc(n)||p.length===0)return null;var E=r+(Kt(g)?g:0),A=n+(Kt(x)?x:0),O;switch(u){case"start":O=fA("calc(".concat(i,")"));break;case"middle":O=fA("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:O=fA("calc(".concat(p.length-1," * -").concat(a,")"));break}var M=[];if(o){var L=p[0].width,{width:I}=f;M.push("scale(".concat(Kt(I)?I/L:1,")"))}return j&&M.push("rotate(".concat(j,", ").concat(E,", ").concat(A,")")),M.length&&(N.transform=M.join(" ")),v.createElement("text",dC({},sa(N,!0),{ref:e,x:E,y:A,className:Lr("recharts-text",w),textAnchor:c,fill:h.includes("url")?Hz:h}),p.map((T,_)=>{var D=T.words.join(b?"":" ");return v.createElement("tspan",{x:E,dy:_===0?O:a,key:"".concat(D,"-").concat(_)},D)}))});D2.displayName="Text";var D9e=["labelRef"];function R9e(t,e){if(t==null)return{};var r,n,a=L9e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function L9e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Wz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ba(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wz(Object(r),!0).forEach(function(n){U9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U9e(t,e,r){return(e=V9e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V9e(t){var e=z9e(t,"string");return typeof e=="symbol"?e:e+""}function z9e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vc(){return Vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vc.apply(null,arguments)}var yJ=v.createContext(null),F9e=t=>{var{x:e,y:r,width:n,height:a,children:i}=t,o=v.useMemo(()=>({x:e,y:r,width:n,height:a}),[e,r,n,a]);return v.createElement(yJ.Provider,{value:o},i)},vJ=()=>{var t=v.useContext(yJ),e=U4();return t||e},$9e=v.createContext(null),B9e=()=>{var t=v.useContext($9e),e=Ft(lZ);return t||e},q9e=t=>{var{value:e,formatter:r}=t,n=Zn(t.children)?e:t.children;return typeof r=="function"?r(n):n},KO=t=>t!=null&&typeof t=="function",H9e=(t,e)=>{var r=is(e-t),n=Math.min(Math.abs(e-t),360);return r*n},W9e=(t,e,r,n,a)=>{var{offset:i,className:o}=t,{cx:c,cy:u,innerRadius:h,outerRadius:f,startAngle:p,endAngle:g,clockWise:x}=a,j=(h+f)/2,w=H9e(p,g),b=w>=0?1:-1,N,E;switch(e){case"insideStart":N=p+b*i,E=x;break;case"insideEnd":N=g-b*i,E=!x;break;case"end":N=g+b*i,E=x;break;default:throw new Error("Unsupported position ".concat(e))}E=w<=0?E:!E;var A=Pa(c,u,j,N),O=Pa(c,u,j,N+(E?1:-1)*359),M="M".concat(A.x,",").concat(A.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(E?0:1,`,
    `).concat(O.x,",").concat(O.y),L=Zn(t.id)?Py("recharts-radial-line-"):t.id;return v.createElement("text",Vc({},n,{dominantBaseline:"central",className:Lr("recharts-radial-bar-label",o)}),v.createElement("defs",null,v.createElement("path",{id:L,d:M})),v.createElement("textPath",{xlinkHref:"#".concat(L)},r))},G9e=(t,e,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u}=t,h=(c+u)/2;if(r==="outside"){var{x:f,y:p}=Pa(n,a,o+e,h);return{x:f,y:p,textAnchor:f>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var g=(i+o)/2,{x,y:j}=Pa(n,a,g,h);return{x,y:j,textAnchor:"middle",verticalAnchor:"middle"}},bJ=t=>"cx"in t&&Kt(t.cx),Y9e=(t,e)=>{var{parentViewBox:r,offset:n,position:a}=t,i;r!=null&&!bJ(r)&&(i=r);var{x:o,y:c,width:u,height:h}=e,f=h>=0?1:-1,p=f*n,g=f>0?"end":"start",x=f>0?"start":"end",j=u>=0?1:-1,w=j*n,b=j>0?"end":"start",N=j>0?"start":"end";if(a==="top"){var E={x:o+u/2,y:c-f*n,textAnchor:"middle",verticalAnchor:g};return ba(ba({},E),i?{height:Math.max(c-i.y,0),width:u}:{})}if(a==="bottom"){var A={x:o+u/2,y:c+h+p,textAnchor:"middle",verticalAnchor:x};return ba(ba({},A),i?{height:Math.max(i.y+i.height-(c+h),0),width:u}:{})}if(a==="left"){var O={x:o-w,y:c+h/2,textAnchor:b,verticalAnchor:"middle"};return ba(ba({},O),i?{width:Math.max(O.x-i.x,0),height:h}:{})}if(a==="right"){var M={x:o+u+w,y:c+h/2,textAnchor:N,verticalAnchor:"middle"};return ba(ba({},M),i?{width:Math.max(i.x+i.width-M.x,0),height:h}:{})}var L=i?{width:u,height:h}:{};return a==="insideLeft"?ba({x:o+w,y:c+h/2,textAnchor:N,verticalAnchor:"middle"},L):a==="insideRight"?ba({x:o+u-w,y:c+h/2,textAnchor:b,verticalAnchor:"middle"},L):a==="insideTop"?ba({x:o+u/2,y:c+p,textAnchor:"middle",verticalAnchor:x},L):a==="insideBottom"?ba({x:o+u/2,y:c+h-p,textAnchor:"middle",verticalAnchor:g},L):a==="insideTopLeft"?ba({x:o+w,y:c+p,textAnchor:N,verticalAnchor:x},L):a==="insideTopRight"?ba({x:o+u-w,y:c+p,textAnchor:b,verticalAnchor:x},L):a==="insideBottomLeft"?ba({x:o+w,y:c+h-p,textAnchor:N,verticalAnchor:g},L):a==="insideBottomRight"?ba({x:o+u-w,y:c+h-p,textAnchor:b,verticalAnchor:g},L):a&&typeof a=="object"&&(Kt(a.x)||Ph(a.x))&&(Kt(a.y)||Ph(a.y))?ba({x:o+Gs(a.x,u),y:c+Gs(a.y,h),textAnchor:"end",verticalAnchor:"end"},L):ba({x:o+u/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},L)},K9e={offset:5};function Ju(t){var e=Ps(t,K9e),{viewBox:r,position:n,value:a,children:i,content:o,className:c="",textBreakAll:u,labelRef:h}=e,f=B9e(),p=vJ(),g=n==="center"?p:f??p,x=r||g;if(!x||Zn(a)&&Zn(i)&&!v.isValidElement(o)&&typeof o!="function")return null;var j=ba(ba({},e),{},{viewBox:x});if(v.isValidElement(o)){var{labelRef:w}=j,b=R9e(j,D9e);return v.cloneElement(o,b)}var N;if(typeof o=="function"){if(N=v.createElement(o,j),v.isValidElement(N))return N}else N=q9e(e);var E=bJ(x),A=sa(e,!0);if(E&&(n==="insideStart"||n==="insideEnd"||n==="end"))return W9e(e,n,N,A,x);var O=E?G9e(x,e.offset,e.position):Y9e(e,x);return v.createElement(D2,Vc({ref:h,className:Lr("recharts-label",c)},A,O,{breakAll:u}),N)}Ju.displayName="Label";var X9e=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?v.createElement(Ju,Vc({key:"label-implicit"},n)):dc(t)?v.createElement(Ju,Vc({key:"label-implicit",value:t},n)):v.isValidElement(t)?t.type===Ju?v.cloneElement(t,ba({key:"label-implicit"},n)):v.createElement(Ju,Vc({key:"label-implicit",content:t},n)):KO(t)?v.createElement(Ju,Vc({key:"label-implicit",content:t},n)):t&&typeof t=="object"?v.createElement(Ju,Vc({},t,{key:"label-implicit"},n)):null};function Q9e(t){var{label:e}=t,r=vJ();return X9e(e,r)||null}var mA={},pA={},Gz;function Z9e(){return Gz||(Gz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(pA)),pA}var gA={},Yz;function J9e(){return Yz||(Yz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(gA)),gA}var Kz;function e8e(){return Kz||(Kz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z9e(),r=J9e(),n=_4();function a(i){if(n.isArrayLike(i))return e.last(r.toArray(i))}t.last=a})(mA)),mA}var xA,Xz;function t8e(){return Xz||(Xz=1,xA=e8e().last),xA}var r8e=t8e();const n8e=jl(r8e);var a8e=["valueAccessor"],s8e=["dataKey","clockWise","id","textBreakAll"];function Bj(){return Bj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bj.apply(null,arguments)}function Qz(t,e){if(t==null)return{};var r,n,a=i8e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function i8e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var o8e=t=>Array.isArray(t.value)?n8e(t.value):t.value,jJ=v.createContext(void 0),wJ=jJ.Provider,kJ=v.createContext(void 0),l8e=kJ.Provider;function c8e(){return v.useContext(jJ)}function u8e(){return v.useContext(kJ)}function g1(t){var{valueAccessor:e=o8e}=t,r=Qz(t,a8e),{dataKey:n,clockWise:a,id:i,textBreakAll:o}=r,c=Qz(r,s8e),u=c8e(),h=u8e(),f=u||h;return!f||!f.length?null:v.createElement(Os,{className:"recharts-label-list"},f.map((p,g)=>{var x,j=Zn(n)?e(p,g):In(p&&p.payload,n),w=Zn(i)?{}:{id:"".concat(i,"-").concat(g)};return v.createElement(Ju,Bj({},sa(p,!0),c,w,{fill:(x=r.fill)!==null&&x!==void 0?x:p.fill,parentViewBox:p.parentViewBox,value:j,textBreakAll:o,viewBox:p.viewBox,key:"label-".concat(g),index:g}))}))}g1.displayName="LabelList";function XO(t){var{label:e}=t;return e?e===!0?v.createElement(g1,{key:"labelList-implicit"}):v.isValidElement(e)||KO(e)?v.createElement(g1,{key:"labelList-implicit",content:e}):typeof e=="object"?v.createElement(g1,Bj({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function hC(){return hC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hC.apply(null,arguments)}var NJ=t=>{var{cx:e,cy:r,r:n,className:a}=t,i=Lr("recharts-dot",a);return e===+e&&r===+r&&n===+n?v.createElement("circle",hC({},gc(t),b4(t),{className:i,cx:e,cy:r,r:n})):null},SJ=t=>t.graphicalItems.polarItems,d8e=_e([ea,Uv],kO),QO=_e([SJ,Na,d8e],NO),h8e=_e([QO],SO),ZO=_e([h8e,hO],EO),f8e=_e([ZO,Na,QO],TO),m8e=_e([ZO,Na,QO],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(a=>{var i,o=In(n,(i=e.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:In(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),Zz=()=>{},p8e=_e([Na,TZ,Zz,m8e,Zz,Hr,ea],CO),EJ=_e([Na,Hr,ZO,f8e,Lv,ea,p8e],IO),g8e=_e([EJ,Na,tg],MO);_e([Na,EJ,g8e,ea],RO);var x8e={radiusAxis:{},angleAxis:{}},AJ=lo({name:"polarAxis",initialState:x8e,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:EBe,removeRadiusAxis:ABe,addAngleAxis:TBe,removeAngleAxis:_Be}=AJ.actions,y8e=AJ.reducer;function Jz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function eF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jz(Object(r),!0).forEach(function(n){v8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v8e(t,e,r){return(e=b8e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b8e(t){var e=j8e(t,"string");return typeof e=="symbol"?e:e+""}function j8e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w8e=(t,e)=>e,JO=_e([SJ,w8e],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),k8e=[],eP=(t,e,r)=>(r==null?void 0:r.length)===0?k8e:r,TJ=_e([hO,JO,eP],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>eF(eF({},e.presentationProps),i.props))),a!=null)return a}}),N8e=_e([TJ,JO,eP],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,a)=>{var i,o=In(n,e.nameKey,e.name),c;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?c=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?c=n.fill:c=e.fill,{value:Kp(o,e.dataKey),color:c,payload:n,type:e.legendType}})}),S8e=_e([TJ,JO,eP,Ha],(t,e,r,n)=>{if(!(e==null||t==null))return wUe({offset:n,pieSettings:e,displayedData:t,cells:r})}),yA={},tF;function E8e(){return tF||(tF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(yA)),yA}var vA,rF;function A8e(){return rF||(rF=1,vA=E8e().isPlainObject),vA}var T8e=A8e();const _8e=jl(T8e);function nF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function aF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nF(Object(r),!0).forEach(function(n){C8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C8e(t,e,r){return(e=I8e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I8e(t){var e=O8e(t,"string");return typeof e=="symbol"?e:e+""}function O8e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qj(){return qj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qj.apply(null,arguments)}var sF=(t,e,r,n,a)=>{var i=r-n,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+r,",").concat(e),o+="L ".concat(t+r-i/2,",").concat(e+a),o+="L ".concat(t+r-i/2-n,",").concat(e+a),o+="L ".concat(t,",").concat(e," Z"),o},P8e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},M8e=t=>{var e=Ps(t,P8e),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:c}=e,{animationEasing:u,animationDuration:h,animationBegin:f,isUpdateAnimationActive:p}=e,g=v.useRef(),[x,j]=v.useState(-1),w=v.useRef(a),b=v.useRef(i),N=v.useRef(o),E=v.useRef(r),A=v.useRef(n),O=Ov(t,"trapezoid-");if(v.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var $=g.current.getTotalLength();$&&j($)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var M=Lr("recharts-trapezoid",c);if(!p)return v.createElement("g",null,v.createElement("path",qj({},sa(e,!0),{className:M,d:sF(r,n,a,i,o)})));var L=w.current,I=b.current,T=N.current,_=E.current,D=A.current,P="0px ".concat(x===-1?1:x,"px"),R="".concat(x,"px 0px"),U=ZX(["strokeDasharray"],h,u);return v.createElement(Iv,{animationId:O,key:O,canBegin:x>0,duration:h,easing:u,isActive:p,begin:f},$=>{var K=ua(L,a,$),F=ua(I,i,$),W=ua(T,o,$),te=ua(_,r,$),X=ua(D,n,$);g.current&&(w.current=K,b.current=F,N.current=W,E.current=te,A.current=X);var B=$>0?{transition:U,strokeDasharray:R}:{strokeDasharray:P};return v.createElement("path",qj({},sa(e,!0),{className:M,d:sF(te,X,K,F,W),ref:g,style:aF(aF({},B),e.style)}))})},D8e=["option","shapeType","propTransformer","activeClassName","isActive"];function R8e(t,e){if(t==null)return{};var r,n,a=L8e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function L8e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function iF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iF(Object(r),!0).forEach(function(n){U8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U8e(t,e,r){return(e=V8e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V8e(t){var e=z8e(t,"string");return typeof e=="symbol"?e:e+""}function z8e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F8e(t,e){return Hj(Hj({},e),t)}function $8e(t,e){return t==="symbols"}function oF(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return v.createElement(rQ,r);case"trapezoid":return v.createElement(M8e,r);case"sector":return v.createElement(sQ,r);case"symbols":if($8e(e))return v.createElement(E4,r);break;default:return null}}function B8e(t){return v.isValidElement(t)?t.props:t}function _J(t){var{option:e,shapeType:r,propTransformer:n=F8e,activeClassName:a="recharts-active-shape",isActive:i}=t,o=R8e(t,D8e),c;if(v.isValidElement(e))c=v.cloneElement(e,Hj(Hj({},o),B8e(e)));else if(typeof e=="function")c=e(o);else if(_8e(e)&&typeof e!="boolean"){var u=n(e,o);c=v.createElement(oF,{shapeType:r,elementProps:u})}else{var h=o;c=v.createElement(oF,{shapeType:r,elementProps:h})}return i?v.createElement(Os,{className:a},c):c}var tP=(t,e)=>{var r=ia();return(n,a)=>i=>{t==null||t(n,a,i),r(qZ({activeIndex:String(a),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},rP=t=>{var e=ia();return(r,n)=>a=>{t==null||t(r,n,a),e(T5e())}},nP=(t,e)=>{var r=ia();return(n,a)=>i=>{t==null||t(n,a,i),r(_5e({activeIndex:String(a),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function aP(t){var{fn:e,args:r}=t,n=ia(),a=Ii();return v.useEffect(()=>{if(!a){var i=e(r);return n(S5e(i)),()=>{n(E5e(i))}}},[e,r,n,a]),null}var CJ=()=>{};function IJ(t){var{legendPayload:e}=t,r=ia(),n=Ii();return v.useEffect(()=>n?CJ:(r(KX(e)),()=>{r(XX(e))}),[r,n,e]),null}function q8e(t){var{legendPayload:e}=t,r=ia(),n=Ft(Hr);return v.useEffect(()=>n!=="centric"&&n!=="radial"?CJ:(r(KX(e)),()=>{r(XX(e))}),[r,n,e]),null}var bA,H8e=()=>{var[t]=v.useState(()=>Py("uid-"));return t},W8e=(bA=ore.useId)!==null&&bA!==void 0?bA:H8e;function G8e(t,e){var r=W8e();return e||(t?"".concat(t,"-").concat(r):r)}var Y8e=v.createContext(void 0),sP=t=>{var{id:e,type:r,children:n}=t,a=G8e("recharts-".concat(r),e);return v.createElement(Y8e.Provider,{value:a},n(a))},K8e={cartesianItems:[],polarItems:[]},OJ=lo({name:"graphicalItems",initialState:K8e,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,a=Gc(t).cartesianItems.indexOf(r);a>-1&&(t.cartesianItems[a]=n)},removeCartesianGraphicalItem(t,e){var r=Gc(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=Gc(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:X8e,replaceCartesianGraphicalItem:Q8e,removeCartesianGraphicalItem:Z8e,addPolarGraphicalItem:J8e,removePolarGraphicalItem:eUe}=OJ.actions,tUe=OJ.reducer;function PJ(t){var e=ia(),r=v.useRef(null);return v.useEffect(()=>{r.current===null?e(X8e(t)):r.current!==t&&e(Q8e({prev:r.current,next:t})),r.current=t},[e,t]),v.useEffect(()=>()=>{r.current&&(e(Z8e(r.current)),r.current=null)},[e]),null}function rUe(t){var e=ia();return v.useEffect(()=>(e(J8e(t)),()=>{e(eUe(t))}),[e,t]),null}var nUe=["onMouseEnter","onClick","onMouseLeave"],aUe=["id"],sUe=["id"];function iP(t,e){if(t==null)return{};var r,n,a=iUe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function iUe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function lF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lF(Object(r),!0).forEach(function(n){oUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oUe(t,e,r){return(e=lUe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lUe(t){var e=cUe(t,"string");return typeof e=="symbol"?e:e+""}function cUe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ud.apply(null,arguments)}function uUe(t){var e=v.useMemo(()=>j4(t.children,pd),[t.children]),r=Ft(n=>N8e(n,t.id,e));return r==null?null:v.createElement(q8e,{legendPayload:r})}function dUe(t){var{dataKey:e,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:o,name:c,hide:u,tooltipType:h}=t;return{dataDefinedOnItem:n.map(f=>f.tooltipPayload),positions:n.map(f=>f.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:e,nameKey:r,name:Kp(c,e),hide:u,type:h,color:o,unit:""}}}var hUe=(t,e)=>t>e?"start":t<e?"end":"middle",fUe=(t,e,r)=>Gs(typeof e=="function"?e(t):e,r,r*.8),mUe=(t,e,r)=>{var{top:n,left:a,width:i,height:o}=e,c=zX(i,o),u=a+Gs(t.cx,i,i/2),h=n+Gs(t.cy,o,o/2),f=Gs(t.innerRadius,c,0),p=fUe(r,t.outerRadius,c),g=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:u,cy:h,innerRadius:f,outerRadius:p,maxRadius:g}},pUe=(t,e)=>{var r=is(e-t),n=Math.min(Math.abs(e-t),360);return r*n};function gUe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var xUe=(t,e)=>{if(v.isValidElement(t))return v.cloneElement(t,e);if(typeof t=="function")return t(e);var r=Lr("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return v.createElement($4,Ud({},e,{type:"linear",className:r}))},yUe=(t,e,r)=>{if(v.isValidElement(t))return v.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),v.isValidElement(n)))return n;var a=Lr("recharts-pie-label-text",gUe(t));return v.createElement(D2,Ud({},e,{alignmentBaseline:"middle",className:a}),n)};function vUe(t){var{sectors:e,props:r,showLabels:n}=t,{label:a,labelLine:i,dataKey:o}=r;if(!n||!a||!e)return null;var c=gc(r),u=sa(a,!1),h=sa(i,!1),f=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,p=e.map((g,x)=>{var j=(g.startAngle+g.endAngle)/2,w=Pa(g.cx,g.cy,g.outerRadius+f,j),b=Yn(Yn(Yn(Yn({},c),g),{},{stroke:"none"},u),{},{index:x,textAnchor:hUe(w.x,g.cx)},w),N=Yn(Yn(Yn(Yn({},c),g),{},{fill:"none",stroke:g.fill},h),{},{index:x,points:[Pa(g.cx,g.cy,g.outerRadius,j),w],key:"line"});return v.createElement(Os,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},i&&xUe(i,N),yUe(a,b,In(g,o)))});return v.createElement(Os,{className:"recharts-pie-labels"},p)}function bUe(t){var{sectors:e,props:r,showLabels:n}=t,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?v.createElement(XO,{label:a}):v.createElement(vUe,{sectors:e,props:r,showLabels:n})}function jUe(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:a}=t,i=Ft(Ld),{onMouseEnter:o,onClick:c,onMouseLeave:u}=a,h=iP(a,nUe),f=tP(o,a.dataKey),p=rP(u),g=nP(c,a.dataKey);return e==null||e.length===0?null:v.createElement(v.Fragment,null,e.map((x,j)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&e.length!==1)return null;var w=r&&String(j)===i,b=i?n:null,N=w?r:b,E=Yn(Yn({},x),{},{stroke:x.stroke,tabIndex:-1,[HX]:j,[WX]:a.dataKey});return v.createElement(Os,Ud({tabIndex:-1,className:"recharts-pie-sector"},Av(h,x,j),{onMouseEnter:f(x,j),onMouseLeave:p(x,j),onClick:g(x,j),key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(j)}),v.createElement(_J,Ud({option:N,isActive:w,shapeType:"sector"},E)))}))}function wUe(t){var e,{pieSettings:r,displayedData:n,cells:a,offset:i}=t,{cornerRadius:o,startAngle:c,endAngle:u,dataKey:h,nameKey:f,tooltipType:p}=r,g=Math.abs(r.minAngle),x=pUe(c,u),j=Math.abs(x),w=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,b=n.filter(L=>In(L,h,0)!==0).length,N=(j>=360?b:b-1)*w,E=j-b*g-N,A=n.reduce((L,I)=>{var T=In(I,h,0);return L+(Kt(T)?T:0)},0),O;if(A>0){var M;O=n.map((L,I)=>{var T=In(L,h,0),_=In(L,f,I),D=mUe(r,i,L),P=(Kt(T)?T:0)/A,R,U=Yn(Yn({},L),a&&a[I]&&a[I].props);I?R=M.endAngle+is(x)*w*(T!==0?1:0):R=c;var $=R+is(x)*((T!==0?g:0)+P*E),K=(R+$)/2,F=(D.innerRadius+D.outerRadius)/2,W=[{name:_,value:T,payload:U,dataKey:h,type:p}],te=Pa(D.cx,D.cy,F,K);return M=Yn(Yn(Yn(Yn({},r.presentationProps),{},{percent:P,cornerRadius:o,name:_,tooltipPayload:W,midAngle:K,middleRadius:F,tooltipPosition:te},U),D),{},{value:T,startAngle:R,endAngle:$,payload:U,paddingAngle:is(x)*w}),M})}return O}function kUe(t){var{showLabels:e,sectors:r,children:n}=t,a=v.useMemo(()=>!e||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,e]);return v.createElement(l8e,{value:e?a:void 0},n)}function NUe(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:c,activeShape:u,inactiveShape:h,onAnimationStart:f,onAnimationEnd:p}=e,g=Ov(e,"recharts-pie-"),x=r.current,[j,w]=v.useState(!1),b=v.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),N=v.useCallback(()=>{typeof f=="function"&&f(),w(!0)},[f]);return v.createElement(kUe,{showLabels:!j,sectors:n},v.createElement(Iv,{animationId:g,begin:i,duration:o,isActive:a,easing:c,onAnimationStart:N,onAnimationEnd:b,key:g},E=>{var A=[],O=n&&n[0],M=O==null?void 0:O.startAngle;return n==null||n.forEach((L,I)=>{var T=x&&x[I],_=I>0?cf(L,"paddingAngle",0):0;if(T){var D=ua(T.endAngle-T.startAngle,L.endAngle-L.startAngle,E),P=Yn(Yn({},L),{},{startAngle:M+_,endAngle:M+D+_});A.push(P),M=P.endAngle}else{var{endAngle:R,startAngle:U}=L,$=ua(0,R-U,E),K=Yn(Yn({},L),{},{startAngle:M+_,endAngle:M+$+_});A.push(K),M=K.endAngle}}),r.current=A,v.createElement(Os,null,v.createElement(jUe,{sectors:A,activeShape:u,inactiveShape:h,allOtherPieProps:e}))}),v.createElement(bUe,{showLabels:!j,sectors:n,props:e}),e.children)}var SUe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Qd.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function EUe(t){var{id:e}=t,r=iP(t,aUe),{hide:n,className:a,rootTabIndex:i}=t,o=v.useMemo(()=>j4(t.children,pd),[t.children]),c=Ft(f=>S8e(f,e,o)),u=v.useRef(null),h=Lr("recharts-pie",a);return n||c==null?(u.current=null,v.createElement(Os,{tabIndex:i,className:h})):v.createElement(v.Fragment,null,v.createElement(aP,{fn:dUe,args:Yn(Yn({},t),{},{sectors:c})}),v.createElement(Os,{tabIndex:i,className:h},v.createElement(NUe,{props:Yn(Yn({},r),{},{sectors:c}),previousSectorsRef:u})))}function x1(t){var e=Ps(t,SUe),{id:r}=e,n=iP(e,sUe),a=gc(n);return v.createElement(sP,{id:r,type:"pie"},i=>v.createElement(v.Fragment,null,v.createElement(rUe,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),v.createElement(uUe,Ud({},n,{id:i})),v.createElement(EUe,Ud({},n,{id:i}))))}x1.displayName="Pie";function cF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cF(Object(r),!0).forEach(function(n){AUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AUe(t,e,r){return(e=TUe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TUe(t){var e=_Ue(t,"string");return typeof e=="symbol"?e:e+""}function _Ue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CUe={xAxis:{},yAxis:{},zAxis:{}},MJ=lo({name:"cartesianAxis",initialState:CUe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=uF(uF({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:IUe,removeXAxis:OUe,addYAxis:PUe,removeYAxis:MUe,addZAxis:CBe,removeZAxis:IBe,updateYAxisWidth:DUe}=MJ.actions,RUe=MJ.reducer,LUe=_e([Ha],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),UUe=_e([LUe,xu,yu],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),oP=()=>Ft(UUe),VUe=()=>Ft(pLe);function dF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dF(Object(r),!0).forEach(function(n){zUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zUe(t,e,r){return(e=FUe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FUe(t){var e=$Ue(t,"string");return typeof e=="symbol"?e:e+""}function $Ue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BUe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=t;if(a===!1||e.x==null||e.y==null)return null;var o=hF(hF({index:r,dataKey:i,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},sa(a,!1)),b4(a)),c;return v.isValidElement(a)?c=v.cloneElement(a,o):typeof a=="function"?c=a(o):c=v.createElement(NJ,o),v.createElement(Os,{className:"recharts-active-dot"},c)};function qUe(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:a}=t,i=Ft(Ld),o=VUe();if(e==null||o==null)return null;var c=e.find(u=>o.includes(u.payload));return Zn(c)?null:BUe({point:c,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var HUe="Invariant failed";function WUe(t,e){throw new Error(HUe)}var GUe=["x","y"];function fC(){return fC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fC.apply(null,arguments)}function fF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fF(Object(r),!0).forEach(function(n){YUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YUe(t,e,r){return(e=KUe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KUe(t){var e=XUe(t,"string");return typeof e=="symbol"?e:e+""}function XUe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QUe(t,e){if(t==null)return{};var r,n,a=ZUe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function ZUe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function JUe(t,e){var{x:r,y:n}=t,a=QUe(t,GUe),i="".concat(r),o=parseInt(i,10),c="".concat(n),u=parseInt(c,10),h="".concat(e.height||a.height),f=parseInt(h,10),p="".concat(e.width||a.width),g=parseInt(p,10);return mx(mx(mx(mx(mx({},e),a),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:g,name:e.name,radius:e.radius})}function lP(t){return v.createElement(_J,fC({shapeType:"rectangle",propTransformer:JUe,activeClassName:"recharts-active-bar"},t))}var e7e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Kt(e))return e;var i=Kt(n)||Zn(n);return i?e(n,a):(i||WUe(),r)}},t7e={},DJ=lo({name:"errorBars",initialState:t7e,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:a}=e.payload;t[r]&&(t[r]=t[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:OBe,replaceErrorBar:PBe,removeErrorBar:MBe}=DJ.actions,r7e=DJ.reducer,n7e=["children"];function a7e(t,e){if(t==null)return{};var r,n,a=s7e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function s7e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var i7e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},o7e=v.createContext(i7e);function RJ(t){var{children:e}=t,r=a7e(t,n7e);return v.createElement(o7e.Provider,{value:r},e)}function cP(t,e){var r,n,a=Ft(h=>bu(h,t)),i=Ft(h=>ju(h,e)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:qi.allowDataOverflow,c=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Hi.allowDataOverflow,u=o||c;return{needClip:u,needClipX:o,needClipY:c}}function LJ(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,a=oP(),{needClipX:i,needClipY:o,needClip:c}=cP(e,r);if(!c)return null;var{x:u,y:h,width:f,height:p}=a;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:i?u:u-f/2,y:o?h:h-p/2,width:i?f:f*2,height:o?p:p*2}))}var l7e=["onMouseEnter","onMouseLeave","onClick"],c7e=["value","background","tooltipPosition"],u7e=["id"],d7e=["onMouseEnter","onClick","onMouseLeave"];function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vd.apply(null,arguments)}function mF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function si(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mF(Object(r),!0).forEach(function(n){h7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h7e(t,e,r){return(e=f7e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f7e(t){var e=m7e(t,"string");return typeof e=="symbol"?e:e+""}function m7e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wj(t,e){if(t==null)return{};var r,n,a=p7e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function p7e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var g7e=t=>{var{dataKey:e,name:r,fill:n,legendType:a,hide:i}=t;return[{inactive:i,dataKey:e,type:a,color:n,value:Kp(r,e),payload:t}]};function x7e(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:c}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:e,nameKey:void 0,name:Kp(i,e),hide:o,type:t.tooltipType,color:t.fill,unit:c}}}function y7e(t){var e=Ft(Ld),{data:r,dataKey:n,background:a,allOtherBarProps:i}=t,{onMouseEnter:o,onMouseLeave:c,onClick:u}=i,h=Wj(i,l7e),f=tP(o,n),p=rP(c),g=nP(u,n);if(!a||r==null)return null;var x=sa(a,!1);return v.createElement(v.Fragment,null,r.map((j,w)=>{var{value:b,background:N,tooltipPosition:E}=j,A=Wj(j,c7e);if(!N)return null;var O=f(j,w),M=p(j,w),L=g(j,w),I=si(si(si(si(si({option:a,isActive:String(w)===e},A),{},{fill:"#eee"},N),x),Av(h,j,w)),{},{onMouseEnter:O,onMouseLeave:M,onClick:L,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return v.createElement(lP,Vd({key:"background-bar-".concat(I.index)},I))}))}function v7e(t){var{showLabels:e,children:r,rects:n}=t,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return si(si({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return v.createElement(wJ,{value:e?a:void 0},r)}function b7e(t){var{shape:e,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=t,c=Ft(Ld),u=Ft(nJ),h=r&&String(i)===c&&(u==null||o===u),f=h?r:e;return v.createElement(lP,Vd({},n,a,{isActive:h,option:f,index:i,dataKey:o}))}function j7e(t){var{shape:e,baseProps:r,entry:n,index:a,dataKey:i}=t;return v.createElement(lP,Vd({},r,n,{isActive:!1,option:e,index:a,dataKey:i}))}function w7e(t){var{data:e,props:r}=t,n=gc(r),{id:a}=n,i=Wj(n,u7e),{shape:o,dataKey:c,activeBar:u}=r,{onMouseEnter:h,onClick:f,onMouseLeave:p}=r,g=Wj(r,d7e),x=tP(h,c),j=rP(p),w=nP(f,c);return e?v.createElement(v.Fragment,null,e.map((b,N)=>v.createElement(Os,Vd({className:"recharts-bar-rectangle"},Av(g,b,N),{onMouseEnter:x(b,N),onMouseLeave:j(b,N),onClick:w(b,N),key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(N)}),u?v.createElement(b7e,{shape:o,activeBar:u,baseProps:i,entry:b,index:N,dataKey:c}):v.createElement(j7e,{shape:o,baseProps:i,entry:b,index:N,dataKey:c})))):null}function k7e(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:c,animationEasing:u,onAnimationEnd:h,onAnimationStart:f}=e,p=r.current,g=Ov(e,"recharts-bar-"),[x,j]=v.useState(!1),w=!x,b=v.useCallback(()=>{typeof h=="function"&&h(),j(!1)},[h]),N=v.useCallback(()=>{typeof f=="function"&&f(),j(!0)},[f]);return v.createElement(v7e,{showLabels:w,rects:n},v.createElement(Iv,{animationId:g,begin:o,duration:c,isActive:i,easing:u,onAnimationEnd:b,onAnimationStart:N,key:g},E=>{var A=E===1?n:n==null?void 0:n.map((O,M)=>{var L=p&&p[M];if(L)return si(si({},O),{},{x:ua(L.x,O.x,E),y:ua(L.y,O.y,E),width:ua(L.width,O.width,E),height:ua(L.height,O.height,E)});if(a==="horizontal"){var I=ua(0,O.height,E);return si(si({},O),{},{y:O.y+O.height-I,height:I})}var T=ua(0,O.width,E);return si(si({},O),{},{width:T})});return E>0&&(r.current=A??null),A==null?null:v.createElement(Os,null,v.createElement(w7e,{props:e,data:A}))}),v.createElement(XO,{label:e.label}),e.children)}function N7e(t){var e=v.useRef(null);return v.createElement(k7e,{previousRectanglesRef:e,props:t})}var UJ=0,S7e=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:In(t,e)}};class E7e extends v.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:c,background:u,id:h}=this.props;if(e||r==null)return null;var f=Lr("recharts-bar",a),p=h;return v.createElement(Os,{className:f,id:h},c&&v.createElement("defs",null,v.createElement(LJ,{clipPathId:p,xAxisId:i,yAxisId:o})),v.createElement(Os,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):void 0},v.createElement(y7e,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),v.createElement(N7e,this.props)))}}var A7e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Qd.isSsr,legendType:"rect",minPointSize:UJ,xAxisId:0,yAxisId:0};function T7e(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:c,animationDuration:u,animationEasing:h,isAnimationActive:f}=t,{needClip:p}=cP(e,r),g=x2(),x=Ii(),j=j4(t.children,pd),w=Ft(E=>rVe(E,e,r,x,t.id,j));if(g!=="vertical"&&g!=="horizontal")return null;var b,N=w==null?void 0:w[0];return N==null||N.height==null||N.width==null?b=0:b=g==="vertical"?N.height/2:N.width/2,v.createElement(RJ,{xAxisId:e,yAxisId:r,data:w,dataPointFormatter:S7e,errorBarOffset:b},v.createElement(E7e,Vd({},t,{layout:g,needClip:p,data:w,xAxisId:e,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:c,animationDuration:u,animationEasing:h,isAnimationActive:f})))}function _7e(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:c,xAxisTicks:u,yAxisTicks:h,stackedData:f,displayedData:p,offset:g,cells:x,parentViewBox:j}=t,w=e==="horizontal"?c:o,b=f?w.scale.domain():null,N=qOe({numericAxis:w});return p.map((E,A)=>{var O,M,L,I,T,_;f?O=UOe(f[A],b):(O=In(E,r),Array.isArray(O)||(O=[N,O]));var D=e7e(n,UJ)(O[1],A);if(e==="horizontal"){var P,[R,U]=[c.scale(O[0]),c.scale(O[1])];M=eV({axis:o,ticks:u,bandSize:i,offset:a.offset,entry:E,index:A}),L=(P=U??R)!==null&&P!==void 0?P:void 0,I=a.size;var $=R-U;if(T=no($)?0:$,_={x:M,y:g.top,width:I,height:g.height},Math.abs(D)>0&&Math.abs(T)<Math.abs(D)){var K=is(T||D)*(Math.abs(D)-Math.abs(T));L-=K,T+=K}}else{var[F,W]=[o.scale(O[0]),o.scale(O[1])];if(M=F,L=eV({axis:c,ticks:h,bandSize:i,offset:a.offset,entry:E,index:A}),I=W-F,T=a.size,_={x:g.left,y:L,width:g.width,height:T},Math.abs(D)>0&&Math.abs(I)<Math.abs(D)){var te=is(I||D)*(Math.abs(D)-Math.abs(I));I+=te}}if(M==null||L==null||I==null||T==null)return null;var X=si(si({},E),{},{x:M,y:L,width:I,height:T,value:f?O:O[1],payload:E,background:_,tooltipPosition:{x:M+I/2,y:L+T/2},parentViewBox:j},x&&x[A]&&x[A].props);return X}).filter(Boolean)}function C7e(t){var e=Ps(t,A7e),r=Ii();return v.createElement(sP,{id:e.id,type:"bar"},n=>v.createElement(v.Fragment,null,v.createElement(IJ,{legendPayload:g7e(e)}),v.createElement(aP,{fn:x7e,args:e}),v.createElement(PJ,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:BOe(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),v.createElement(T7e,Vd({},e,{id:n}))))}var ll=v.memo(C7e);ll.displayName="Bar";function pF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function F0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pF(Object(r),!0).forEach(function(n){I7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I7e(t,e,r){return(e=O7e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O7e(t){var e=P7e(t,"string");return typeof e=="symbol"?e:e+""}function P7e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M7e=(t,e)=>e,D7e=(t,e,r)=>r,R7e=(t,e,r,n)=>n,L7e=(t,e,r,n,a)=>a,qv=_e([_2,L7e],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),U7e=_e([qv],t=>t==null?void 0:t.maxBarSize),V7e=(t,e,r,n,a,i)=>i,gF=(t,e,r)=>{var n=r??t;if(!Zn(n))return Gs(n,e,0)},z7e=_e([Hr,_2,M7e,D7e,R7e],(t,e,r,n,a)=>e.filter(i=>t==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),F7e=(t,e,r,n)=>{var a=Hr(t);return a==="horizontal"?iC(t,"yAxis",r,n):iC(t,"xAxis",e,n)},$7e=(t,e,r)=>{var n=Hr(t);return n==="horizontal"?xz(t,"xAxis",e):xz(t,"yAxis",r)},B7e=(t,e,r)=>{var n={},a=t.filter(T2),i=t.filter(h=>h.stackId==null),o=a.reduce((h,f)=>(h[f.stackId]||(h[f.stackId]=[]),h[f.stackId].push(f),h),n),c=Object.entries(o).map(h=>{var[f,p]=h,g=p.map(j=>j.dataKey),x=gF(e,r,p[0].barSize);return{stackId:f,dataKeys:g,barSize:x}}),u=i.map(h=>{var f=[h.dataKey].filter(g=>g!=null),p=gF(e,r,h.barSize);return{stackId:void 0,dataKeys:f,barSize:p}});return[...c,...u]},q7e=_e([z7e,N6e,$7e],B7e),H7e=(t,e,r,n,a)=>{var i,o,c=qv(t,e,r,n,a);if(c!=null){var u=Hr(t),h=tZ(t),{maxBarSize:f}=c,p=Zn(f)?h:f,g,x;return u==="horizontal"?(g=Rd(t,"xAxis",e,n),x=Dd(t,"xAxis",e,n)):(g=Rd(t,"yAxis",r,n),x=Dd(t,"yAxis",r,n)),(i=(o=Ry(g,x,!0))!==null&&o!==void 0?o:p)!==null&&i!==void 0?i:0}},VJ=(t,e,r,n)=>{var a=Hr(t),i,o;return a==="horizontal"?(i=Rd(t,"xAxis",e,n),o=Dd(t,"xAxis",e,n)):(i=Rd(t,"yAxis",r,n),o=Dd(t,"yAxis",r,n)),Ry(i,o)};function W7e(t,e,r,n,a){var i=n.length;if(!(i<1)){var o=Gs(t,r,0,!0),c,u=[];if(so(n[0].barSize)){var h=!1,f=r/i,p=n.reduce((N,E)=>N+(E.barSize||0),0);p+=(i-1)*o,p>=r&&(p-=(i-1)*o,o=0),p>=r&&f>0&&(h=!0,f*=.9,p=i*f);var g=(r-p)/2>>0,x={offset:g-o,size:0};c=n.reduce((N,E)=>{var A,O={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:x.offset+x.size+o,size:h?f:(A=E.barSize)!==null&&A!==void 0?A:0}},M=[...N,O];return x=M[M.length-1].position,M},u)}else{var j=Gs(e,r,0,!0);r-2*j-(i-1)*o<=0&&(o=0);var w=(r-2*j-(i-1)*o)/i;w>1&&(w>>=0);var b=so(a)?Math.min(w,a):w;c=n.reduce((N,E,A)=>[...N,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:j+(w+o)*A+(w-b)/2,size:b}}],u)}return c}}var G7e=(t,e,r,n,a,i,o)=>{var c=Zn(o)?e:o,u=W7e(r,n,a!==i?a:i,t,c);return a!==i&&u!=null&&(u=u.map(h=>F0(F0({},h),{},{position:F0(F0({},h.position),{},{offset:h.position.offset-a/2})}))),u},Y7e=_e([q7e,tZ,k6e,rZ,H7e,VJ,U7e],G7e),K7e=(t,e,r,n)=>Rd(t,"xAxis",e,n),X7e=(t,e,r,n)=>Rd(t,"yAxis",r,n),Q7e=(t,e,r,n)=>Dd(t,"xAxis",e,n),Z7e=(t,e,r,n)=>Dd(t,"yAxis",r,n),J7e=_e([Y7e,qv],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),eVe=(t,e)=>{var r=jO(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var a=t[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}},tVe=_e([F7e,qv],eVe),rVe=_e([Ha,L4,K7e,X7e,Q7e,Z7e,J7e,Hr,N2,VJ,tVe,qv,V7e],(t,e,r,n,a,i,o,c,u,h,f,p,g)=>{var{chartData:x,dataStartIndex:j,dataEndIndex:w}=u;if(!(p==null||o==null||e==null||c!=="horizontal"&&c!=="vertical"||r==null||n==null||a==null||i==null||h==null)){var{data:b}=p,N;if(b!=null&&b.length>0?N=b:N=x==null?void 0:x.slice(j,w+1),N!=null)return _7e({layout:c,barSettings:p,pos:o,parentViewBox:e,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:f,displayedData:N,offset:t,cells:g})}}),zJ=t=>{var{chartData:e}=t,r=ia(),n=Ii();return v.useEffect(()=>n?()=>{}:(r(Ez(e)),()=>{r(Ez(void 0))}),[e,r,n]),null},xF={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},FJ=lo({name:"brush",initialState:xF,reducers:{setBrushSettings(t,e){return e.payload==null?xF:e.payload}}}),{setBrushSettings:DBe}=FJ.actions,nVe=FJ.reducer;function aVe(t,e,r){return(e=sVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sVe(t){var e=iVe(t,"string");return typeof e=="symbol"?e:e+""}function iVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class uP{static create(e){return new uP(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}default:return this.scale(e)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?e>=n&&e<=a:e>=a&&e<=n}}aVe(uP,"EPS",1e-4);function oVe(t){return(t%180+180)%180}var lVe=function(e){var{width:r,height:n}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=oVe(a),o=i*Math.PI/180,c=Math.atan(n/r),u=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},cVe={dots:[],areas:[],lines:[]},$J=lo({name:"referenceElements",initialState:cVe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=Gc(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=Gc(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=Gc(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:RBe,removeDot:LBe,addArea:UBe,removeArea:VBe,addLine:zBe,removeLine:FBe}=$J.actions,uVe=$J.reducer,dVe=v.createContext(void 0),hVe=t=>{var{children:e}=t,[r]=v.useState("".concat(Py("recharts"),"-clip")),n=oP();if(n==null)return null;var{x:a,y:i,width:o,height:c}=n;return v.createElement(dVe.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:a,y:i,height:c,width:o}))),e)};function _p(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function BJ(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function fVe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return lVe(n,r)}function mVe(t,e,r){var n=r==="width",{x:a,y:i,width:o,height:c}=t;return e===1?{start:n?a:i,end:n?a+o:i+c}:{start:n?a+o:i+c,end:n?a:i}}function Gj(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function pVe(t,e){return BJ(t,e+1)}function gVe(t,e,r,n,a){for(var i=(n||[]).slice(),{start:o,end:c}=e,u=0,h=1,f=o,p=function(){var j=n==null?void 0:n[u];if(j===void 0)return{v:BJ(n,h)};var w=u,b,N=()=>(b===void 0&&(b=r(j,w)),b),E=j.coordinate,A=u===0||Gj(t,E,N,f,c);A||(u=0,f=o,h+=1),A&&(f=E+t*(N()/2+a),u+=h)},g;h<=i.length;)if(g=p(),g)return g.v;return[]}function yF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ls(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(r),!0).forEach(function(n){xVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xVe(t,e,r){return(e=yVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yVe(t){var e=vVe(t,"string");return typeof e=="symbol"?e:e+""}function vVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bVe(t,e,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:c}=e,{end:u}=e,h=function(g){var x=i[g],j,w=()=>(j===void 0&&(j=r(x,g)),j);if(g===o-1){var b=t*(x.coordinate+t*w()/2-u);i[g]=x=Ls(Ls({},x),{},{tickCoord:b>0?x.coordinate-b*t:x.coordinate})}else i[g]=x=Ls(Ls({},x),{},{tickCoord:x.coordinate});var N=Gj(t,x.tickCoord,w,c,u);N&&(u=x.tickCoord-t*(w()/2+a),i[g]=Ls(Ls({},x),{},{isShow:!0}))},f=o-1;f>=0;f--)h(f);return i}function jVe(t,e,r,n,a,i){var o=(n||[]).slice(),c=o.length,{start:u,end:h}=e;if(i){var f=n[c-1],p=r(f,c-1),g=t*(f.coordinate+t*p/2-h);o[c-1]=f=Ls(Ls({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate});var x=Gj(t,f.tickCoord,()=>p,u,h);x&&(h=f.tickCoord-t*(p/2+a),o[c-1]=Ls(Ls({},f),{},{isShow:!0}))}for(var j=i?c-1:c,w=function(E){var A=o[E],O,M=()=>(O===void 0&&(O=r(A,E)),O);if(E===0){var L=t*(A.coordinate-t*M()/2-u);o[E]=A=Ls(Ls({},A),{},{tickCoord:L<0?A.coordinate-L*t:A.coordinate})}else o[E]=A=Ls(Ls({},A),{},{tickCoord:A.coordinate});var I=Gj(t,A.tickCoord,M,u,h);I&&(u=A.tickCoord+t*(M()/2+a),o[E]=Ls(Ls({},A),{},{isShow:!0}))},b=0;b<j;b++)w(b);return o}function dP(t,e,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:c,interval:u,tickFormatter:h,unit:f,angle:p}=t;if(!a||!a.length||!n)return[];if(Kt(u)||Qd.isSsr){var g;return(g=pVe(a,Kt(u)?u:0))!==null&&g!==void 0?g:[]}var x=[],j=c==="top"||c==="bottom"?"width":"height",w=f&&j==="width"?Qx(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},b=(A,O)=>{var M=typeof h=="function"?h(A.value,O):A.value;return j==="width"?fVe(Qx(M,{fontSize:e,letterSpacing:r}),w,p):Qx(M,{fontSize:e,letterSpacing:r})[j]},N=a.length>=2?is(a[1].coordinate-a[0].coordinate):1,E=mVe(i,N,j);return u==="equidistantPreserveStart"?gVe(N,E,b,a,o):(u==="preserveStart"||u==="preserveStartEnd"?x=jVe(N,E,b,a,o,u==="preserveStartEnd"):x=bVe(N,E,b,a,o),x.filter(A=>A.isShow))}var wVe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=t,o=0;if(e){e.forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>o&&(o=p.width)}});var c=r?r.getBoundingClientRect().width:0,u=a+i,h=o+u+c+(r?n:0);return Math.round(h)}return 0},kVe=["axisLine","width","height","className","hide","ticks"],NVe=["viewBox"],SVe=["viewBox"];function mC(t,e){if(t==null)return{};var r,n,a=EVe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function EVe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ff(){return ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ff.apply(null,arguments)}function vF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vF(Object(r),!0).forEach(function(n){AVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AVe(t,e,r){return(e=TVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TVe(t){var e=_Ve(t,"string");return typeof e=="symbol"?e:e+""}function _Ve(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hP={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function CVe(t){var{x:e,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:c,otherSvgProps:u}=t;if(!c)return null;var h=$a($a($a({},u),sa(c,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var f=+(i==="top"&&!o||i==="bottom"&&o);h=$a($a({},h),{},{x1:e,y1:r+f*a,x2:e+n,y2:r+f*a})}else{var p=+(i==="left"&&!o||i==="right"&&o);h=$a($a({},h),{},{x1:e+p*n,y1:r,x2:e+p*n,y2:r+a})}return v.createElement("line",ff({},h,{className:Lr("recharts-cartesian-axis-line",cf(c,"className"))}))}function IVe(t,e,r,n,a,i,o,c,u){var h,f,p,g,x,j,w=c?-1:1,b=t.tickSize||o,N=Kt(t.tickCoord)?t.tickCoord:t.coordinate;switch(i){case"top":h=f=t.coordinate,g=r+ +!c*a,p=g-w*b,j=p-w*u,x=N;break;case"left":p=g=t.coordinate,f=e+ +!c*n,h=f-w*b,x=h-w*u,j=N;break;case"right":p=g=t.coordinate,f=e+ +c*n,h=f+w*b,x=h+w*u,j=N;break;default:h=f=t.coordinate,g=r+ +c*a,p=g+w*b,j=p+w*u,x=N;break}return{line:{x1:h,y1:p,x2:f,y2:g},tick:{x,y:j}}}function OVe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function PVe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function MVe(t){var{option:e,tickProps:r,value:n}=t,a,i=Lr(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(e))a=v.cloneElement(e,$a($a({},r),{},{className:i}));else if(typeof e=="function")a=e($a($a({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=Lr(o,e==null?void 0:e.className)),a=v.createElement(D2,ff({},r,{className:o}),n)}return a}function DVe(t){var{ticks:e=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:o,padding:c,tickTextProps:u,orientation:h,mirror:f,x:p,y:g,width:x,height:j,tickSize:w,tickMargin:b,fontSize:N,letterSpacing:E,getTicksConfig:A,events:O}=t,M=dP($a($a({},A),{},{ticks:e}),N,E),L=OVe(h,f),I=PVe(h,f),T=gc(A),_=sa(r,!1),D=$a($a({},T),{},{fill:"none"},sa(n,!1)),P=M.map((R,U)=>{var{line:$,tick:K}=IVe(R,p,g,x,j,h,w,f,b),F=$a($a($a($a({textAnchor:L,verticalAnchor:I},T),{},{stroke:"none",fill:a},_),K),{},{index:U,payload:R,visibleTicksCount:M.length,tickFormatter:i,padding:c},u);return v.createElement(Os,ff({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},Av(O,R,U)),n&&v.createElement("line",ff({},D,$,{className:Lr("recharts-cartesian-axis-tick-line",cf(n,"className"))})),r&&v.createElement(MVe,{option:r,tickProps:F,value:"".concat(typeof i=="function"?i(R.value,U):R.value).concat(o||"")}))});return P.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},P):null}var RVe=v.forwardRef((t,e)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:c}=t,u=mC(t,kVe),[h,f]=v.useState(""),[p,g]=v.useState(""),x=v.useRef([]);v.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return wVe({ticks:x.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var j=v.useCallback(w=>{if(w){var b=w.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=Array.from(b);var N=b[0];if(N){var E=window.getComputedStyle(N),A=E.fontSize,O=E.letterSpacing;(A!==h||O!==p)&&(f(A),g(O))}}},[h,p]);return o||n!=null&&n<=0||a!=null&&a<=0?null:v.createElement(Os,{className:Lr("recharts-cartesian-axis",i),ref:j},v.createElement(CVe,{x:t.x,y:t.y,width:n,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:gc(t)}),v.createElement(DVe,{ticks:c,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:h,letterSpacing:p,getTicksConfig:t,events:u}),v.createElement(F9e,{x:t.x,y:t.y,width:t.width,height:t.height},v.createElement(Q9e,{label:t.label}),t.children))}),LVe=v.memo(RVe,(t,e)=>{var{viewBox:r}=t,n=mC(t,NVe),{viewBox:a}=e,i=mC(e,SVe);return _p(r,a)&&_p(n,i)}),fP=v.forwardRef((t,e)=>{var r=Ps(t,hP);return v.createElement(LVe,ff({},r,{ref:e}))});fP.displayName="CartesianAxis";var UVe=["x1","y1","x2","y2","key"],VVe=["offset"],zVe=["xAxisId","yAxisId"],FVe=["xAxisId","yAxisId"];function bF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bF(Object(r),!0).forEach(function(n){$Ve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Ve(t,e,r){return(e=BVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BVe(t){var e=qVe(t,"string");return typeof e=="symbol"?e:e+""}function qVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rh.apply(null,arguments)}function Yj(t,e){if(t==null)return{};var r,n,a=HVe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function HVe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var WVe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:c}=t;return v.createElement("rect",{x:n,y:a,ry:c,width:i,height:o,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function qJ(t,e){var r;if(v.isValidElement(t))r=v.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:a,x2:i,y2:o,key:c}=e,u=Yj(e,UVe),h=gc(u),{offset:f}=h,p=Yj(h,VVe);r=v.createElement("line",Rh({},p,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:c}))}return r}function GVe(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:a}=t;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=t,c=Yj(t,zVe),u=a.map((h,f)=>{var p=Fs(Fs({},c),{},{x1:e,y1:h,x2:e+r,y2:h,key:"line-".concat(f),index:f});return qJ(n,p)});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function YVe(t){var{y:e,height:r,vertical:n=!0,verticalPoints:a}=t;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=t,c=Yj(t,FVe),u=a.map((h,f)=>{var p=Fs(Fs({},c),{},{x1:h,y1:e,x2:h,y2:e+r,key:"line-".concat(f),index:f});return qJ(n,p)});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function KVe(t){var{horizontalFill:e,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:c,horizontal:u=!0}=t;if(!u||!e||!e.length)return null;var h=c.map(p=>Math.round(p+a-a)).sort((p,g)=>p-g);a!==h[0]&&h.unshift(0);var f=h.map((p,g)=>{var x=!h[g+1],j=x?a+o-p:h[g+1]-p;if(j<=0)return null;var w=g%e.length;return v.createElement("rect",{key:"react-".concat(g),y:p,x:n,height:j,width:i,stroke:"none",fill:e[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function XVe(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:c,verticalPoints:u}=t;if(!e||!r||!r.length)return null;var h=u.map(p=>Math.round(p+a-a)).sort((p,g)=>p-g);a!==h[0]&&h.unshift(0);var f=h.map((p,g)=>{var x=!h[g+1],j=x?a+o-p:h[g+1]-p;if(j<=0)return null;var w=g%r.length;return v.createElement("rect",{key:"react-".concat(g),x:p,y:i,width:j,height:c,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var QVe=(t,e)=>{var{xAxis:r,width:n,height:a,offset:i}=t;return $X(dP(Fs(Fs(Fs({},hP),r),{},{ticks:BX(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,e)},ZVe=(t,e)=>{var{yAxis:r,width:n,height:a,offset:i}=t;return $X(dP(Fs(Fs(Fs({},hP),r),{},{ticks:BX(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,e)},JVe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function id(t){var e=V4(),r=z4(),n=GX(),a=Fs(Fs({},Ps(t,JVe)),{},{x:Kt(t.x)?t.x:n.left,y:Kt(t.y)?t.y:n.top,width:Kt(t.width)?t.width:n.width,height:Kt(t.height)?t.height:n.height}),{xAxisId:i,yAxisId:o,x:c,y:u,width:h,height:f,syncWithTicks:p,horizontalValues:g,verticalValues:x}=a,j=Ii(),w=Ft(_=>yz(_,"xAxis",i,j)),b=Ft(_=>yz(_,"yAxis",o,j));if(!Kt(h)||h<=0||!Kt(f)||f<=0||!Kt(c)||c!==+c||!Kt(u)||u!==+u)return null;var N=a.verticalCoordinatesGenerator||QVe,E=a.horizontalCoordinatesGenerator||ZVe,{horizontalPoints:A,verticalPoints:O}=a;if((!A||!A.length)&&typeof E=="function"){var M=g&&g.length,L=E({yAxis:b?Fs(Fs({},b),{},{ticks:M?g:b.ticks}):void 0,width:e,height:r,offset:n},M?!0:p);Xx(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(A=L)}if((!O||!O.length)&&typeof N=="function"){var I=x&&x.length,T=N({xAxis:w?Fs(Fs({},w),{},{ticks:I?x:w.ticks}):void 0,width:e,height:r,offset:n},I?!0:p);Xx(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(O=T)}return v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(WVe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),v.createElement(KVe,Rh({},a,{horizontalPoints:A})),v.createElement(XVe,Rh({},a,{verticalPoints:O})),v.createElement(GVe,Rh({},a,{offset:n,horizontalPoints:A,xAxis:w,yAxis:b})),v.createElement(YVe,Rh({},a,{offset:n,verticalPoints:O,xAxis:w,yAxis:b})))}id.displayName="CartesianGrid";var HJ=(t,e,r,n)=>Rd(t,"xAxis",e,n),WJ=(t,e,r,n)=>Dd(t,"xAxis",e,n),GJ=(t,e,r,n)=>Rd(t,"yAxis",r,n),YJ=(t,e,r,n)=>Dd(t,"yAxis",r,n),eze=_e([Hr,HJ,GJ,WJ,YJ],(t,e,r,n,a)=>Xd(t,"xAxis")?Ry(e,n,!1):Ry(r,a,!1)),tze=(t,e,r,n,a)=>a;function rze(t){return t.type==="line"}var nze=_e([_2,tze],(t,e)=>t.filter(rze).find(r=>r.id===e)),aze=_e([Hr,HJ,GJ,WJ,YJ,nze,eze,N2],(t,e,r,n,a,i,o,c)=>{var{chartData:u,dataStartIndex:h,dataEndIndex:f}=c;if(!(i==null||e==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{dataKey:p,data:g}=i,x;if(g!=null&&g.length>0?x=g:x=u==null?void 0:u.slice(h,f+1),x!=null)return Eze({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:p,bandSize:o,displayedData:x})}}),sze=["id"],ize=["type","layout","connectNulls","needClip"],oze=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function jF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jF(Object(r),!0).forEach(function(n){lze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lze(t,e,r){return(e=cze(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cze(t){var e=uze(t,"string");return typeof e=="symbol"?e:e+""}function uze(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mP(t,e){if(t==null)return{};var r,n,a=dze(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function dze(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mf.apply(null,arguments)}var hze=t=>{var{dataKey:e,name:r,stroke:n,legendType:a,hide:i}=t;return[{inactive:i,dataKey:e,type:a,color:n,value:Kp(r,e),payload:t}]};function fze(t){var{dataKey:e,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:c,unit:u}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:e,nameKey:void 0,name:Kp(o,e),hide:c,type:t.tooltipType,color:t.stroke,unit:u}}}var KJ=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function mze(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],a=0;a<e;++a)n=[...n,...r];return n}var pze=(t,e,r)=>{var n=r.reduce((p,g)=>p+g);if(!n)return KJ(e,t);for(var a=Math.floor(t/n),i=t%n,o=e-t,c=[],u=0,h=0;u<r.length;h+=r[u],++u)if(h+r[u]>i){c=[...r.slice(0,u),i-h];break}var f=c.length%2===0?[0,o]:[o];return[...mze(r,a),...c,...f].map(p=>"".concat(p,"px")).join(", ")};function gze(t,e){var r;if(v.isValidElement(t))r=v.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=Lr("recharts-line-dot",typeof t!="boolean"?t.className:"");r=v.createElement(NJ,mf({},e,{className:n}))}return r}function xze(t,e){return t==null?!1:e?!0:t.length===1}function yze(t){var{clipPathId:e,points:r,props:n}=t,{dot:a,dataKey:i,needClip:o}=n;if(!xze(r,a))return null;var{id:c}=n,u=mP(n,sze),h=LK(a),f=gc(u),p=sa(a,!0),g=r.map((j,w)=>{var b=Yi(Yi(Yi({key:"dot-".concat(w),r:3},f),p),{},{index:w,cx:j.x,cy:j.y,dataKey:i,value:j.value,payload:j.payload,points:r});return gze(a,b)}),x={clipPath:o?"url(#clipPath-".concat(h?"":"dots-").concat(e,")"):void 0};return v.createElement(Os,mf({className:"recharts-line-dots",key:"dots"},x),g)}function vze(t){var{showLabels:e,children:r,points:n}=t,a=v.useMemo(()=>n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return Yi(Yi({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return v.createElement(wJ,{value:e?a:null},r)}function wF(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:a,props:i}=t,{type:o,layout:c,connectNulls:u,needClip:h}=i,f=mP(i,ize),p=Yi(Yi({},sa(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:n,type:o,layout:c,connectNulls:u,strokeDasharray:a??i.strokeDasharray});return v.createElement(v.Fragment,null,(n==null?void 0:n.length)>1&&v.createElement($4,mf({},p,{pathRef:r})),v.createElement(yze,{points:n,clipPathId:e,props:i}))}function bze(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function jze(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=t,{points:o,strokeDasharray:c,isAnimationActive:u,animationBegin:h,animationDuration:f,animationEasing:p,animateNewValues:g,width:x,height:j,onAnimationEnd:w,onAnimationStart:b}=r,N=a.current,E=Ov(r,"recharts-line-"),[A,O]=v.useState(!1),M=!A,L=v.useCallback(()=>{typeof w=="function"&&w(),O(!1)},[w]),I=v.useCallback(()=>{typeof b=="function"&&b(),O(!0)},[b]),T=bze(n.current),_=i.current;return v.createElement(vze,{points:o,showLabels:M},r.children,v.createElement(Iv,{animationId:E,begin:h,duration:f,isActive:u,easing:p,onAnimationEnd:L,onAnimationStart:I,key:E},D=>{var P=ua(_,T+_,D),R=Math.min(P,T),U;if(u)if(c){var $="".concat(c).split(/[,\s]+/gim).map(W=>parseFloat(W));U=pze(R,T,$)}else U=KJ(T,R);else U=c==null?void 0:String(c);if(N){var K=N.length/o.length,F=D===1?o:o.map((W,te)=>{var X=Math.floor(te*K);if(N[X]){var B=N[X];return Yi(Yi({},W),{},{x:ua(B.x,W.x,D),y:ua(B.y,W.y,D)})}return g?Yi(Yi({},W),{},{x:ua(x*2,W.x,D),y:ua(j/2,W.y,D)}):Yi(Yi({},W),{},{x:W.x,y:W.y})});return a.current=F,v.createElement(wF,{props:r,points:F,clipPathId:e,pathRef:n,strokeDasharray:U})}return D>0&&T>0&&(a.current=o,i.current=R),v.createElement(wF,{props:r,points:o,clipPathId:e,pathRef:n,strokeDasharray:U})}),v.createElement(XO,{label:r.label}))}function wze(t){var{clipPathId:e,props:r}=t,n=v.useRef(null),a=v.useRef(0),i=v.useRef(null);return v.createElement(jze,{props:r,clipPathId:e,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var kze=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:In(t.payload,e)});class Nze extends v.Component{render(){var e,{hide:r,dot:n,points:a,className:i,xAxisId:o,yAxisId:c,top:u,left:h,width:f,height:p,id:g,needClip:x}=this.props;if(r)return null;var j=Lr("recharts-line",i),w=g,{r:b=3,strokeWidth:N=2}=(e=sa(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},E=LK(n),A=b*2+N;return v.createElement(v.Fragment,null,v.createElement(Os,{className:j},x&&v.createElement("defs",null,v.createElement(LJ,{clipPathId:w,xAxisId:o,yAxisId:c}),!E&&v.createElement("clipPath",{id:"clipPath-dots-".concat(w)},v.createElement("rect",{x:h-A/2,y:u-A/2,width:f+A,height:p+A}))),v.createElement(RJ,{xAxisId:o,yAxisId:c,data:a,dataPointFormatter:kze,errorBarOffset:0},v.createElement(wze,{props:this.props,clipPathId:w}))),v.createElement(qUe,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var XJ={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Qd.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Sze(t){var e=Ps(t,XJ),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:c,dot:u,hide:h,isAnimationActive:f,label:p,legendType:g,xAxisId:x,yAxisId:j,id:w}=e,b=mP(e,oze),{needClip:N}=cP(x,j),E=oP(),A=x2(),O=Ii(),M=Ft(D=>aze(D,x,j,O,w));if(A!=="horizontal"&&A!=="vertical"||M==null||E==null)return null;var{height:L,width:I,x:T,y:_}=E;return v.createElement(Nze,mf({},b,{id:w,connectNulls:c,dot:u,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:f,hide:h,label:p,legendType:g,xAxisId:x,yAxisId:j,points:M,layout:A,height:L,width:I,left:T,top:_,needClip:N}))}function Eze(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:c,displayedData:u}=t;return u.map((h,f)=>{var p=In(h,o);if(e==="horizontal"){var g=J7({axis:r,ticks:a,bandSize:c,entry:h,index:f}),x=Zn(p)?null:n.scale(p);return{x:g,y:x,value:p,payload:h}}var j=Zn(p)?null:r.scale(p),w=J7({axis:n,ticks:i,bandSize:c,entry:h,index:f});return j==null||w==null?null:{x:j,y:w,value:p,payload:h}}).filter(Boolean)}function Aze(t){var e=Ps(t,XJ),r=Ii();return v.createElement(sP,{id:e.id,type:"line"},n=>v.createElement(v.Fragment,null,v.createElement(IJ,{legendPayload:hze(e)}),v.createElement(aP,{fn:fze,args:e}),v.createElement(PJ,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),v.createElement(Sze,mf({},e,{id:n}))))}var QJ=v.memo(Aze);QJ.displayName="Line";var Tze=["dangerouslySetInnerHTML","ticks"],_ze=["id"],Cze=["domain"],Ize=["domain"];function pC(){return pC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pC.apply(null,arguments)}function Kj(t,e){if(t==null)return{};var r,n,a=Oze(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Oze(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Pze(t){var e=ia();return v.useEffect(()=>(e(IUe(t)),()=>{e(OUe(t))}),[t,e]),null}var Mze=t=>{var{xAxisId:e,className:r}=t,n=Ft(L4),a=Ii(),i="xAxis",o=Ft(b=>rg(b,i,e,a)),c=Ft(b=>UZ(b,i,e,a)),u=Ft(b=>MZ(b,e)),h=Ft(b=>p5e(b,e)),f=Ft(b=>dZ(b,e));if(u==null||h==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:g}=t,x=Kj(t,Tze),{id:j}=f,w=Kj(f,_ze);return v.createElement(fP,pC({},x,w,{scale:o,x:h.x,y:h.y,width:u.width,height:u.height,className:Lr("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:c}))},Dze={allowDataOverflow:qi.allowDataOverflow,allowDecimals:qi.allowDecimals,allowDuplicatedCategory:qi.allowDuplicatedCategory,height:qi.height,hide:!1,mirror:qi.mirror,orientation:qi.orientation,padding:qi.padding,reversed:qi.reversed,scale:qi.scale,tickCount:qi.tickCount,type:qi.type,xAxisId:0},Rze=t=>{var e,r,n,a,i,o=Ps(t,Dze);return v.createElement(v.Fragment,null,v.createElement(Pze,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),v.createElement(Mze,o))},Lze=(t,e)=>{var{domain:r}=t,n=Kj(t,Cze),{domain:a}=e,i=Kj(e,Ize);return _p(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:_p({domain:r},{domain:a}):!1},od=v.memo(Rze,Lze);od.displayName="XAxis";var Uze=["dangerouslySetInnerHTML","ticks"],Vze=["id"],zze=["domain"],Fze=["domain"];function gC(){return gC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gC.apply(null,arguments)}function Xj(t,e){if(t==null)return{};var r,n,a=$ze(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function $ze(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Bze(t){var e=ia();return v.useEffect(()=>(e(PUe(t)),()=>{e(MUe(t))}),[t,e]),null}var qze=t=>{var{yAxisId:e,className:r,width:n,label:a}=t,i=v.useRef(null),o=v.useRef(null),c=Ft(L4),u=Ii(),h=ia(),f="yAxis",p=Ft(M=>rg(M,f,e,u)),g=Ft(M=>DZ(M,e)),x=Ft(M=>x5e(M,e)),j=Ft(M=>UZ(M,f,e,u)),w=Ft(M=>hZ(M,e));if(v.useLayoutEffect(()=>{if(!(n!=="auto"||!g||KO(a)||v.isValidElement(a)||w==null)){var M=i.current;if(M){var L=M.getCalculatedWidth();Math.round(g.width)!==Math.round(L)&&h(DUe({id:e,width:L}))}}},[j,g,h,a,e,n,w]),g==null||x==null||w==null)return null;var{dangerouslySetInnerHTML:b,ticks:N}=t,E=Xj(t,Uze),{id:A}=w,O=Xj(w,Vze);return v.createElement(fP,gC({},E,O,{ref:i,labelRef:o,scale:p,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:Lr("recharts-".concat(f," ").concat(f),r),viewBox:c,ticks:j}))},Hze={allowDataOverflow:Hi.allowDataOverflow,allowDecimals:Hi.allowDecimals,allowDuplicatedCategory:Hi.allowDuplicatedCategory,hide:!1,mirror:Hi.mirror,orientation:Hi.orientation,padding:Hi.padding,reversed:Hi.reversed,scale:Hi.scale,tickCount:Hi.tickCount,type:Hi.type,width:Hi.width,yAxisId:0},Wze=t=>{var e,r,n,a,i,o=Ps(t,Hze);return v.createElement(v.Fragment,null,v.createElement(Bze,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),v.createElement(qze,o))},Gze=(t,e)=>{var{domain:r}=t,n=Xj(t,zze),{domain:a}=e,i=Xj(e,Fze);return _p(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:_p({domain:r},{domain:a}):!1},ld=v.memo(Wze,Gze);ld.displayName="YAxis";var jA={exports:{}},wA={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kF;function Yze(){if(kF)return wA;kF=1;var t=Cp();function e(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,a=t.useRef,i=t.useEffect,o=t.useMemo,c=t.useDebugValue;return wA.useSyncExternalStoreWithSelector=function(u,h,f,p,g){var x=a(null);if(x.current===null){var j={hasValue:!1,value:null};x.current=j}else j=x.current;x=o(function(){function b(M){if(!N){if(N=!0,E=M,M=p(M),g!==void 0&&j.hasValue){var L=j.value;if(g(L,M))return A=L}return A=M}if(L=A,r(E,M))return L;var I=p(M);return g!==void 0&&g(L,I)?(E=M,L):(E=M,A=I)}var N=!1,E,A,O=f===void 0?null:f;return[function(){return b(h())},O===null?void 0:function(){return b(O())}]},[h,f,p,g]);var w=n(u,x[0],x[1]);return i(function(){j.hasValue=!0,j.value=w},[w]),c(w),w},wA}var NF;function Kze(){return NF||(NF=1,jA.exports=Yze()),jA.exports}Kze();function Xze(t){t()}function Qze(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Xze(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=e={callback:r,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!n||t===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var SF={notify(){},get:()=>[]};function Zze(t,e){let r,n=SF,a=0,i=!1;function o(w){f();const b=n.subscribe(w);let N=!1;return()=>{N||(N=!0,b(),p())}}function c(){n.notify()}function u(){j.onStateChange&&j.onStateChange()}function h(){return i}function f(){a++,r||(r=t.subscribe(u),n=Qze())}function p(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=SF)}function g(){i||(i=!0,f())}function x(){i&&(i=!1,p())}const j={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:h,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>n};return j}var Jze=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eFe=Jze(),tFe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",rFe=tFe(),nFe=()=>eFe||rFe?v.useLayoutEffect:v.useEffect,aFe=nFe(),kA=Symbol.for("react-redux-context"),NA=typeof globalThis<"u"?globalThis:{};function sFe(){if(!v.createContext)return{};const t=NA[kA]??(NA[kA]=new Map);let e=t.get(v.createContext);return e||(e=v.createContext(null),t.set(v.createContext,e)),e}var iFe=sFe();function oFe(t){const{children:e,context:r,serverState:n,store:a}=t,i=v.useMemo(()=>{const u=Zze(a);return{store:a,subscription:u,getServerState:n?()=>n:void 0}},[a,n]),o=v.useMemo(()=>a.getState(),[a]);aFe(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,o]);const c=r||iFe;return v.createElement(c.Provider,{value:i},e)}var lFe=oFe,cFe=(t,e)=>e,pP=_e([cFe,Hr,lZ,Ga,JZ,wu,wLe,Ha],ALe),gP=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},ZJ=Lo("mouseClick"),JJ=_v();JJ.startListening({actionCreator:ZJ,effect:(t,e)=>{var r=t.payload,n=pP(e.getState(),gP(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(C5e({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var xC=Lo("mouseMove"),eee=_v();eee.startListening({actionCreator:xC,effect:(t,e)=>{var r=t.payload,n=e.getState(),a=VO(n,n.tooltip.settings.shared),i=pP(n,gP(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?e.dispatch(WZ({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):e.dispatch(HZ()))}});var EF={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},tee=lo({name:"rootProps",initialState:EF,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:EF.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),uFe=tee.reducer,{updateOptions:dFe}=tee.actions,ree=lo({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:hFe}=ree.actions,fFe=ree.reducer,nee=Lo("keyDown"),aee=Lo("focus"),xP=_v();xP.startListening({actionCreator:nee,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=t.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(zO(a,ag(r))),c=wu(r);if(i==="Enter"){var u=$j(r,"axis","hover",String(a.index));e.dispatch(lC({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:u}));return}var h=j5e(r),f=h==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,g=o+p*f;if(!(c==null||g>=c.length||g<0)){var x=$j(r,"axis","hover",String(g));e.dispatch(lC({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});xP.startListening({actionCreator:aee,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=$j(r,"axis","hover",String(i));e.dispatch(lC({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var wo=Lo("externalEvent"),see=_v();see.startListening({actionCreator:wo,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:hLe(r),activeDataKey:nJ(r),activeIndex:Ld(r),activeLabel:rJ(r),activeTooltipIndex:Ld(r),isTooltipActive:fLe(r)};t.payload.handler(n,t.payload.reactEvent)}}});var mFe=_e([ng],t=>t.tooltipItemPayloads),pFe=_e([mFe,$v,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var a=t.find(c=>c.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=e(i,r);return o}}}),iee=Lo("touchMove"),oee=_v();oee.startListening({actionCreator:iee,effect:(t,e)=>{var r=t.payload,n=e.getState(),a=VO(n,n.tooltip.settings.shared);if(a==="axis"){var i=pP(n,gP({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&e.dispatch(WZ({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,c=r.touches[0],u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var h=u.getAttribute(HX),f=(o=u.getAttribute(WX))!==null&&o!==void 0?o:void 0,p=pFe(e.getState(),h,f);e.dispatch(qZ({activeDataKey:f,activeIndex:h,activeCoordinate:p}))}}});var gFe=xX({brush:nVe,cartesianAxis:RUe,chartData:zLe,errorBars:r7e,graphicalItems:tUe,layout:wOe,legend:hPe,options:DLe,polarAxis:y8e,polarOptions:fFe,referenceElements:uVe,rootProps:uFe,tooltip:I5e}),xFe=function(e){return G4e({reducer:gFe,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([JJ.middleware,eee.middleware,xP.middleware,see.middleware,oee.middleware]),devTools:Qd.devToolsEnabled})};function lee(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,a=Ii(),i=v.useRef(null);if(a)return r;i.current==null&&(i.current=xFe(e));var o=I4;return v.createElement(lFe,{context:o,store:i.current},r)}function cee(t){var{layout:e,width:r,height:n,margin:a}=t,i=ia(),o=Ii();return v.useEffect(()=>{o||(i(vOe(e)),i(bOe({width:r,height:n})),i(yOe(a)))},[i,o,e,r,n,a]),null}function uee(t){var e=ia();return v.useEffect(()=>{e(dFe(t))},[e,t]),null}var yFe=["children"];function vFe(t,e){if(t==null)return{};var r,n,a=bFe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function bFe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Qj(){return Qj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qj.apply(null,arguments)}var jFe={width:"100%",height:"100%"},wFe=v.forwardRef((t,e)=>{var r=V4(),n=z4(),a=QX();if(!Np(r)||!Np(n))return null;var{children:i,otherAttributes:o,title:c,desc:u}=t,h,f;return typeof o.tabIndex=="number"?h=o.tabIndex:h=a?0:void 0,typeof o.role=="string"?f=o.role:f=a?"application":void 0,v.createElement(w4,Qj({},o,{title:c,desc:u,role:f,tabIndex:h,width:r,height:n,style:jFe,ref:e}),i)}),kFe=t=>{var{children:e}=t,r=Ft(g2);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return v.createElement(w4,{width:n,height:a,x:o,y:i},e)},AF=v.forwardRef((t,e)=>{var{children:r}=t,n=vFe(t,yFe),a=Ii();return a?v.createElement(kFe,null,r):v.createElement(wFe,Qj({ref:e},n),r)});function NFe(){var t=ia(),[e,r]=v.useState(null),n=Ft(QOe);return v.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),i=a.width/e.offsetWidth;so(i)&&i!==n&&t(jOe(i))}},[e,t,n]),r}function TF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function SFe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(r),!0).forEach(function(n){EFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EFe(t,e,r){return(e=AFe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AFe(t){var e=TFe(t,"string");return typeof e=="symbol"?e:e+""}function TFe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Fe=v.forwardRef((t,e)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:c,onMouseDown:u,onMouseEnter:h,onMouseLeave:f,onMouseMove:p,onMouseUp:g,onTouchEnd:x,onTouchMove:j,onTouchStart:w,style:b,width:N}=t,E=ia(),[A,O]=v.useState(null),[M,L]=v.useState(null);KLe();var I=NFe(),T=v.useCallback(J=>{I(J),typeof e=="function"&&e(J),O(J),L(J)},[I,e,O,L]),_=v.useCallback(J=>{E(ZJ(J)),E(wo({handler:i,reactEvent:J}))},[E,i]),D=v.useCallback(J=>{E(xC(J)),E(wo({handler:h,reactEvent:J}))},[E,h]),P=v.useCallback(J=>{E(HZ()),E(wo({handler:f,reactEvent:J}))},[E,f]),R=v.useCallback(J=>{E(xC(J)),E(wo({handler:p,reactEvent:J}))},[E,p]),U=v.useCallback(()=>{E(aee())},[E]),$=v.useCallback(J=>{E(nee(J.key))},[E]),K=v.useCallback(J=>{E(wo({handler:o,reactEvent:J}))},[E,o]),F=v.useCallback(J=>{E(wo({handler:c,reactEvent:J}))},[E,c]),W=v.useCallback(J=>{E(wo({handler:u,reactEvent:J}))},[E,u]),te=v.useCallback(J=>{E(wo({handler:g,reactEvent:J}))},[E,g]),X=v.useCallback(J=>{E(wo({handler:w,reactEvent:J}))},[E,w]),B=v.useCallback(J=>{E(iee(J)),E(wo({handler:j,reactEvent:J}))},[E,j]),G=v.useCallback(J=>{E(wo({handler:x,reactEvent:J}))},[E,x]);return v.createElement(cJ.Provider,{value:A},v.createElement(UK.Provider,{value:M},v.createElement("div",{className:Lr("recharts-wrapper",n),style:SFe({position:"relative",cursor:"default",width:N,height:a},b),onClick:_,onContextMenu:K,onDoubleClick:F,onFocus:U,onKeyDown:$,onMouseDown:W,onMouseEnter:D,onMouseLeave:P,onMouseMove:R,onMouseUp:te,onTouchEnd:G,onTouchMove:B,onTouchStart:X,ref:T},r)))}),CFe=["children","className","width","height","style","compact","title","desc"];function IFe(t,e){if(t==null)return{};var r,n,a=OFe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function OFe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var dee=v.forwardRef((t,e)=>{var{children:r,className:n,width:a,height:i,style:o,compact:c,title:u,desc:h}=t,f=IFe(t,CFe),p=gc(f);return c?v.createElement(AF,{otherAttributes:p,title:u,desc:h},r):v.createElement(_Fe,{className:n,style:o,width:a,height:i,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},v.createElement(AF,{otherAttributes:p,title:u,desc:h,ref:e},v.createElement(hVe,null,r)))}),PFe=["width","height"];function yC(){return yC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yC.apply(null,arguments)}function MFe(t,e){if(t==null)return{};var r,n,a=DFe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function DFe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var RFe={top:5,right:5,bottom:5,left:5},LFe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:RFe,reverseStackOrder:!1,syncMethod:"index"},hee=v.forwardRef(function(e,r){var n,a=Ps(e.categoricalChartProps,LFe),{width:i,height:o}=a,c=MFe(a,PFe);if(!Np(i)||!Np(o))return null;var{chartName:u,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,categoricalChartProps:g}=e,x={chartName:u,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return v.createElement(lee,{preloadedState:{options:x},reduxStoreName:(n=g.id)!==null&&n!==void 0?n:u},v.createElement(zJ,{chartData:g.data}),v.createElement(cee,{width:i,height:o,layout:a.layout,margin:a.margin}),v.createElement(uee,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),v.createElement(dee,yC({},c,{width:i,height:o,ref:r})))}),UFe=["axis"],VFe=v.forwardRef((t,e)=>v.createElement(hee,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:UFe,tooltipPayloadSearcher:YO,categoricalChartProps:t,ref:e})),zFe=["axis","item"],Tm=v.forwardRef((t,e)=>v.createElement(hee,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zFe,tooltipPayloadSearcher:YO,categoricalChartProps:t,ref:e}));function FFe(t){var e=ia();return v.useEffect(()=>{e(hFe(t))},[e,t]),null}var $Fe=["width","height","layout"];function vC(){return vC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vC.apply(null,arguments)}function BFe(t,e){if(t==null)return{};var r,n,a=qFe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function qFe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var HFe={top:5,right:5,bottom:5,left:5},WFe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:HFe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},GFe=v.forwardRef(function(e,r){var n,a=Ps(e.categoricalChartProps,WFe),{width:i,height:o,layout:c}=a,u=BFe(a,$Fe);if(!Np(i)||!Np(o))return null;var{chartName:h,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:g}=e,x={chartName:h,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,eventEmitter:void 0};return v.createElement(lee,{preloadedState:{options:x},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:h},v.createElement(zJ,{chartData:a.data}),v.createElement(cee,{width:i,height:o,layout:c,margin:a.margin}),v.createElement(uee,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),v.createElement(FFe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),v.createElement(dee,vC({width:i,height:o},u,{ref:r})))}),YFe=["item"],KFe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},SA=v.forwardRef((t,e)=>{var r=Ps(t,KFe);return v.createElement(GFe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:YFe,tooltipPayloadSearcher:YO,categoricalChartProps:r,ref:e})});const Jo=({title:t,value:e,icon:r})=>s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-4 flex items-center gap-3",children:[s.jsx("div",{className:"text-church-primary",children:r}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-jkd-text",children:t}),s.jsx("div",{className:"text-2xl font-bold text-jkd-heading",children:e})]})]}),XFe=()=>{const{authorizedUsers:t,onlineUserIds:e}=cr(),[r,n]=v.useState({}),[a,i]=v.useState(new Date),[o,c]=v.useState(0),[u,h]=v.useState(0);v.useEffect(()=>{const N=Gn(Et(we,"visitorDaily"),E=>{const A={};E.forEach(O=>{var T,_,D,P,R;const M=O.data(),L=(M==null?void 0:M.dateId)||O.id,I={admin:((T=M==null?void 0:M.roles)==null?void 0:T.admin)||0,editor:((_=M==null?void 0:M.roles)==null?void 0:_.editor)||0,leader:((D=M==null?void 0:M.roles)==null?void 0:D.leader)||0,reader:((P=M==null?void 0:M.roles)==null?void 0:P.reader)||0,anonymous:((R=M==null?void 0:M.roles)==null?void 0:R.anonymous)||0};A[L]={dateId:L,total:(M==null?void 0:M.total)||0,roles:I}}),n(A)});return()=>N()},[]),v.useEffect(()=>{const N=Gn(Et(we,"anonOnlineUsers"),E=>{const A=Date.now(),O=new Map;E.forEach(L=>{const I=L.data(),T=I==null?void 0:I.visitorId;if(!T)return;const _=I==null?void 0:I.lastSeen;let D=0;if(_&&typeof _.toMillis=="function")try{D=_.toMillis()}catch{D=(I==null?void 0:I.timestamp)||0}else D=(I==null?void 0:I.timestamp)||0;const P=O.get(T);(!P||D>P)&&O.set(T,D)});const M=Array.from(O.values()).filter(L=>A-L<=120*1e3).length;c(M)});return()=>N()},[]),v.useEffect(()=>{const N=Gn(Et(we,"readerOnlineUsers"),E=>{const A=Date.now(),O=new Map;E.forEach(L=>{const I=L.data(),T=I==null?void 0:I.uid;if(!T)return;const _=I==null?void 0:I.lastSeen;let D=0;if(_&&typeof _.toMillis=="function")try{D=_.toMillis()}catch{D=(I==null?void 0:I.timestamp)||0}else D=(I==null?void 0:I.timestamp)||0;const P=O.get(T);(!P||D>P)&&O.set(T,D)});const M=Array.from(O.values()).filter(L=>A-L<=120*1e3).length;h(M)});return()=>N()},[]);const f=v.useMemo(()=>{const N=new Date,E=N.getFullYear(),A=String(N.getMonth()+1).padStart(2,"0"),O=String(N.getDate()).padStart(2,"0");return`${E}-${A}-${O}`},[]);r[f];const p=v.useMemo(()=>{const N=a,E=N.getFullYear(),A=String(N.getMonth()+1).padStart(2,"0"),O=String(N.getDate()).padStart(2,"0");return`${E}-${A}-${O}`},[a]),g=r[p],x=({date:N,view:E})=>{var T;if(E!=="month")return null;const A=N.getFullYear(),O=String(N.getMonth()+1).padStart(2,"0"),M=String(N.getDate()).padStart(2,"0"),L=`${A}-${O}-${M}`,I=((T=r[L])==null?void 0:T.total)||0;return I?s.jsx("div",{className:"absolute bottom-1.5 left-1/2 -translate-x-1/2 text-[10px] px-1 rounded bg-church-primary text-white",children:I}):null},j=v.useMemo(()=>t.filter(N=>N.role==="admin"&&e.includes(N.id)).length,[t,e]),w=v.useMemo(()=>t.filter(N=>N.role==="editor"&&e.includes(N.id)).length,[t,e]),b=v.useMemo(()=>t.filter(N=>N.role==="leader"&&e.includes(N.id)).length,[t,e]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx(Wc,{className:"h-6 w-6 text-church-primary"}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Usurios"})]}),s.jsx("p",{className:"text-jkd-text",children:"Acompanhe usurios online em tempo real e visitantes por dia."}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(Jo,{title:"Admins online",value:j,icon:s.jsx(Jg,{size:20})}),s.jsx(Jo,{title:"Editores online",value:w,icon:s.jsx(Jg,{size:20})}),s.jsx(Jo,{title:"Lderes online",value:b,icon:s.jsx(Jg,{size:20})}),s.jsx(Jo,{title:"Leitores online",value:u,icon:s.jsx(Jg,{size:20})}),s.jsx(Jo,{title:"Annimos online",value:o,icon:s.jsx(Jg,{size:20})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-6",children:s.jsx(vv,{onChange:N=>i(N),value:a,locale:"pt-BR",tileContent:x,className:"w-full"})})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-jkd-heading mb-4",children:["Resumo do dia ",p]}),g?s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(Jo,{title:"Total",value:g.total}),s.jsx(Jo,{title:"Administradores",value:g.roles.admin||0}),s.jsx(Jo,{title:"Editores",value:g.roles.editor||0}),s.jsx(Jo,{title:"Lderes",value:g.roles.leader||0}),s.jsx(Jo,{title:"Leitores",value:g.roles.reader||0}),s.jsx(Jo,{title:"Annimos",value:g.roles.anonymous||0})]}):s.jsx("p",{className:"text-jkd-text",children:"Sem dados para este dia."})]})})]}),Object.keys(r).length>0&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading mb-4",children:"Visitantes por dia (ltimos 30)"}),s.jsx("div",{style:{width:"100%",height:300},children:s.jsx($l,{children:s.jsxs(VFe,{data:Object.keys(r).sort().slice(-30).map(A=>({date:A.slice(5),total:r[A].total})),margin:{top:10,right:20,left:0,bottom:0},children:[s.jsx(id,{strokeDasharray:"3 3",stroke:"#334155"}),s.jsx(od,{dataKey:"date",tick:{fill:"#cbd5e1"}}),s.jsx(ld,{tick:{fill:"#cbd5e1"}}),s.jsx(Fl,{contentStyle:{backgroundColor:"#0b1220",borderColor:"#1f2937"}}),s.jsx(Wi,{}),s.jsx(QJ,{type:"monotone",dataKey:"total",stroke:"#38bdf8",strokeWidth:2,dot:!1,name:"Total"})]})})})]}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading mb-4",children:"Distribuio por papel (ltimos 14)"}),s.jsx("div",{style:{width:"100%",height:300},children:s.jsx($l,{children:s.jsxs(Tm,{data:Object.keys(r).sort().slice(-14).map(A=>({date:A.slice(5),admin:r[A].roles.admin||0,editor:r[A].roles.editor||0,leader:r[A].roles.leader||0,reader:r[A].roles.reader||0,anonymous:r[A].roles.anonymous||0})),margin:{top:10,right:20,left:0,bottom:0},children:[s.jsx(id,{strokeDasharray:"3 3",stroke:"#334155"}),s.jsx(od,{dataKey:"date",tick:{fill:"#cbd5e1"}}),s.jsx(ld,{tick:{fill:"#cbd5e1"}}),s.jsx(Fl,{contentStyle:{backgroundColor:"#0b1220",borderColor:"#1f2937"}}),s.jsx(Wi,{}),s.jsx(ll,{dataKey:"admin",stackId:"roles",fill:"#ef4444",name:"Admins"}),s.jsx(ll,{dataKey:"editor",stackId:"roles",fill:"#f59e0b",name:"Editores"}),s.jsx(ll,{dataKey:"leader",stackId:"roles",fill:"#10b981",name:"Lderes"}),s.jsx(ll,{dataKey:"reader",stackId:"roles",fill:"#3b82f6",name:"Leitores"}),s.jsx(ll,{dataKey:"anonymous",stackId:"roles",fill:"#6366f1",name:"Annimos"})]})})})]})]})]})},QFe=({onSave:t})=>{const{cultos:e,settings:r,updateSettings:n,addCulto:a,updateCulto:i,deleteCulto:o,showConfirmation:c}=cr(),[u,h]=v.useState(null),[f,p]=v.useState(""),[g,x]=v.useState(r.cultosLogoUrl),[j,w]=v.useState(null),b=()=>{h(null),p(""),w(null)},N=()=>{if(!u||!u.title)return;if(!f||f.trim()===""){w("Configure data e horrio na recorrncia antes de salvar.");return}const O={title:u.title,description:u.description||"",rruleString:f,...u.image&&u.image.trim()&&{image:u.image.trim()},createdAt:u.id?u.createdAt:new Date};u.id?i(u.id,O):a(O),t(),b()},E=(O,M)=>{c("Excluir Culto",`Tem certeza que deseja excluir o culto "${M}"?`,()=>o(O))},A=()=>{n({cultosLogoUrl:g}),t()};return u?s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading",children:u.id?"Editar Culto":"Novo Culto"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Ttulo"}),s.jsx("input",{type:"text",value:u.title,onChange:O=>h({...u,title:O.target.value}),className:"w-full input-style"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Descrio"}),s.jsx("textarea",{value:u.description,onChange:O=>h({...u,description:O.target.value}),rows:3,className:"w-full input-style"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"image",className:"block text-sm font-medium text-jkd-heading mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Is,{size:16}),s.jsx("span",{children:"Imagem (opcional)"})]}),s.jsxs("p",{className:"text-xs text-jkd-text/70",children:["Recomendado: formato vertical (9:16). Tamanho mximo: ",s.jsx("strong",{children:"5MB"}),"."]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"url",id:"image",value:u.image||"",onChange:O=>h({...u,image:O.target.value}),className:"w-full input-style",placeholder:"https://exemplo.com/imagem.jpg"}),s.jsxs("button",{type:"button",disabled:!0,title:"Conecte o Supabase para habilitar uploads",className:"inline-flex items-center gap-2 px-4 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ns,{size:16}),s.jsx("span",{children:"Upload"})]})]})]}),s.jsx(Gw,{rruleString:f,onChange:p}),j&&s.jsx("div",{className:"text-red-600 text-sm",children:j}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-jkd-bg",children:[s.jsx(On,{size:16})," Cancelar"]}),s.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90",children:[s.jsx(as,{size:16})," Salvar"]})]}),s.jsx("style",{children:".input-style { @apply px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary; }"})]}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border",children:[s.jsxs("div",{className:"p-6 border-b border-jkd-border",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Logo da Pgina de Cultos"}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Personalize o logo que aparece no topo da pgina de cultos."})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cultosLogoUrl",className:"block text-sm font-medium text-jkd-heading mb-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Is,{size:16})," URL do Logo"]})}),s.jsx("input",{type:"url",id:"cultosLogoUrl",value:g,onChange:O=>x(O.target.value),className:"w-full input-style"})]}),s.jsx("div",{className:"text-right",children:s.jsxs("button",{onClick:A,className:"inline-flex items-center space-x-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90",children:[s.jsx(as,{size:16}),s.jsx("span",{children:"Salvar Logo"})]})})]})]}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border",children:[s.jsxs("div",{className:"p-6 border-b border-jkd-border flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Gerenciar Cultos"}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Adicione ou edite os cultos regulares da igreja."})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(xt,{to:"/new-culto2",className:"inline-flex items-center space-x-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90",children:[s.jsx(vl,{size:16}),s.jsx("span",{children:"Novo Culto"})]})})]}),s.jsx("div",{className:"p-6",children:s.jsx("ul",{className:"space-y-3",children:e.map(O=>s.jsxs("li",{className:"flex items-center justify-between p-3 bg-jkd-bg rounded-lg border border-jkd-border",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-jkd-heading",children:O.title}),s.jsx("p",{className:"text-sm text-jkd-text",children:O.description})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(xt,{to:`/edit-culto/${O.id}`,className:"p-2 rounded-md text-jkd-text hover:bg-church-primary/10 hover:text-church-primary",children:s.jsx(Od,{size:16})}),s.jsx("button",{onClick:()=>E(O.id,O.title),className:"p-2 rounded-md text-jkd-text hover:bg-red-500/10 hover:text-red-500",children:s.jsx(Ss,{size:16})})]})]},O.id))})})]}),s.jsx("style",{children:".input-style { @apply px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary; }"})]})},ZFe=({onSave:t})=>{var I,T,_,D,P,R,U,$,K,F,W,te,X,B,G,J,ne,ie,se,je,Pe,ue,ae,oe,ve;const{settings:e,updateSettings:r}=cr(),[n,a]=v.useState(e),[i,o]=v.useState(null),[c,u]=v.useState(!1),[h,f]=v.useState(!1),[p,g]=v.useState(!1),[x,j]=v.useState(""),w={text:"",imageSource:"url",imageUrl:"",imageUploadUrl:"",priorityEnabled:!1},b=(Y,fe)=>{a(ee=>({...ee,[Y]:fe}))},N=(Y,fe,ee)=>{const ye={...n[Y],[fe]:ee};a(Oe=>({...Oe,[Y]:ye}))},E=()=>{r(n),t()},A="#6f83a5",O=async Y=>{var ee;const fe=((ee=Y.target.files)==null?void 0:ee[0])||null;if(fe){o(fe);try{u(!0);const ye=fe.name.replace(/[^a-zA-Z0-9.\-_]/g,"_"),Oe=`images/destaque-news/${Date.now()}-${ye}`,We=await iu(fe,Oe),it=Array.isArray(n.newsHighlightImages)?n.newsHighlightImages:[];a(ut=>({...ut,newsHighlightImages:[...it,We]}))}catch(ye){console.error("Erro no upload da imagem de destaque:",ye)}finally{u(!1),o(null);try{Y.target.value=""}catch{}}}},M=async Y=>{var ee;const fe=((ee=Y.target.files)==null?void 0:ee[0])||null;if(fe)try{f(!0);const ye=fe.name.replace(/[^a-zA-Z0-9.\-_]/g,"_"),Oe=`images/awareness/${Date.now()}-${ye}`,We=await iu(fe,Oe);a(it=>({...it,awarenessCalendar:{...it.awarenessCalendar||w,imageUploadUrl:We,imageSource:"upload"}}))}catch(ye){console.error("Erro no upload da imagem de conscientizao:",ye)}finally{f(!1);try{Y.target.value=""}catch{}}},L=async(Y,fe,ee)=>{var Oe;const ye=((Oe=Y.target.files)==null?void 0:Oe[0])||null;if(ye)try{g(!0);const We=await n3e(ye,ee),it=fe==="audioAlertChatUrl"?"audioAlertChatName":fe==="audioAlertApprovalsUrl"?"audioAlertApprovalsName":fe==="audioAlertRequestsUrl"?"audioAlertRequestsName":"programStartAudioName";a(ut=>({...ut,[fe]:We,[it]:ye.name})),await r({[fe]:We,[it]:ye.name}),t()}catch(We){console.error("Erro no upload de udio:",We)}finally{g(!1);try{Y.target.value=""}catch{}}};return s.jsxs(s.Fragment,{children:[s.jsx("style",{children:`
        .slider-volume {
          background: linear-gradient(to right, #10b981 0%, #10b981 var(--value, 0%), #e5e7eb var(--value, 0%), #e5e7eb 100%);
        }
        .slider-volume::-webkit-slider-thumb {
          appearance: none;
          width: 20px;
          height: 20px;
          border-radius: 50%;
          background: #10b981;
          cursor: pointer;
          border: 2px solid white;
          box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .slider-volume::-moz-range-thumb {
          width: 20px;
          height: 20px;
          border-radius: 50%;
          background: #10b981;
          cursor: pointer;
          border: 2px solid white;
          box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
      `}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 space-y-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-xl font-bold text-jkd-heading",children:"Identidade Visual"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"churchName",className:"block text-sm font-medium text-jkd-text mb-2",children:"Nome da Igreja (Subttulo da Home)"}),s.jsx("input",{type:"text",id:"churchName",value:n.churchName,onChange:Y=>b("churchName",Y.target.value),className:"input-style w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"logoUrl",className:"block text-sm font-medium text-jkd-text mb-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Is,{size:16})," URL do Logo (Cabealho)"]})}),s.jsx("input",{type:"url",id:"logoUrl",value:n.logoUrl,onChange:Y=>b("logoUrl",Y.target.value),className:"input-style w-full"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"primaryColor",className:"block text-sm font-medium text-jkd-text mb-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lw,{size:16})," Cor Principal"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"color",value:n.primaryColor,onChange:Y=>b("primaryColor",Y.target.value),className:"h-10 w-12 rounded-lg border border-jkd-border cursor-pointer bg-transparent p-0"}),s.jsx("input",{type:"text",value:n.primaryColor,onChange:Y=>b("primaryColor",Y.target.value),className:"input-style w-full"}),s.jsx("button",{type:"button",onClick:()=>b("primaryColor",A),className:"p-2.5 rounded-lg bg-jkd-bg border border-jkd-border",title:"Restaurar cor padro",children:s.jsx(xG,{size:18})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-text mb-2",children:'Gradiente do ttulo "Fonte News"'}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{type:"button",onClick:()=>a(Y=>{var fe;return{...Y,titleGradient:{...Y.titleGradient||{enabled:!1,from:"#c084fc",via:"#ec4899",to:"#ef4444",durationSec:6},enabled:!((fe=Y.titleGradient)!=null&&fe.enabled)}}}),className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm ${(I=n.titleGradient)!=null&&I.enabled?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:(T=n.titleGradient)!=null&&T.enabled?"Ativado":"Desativado"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-jkd-text min-w-[40px]",children:"From"}),s.jsx("input",{type:"color",value:((_=n.titleGradient)==null?void 0:_.from)||"#c084fc",onChange:Y=>a(fe=>({...fe,titleGradient:{...fe.titleGradient||{enabled:!1,from:"#c084fc",via:"#ec4899",to:"#ef4444",durationSec:6},from:Y.target.value}})),className:"h-9 w-9 rounded border border-jkd-border"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-jkd-text min-w-[40px]",children:"Via"}),s.jsx("input",{type:"color",value:((D=n.titleGradient)==null?void 0:D.via)||"#ec4899",onChange:Y=>a(fe=>({...fe,titleGradient:{...fe.titleGradient||{enabled:!1,from:"#c084fc",via:"#ec4899",to:"#ef4444",durationSec:6},via:Y.target.value}})),className:"h-9 w-9 rounded border border-jkd-border"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-jkd-text min-w-[40px]",children:"To"}),s.jsx("input",{type:"color",value:((P=n.titleGradient)==null?void 0:P.to)||"#ef4444",onChange:Y=>a(fe=>({...fe,titleGradient:{...fe.titleGradient||{enabled:!1,from:"#c084fc",via:"#ec4899",to:"#ef4444",durationSec:6},to:Y.target.value}})),className:"h-9 w-9 rounded border border-jkd-border"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-jkd-text mb-1",children:"Durao (s)"}),s.jsx("input",{type:"number",min:2,max:120,value:((R=n.titleGradient)==null?void 0:R.durationSec)||6,onChange:Y=>a(fe=>({...fe,titleGradient:{...fe.titleGradient||{enabled:!1,from:"#c084fc",via:"#ec4899",to:"#ef4444",durationSec:6},durationSec:Number(Y.target.value)||6}})),className:"input-style w-full"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-xs text-jkd-text mb-1",children:"Preview"}),s.jsx("div",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${((U=n.titleGradient)==null?void 0:U.from)||"#c084fc"}, ${(($=n.titleGradient)==null?void 0:$.via)||"#ec4899"}, ${((K=n.titleGradient)==null?void 0:K.to)||"#ef4444"})`,backgroundSize:"200% 200%"},children:"Fonte News"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-xl font-bold text-jkd-heading",children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(PI,{size:20})," Faixa de Notcias (Ticker)"]})}),s.jsxs("div",{className:"space-y-4 p-4 bg-jkd-bg border border-jkd-border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Habilitar Faixa"}),s.jsxs("button",{type:"button",onClick:()=>N("tickerSettings","enabled",!n.tickerSettings.enabled),className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm ${n.tickerSettings.enabled?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:[n.tickerSettings.enabled?s.jsx(Gx,{size:18}):s.jsx(Wx,{size:18}),n.tickerSettings.enabled?"Ativada":"Desativada"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Direo"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>N("tickerSettings","direction","left"),className:`flex items-center gap-2 px-3 py-1 rounded-md text-sm ${n.tickerSettings.direction==="left"?"bg-church-primary text-white":"bg-jkd-border"}`,children:[s.jsx(_s,{size:16})," Esquerda"]}),s.jsxs("button",{type:"button",onClick:()=>N("tickerSettings","direction","right"),className:`flex items-center gap-2 px-3 py-1 rounded-md text-sm ${n.tickerSettings.direction==="right"?"bg-church-primary text-white":"bg-jkd-border"}`,children:[s.jsx(dG,{size:16})," Direita"]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{htmlFor:"tickerSpeed",className:"font-medium flex items-center gap-2",children:[s.jsx(P9,{size:16}),"Velocidade"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm bg-jkd-border px-3 py-1 rounded-md",children:[s.jsx("span",{className:"font-mono",children:n.tickerSettings.speed}),s.jsxs("span",{className:"text-jkd-text/70",children:["(",(()=>{const Y=Math.max(1,Math.min(100,n.tickerSettings.speed)),fe=3,ee=60,ye=Math.log(fe),Oe=Math.log(ee),We=(Oe-ye)/99,it=Oe-(Y-1)*We;return`${Math.round(Math.exp(it)*10)/10}s`})(),")"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xs text-jkd-text/70 min-w-[40px]",children:"Lento"}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{id:"tickerSpeed",type:"range",min:"1",max:"100",step:"1",value:n.tickerSettings.speed,onChange:Y=>{const fe=Number(Y.target.value);N("tickerSettings","speed",fe);const ee=Y.target,ye=(fe-1)/99*100;ee.style.setProperty("--value",`${ye}%`)},className:"w-full h-3 bg-jkd-border rounded-lg appearance-none cursor-pointer accent-church-primary slider-volume",style:{"--value":`${(n.tickerSettings.speed-1)/99*100}%`}}),s.jsx("div",{className:"absolute top-0 left-0 h-3 bg-church-primary/20 rounded-lg pointer-events-none",style:{width:`${n.tickerSettings.speed}%`}})]}),s.jsx("span",{className:"text-xs text-jkd-text/70 min-w-[40px] text-right",children:"Rpido"})]}),s.jsxs("div",{className:"flex justify-between text-xs text-jkd-text/50",children:[s.jsx("span",{children:"60s"}),s.jsx("span",{children:"12s"}),s.jsx("span",{children:"3s"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("span",{className:"font-medium",children:"Predefinies Precisas"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2",children:[{label:"Muito Lento",value:10,duration:"45s",desc:"Leitura pausada"},{label:"Lento",value:25,duration:"24s",desc:"Leitura confortvel"},{label:"Normal",value:50,duration:"12s",desc:"Velocidade padro"},{label:"Rpido",value:75,duration:"6s",desc:"Dinmico"},{label:"Muito Rpido",value:90,duration:"4s",desc:"Urgente"}].map(Y=>s.jsxs("button",{type:"button",onClick:()=>N("tickerSettings","speed",Y.value),className:`p-3 rounded-lg text-sm border-2 transition-all ${n.tickerSettings.speed===Y.value?"bg-church-primary text-white border-church-primary":"bg-jkd-background border-jkd-border hover:border-church-primary/50"}`,title:`${Y.label}: ${Y.duration} por ciclo`,children:[s.jsx("div",{className:"font-medium",children:Y.label}),s.jsx("div",{className:"text-xs opacity-70",children:Y.duration}),s.jsx("div",{className:"text-xs opacity-50",children:Y.desc})]},Y.value))})]}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:items-center justify-between",children:[s.jsx("label",{htmlFor:"tickerStartDelay",className:"font-medium",children:"Pausa no incio (s)"}),s.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto flex-1",children:[s.jsx("span",{className:"text-xs",children:"0"}),s.jsx("input",{id:"tickerStartDelay",type:"range",min:0,max:10,step:.5,value:n.tickerSettings.startDelaySec??0,onChange:Y=>N("tickerSettings","startDelaySec",Number(Y.target.value)),className:"w-full h-2 bg-jkd-border rounded-lg appearance-none cursor-pointer accent-church-primary"}),s.jsx("span",{className:"text-xs",children:"10"}),s.jsx("input",{type:"number",min:0,max:60,step:.5,value:n.tickerSettings.startDelaySec??0,onChange:Y=>N("tickerSettings","startDelaySec",Number(Y.target.value)),className:"input-style w-24"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:items-center justify-between",children:[s.jsx("label",{htmlFor:"tickerRestartDelay",className:"font-medium",children:"Pausa no reincio (s)"}),s.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto flex-1",children:[s.jsx("span",{className:"text-xs",children:"0"}),s.jsx("input",{id:"tickerRestartDelay",type:"range",min:0,max:10,step:.5,value:n.tickerSettings.restartDelaySec??0,onChange:Y=>N("tickerSettings","restartDelaySec",Number(Y.target.value)),className:"w-full h-2 bg-jkd-border rounded-lg appearance-none cursor-pointer accent-church-primary"}),s.jsx("span",{className:"text-xs",children:"10"}),s.jsx("input",{type:"number",min:0,max:60,step:.5,value:n.tickerSettings.restartDelaySec??0,onChange:Y=>N("tickerSettings","restartDelaySec",Number(Y.target.value)),className:"input-style w-24"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Contedo"}),s.jsx("div",{className:"flex items-center gap-2",children:["week","month","year"].map(Y=>s.jsx("button",{type:"button",onClick:()=>N("tickerSettings","scope",Y),className:`px-3 py-1 rounded-md text-sm ${n.tickerSettings.scope===Y?"bg-church-primary text-white":"bg-jkd-border"}`,children:Y==="week"?"Semana":Y==="month"?"Ms":"Ano"},Y))})]}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx("h4",{className:"text-lg font-semibold text-jkd-heading",children:" Calendrio de Conscientizao"}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Exibe um texto e um logo mensal (PNG transparente 1:1) em toda a Faixa de Notcias. Quando a prioridade est ligada, aparece antes do contedo normal."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-text mb-2",children:"Texto da campanha"}),s.jsx("input",{type:"text",value:((F=n.awarenessCalendar)==null?void 0:F.text)||"",onChange:Y=>a(fe=>({...fe,awarenessCalendar:{...fe.awarenessCalendar||w,text:Y.target.value}})),className:"input-style w-full",placeholder:"Ex.: Outubro Rosa  Preveno e Cuidado"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Prioridade sobre contedo normal"}),s.jsxs("button",{type:"button",onClick:()=>a(Y=>{var fe;return{...Y,awarenessCalendar:{...Y.awarenessCalendar||w,priorityEnabled:!((fe=Y.awarenessCalendar)!=null&&fe.priorityEnabled)}}}),className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm ${(W=n.awarenessCalendar)!=null&&W.priorityEnabled?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:[(te=n.awarenessCalendar)!=null&&te.priorityEnabled?s.jsx(Gx,{size:18}):s.jsx(Wx,{size:18}),(X=n.awarenessCalendar)!=null&&X.priorityEnabled?"Ligada":"Desligada"]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("span",{className:"font-medium",children:"Imagem do ms"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:()=>a(Y=>({...Y,awarenessCalendar:{...Y.awarenessCalendar||w,imageSource:"url"}})),className:`px-3 py-1 rounded-md text-sm ${(((B=n.awarenessCalendar)==null?void 0:B.imageSource)||"url")==="url"?"bg-church-primary text-white":"bg-jkd-border"}`,children:"URL"}),s.jsx("button",{type:"button",onClick:()=>a(Y=>({...Y,awarenessCalendar:{...Y.awarenessCalendar||w,imageSource:"upload"}})),className:`px-3 py-1 rounded-md text-sm ${(((G=n.awarenessCalendar)==null?void 0:G.imageSource)||"url")==="upload"?"bg-church-primary text-white":"bg-jkd-border"}`,children:"Upload PNG 1:1"})]}),(((J=n.awarenessCalendar)==null?void 0:J.imageSource)||"url")==="url"?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-text mb-2",children:"URL da imagem (PNG transparente 1:1)"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{type:"url",value:((ne=n.awarenessCalendar)==null?void 0:ne.imageUrl)||"",onChange:Y=>a(fe=>({...fe,awarenessCalendar:{...fe.awarenessCalendar||w,imageUrl:Y.target.value,imageUploadUrl:""}})),className:"input-style w-full",placeholder:"https://exemplo.com/logo-mes.png"}),((ie=n.awarenessCalendar)==null?void 0:ie.imageUrl)&&s.jsx("button",{type:"button",onClick:()=>a(Y=>({...Y,awarenessCalendar:{...Y.awarenessCalendar||w,imageUrl:""}})),className:"px-3 py-2 rounded-lg bg-red-500/10 text-red-600 text-sm",children:"Limpar"})]})]}):s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"awareness-upload",className:"relative cursor-pointer rounded-lg border-2 border-dashed border-jkd-border w-full p-6 flex justify-center items-center text-center transition-colors hover:border-church-primary/50",children:[s.jsxs("div",{className:"space-y-1 text-jkd-text",children:[s.jsx(ns,{className:"mx-auto h-10 w-10"}),s.jsx("span",{className:"font-medium text-church-primary",children:"Clique para enviar"}),s.jsx("p",{className:"text-xs",children:"PNG transparente 1:1 at 5MB"})]}),s.jsx("input",{id:"awareness-upload",name:"awareness-upload",type:"file",className:"sr-only",onChange:M,accept:"image/png,image/*"})]}),h&&s.jsx("p",{className:"text-xs text-jkd-text mt-2",children:"Enviando imagem..."}),((se=n.awarenessCalendar)==null?void 0:se.imageUploadUrl)&&s.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[s.jsx("img",{src:n.awarenessCalendar.imageUploadUrl,alt:"Logo do ms",className:"h-12 w-12 object-contain rounded border border-jkd-border bg-white"}),s.jsx("button",{type:"button",onClick:()=>a(Y=>({...Y,awarenessCalendar:{...Y.awarenessCalendar||w,imageUploadUrl:""}})),className:"px-3 py-2 rounded-lg bg-red-500/10 text-red-600 text-sm",children:"Remover"})]})]})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-xl font-bold text-jkd-heading",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(d0e,{size:20})," Destaque News"]})}),s.jsxs("div",{className:"p-4 bg-jkd-bg border border-jkd-border rounded-lg space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"highlight-url",className:"block text-sm font-medium text-jkd-text mb-2",children:"Adicionar imagem por URL"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{id:"highlight-url",type:"url",value:x,onChange:Y=>j(Y.target.value),className:"input-style w-full",placeholder:"https://exemplo.com/imagem.jpg"}),s.jsx("button",{type:"button",onClick:()=>{const Y=x.trim();if(!Y)return;const fe=Array.isArray(n.newsHighlightImages)?n.newsHighlightImages:[];a(ee=>({...ee,newsHighlightImages:[...fe,Y]})),j("")},className:"px-3 py-2 rounded-lg bg-church-primary text-white text-sm",children:"Adicionar"})]})]}),s.jsxs("div",{className:"relative flex items-center justify-center",children:[s.jsx("div",{className:"flex-grow border-t border-jkd-border"}),s.jsx("span",{className:"flex-shrink mx-4 text-jkd-text text-sm",children:"ou"}),s.jsx("div",{className:"flex-grow border-t border-jkd-border"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"highlight-upload",className:"relative cursor-pointer rounded-lg border-2 border-dashed border-jkd-border w-full p-6 flex justify-center items-center text-center transition-colors hover:border-church-primary/50",children:[s.jsxs("div",{className:"space-y-1 text-jkd-text",children:[s.jsx(ns,{className:"mx-auto h-10 w-10"}),s.jsx("span",{className:"font-medium text-church-primary",children:"Clique para enviar"}),s.jsx("p",{className:"text-xs",children:"PNG, JPG at 5MB"})]}),s.jsx("input",{id:"highlight-upload",name:"highlight-upload",type:"file",className:"sr-only",onChange:O,accept:"image/*"})]}),c&&s.jsx("p",{className:"text-xs text-jkd-text mt-2",children:"Enviando imagem..."})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium",children:"Imagens cadastradas"}),s.jsx("button",{type:"button",onClick:()=>a(Y=>({...Y,newsHighlightImages:[]})),className:"text-sm text-red-500 hover:bg-red-500/10 px-3 py-1 rounded-lg",children:"Remover todas"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:[(n.newsHighlightImages||[]).map((Y,fe)=>s.jsxs("div",{className:"relative group border border-jkd-border rounded-lg overflow-hidden",children:[s.jsx("img",{src:Y,alt:`Destaque ${fe+1}`,className:"w-full h-24 object-cover"}),s.jsx("button",{type:"button",title:"Remover",onClick:()=>{const ee=(n.newsHighlightImages||[]).filter((ye,Oe)=>Oe!==fe);a(ye=>({...ye,newsHighlightImages:ee}))},className:"absolute top-2 right-2 p-1.5 rounded bg-red-500 text-white opacity-0 group-hover:opacity-100 transition",children:s.jsx(On,{size:14})})]},`${Y}-${fe}`)),(n.newsHighlightImages||[]).length===0&&s.jsx("p",{className:"text-sm text-jkd-text col-span-full",children:"Nenhuma imagem cadastrada. O fundo padro ser usado."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-text mb-2",children:"Efeito de transio"}),s.jsxs("select",{value:((je=n.newsHighlightOptions)==null?void 0:je.effect)||"fade",onChange:Y=>{const fe=Y.target.value,ee=n.newsHighlightOptions||{effect:"fade",durationSec:10};a(ye=>({...ye,newsHighlightOptions:{...ee,effect:fe}}))},className:"input-style w-full",children:[s.jsx("option",{value:"fade",children:"Desvanecer (Fade)"}),s.jsx("option",{value:"slide",children:"Deslizar (Slide)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-text mb-2",children:"Durao por imagem (segundos)"}),s.jsx("input",{type:"number",min:2,max:120,value:((Pe=n.newsHighlightOptions)==null?void 0:Pe.durationSec)||10,onChange:Y=>{const fe=Number(Y.target.value)||10,ee=n.newsHighlightOptions||{effect:"fade",durationSec:10};a(ye=>({...ye,newsHighlightOptions:{...ee,durationSec:fe}}))},className:"input-style w-full"})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-xl font-bold text-jkd-heading",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(To,{size:20})," Informaes de Contato (Secretaria)"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"email",placeholder:"Email da secretaria",value:n.contactInfo.email,onChange:Y=>N("contactInfo","email",Y.target.value),className:"input-style w-full"}),s.jsx("input",{type:"tel",placeholder:"Telefone da secretaria",value:n.contactInfo.phone,onChange:Y=>N("contactInfo","phone",Y.target.value),className:"input-style w-full"}),s.jsx("input",{type:"text",placeholder:"Endereo",value:n.contactInfo.address,onChange:Y=>N("contactInfo","address",Y.target.value),className:"input-style w-full"}),s.jsx("input",{type:"text",placeholder:"Horrio dos cultos",value:n.contactInfo.services,onChange:Y=>N("contactInfo","services",Y.target.value),className:"input-style w-full"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-xl font-bold text-jkd-heading",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ybe,{size:20})," Rodap"]})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"copyrightText",className:"block text-sm font-medium text-jkd-text mb-2",children:"Texto do Copyright"}),s.jsx("input",{type:"text",id:"copyrightText",value:n.copyrightText,onChange:Y=>b("copyrightText",Y.target.value),className:"input-style w-full"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-xl font-bold text-jkd-heading",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Is,{size:20})," Countdown: Overlay (Fade Cclico)"]})}),s.jsxs("div",{className:"p-4 bg-jkd-bg border border-jkd-border rounded-lg space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Habilitar efeito de overlay"}),s.jsxs("button",{type:"button",onClick:()=>b("countdownOverlayEnabled",!n.countdownOverlayEnabled),className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm ${n.countdownOverlayEnabled?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:[n.countdownOverlayEnabled?s.jsx(Gx,{size:18}):s.jsx(Wx,{size:18}),n.countdownOverlayEnabled?"Ativado":"Desativado"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-text mb-2",children:"Tempo visvel (segundos)"}),s.jsx("input",{type:"number",min:5,max:600,value:((ue=n.countdownOverlayCycle)==null?void 0:ue.visibleSec)??30,onChange:Y=>N("countdownOverlayCycle","visibleSec",Number(Y.target.value)||30),className:"input-style w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-text mb-2",children:"Tempo oculto (segundos)"}),s.jsx("input",{type:"number",min:5,max:600,value:((ae=n.countdownOverlayCycle)==null?void 0:ae.hiddenSec)??15,onChange:Y=>N("countdownOverlayCycle","hiddenSec",Number(Y.target.value)||15),className:"input-style w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-text mb-2",children:"Fade-in (segundos)"}),s.jsx("input",{type:"number",min:1,max:30,value:((oe=n.countdownOverlayCycle)==null?void 0:oe.fadeInSec)??5,onChange:Y=>N("countdownOverlayCycle","fadeInSec",Number(Y.target.value)||5),className:"input-style w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-text mb-2",children:"Fade-out (segundos)"}),s.jsx("input",{type:"number",min:1,max:30,value:((ve=n.countdownOverlayCycle)==null?void 0:ve.fadeOutSec)??5,onChange:Y=>N("countdownOverlayCycle","fadeOutSec",Number(Y.target.value)||5),className:"input-style w-full"})]})]}),s.jsx("p",{className:"text-xs text-jkd-text",children:"Aplica-se a qualquer novo countdown. Quando ativado, a imagem overlay alterna com fade-in/out e ciclos de exibio/ocultao conforme configurado."})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-xl font-bold text-jkd-heading",children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(P9,{size:20})," Alertas Sonoros"]})}),s.jsxs("div",{className:"p-4 bg-jkd-bg border border-jkd-border rounded-lg space-y-4",children:[s.jsx("p",{className:"text-sm text-jkd-text",children:"Defina sons (MP3) para novos eventos. O alerta repete a cada 15s at ser visualizado. O udio de incio de programao dura 30s."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-text mb-2",children:"Conversa no Chat (MP3)"}),s.jsxs("label",{htmlFor:"audio-chat-upload",className:"relative cursor-pointer rounded-lg border-2 border-dashed border-jkd-border w-full p-4 flex justify-center items-center text-center transition-colors hover:border-church-primary/50",children:[s.jsxs("div",{className:"space-y-1 text-jkd-text",children:[s.jsx(ns,{className:"mx-auto h-8 w-8"}),s.jsx("span",{className:"font-medium text-church-primary",children:"Clique para enviar"}),s.jsx("p",{className:"text-xs",children:"MP3 at 20MB"})]}),s.jsx("input",{id:"audio-chat-upload",type:"file",className:"sr-only",accept:"audio/mpeg,audio/mp3",onChange:Y=>L(Y,"audioAlertChatUrl","audio/chat")})]}),n.audioAlertChatUrl?s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("audio",{controls:!0,src:n.audioAlertChatUrl,className:"w-full"}),s.jsx("button",{type:"button",onClick:()=>a(Y=>({...Y,audioAlertChatUrl:"",audioAlertChatName:""})),className:"px-3 py-2 rounded-lg bg-red-500/10 text-red-600 text-sm",children:"Remover"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs text-jkd-text",children:["Arquivo: ",n.audioAlertChatName||"Sem nome"]}),s.jsxs("button",{type:"button",onClick:()=>{try{const Y=new Audio(n.audioAlertChatUrl);Y.currentTime=0,Y.play()}catch{}},className:"px-3 py-2 rounded-lg bg-church-primary/10 text-church-primary text-sm flex items-center gap-1",children:[s.jsx(ka,{size:14})," Testar"]})]})]}):s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-jkd-text",children:"Usando som padro"}),s.jsxs("button",{type:"button",onClick:()=>{try{const Y=TG(),fe=new Audio(Y);fe.currentTime=0,fe.play(),Y.startsWith("blob:")&&fe.addEventListener("ended",()=>URL.revokeObjectURL(Y))}catch{}},className:"px-3 py-2 rounded-lg bg-church-primary/10 text-church-primary text-sm flex items-center gap-1",children:[s.jsx(ka,{size:14})," Testar"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-text mb-2",children:"Aprovaes (MP3)"}),s.jsxs("label",{htmlFor:"audio-approvals-upload",className:"relative cursor-pointer rounded-lg border-2 border-dashed border-jkd-border w-full p-4 flex justify-center items-center text-center transition-colors hover:border-church-primary/50",children:[s.jsxs("div",{className:"space-y-1 text-jkd-text",children:[s.jsx(ns,{className:"mx-auto h-8 w-8"}),s.jsx("span",{className:"font-medium text-church-primary",children:"Clique para enviar"}),s.jsx("p",{className:"text-xs",children:"MP3 at 20MB"})]}),s.jsx("input",{id:"audio-approvals-upload",type:"file",className:"sr-only",accept:"audio/mpeg,audio/mp3",onChange:Y=>L(Y,"audioAlertApprovalsUrl","audio/approvals")})]}),n.audioAlertApprovalsUrl?s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("audio",{controls:!0,src:n.audioAlertApprovalsUrl,className:"w-full"}),s.jsx("button",{type:"button",onClick:()=>a(Y=>({...Y,audioAlertApprovalsUrl:"",audioAlertApprovalsName:""})),className:"px-3 py-2 rounded-lg bg-red-500/10 text-red-600 text-sm",children:"Remover"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs text-jkd-text",children:["Arquivo: ",n.audioAlertApprovalsName||"Sem nome"]}),s.jsxs("button",{type:"button",onClick:()=>{try{const Y=new Audio(n.audioAlertApprovalsUrl);Y.currentTime=0,Y.play()}catch{}},className:"px-3 py-2 rounded-lg bg-church-primary/10 text-church-primary text-sm flex items-center gap-1",children:[s.jsx(ka,{size:14})," Testar"]})]})]}):s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-jkd-text",children:"Usando som padro"}),s.jsxs("button",{type:"button",onClick:()=>{try{const Y=_G(),fe=new Audio(Y);fe.currentTime=0,fe.play(),Y.startsWith("blob:")&&fe.addEventListener("ended",()=>URL.revokeObjectURL(Y))}catch{}},className:"px-3 py-2 rounded-lg bg-church-primary/10 text-church-primary text-sm flex items-center gap-1",children:[s.jsx(ka,{size:14})," Testar"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-text mb-2",children:"Solicitaes (MP3)"}),s.jsxs("label",{htmlFor:"audio-requests-upload",className:"relative cursor-pointer rounded-lg border-2 border-dashed border-jkd-border w-full p-4 flex justify-center items-center text-center transition-colors hover:border-church-primary/50",children:[s.jsxs("div",{className:"space-y-1 text-jkd-text",children:[s.jsx(ns,{className:"mx-auto h-8 w-8"}),s.jsx("span",{className:"font-medium text-church-primary",children:"Clique para enviar"}),s.jsx("p",{className:"text-xs",children:"MP3 at 20MB"})]}),s.jsx("input",{id:"audio-requests-upload",type:"file",className:"sr-only",accept:"audio/mpeg,audio/mp3",onChange:Y=>L(Y,"audioAlertRequestsUrl","audio/requests")})]}),n.audioAlertRequestsUrl?s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("audio",{controls:!0,src:n.audioAlertRequestsUrl,className:"w-full"}),s.jsx("button",{type:"button",onClick:()=>a(Y=>({...Y,audioAlertRequestsUrl:"",audioAlertRequestsName:""})),className:"px-3 py-2 rounded-lg bg-red-500/10 text-red-600 text-sm",children:"Remover"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs text-jkd-text",children:["Arquivo: ",n.audioAlertRequestsName||"Sem nome"]}),s.jsxs("button",{type:"button",onClick:()=>{try{const Y=new Audio(n.audioAlertRequestsUrl);Y.currentTime=0,Y.play()}catch{}},className:"px-3 py-2 rounded-lg bg-church-primary/10 text-church-primary text-sm flex items-center gap-1",children:[s.jsx(ka,{size:14})," Testar"]})]})]}):s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-jkd-text",children:"Usando som padro"}),s.jsxs("button",{type:"button",onClick:()=>{try{const Y=CG(),fe=new Audio(Y);fe.currentTime=0,fe.play(),Y.startsWith("blob:")&&fe.addEventListener("ended",()=>URL.revokeObjectURL(Y))}catch{}},className:"px-3 py-2 rounded-lg bg-church-primary/10 text-church-primary text-sm flex items-center gap-1",children:[s.jsx(ka,{size:14})," Testar"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-text mb-2",children:"Incio de Programao (MP3)"}),s.jsxs("label",{htmlFor:"audio-program-start-upload",className:"relative cursor-pointer rounded-lg border-2 border-dashed border-jkd-border w-full p-4 flex justify-center items-center text-center transition-colors hover:border-church-primary/50",children:[s.jsxs("div",{className:"space-y-1 text-jkd-text",children:[s.jsx(ns,{className:"mx-auto h-8 w-8"}),s.jsx("span",{className:"font-medium text-church-primary",children:"Clique para enviar"}),s.jsx("p",{className:"text-xs",children:"MP3 at 20MB"})]}),s.jsx("input",{id:"audio-program-start-upload",type:"file",className:"sr-only",accept:"audio/mpeg,audio/mp3",onChange:Y=>L(Y,"programStartAudioUrl","audio/program-start")})]}),n.programStartAudioUrl?s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("audio",{controls:!0,src:n.programStartAudioUrl,className:"w-full"}),s.jsx("button",{type:"button",onClick:()=>a(Y=>({...Y,programStartAudioUrl:"",programStartAudioName:""})),className:"px-3 py-2 rounded-lg bg-red-500/10 text-red-600 text-sm",children:"Remover"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs text-jkd-text",children:["Arquivo: ",n.programStartAudioName||"Sem nome"]}),s.jsxs("button",{type:"button",onClick:()=>{try{const Y=new Audio(n.programStartAudioUrl);Y.currentTime=0,Y.play()}catch{}},className:"px-3 py-2 rounded-lg bg-church-primary/10 text-church-primary text-sm flex items-center gap-1",children:[s.jsx(ka,{size:14})," Testar"]})]})]}):s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-jkd-text",children:"Usando som padro"}),s.jsxs("button",{type:"button",onClick:()=>{try{const Y=IG(),fe=new Audio(Y);fe.currentTime=0,fe.play(),Y.startsWith("blob:")&&fe.addEventListener("ended",()=>URL.revokeObjectURL(Y))}catch{}},className:"px-3 py-2 rounded-lg bg-church-primary/10 text-church-primary text-sm flex items-center gap-1",children:[s.jsx(ka,{size:14})," Testar"]})]}),s.jsx("div",{className:"mt-3",children:s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-jkd-text",children:[s.jsx("input",{type:"checkbox",checked:!!n.programStartAudioMuted,onChange:Y=>b("programStartAudioMuted",Y.target.checked),className:"rounded border-jkd-border"}),"Mutar udio de incio de programao"]})})]})]}),p&&s.jsx("p",{className:"text-xs text-jkd-text mt-2",children:"Enviando udio..."})]})]}),s.jsx("div",{className:"flex justify-end pt-6 border-t border-jkd-border",children:s.jsxs("button",{onClick:E,className:"inline-flex items-center space-x-2 bg-church-primary text-white px-6 py-2 rounded-lg font-semibold hover:bg-church-primary/90 transition-all",children:[s.jsx(as,{size:18}),s.jsx("span",{children:"Salvar Todas as Alteraes"})]})})]})]})},JFe=()=>{const{leaderRequests:t,updateLeaderRequestStatus:e}=cr(),r=t.filter(n=>n.status==="pending");return s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border",children:[s.jsxs("div",{className:"p-6 border-b border-jkd-border",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Solicitaes de Acesso"}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Aprove ou rejeite os pedidos de novos lderes."})]}),s.jsx("div",{className:"p-6",children:r.length>0?s.jsx("div",{className:"space-y-4",children:r.map(n=>s.jsx("div",{className:"bg-jkd-bg rounded-lg border border-jkd-border p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-jkd-heading",children:n.name}),s.jsx("p",{className:"text-sm text-jkd-text",children:n.email}),s.jsx("p",{className:"text-sm text-jkd-text",children:n.phone}),s.jsxs("p",{className:"text-sm text-jkd-text/80 mt-1",children:["Ministrio: ",s.jsx("strong",{children:n.ministry})]})]}),s.jsxs("div",{className:"mt-4 sm:mt-0 flex-shrink-0 flex flex-col items-end",children:[s.jsxs("p",{className:"text-xs text-jkd-text/70 mb-2",children:["Recebido em: ",Ar(n.createdAt,"dd/MM/yy HH:mm",{locale:Hs})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>e(n.id,"rejected"),className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg text-red-600 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:text-red-300 dark:hover:bg-red-900/50",children:[s.jsx(On,{size:16})," Rejeitar"]}),s.jsxs("button",{onClick:()=>e(n.id,"approved"),className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg text-green-600 bg-green-100 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-300 dark:hover:bg-green-900/50",children:[s.jsx(vy,{size:16})," Aprovar"]})]})]})]})},n.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Nf,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-jkd-text",children:"Nenhuma solicitao de acesso pendente."})]})})]})},e$e=({onSave:t})=>{const{settings:e,updateSettings:r}=cr(),{user:n}=xr(),{showToast:a}=Da(),[i,o]=v.useState(e.videoNewsSettings),[c,u]=v.useState(!1),h=v.useRef(null),f=(g,x)=>{o(j=>({...j,[g]:x}))},p=()=>{r({videoNewsSettings:i}),t()};return s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border",children:[s.jsxs("div",{className:"p-6 border-b border-jkd-border",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Gerenciamento do Vdeo News"}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Configure o vdeo que aparecer no popup da pgina inicial."})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-jkd-bg border border-jkd-border rounded-lg",children:[s.jsx("span",{className:"font-medium text-jkd-text",children:"Habilitar Vdeo na Home"}),s.jsxs("button",{type:"button",onClick:()=>f("enabled",!i.enabled),className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm ${i.enabled?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:[i.enabled?s.jsx(Gx,{size:18}):s.jsx(Wx,{size:18}),i.enabled?"Ativado":"Desativado"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium text-jkd-heading",children:"Fonte do Vdeo"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>f("sourceType","youtube"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm transition-colors ${i.sourceType==="youtube"?"bg-church-primary text-white":"bg-jkd-bg border border-jkd-border"}`,children:[s.jsx(jG,{size:16})," YouTube"]}),s.jsxs("button",{type:"button",onClick:()=>f("sourceType","url"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm transition-colors ${i.sourceType==="url"?"bg-church-primary text-white":"bg-jkd-bg border border-jkd-border"}`,children:[s.jsx(hv,{size:16})," URL Direta"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"videoUrl",className:"block text-sm font-medium text-jkd-heading mb-1",children:"URL do Vdeo"}),s.jsx("input",{type:"url",id:"videoUrl",value:i.url,onChange:g=>f("url",g.target.value),className:"w-full input-style",placeholder:i.sourceType==="youtube"?"https://www.youtube.com/watch?v=...":"https://servidor.com/video.mp4",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Upload (MP4, MOV)"}),s.jsx("input",{ref:h,type:"file",accept:".mp4,.mov,video/mp4,video/quicktime",className:"hidden",onChange:async g=>{var j;const x=(j=g.target.files)==null?void 0:j[0];if(x)try{u(!0);const w=await r3e(x);o(b=>({...b,sourceType:"url",url:w}))}catch(w){a("error",(w==null?void 0:w.message)||"Falha no upload do vdeo.")}finally{u(!1),h.current&&(h.current.value="")}}}),s.jsxs("button",{type:"button",onClick:()=>{var g;return(g=h.current)==null?void 0:g.click()},disabled:c||(n==null?void 0:n.role)!=="admin",title:(n==null?void 0:n.role)!=="admin"?"Apenas administradores podem enviar vdeos":c?"Enviando...":"",className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-jkd-border rounded-lg bg-jkd-bg text-jkd-text disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ns,{size:20}),s.jsx("span",{children:c?"Enviando...":"Fazer upload de vdeo"})]}),s.jsx("p",{className:"text-xs text-jkd-text/70 mt-1",children:'Use arquivos MP4 ou MOV. Aps o envio, a URL gerada ser preenchida automaticamente na opo "URL Direta" acima.'})]}),s.jsx("div",{className:"flex justify-end pt-4 border-t border-jkd-border",children:s.jsxs("button",{onClick:p,className:"inline-flex items-center space-x-2 bg-church-primary text-white px-6 py-2 rounded-lg hover:bg-church-primary/90",children:[s.jsx(as,{size:16}),s.jsx("span",{children:"Salvar Alteraes"})]})})]}),s.jsx("style",{children:".input-style { @apply px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary; }"})]})},_F=[{id:"introducao",title:"Introduo",icon:s.jsx(by,{size:16})},{id:"como-comecar",title:"Como comear",icon:s.jsx(by,{size:16})},{id:"funcoes",title:"Perfis de acesso",icon:s.jsx(Wc,{size:16})},{id:"painel-lider",title:"Painel",icon:s.jsx(hi,{size:16})},{id:"alertas-chat",title:"Mensagens e alertas",icon:s.jsx(tf,{size:16})},{id:"admin-aprovacoes",title:"Aprovaes (Admin)",icon:s.jsx(wf,{size:16})},{id:"admin-solicitacoes",title:"Solicitaes (Admin)",icon:s.jsx(Nf,{size:16})},{id:"admin-usuarios",title:"Usurios",icon:s.jsx(Wc,{size:16})},{id:"admin-lideres",title:"Lderes (Admin)",icon:s.jsx(hG,{size:16})},{id:"admin-chat",title:"Mensagens (Admin)",icon:s.jsx(nc,{size:16})},{id:"admin-cultos",title:"Cultos",icon:s.jsx(rf,{size:16})},{id:"admin-roteiros",title:"Roteiros (Editor/Admin)",icon:s.jsx(Od,{size:16})},{id:"admin-video",title:"Vdeo News",icon:s.jsx(DI,{size:16})},{id:"admin-configuracoes",title:"Configuraes",icon:s.jsx(Id,{size:16})},{id:"galeria",title:"Galeria de Imagens",icon:s.jsx(gp,{size:16})},{id:"ticker-conscientizacao",title:"Conscientizao no Ticker",icon:s.jsx(PI,{size:16})},{id:"formularios",title:"Formulrios",icon:s.jsx(Cs,{size:16})},{id:"area-publica",title:"Site pblico",icon:s.jsx(hv,{size:16})}],Za=({id:t,title:e,icon:r,children:n})=>s.jsx("section",{id:t,className:"mb-12 scroll-mt-24",children:s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border",children:[s.jsx("div",{className:"p-6 border-b border-jkd-border",children:s.jsxs("h2",{className:"text-xl font-bold text-jkd-heading flex items-center gap-3",children:[r,e]})}),s.jsx("div",{className:"p-6 prose prose-sm dark:prose-invert max-w-none text-jkd-text leading-relaxed",children:n})]})}),t$e=()=>{const[t,e]=v.useState("introducao"),r=v.useRef(null);v.useEffect(()=>{const a=()=>{var u;const o=((u=r.current)==null?void 0:u.scrollTop)||0;let c="";for(const h of _F){const f=document.getElementById(h.id);f&&f.offsetTop-100<=o&&(c=h.id)}c&&e(c)},i=r.current;return i==null||i.addEventListener("scroll",a),()=>i==null?void 0:i.removeEventListener("scroll",a)},[]);const n=a=>{const i=document.getElementById(a);i==null||i.scrollIntoView({behavior:"smooth",block:"start"}),e(a)};return s.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[s.jsx("aside",{className:"md:w-1/3 lg:w-1/4",children:s.jsxs("div",{className:"sticky top-24",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading mb-4",children:"Tpicos de Ajuda"}),s.jsx("nav",{className:"space-y-1",children:_F.map(a=>s.jsxs("button",{onClick:()=>n(a.id),className:`w-full text-left flex items-center gap-3 px-3 py-2 text-sm rounded-md transition-colors ${t===a.id?"bg-church-primary/10 text-church-primary font-semibold":"text-jkd-text hover:bg-jkd-bg-sec"}`,children:[a.icon,s.jsx("span",{children:a.title})]},a.id))})]})}),s.jsxs("main",{ref:r,className:"md:w-2/3 lg:w-3/4 max-h-[calc(100vh-12rem)] overflow-y-auto pr-4",children:[s.jsxs(Za,{id:"introducao",title:"Introduo",icon:s.jsx(by,{size:20}),children:[s.jsx("h3",{children:"Bem-vindo ao Fonte News"}),s.jsx("p",{children:"Este guia explica, em linguagem simples, como usar o Fonte News para organizar e divulgar as atividades da igreja. Aqui voc encontra orientaes para criar programaes, gerenciar cultos, enviar mensagens e ajustar as configuraes visuais do site."}),s.jsx("p",{children:"Voc no precisa conhecer termos tcnicos. Cada seo descreve o essencial, com passos prticos para voc concluir suas tarefas com segurana."})]}),s.jsxs(Za,{id:"como-comecar",title:"Como comear",icon:s.jsx(by,{size:20}),children:[s.jsx("h3",{children:"Passo a passo"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Entrar:"})," Faa login pelo menu superior. Se ainda no tem acesso, solicite autorizao na tela de login."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Navegar:"})," Use o menu superior (Home, News, Cultos, Agenda) ou acesse o ",s.jsx("strong",{children:"Painel"})," para as tarefas de lder/editor."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Criar programao:"})," No Painel, escolha ",s.jsx("em",{children:"Nova Programao"}),", preencha os dados e salve."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Enviar para aprovao:"})," Programaes criadas por lderes ficam como ",s.jsx("em",{children:"Pendente"})," at um administrador aprovar."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Mensagens:"})," Use a rea de ",s.jsx("em",{children:"Mensagens"})," para falar com administradores ou responder conversas."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ajuda rpida:"})," Se tiver dvidas, volte a esta pgina e abra o tpico correspondente."]})]})]}),s.jsxs(Za,{id:"galeria",title:"Galeria de Imagens",icon:s.jsx(gp,{size:20}),children:[s.jsxs("p",{children:["A ",s.jsx("strong",{children:"Galeria"}),"  o lugar onde voc encontra e organiza imagens para usar nas criaes de ",s.jsx("strong",{children:"Programaes"})," e ",s.jsx("strong",{children:"Cultos"}),"."]}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Galeria (Painel):"})," Acesse pelo menu lateral do Painel para ",s.jsx("em",{children:"buscar"}),", ",s.jsx("em",{children:"filtrar por tipo"}),", ",s.jsx("em",{children:"copiar o link"})," da imagem e ",s.jsx("em",{children:"enviar"})," novas imagens (at ",s.jsx("strong",{children:"5MB"}),")."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Galeria Light (Formulrios):"})," Nos formulrios de Nova Programao e Novo Culto, use o boto ",s.jsx("em",{children:"Galeria"})," ao lado do campo de imagem para visualizar e inserir o link rapidamente."]})]}),s.jsx("h3",{children:"Como usar"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Copiar link:"})," Clique no cone de copiar. No modo Light, o boto ",s.jsx("em",{children:"Inserir"})," coloca o link direto no campo."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Enviar imagem:"})," Use o boto ",s.jsx("em",{children:"Upload"})," para adicionar arquivos nos formatos ",s.jsx("em",{children:"JPG"}),", ",s.jsx("em",{children:"PNG"})," ou ",s.jsx("em",{children:"SVG"})," (at 5MB)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Quem pode enviar:"})," Administradores, editores e lderes logados."]})]}),s.jsx("h3",{children:"Boas prticas"}),s.jsxs("ul",{children:[s.jsx("li",{children:"D nomes claros s imagens para facilitar a busca."}),s.jsxs("li",{children:["Prefira ",s.jsx("em",{children:"PNG"})," para logos com transparncia e ",s.jsx("em",{children:"JPG"})," para fotos."]}),s.jsx("li",{children:"Mantenha propores adequadas ao uso: 1:1 ou 9:16 para cards; 16:9 para banners/overlays."})]})]}),s.jsxs(Za,{id:"funcoes",title:"Perfis de acesso",icon:s.jsx(Wc,{size:20}),children:[s.jsx("p",{children:"O sistema possui trs nveis de acesso:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsxs("strong",{children:["Administrador ",s.jsx(yG,{size:14,className:"inline"}),":"]})," Tem acesso total a todas as reas, incluindo configuraes, gerenciamento de lderes e aprovao de contedo. As contas ",s.jsx("code",{children:"secretaria.adfdevidalaranjeiras@gmail.com"})," e ",s.jsx("code",{children:"fontedevidalaranjeiras@gmail.com"})," so administradores protegidos e no podem ser alterados ou excludos."]}),s.jsxs("li",{children:[s.jsxs("strong",{children:["Editor ",s.jsx(Od,{size:14,className:"inline"}),":"]})," Possui as mesmas permisses de um Lder, mas com o acesso adicional ao menu de ",s.jsx("strong",{children:"Roteiros"}),", podendo criar e gerenciar os scripts de gravao."]}),s.jsxs("li",{children:[s.jsxs("strong",{children:["Lder ",s.jsx(hi,{size:14,className:"inline"}),":"]})," Pode criar e gerenciar suas prprias programaes (que necessitam de aprovao), editar seu perfil e se comunicar com os administradores."]})]})]}),s.jsxs(Za,{id:"painel-lider",title:"Painel",icon:s.jsx(hi,{size:20}),children:[s.jsx("p",{children:"Acessvel aps o login, o painel  a rea de trabalho dos lderes e editores."}),s.jsx("h3",{children:"Programaes"}),s.jsxs("p",{children:['Lderes podem criar "Novas Programaes", que podem ser de diversos tipos (Aviso, Evento, Retiro, etc.). Toda programao criada por um lder entra em um status de ',s.jsx("strong",{children:'"Pendente"'})," e s se torna pblica aps a aprovao de um administrador."]}),s.jsx("h3",{children:"Caixa de Entrada"}),s.jsxs("p",{children:["Nesta aba, o usurio pode visualizar todas as mensagens enviadas pela administrao, ",s.jsx("strong",{children:"responder"})," a elas ",s.jsx(J0e,{size:14,className:"inline"}),", ou iniciar uma ",s.jsx("strong",{children:"nova conversa"})," com um administrador especfico."]}),s.jsx("h3",{children:"Meu Perfil"}),s.jsx("p",{children:'Clicando no avatar no canto superior direito, o usurio pode acessar "Meu Perfil" para atualizar seu nome e a URL da sua foto de perfil.'})]}),s.jsxs(Za,{id:"alertas-chat",title:"Mensagens e alertas",icon:s.jsx(tf,{size:20}),children:[s.jsx("p",{children:"O topo do site mostra cones com contagens para te avisar sobre novidades. Eles s aparecem quando h algo novo para ver."}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"cone de Conversas (balo):"})," aparece apenas quando h mensagens no lidas. Clique para ir direto ao ",s.jsx("em",{children:"Painel"})," na aba ",s.jsx("strong",{children:"Chat"}),"."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"cone de Sino (Admin):"})," exclusivo para administradores. Mostra a soma de itens ",s.jsx("em",{children:"pendentes"})," de ",s.jsx("strong",{children:"Aprovaes"})," + ",s.jsx("strong",{children:"Solicitaes"}),". Clique para abrir o ",s.jsx("em",{children:"Admin"}),"."]}),s.jsxs("li",{children:[s.jsx("strong",{children:'Badges na aba "Chat":'})," tambm indicam novas atividades dentro do Painel."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Indicadores dentro das conversas:"})," destacam mensagens novas de forma clara, sem atrapalhar a leitura."]})]}),s.jsx("p",{children:"Dica: se no houver itens novos, os cones ficam ocultos para manter a tela limpa."})]}),s.jsxs(Za,{id:"admin-aprovacoes",title:"Aprovaes (Admin)",icon:s.jsx(wf,{size:20}),children:[s.jsx("p",{children:"Esta  a primeira tela do painel administrativo. Aqui, voc ver uma lista de todas as programaes criadas por lderes que esto aguardando sua anlise. Voc pode:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Aprovar:"})," A programao se tornar pblica e visvel para todos na pgina inicial e na agenda."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Rejeitar:"})," A programao ser marcada como rejeitada e no ser publicada."]})]})]}),s.jsxs(Za,{id:"admin-solicitacoes",title:"Solicitaes (Admin)",icon:s.jsx(Nf,{size:20}),children:[s.jsx("p",{children:'Quando um lder no autorizado tenta fazer login, ele tem a opo de "Solicitar Autorizao". Todos os pedidos aparecem nesta aba.'}),s.jsxs("p",{children:["Ao ",s.jsx("strong",{children:"Aprovar"}),' uma solicitao, um novo lder  criado automaticamente no sistema com status "Ativo". O acesso do lder passa a depender do status e das autorizaes atribudas.']})]}),s.jsxs(Za,{id:"admin-usuarios",title:"Usurios",icon:s.jsx(Wc,{size:20}),children:[s.jsx("p",{children:"Aqui voc acompanha, de forma simples, quem est usando o site agora e como foi a movimentao em dias anteriores."}),s.jsx("h3",{children:"Quem est online agora"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Administradores, Editores e Lderes:"})," mostram quantas pessoas desses perfis esto usando o sistema neste momento."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Leitores:"})," pessoas que entraram com login apenas para navegar e ler."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Visitantes:"})," pessoas navegando sem login. Contamos cada visitante uma vez, mesmo que abra vrias abas."]})]}),s.jsx("h3",{children:"Visitas por dia"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Calendrio:"})," cada dia exibe o total de visitas. Ao selecionar um dia, voc v a soma e como ela se divide por perfil (administrador, editor, lder, leitor e visitante)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Nmeros rpidos:"})," os pequenos nmeros no calendrio ajudam a identificar dias mais movimentados."]})]}),s.jsx("h3",{children:"Grficos"}),s.jsx("ul",{children:s.jsxs("li",{children:[s.jsx("strong",{children:"ltimos dias:"})," os grficos mostram a evoluo de visitas e a participao de cada perfil, facilitando a visualizao de tendncias."]})}),s.jsx("h3",{children:"Dicas de leitura"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Use os nmeros para identificar horrios de pico e planejar comunicao."}),s.jsx("li",{children:"Se algum valor parecer diferente do esperado, atualize a pgina e confira novamente mais tarde."})]})]}),s.jsxs(Za,{id:"admin-lideres",title:"Lderes (Admin)",icon:s.jsx(hG,{size:20}),children:[s.jsx("p",{children:"Esta aba centraliza todo o gerenciamento de lderes."}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Adicionar Novo Lder:"})," Crie contas para lderes, editores ou outros administradores.  obrigatrio definir ",s.jsx("strong",{children:"nome"}),", ",s.jsx("strong",{children:"e-mail"}),", ",s.jsx("strong",{children:"telefone"}),", ",s.jsx("strong",{children:"funo"}),' e atribu-lo a pelo menos um "Ministrio / Departamento".']}),s.jsxs("li",{children:[s.jsx("strong",{children:"Gerenciar Status:"})," Voc pode ",s.jsx("strong",{children:"Ativar/Inativar"})," ou ",s.jsx("strong",{children:"Bloquear/Desbloquear"})," um lder. Um lder inativo ou bloqueado no pode fazer login."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ministrio / Departamento:"})," Ao criar ou editar um lder, voc pode criar novos grupos ou atribuir o lder a grupos existentes. Esses grupos so usados para enviar mensagens direcionadas."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Status Online:"})," Um crculo verde indica que o lder est logado no app, enquanto o vermelho indica que est offline."]})]})]}),s.jsxs(Za,{id:"admin-chat",title:"Mensagens (Admin)",icon:s.jsx(nc,{size:20}),children:[s.jsx("p",{children:"Ferramenta de chat (comunicao de duas vias) entre Administradores e Lderes/Editors."}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Campo de Busca de Lderes:"})," Use a barra de busca (topo da lista de lderes) para encontrar lderes por ",s.jsx("em",{children:"nome"}),", ",s.jsx("em",{children:"e-mail"})," ou ",s.jsx("em",{children:"ministrio/departamento"}),". A busca  dinmica e filtra resultados conforme voc digita."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Seleo por Ministrio / Departamento:"})," Selecione um grupo inteiro para iniciar conversas em massa.  possvel escolher um ou mais ministrios/departamentos e iniciar um chat coletivo com todos os membros selecionados."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Iniciar Chat:"})," Selecione lderes individualmente, utilize a busca para filtr-los, ou selecione um grupo por ministrio/departamento para iniciar conversas em grupo."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Caixa de Entrada:"})," Leia e gerencie conversas recebidas, mantendo toda a comunicao centralizada por tpicos (threads)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Alertas:"}),' Indicadores destacam novas mensagens e itens no lidos no cabealho, na aba "Chat" e dentro das conversas, de forma clara e automtica.']})]})]}),s.jsxs(Za,{id:"admin-cultos",title:"Cultos",icon:s.jsx(rf,{size:20}),children:[s.jsx("p",{children:'Gerencie os cultos regulares da igreja que aparecem na pgina "Cultos".'}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Logo da Pgina:"})," Defina uma imagem personalizada que aparecer no topo da pgina de cultos."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Gerenciar Cultos:"})," Adicione, edite ou remova cultos. Use o editor de recorrncia avanado para definir os dias e horrios."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Recorrncia Mensal Avanada:"}),' Agora  possvel definir recorrncias como "toda primeira segunda-feira do ms" ou "todo ltimo domingo do ms".']})]})]}),s.jsxs(Za,{id:"admin-roteiros",title:"Roteiros (Editor/Admin)",icon:s.jsx(Od,{size:20}),children:[s.jsx("p",{children:"Esta seo  uma ferramenta de planejamento para as gravaes do Fonte News, acessvel apenas por Admins e Editores."}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Criar Roteiro:"})," Crie um script com ttulo, contedo, data da programao associada e o ms da gravao."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Status:"}),' Defina o status do roteiro como "Rascunho", "Pronto" ou "Revisado".']}),s.jsxs("li",{children:[s.jsx("strong",{children:"Aes:"})," Voc pode visualizar, editar, baixar como .txt ou excluir um roteiro."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Histrico:"}),' Na tela de edio, a aba "Histrico" mostra quem fez alteraes e quando.']})]})]}),s.jsxs(Za,{id:"admin-video",title:"Vdeo News",icon:s.jsx(DI,{size:20}),children:[s.jsxs("p",{children:["Configure o boto de vdeo ",s.jsx(ka,{size:14,className:"inline"})," que aparece na pgina inicial."]}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Habilitar/Desabilitar:"})," Ative ou desative o boto."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Fonte do Vdeo:"})," Escolha entre uma URL do ",s.jsx("strong",{children:"YouTube"})," ou uma ",s.jsx("strong",{children:"URL Direta"})," de um arquivo de vdeo (MP4, etc.)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Upload (MP4, MOV):"})," Envie um arquivo de vdeo e use a URL direta gerada na opo ",s.jsx("strong",{children:"URL Direta"})," acima. Recomenda-se formatos MP4 ou MOV."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Autoplay:"})," O vdeo configurado tocar automaticamente ao ser aberto."]})]})]}),s.jsxs(Za,{id:"admin-configuracoes",title:"Configuraes",icon:s.jsx(Id,{size:20}),children:[s.jsx("p",{children:"Personalize a identidade visual e o comportamento do aplicativo."}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Aparncia:"}),' Defina o "Nome da Igreja" (subttulo da home), a URL do logo do cabealho e a "Cor Principal" ',s.jsx(Lw,{size:14,className:"inline"})," que afeta botes, links e detalhes em todo o site."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Destaque News (Slideshow):"})," Adicione imagens por link ou upload para o topo da Home. Configure o ",s.jsx("em",{children:"efeito"})," (fade ou slide) e a ",s.jsx("em",{children:"durao"})," da transio. ",s.jsx("em",{children:"Dica:"})," use propores 1:1 (quadrado) ou 9:16 (vertical) para melhor enquadramento."]}),s.jsxs("li",{children:[s.jsxs("strong",{children:["Faixa de Notcias (Ticker) ",s.jsx(PI,{size:14,className:"inline"}),":"]})," Controle a faixa animada que aparece abaixo do cabealho. Voc pode ligar/desligar, definir a direo, a velocidade e o contedo (programaes da semana, ms ou ano). A faixa tambm suporta o ",s.jsx("em",{children:"Calendrio de Conscientizao"})," (veja seo dedicada abaixo) para exibir um texto curto e um logo mensal."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Informaes de Contato:"})," Preencha os dados da secretaria, que sero exibidos na pgina inicial."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Copyright:"})," Edite o texto que aparece no rodap."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Destaque Countdown:"})," O overlay do countdown pode ser definido por evento (via formulrio). Se o evento no tiver imagem especfica, o sistema usa a ",s.jsx("em",{children:"Imagem de Fundo (Parallax)"})," global como padro. ",s.jsx("em",{children:"Diretriz de tamanho:"})," use proporo 16:9 (ex.: 19201080). O texto do countdown  sempre branco slido e permanece acima do overlay."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Countdown: Overlay com Fade Cclico:"})," Ative/desative globalmente o efeito de overlay e ajuste os tempos: ",s.jsx("em",{children:"visvel"}),", ",s.jsx("em",{children:"oculto"}),", ",s.jsx("em",{children:"fade-in"})," e ",s.jsx("em",{children:"fade-out"}),". Valores padro: visvel 30s, oculto 15s, fade-in 5s, fade-out 5s. Aplica-se a todos os countdowns novos."]})]})]}),s.jsxs(Za,{id:"ticker-conscientizacao",title:"Conscientizao no Ticker",icon:s.jsx(vbe,{size:20}),children:[s.jsxs("p",{children:["Esta funcionalidade permite destacar campanhas de conscientizao (como ",s.jsx("em",{children:"Outubro Rosa"}),", ",s.jsx("em",{children:"Novembro Azul"}),") diretamente na Faixa de Notcias, exibindo um ",s.jsx("strong",{children:"texto curto"})," e um ",s.jsx("strong",{children:"logo mensal"}),"."]}),s.jsx("h3",{children:"Como configurar"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Caminho:"})," Acesse ",s.jsx("em",{children:"Admin  Configuraes  Faixa de Notcias (Ticker)"}),"."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Texto da campanha:"}),' Defina um texto conciso (ex.: "Outubro Rosa  Preveno e Cuidado").']}),s.jsxs("li",{children:[s.jsx("strong",{children:"Imagem do ms:"})," Escolha entre ",s.jsx("em",{children:"link"})," ou ",s.jsx("em",{children:"upload"}),".  ",s.jsx("em",{children:"Formato sugerido:"})," PNG com fundo transparente, proporo ",s.jsx("strong",{children:"1:1"})," (quadrado), at 5MB."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Prioridade:"})," Ative para exibir o calendrio de conscientizao ",s.jsx("em",{children:"antes"})," do contedo normal do ticker; desative para exibir ",s.jsx("em",{children:"depois"}),"."]})]}),s.jsx("h3",{children:"Comportamento"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Exibio:"})," O logo  mostrado em tamanho compacto (24px) ao lado do texto."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Integrao:"})," Aparece junto ao contedo configurado do ticker (semana/ms/ano), respeitando a ",s.jsx("em",{children:"direo"})," e a ",s.jsx("em",{children:"velocidade"})," definidas."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Marquee contnuo:"})," O contedo  duplicado para garantir movimento contnuo sem cortes."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ocultao automtica:"})," Se ",s.jsx("em",{children:"texto"})," e ",s.jsx("em",{children:"imagem"})," estiverem vazios, o bloco de conscientizao no  exibido."]})]}),s.jsx("h3",{children:"Boas prticas"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Prefira logos limpos e com fundo transparente."}),s.jsx("li",{children:"Mantenha o texto curto para leitura confortvel na faixa em movimento."}),s.jsx("li",{children:"Evite imagens muito detalhadas que percam legibilidade em tamanho reduzido."})]})]}),s.jsxs(Za,{id:"formularios",title:"Formulrios",icon:s.jsx(Cs,{size:20}),children:[s.jsx("p",{children:"Ao criar uma nova Programao ou Culto, voc encontrar dois campos de imagem:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Imagem Principal:"}),' A imagem base do evento (antes chamada de "Imagem (URL)"). Pode ser fornecida por URL ou upload. ',s.jsx("em",{children:"Diretriz:"})," prefira propores 1:1 (quadrado) ou 9:16 (vertical)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Destaque Countdown:"})," Uma imagem opcional para servir de overlay no countdown desse evento. Aceita URL ou upload. Se no definido, o countdown usar a imagem global de Parallax. ",s.jsx("em",{children:"Diretriz:"})," proporo 16:9 para melhor compatibilidade com o layout do countdown."]})]}),s.jsxs("p",{children:["Essas imagens refletem na Home: o ",s.jsx("em",{children:"Destaque News"})," funciona como slideshow configurado nas ",s.jsx("strong",{children:"Configuraes"}),", e o ",s.jsx("em",{children:"Destaque Countdown"})," aparece quando h um evento prximo ou em andamento. Quando o ",s.jsx("strong",{children:"overlay cclico"})," est ativado nas Configuraes, o overlay do countdown far fade-in/out e alternar entre visvel e oculto no ciclo definido."]})]}),s.jsxs(Za,{id:"area-publica",title:"Site pblico",icon:s.jsx(hv,{size:20}),children:[s.jsx("p",{children:"Funcionalidades visveis para todos os visitantes do site."}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Countdown:"})," Mostra uma contagem regressiva para a prxima programao. O overlay (se definido) pode realizar ",s.jsx("em",{children:"fade cclico"})," conforme as Configuraes, mantendo todos os textos/nmeros em branco slido e acima do fundo/overlay."]}),s.jsxs("li",{children:[s.jsxs("strong",{children:["Mini Calendrio ",s.jsx(Cs,{size:14,className:"inline"}),":"]})," Exibe um calendrio compacto na home, destacando os dias com atividades."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Agenda:"})," Uma pgina com um calendrio completo e filtros avanados para pesquisar programaes por perodo (dia, semana, ms, ano) ou por tipo."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Rodap:"})," Acesse os links de ",s.jsx("strong",{children:"Termos de Uso"})," e ",s.jsx("strong",{children:"Poltica de Privacidade"})," pelo rodap."]}),s.jsxs("li",{children:[s.jsx("strong",{children:'Boto "Voltar ao Topo":'})," Um boto flutuante com um indicador de progresso de rolagem que leva o usurio suavemente de volta ao topo."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Tags de Prioridade:"})," As etiquetas ",s.jsx("em",{children:"Baixa"}),", ",s.jsx("em",{children:"Mdia"})," e ",s.jsx("em",{children:"Alta"})," aparecem apenas para Lderes logados em suas contas; visitantes no as veem."]})]})]})]})]})},$0=({id:t,icon:e,label:r,count:n,active:a,onSelect:i})=>s.jsxs("button",{type:"button",onClick:()=>i(t),className:`flex items-center gap-2 px-3 py-2 rounded-md border ${a?"border-church-primary bg-church-primary/10 text-church-primary":"border-jkd-border hover:bg-jkd-border/30 text-jkd-text"}`,children:[e,s.jsx("span",{className:"text-sm font-medium",children:r}),s.jsx("span",{className:"ml-2 text-xs px-2 py-0.5 rounded-full bg-jkd-border/50 text-jkd-heading",children:n})]}),B0=({id:t,title:e,icon:r,inputValue:n,onInputChange:a,onCreate:i,items:o,emptyText:c,expanded:u,onToggleExpand:h,onDeleteItem:f})=>s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-jkd-border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[r,s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:e})]}),s.jsxs("button",{type:"button",onClick:()=>h(t),className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md border border-jkd-border hover:bg-jkd-border/30 text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:u?"Ocultar lista":"Mostrar lista"}),s.jsx(Nbe,{size:16,className:`transition-transform ${u?"rotate-180":""}`})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("input",{type:"text",value:n,onChange:p=>a(p.target.value),onKeyDown:p=>p.stopPropagation(),placeholder:`Novo ${e.split(" ")[0]}...`,className:"flex-1 px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-heading placeholder-jkd-text/50 focus:outline-none focus:ring-2 focus:ring-church-primary"}),s.jsxs("button",{type:"button",onClick:i,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-jkd-bg border border-jkd-border hover:bg-jkd-border",children:[s.jsx(vl,{size:16})," Criar"]})]}),s.jsx(Ti,{initial:!1,children:u&&s.jsxs(ar.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25},className:"divide-y divide-jkd-border overflow-hidden",children:[o.map(p=>s.jsxs("li",{className:"flex items-center justify-between py-2",children:[s.jsx("span",{className:"text-jkd-text",children:p.name}),s.jsx("button",{type:"button",onClick:()=>f(p.id),className:"p-1 rounded hover:bg-red-500/10 text-red-500",children:s.jsx(Ss,{size:16})})]},p.id)),o.length===0&&s.jsx("li",{className:"py-2 text-sm text-jkd-text/70",children:c})]})})]})]}),r$e=()=>{const[t,e]=v.useState([]),[r,n]=v.useState([]),[a,i]=v.useState([]),[o,c]=v.useState([]),[u,h]=v.useState(""),[f,p]=v.useState(""),[g,x]=v.useState(""),[j,w]=v.useState(""),[b,N]=v.useState(!1),[E,A]=v.useState("temas"),[O,M]=v.useState({temas:!0,topicos:!0,tipos:!0,prioridades:!0}),L=async()=>{N(!0);try{const[_,D,P,R]=await Promise.all([ss("tema"),ss("topico"),ss("tipo"),ss("prioridade")]),U=$=>[...$].sort((K,F)=>K.name.localeCompare(F.name,"pt-BR",{sensitivity:"base"}));e(U(_)),n(U(D)),i(U(P)),c(U(R))}finally{N(!1)}};v.useEffect(()=>{L()},[]);const I=async(_,D)=>{_.trim()&&(await Uke(_.trim(),D),D==="tema"?h(""):D==="topico"?p(""):D==="tipo"?x(""):D==="prioridade"&&w(""),L())},T=async _=>{await Vke(_),L()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx($0,{id:"temas",icon:s.jsx(c0,{size:16}),label:"Temas",count:t.length,active:E==="temas",onSelect:A}),s.jsx($0,{id:"topicos",icon:s.jsx(DT,{size:16}),label:"Tpicos",count:r.length,active:E==="topicos",onSelect:A}),s.jsx($0,{id:"tipos",icon:s.jsx(c0,{size:16}),label:"Tipos",count:a.length,active:E==="tipos",onSelect:A}),s.jsx($0,{id:"prioridades",icon:s.jsx(_i,{size:16}),label:"Prioridades",count:o.length,active:E==="prioridades",onSelect:A})]}),E==="temas"&&s.jsx(B0,{id:"temas",title:"Temas (Categorias)",icon:s.jsx(c0,{size:18}),inputValue:u,onInputChange:h,onCreate:()=>I(u,"tema"),items:t,emptyText:"Nenhum tema cadastrado.",expanded:O.temas,onToggleExpand:_=>M(D=>({...D,[_]:!D[_]})),onDeleteItem:T}),E==="topicos"&&s.jsx(B0,{id:"topicos",title:"Tpicos (Tags)",icon:s.jsx(DT,{size:18}),inputValue:f,onInputChange:p,onCreate:()=>I(f,"topico"),items:r,emptyText:"Nenhum tpico cadastrado.",expanded:O.topicos,onToggleExpand:_=>M(D=>({...D,[_]:!D[_]})),onDeleteItem:T}),E==="tipos"&&s.jsx(B0,{id:"tipos",title:"Tipos de Programao",icon:s.jsx(c0,{size:18}),inputValue:g,onInputChange:x,onCreate:()=>I(g,"tipo"),items:a,emptyText:"Nenhum tipo cadastrado.",expanded:O.tipos,onToggleExpand:_=>M(D=>({...D,[_]:!D[_]})),onDeleteItem:T}),E==="prioridades"&&s.jsx(B0,{id:"prioridades",title:"Prioridades",icon:s.jsx(_i,{size:18}),inputValue:j,onInputChange:w,onCreate:()=>I(j,"prioridade"),items:o,emptyText:"Nenhuma prioridade cadastrada.",expanded:O.prioridades,onToggleExpand:_=>M(D=>({...D,[_]:!D[_]})),onDeleteItem:T}),b&&s.jsx("div",{className:"text-sm text-jkd-text/70",children:"Carregando..."})]})},n$e=()=>{const{user:t}=xr(),{leaderRequests:e,announcements:r}=cr(),{showToast:n}=Da(),[a,i]=v.useState("approvals"),o=pi(),c=mn(),u=e.filter(x=>x.status==="pending").length,h=r.filter(x=>x.status==="pending").length;if(!t||t.role!=="admin")return s.jsx(pl,{to:"/dashboard",replace:!0});const f=()=>{n("success","Configuraes salvas com sucesso!")},p=()=>{switch(a){case"approvals":return s.jsx(g3e,{});case"requests":return s.jsx(JFe,{});case"users":return s.jsx(y3e,{});case"userAnalytics":return s.jsx(XFe,{});case"cultos":return s.jsx(QFe,{onSave:f});case"video":return s.jsx(e$e,{onSave:f});case"settings":return s.jsx(ZFe,{onSave:f});case"taxonomias":return s.jsx(r$e,{});case"help":return s.jsx(t$e,{});default:return null}},g=({tabName:x,label:j,icon:w,count:b,badgeClassName:N})=>s.jsxs("button",{onClick:()=>{i(x);try{const E=new URLSearchParams(o.search);E.set("tab",x),c({pathname:"/admin",search:E.toString()})}catch{}},className:`flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-md transition-colors w-full text-left ${a===x?"bg-church-primary/10 text-church-primary":"text-jkd-text hover:bg-jkd-bg-sec"}`,children:[w,s.jsx("span",{children:j}),b!==void 0&&b>0&&s.jsx("span",{className:`ml-auto ${N||"bg-church-primary"} text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center`,children:b})]});return v.useEffect(()=>{try{const j=new URLSearchParams(o.search).get("tab");j&&["approvals","requests","users","userAnalytics","cultos","video","settings","taxonomias","help"].includes(j)&&i(j)}catch{}},[o.search]),s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Id,{className:"h-8 w-8 text-church-primary"}),s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Painel Administrativo"})]}),s.jsx("p",{className:"text-jkd-text",children:"Gerencie aprovaes, lderes, mensagens e configuraes do sistema."})]}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-500/30 text-blue-800 dark:text-blue-300 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(To,{size:20,className:"flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Lgica de Limpeza Automtica"}),s.jsx("p",{className:"text-sm",children:"Itens no recorrentes so automaticamente apagados 30 dias aps sua data de ocorrncia."})]})]}),s.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-500/30 text-orange-800 dark:text-orange-300 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Is,{size:20,className:"flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Limite de Imagem"}),s.jsxs("p",{className:"text-sm",children:["O tamanho mximo para qualquer imagem  de ",s.jsx("strong",{children:"5MB"}),"."]})]})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("aside",{className:"lg:w-1/4",children:s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-4 space-y-2",children:[s.jsx(g,{tabName:"approvals",label:"Aprovaes",icon:s.jsx(wf,{size:16}),count:h,badgeClassName:"bg-red-600"}),s.jsx(g,{tabName:"requests",label:"Solicitaes",icon:s.jsx(Nf,{size:16}),count:u,badgeClassName:"bg-orange-500"}),s.jsx(g,{tabName:"userAnalytics",label:"Usurios",icon:s.jsx(Wc,{size:16})}),s.jsx(g,{tabName:"users",label:"Lderes",icon:s.jsx(Wc,{size:16})}),s.jsx(g,{tabName:"cultos",label:"Cultos",icon:s.jsx(rf,{size:16})}),s.jsx(g,{tabName:"video",label:"Vdeo News",icon:s.jsx(DI,{size:16})}),s.jsxs("button",{onClick:()=>c("/admin/ecclesia"),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-md transition-colors w-full text-left text-jkd-text hover:bg-jkd-bg-sec",children:[s.jsx(Wc,{size:16}),s.jsx("span",{children:"Eclsia"})]}),s.jsx(g,{tabName:"taxonomias",label:"Taxonomias",icon:s.jsx(DT,{size:16})}),s.jsx(g,{tabName:"help",label:"Ajuda",icon:s.jsx(by,{size:16})})]})}),s.jsx("main",{className:"lg:w-3/4",children:p()})]})]})})},a$e=()=>{var e,r,n;const{settings:t}=cr();return s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading mb-6",children:"Poltica de Privacidade"}),s.jsxs("div",{className:"space-y-6 text-jkd-text",children:[s.jsx("p",{children:"A sua privacidade  importante para ns. Esta poltica descreve quais dados coletamos, como usamos, com quem compartilhamos, por quanto tempo armazenamos e como voc pode exercer seus direitos."}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Dados pessoais coletados"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Identificao: nome completo, e-mail, telefone."}),s.jsx("li",{children:"Perfil de usurio: papel (admin, lder, editor), ministrio/departamento."}),s.jsx("li",{children:"Contedo e atividades: avisos publicados, roteiros, interaes administrativas."}),s.jsx("li",{children:"Dados tcnicos: datas/horrios de acesso, dispositivo/navegador (dados agregados para desempenho)."}),s.jsx("li",{children:"Mdias: avatar ou arquivos enviados para galerias (quando aplicvel)."})]}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Como e por que usamos"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Autenticao e autorizao de usurios."}),s.jsx("li",{children:"Operao do painel e publicao de contedo pelos lderes."}),s.jsx("li",{children:"Comunicaes internas e organizao de ministrios/departamentos."}),s.jsx("li",{children:"Segurana, auditoria interna e preveno de abusos."}),s.jsx("li",{children:"Melhoria de desempenho e experincia do aplicativo."})]}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Com quem compartilhamos"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Equipe autorizada da igreja (administradores e lderes), de forma restrita ao necessrio."}),s.jsx("li",{children:"Servios de infraestrutura: Firebase (Auth, Firestore, Storage) para autenticao, armazenamento e sincronizao de dados."}),s.jsx("li",{children:"Autoridades, quando exigido por lei ou ordem judicial."})]}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Por quanto tempo armazenamos"}),s.jsx("p",{children:"Armazenamos os dados enquanto sua conta estiver ativa ou enquanto necessrio para cumprir finalidades legais e operacionais. Ao solicitar excluso, dados operacionais podem ser retidos por perodo limitado para conformidade e auditoria."}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Como solicitar excluso/atualizao"}),s.jsx("p",{children:"Para exercer seus direitos (acesso, correo, excluso), entre em contato pelos canais oficiais abaixo. Aps validao, sua solicitao ser processada dentro de prazo razovel."}),s.jsxs("div",{className:"rounded-lg border border-jkd-border bg-jkd-bg p-4 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"E-mail:"})," ",((e=t==null?void 0:t.contactInfo)==null?void 0:e.email)||""]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Telefone:"})," ",((r=t==null?void 0:t.contactInfo)==null?void 0:r.phone)||""]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Endereo:"})," ",((n=t==null?void 0:t.contactInfo)==null?void 0:n.address)||""]})]}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Encarregado de Dados (DPO)"}),s.jsx("p",{children:"Se houver DPO nomeado, o contato ser divulgado nos canais oficiais. Enquanto isso, utilize o e-mail da secretaria informado acima."}),s.jsxs("div",{className:"text-sm",children:["Veja tambm a ",s.jsx(xt,{to:"/cookies",className:"text-church-primary hover:underline",children:"Poltica de Cookies"})," e os "," ",s.jsx(xt,{to:"/terms",className:"text-church-primary hover:underline",children:"Termos de Uso"}),"."]}),s.jsx("p",{className:"pt-2 text-xs text-jkd-text/70",children:"ltima atualizao: Outubro de 2025."})]})]})})})},s$e=()=>s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading mb-6",children:"Termos de Uso"}),s.jsxs("div",{className:"space-y-6 text-jkd-text",children:[s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Regras de uso"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Voc deve respeitar as diretrizes e valores da Igreja Fonte de Vida."}),s.jsx("li",{children:" proibido publicar contedo ilcito, ofensivo, enganoso ou que viole direitos de terceiros."}),s.jsx("li",{children:"Contas de lderes e administradores so pessoais e intransferveis."}),s.jsx("li",{children:"Uso indevido poder resultar em suspenso ou bloqueio de acesso."})]}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Responsabilidade do usurio e do site"}),s.jsx("p",{children:"O usurio  responsvel pelo contedo que publica e por manter a segurana de suas credenciais. O aplicativo envida esforos razoveis para disponibilidade e segurana, mas no garante operao ininterrupta e est isento de falhas tcnicas inevitveis."}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Direitos autorais"}),s.jsx("p",{children:"Todo o contedo, marcas, layouts e materiais do aplicativo so protegidos por direitos autorais e demais leis aplicveis.  proibida a reproduo no autorizada. Contedos enviados pelos usurios permanecem de titularidade deles, concedendo ao aplicativo direito de exibio dentro da plataforma."}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Isenes de responsabilidade"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"O aplicativo no se responsabiliza por decises tomadas com base em informaes publicadas por usurios."}),s.jsx("li",{children:"Links externos podem direcionar a sites de terceiros, fora do nosso controle."}),s.jsx("li",{children:"O aplicativo pode realizar manutenes programadas que afetem a disponibilidade."})]}),s.jsxs("div",{className:"text-sm",children:["Consulte tambm a ",s.jsx(xt,{to:"/privacy",className:"text-church-primary hover:underline",children:"Poltica de Privacidade"})," e a "," ",s.jsx(xt,{to:"/cookies",className:"text-church-primary hover:underline",children:"Poltica de Cookies"}),"."]}),s.jsx("p",{className:"pt-2 text-xs text-jkd-text/70",children:"ltima atualizao: Outubro de 2025."})]})]})})}),i$e=()=>s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading mb-6",children:" Poltica de Cookies"}),s.jsxs("div",{className:"space-y-6 text-jkd-text",children:[s.jsx("p",{children:"Esta Poltica explica o que so cookies, quais tipos utilizamos, as finalidades e como voc pode gerenciar suas preferncias. Cookies so pequenos arquivos armazenados no seu dispositivo para ajudar o site a funcionar, lembrar suas escolhas e melhorar sua experincia."}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Tipos de cookies que utilizamos"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-medium",children:"Necessrios"}),": Essenciais para o funcionamento do site (por exemplo, manter sesso, segurana, disponibilidade). No podem ser desativados."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-medium",children:"Desempenho"}),": Ajudam a medir uso e melhorar recursos (por exemplo, mtricas de pginas e carregamento). Coletam dados agregados e annimos."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-medium",children:"Marketing"}),": Usados para personalizar contedo e campanhas. Podem criar perfis annimos de interesse."]})]}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Finalidade de cada tipo"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Necessrios: garantir funcionalidades bsicas, segurana e estabilidade."}),s.jsx("li",{children:"Desempenho: entender como o site  utilizado e melhorar contedo e performance."}),s.jsx("li",{children:"Marketing: oferecer experincias mais relevantes e comunicaes alinhadas a interesses."})]}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Gerenciamento de preferncias"}),s.jsxs("p",{children:["Voc pode ",s.jsx("span",{className:"font-medium",children:"aceitar todos"}),", ",s.jsx("span",{className:"font-medium",children:"recusar"})," ou ",s.jsx("span",{className:"font-medium",children:"configurar preferncias"})," diretamente no banner de consentimento exibido no rodap. A qualquer momento, limpe os dados do navegador para redefinir seu consentimento ou acesse novamente esta pgina."]}),s.jsxs("div",{className:"text-sm",children:["Consulte tambm nossa ",s.jsx(xt,{to:"/privacy",className:"text-church-primary hover:underline",children:"Poltica de Privacidade"})," e nossos"," ",s.jsx(xt,{to:"/terms",className:"text-church-primary hover:underline",children:"Termos de Uso"}),"."]})]})]})})}),o$e=()=>{const{user:t,updateUser:e}=xr(),{updateAuthorizedUser:r}=cr(),n=mn(),[a,i]=v.useState({name:(t==null?void 0:t.name)||"",avatarUrl:(t==null?void 0:t.avatarUrl)||""}),[o,c]=v.useState(!1),[u,h]=v.useState(null),[f,p]=v.useState("");if(!t)return s.jsx("p",{children:"Carregando..."});const g=async N=>{N.preventDefault(),p(""),c(!0);let E=a.avatarUrl;if(u)try{E=await E_(u,t.id)}catch(A){console.error("Erro no upload da foto:",A),p(`Erro no upload da foto: ${A instanceof Error?A.message:"Erro desconhecido"}`),c(!1);return}await r(t.id,{name:a.name,avatarUrl:E}),e({name:a.name,avatarUrl:E}),c(!1),n("/dashboard")},x=N=>{i(E=>({...E,avatarUrl:N})),N&&h(null)},j=N=>{var A;const E=(A=N.target.files)==null?void 0:A[0];E&&(h(E),i(O=>({...O,avatarUrl:""})))},w=()=>{try{localStorage.removeItem("cookie_consent_preferences")}catch{}window.dispatchEvent(new Event("open-cookie-consent"))},b=()=>{n("/chat")};return s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(xt,{to:"/dashboard",className:"inline-flex items-center space-x-2 text-church-primary hover:text-church-primary/80 mb-4",children:[s.jsx(_s,{size:20}),s.jsx("span",{children:"Voltar ao Painel"})]}),s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Meu Perfil"}),s.jsx("p",{className:"text-jkd-text mt-1",children:"Atualize suas informaes pessoais."})]}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-8",children:[f&&s.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500 text-sm",children:f}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col items-center space-y-4",children:s.jsx("div",{className:"w-24 h-24 rounded-full bg-jkd-bg border-2 border-jkd-border flex items-center justify-center overflow-hidden",children:u?s.jsx("img",{src:URL.createObjectURL(u),alt:"Avatar Preview",className:"w-full h-full object-cover"}):a.avatarUrl?s.jsx("img",{src:a.avatarUrl,alt:"Avatar",className:"w-full h-full object-cover"}):s.jsx("img",{src:`https://ui-avatars.com/api/?name=${encodeURIComponent(a.name||"Usurio")}&background=ff652c&color=fff`,alt:"Inicial do usurio",className:"w-full h-full object-cover"})})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-jkd-heading mb-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hi,{size:16}),s.jsx("span",{children:"Nome"})]})}),s.jsx("input",{type:"text",id:"name",value:a.name,onChange:N=>i({...a,name:N.target.value}),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"avatarUrl",className:"block text-sm font-medium text-jkd-heading mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Is,{size:16}),s.jsx("span",{children:"URL da Foto de Perfil"})]}),s.jsxs("p",{className:"text-xs text-jkd-text/70",children:["Tamanho mximo: ",s.jsx("strong",{children:"5MB"}),"."]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"url",id:"avatarUrl",value:a.avatarUrl,onChange:N=>x(N.target.value),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",placeholder:"https://exemplo.com/foto.jpg"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-text mb-2",children:"Ou faa upload de uma foto"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden",id:"avatar-upload"}),s.jsxs("label",{htmlFor:"avatar-upload",className:"flex-1 flex items-center justify-center px-4 py-2 bg-church-primary text-white rounded-lg cursor-pointer hover:bg-church-primary/90 transition-colors",children:[s.jsx(ns,{className:"w-4 h-4 mr-2"}),"Escolher Arquivo"]}),u&&s.jsx("button",{type:"button",onClick:()=>h(null),className:"p-2 text-red-500 hover:bg-red-500/10 rounded-lg transition-colors",children:s.jsx(On,{className:"w-4 h-4"})})]}),u&&s.jsxs("p",{className:"text-sm text-jkd-text-muted mt-2",children:["Arquivo selecionado: ",u.name]}),s.jsx("p",{className:"text-xs text-jkd-text-muted mt-1",children:"PNG, JPG at 5MB"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[s.jsx(xt,{to:"/dashboard",className:"px-4 py-2 text-jkd-text hover:text-church-primary",children:"Cancelar"}),s.jsxs("button",{type:"submit",disabled:o,className:"inline-flex items-center space-x-2 bg-church-primary text-white px-6 py-2 rounded-lg hover:bg-church-primary/90 disabled:opacity-50",children:[s.jsx(as,{size:20}),s.jsx("span",{children:o?"Salvando...":"Salvar Alteraes"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-6 border-t border-jkd-border mt-4",children:[s.jsxs("button",{type:"button",onClick:w,className:"inline-flex items-center gap-2 px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text hover:bg-jkd-border/30",title:"Gerenciar Cookies",children:[s.jsx(Hbe,{size:16}),s.jsx("span",{children:"Gerenciar Cookies"})]}),s.jsxs("button",{type:"button",onClick:b,className:"inline-flex items-center gap-2 px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text hover:bg-jkd-border/30",title:"Ir para Chat",children:[s.jsx(nc,{size:16}),s.jsx("span",{children:"Ir para Chat"})]})]})]})]})]})})},l$e=()=>{const{addLeaderRequest:t,ministryDepartments:e}=cr(),r=mn(),[n,a]=v.useState({name:"",email:"",phone:"",ministry:""}),[i,o]=v.useState(!1),[c,u]=v.useState(!1),h=f=>{f.preventDefault(),o(!0),t(n),setTimeout(()=>{o(!1),u(!0)},1e3)};return c?s.jsx("div",{className:"min-h-screen bg-jkd-bg flex items-center justify-center py-12 px-4",children:s.jsxs("div",{className:"max-w-md w-full text-center bg-jkd-bg-sec p-8 rounded-lg border border-jkd-border",children:[s.jsx(wf,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-jkd-heading",children:"Solicitao Enviada!"}),s.jsx("p",{className:"mt-2 text-jkd-text",children:"Sua solicitao de acesso foi enviada para a secretaria. Por gentileza, aguarde a aprovao. Caso no tenha logo uma resposta, procure a secretaria da igreja Fonte de Vida Laranjeiras."}),s.jsx("button",{onClick:()=>r("/login"),className:"mt-6 w-full bg-church-primary text-white py-2 px-4 rounded-lg font-medium hover:bg-church-primary/90",children:"Voltar para o Login"})]})}):s.jsxs("div",{className:"min-h-screen bg-jkd-bg py-8",children:[s.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(xt,{to:"/login",className:"inline-flex items-center space-x-2 text-church-primary hover:text-church-primary/80 mb-4",children:[s.jsx(_s,{size:20}),s.jsx("span",{children:"Voltar para o Login"})]}),s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Solicitar Acesso de Lder"}),s.jsx("p",{className:"text-jkd-text mt-1",children:"Preencha seus dados para que a secretaria possa autorizar seu acesso."})]}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-8",children:[s.jsxs("div",{className:"mb-6 text-sm text-jkd-text bg-jkd-bg rounded-lg p-4 border border-jkd-border",children:[s.jsx("p",{children:"Por gentileza, preencha seus dados e selecione seu Ministrio / Departamento. Sua solicitao ser analisada pela secretaria e voc ser avisado por e-mail quando a solicitao for aprovada. Caso no tenha logo uma resposta, por gentileza, procure a secretaria da Igreja Fonte de Vida Laranjeiras para mais informaes."}),s.jsx("p",{className:"mt-2",children:"Importante: o acesso a rea de edio  exclusivo para Editores, Lderes ou Administradores com dados de acesso autorizados."})]}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Nome Completo *"}),s.jsx("input",{type:"text",id:"name",required:!0,value:n.name,onChange:f=>a({...n,name:f.target.value}),className:"w-full input-style"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-jkd-heading mb-2",children:"E-mail *"}),s.jsx("input",{type:"email",id:"email",required:!0,value:n.email,onChange:f=>a({...n,email:f.target.value}),className:"w-full input-style"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Telefone (WhatsApp) *"}),s.jsx("input",{type:"tel",id:"phone",required:!0,value:n.phone,onChange:f=>a({...n,phone:f.target.value}),className:"w-full input-style"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ministry",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Seu Ministrio / Departamento *"}),s.jsxs("select",{id:"ministry",required:!0,value:n.ministry,onChange:f=>a({...n,ministry:f.target.value}),className:"w-full input-style",children:[s.jsx("option",{value:"",children:"Selecione um Ministrio / Departamento"}),e.map(f=>s.jsx("option",{value:f.name,children:f.name},f.id))]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs("button",{type:"submit",disabled:i,className:"inline-flex items-center space-x-2 bg-church-primary text-white px-6 py-2 rounded-lg hover:bg-church-primary/90 disabled:opacity-50",children:[s.jsx(MI,{size:16}),s.jsx("span",{children:i?"Enviando...":"Enviar Solicitao"})]})})]})]})]}),s.jsx("style",{children:".input-style { @apply px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary; }"})]})},c$e=({script:t,onDelete:e,onView:r})=>{var p;const{getOccurrences:n,getAuthorizedUserById:a}=cr(),i=a(t.authorId),o=a((p=t.history[t.history.length-1])==null?void 0:p.userId),c=n(t.rruleString,new Date,new Date(new Date().getFullYear()+1,11,31))[0],h=(g=>{switch(g){case"rascunho":return{text:"Rascunho",icon:s.jsx(aj,{size:12}),color:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};case"pronto":return{text:"Pronto",icon:s.jsx(Nf,{size:12}),color:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"};case"revisado":return{text:"Revisado",icon:s.jsx(wf,{size:12}),color:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"};default:return{text:"Rascunho",icon:s.jsx(aj,{size:12}),color:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}}})(t.status),f=()=>{const g=new Blob([t.content],{type:"text/plain;charset=utf-8"}),x=URL.createObjectURL(g),j=document.createElement("a");j.href=x,j.download=`${t.title.replace(/ /g,"_")}.txt`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(x)};return s.jsxs(ar.div,{className:"bg-jkd-bg-sec rounded-lg shadow-sm border border-jkd-border overflow-hidden hover:shadow-md transition-shadow duration-300",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-start gap-4 mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-jkd-heading mb-2",children:t.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-sm text-jkd-text",children:[s.jsxs("div",{className:"flex items-center gap-1.5",title:"Data da Programao",children:[s.jsx(Cs,{size:14,className:"text-church-slate"}),s.jsx("span",{children:c?Ar(c,"dd/MM/yy 's' HH:mm",{locale:Hs}):"Data a definir"})]}),s.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium ${h.color}`,children:[h.icon,s.jsx("span",{children:h.text})]})]})]}),s.jsx("div",{className:"flex-shrink-0",children:t.image?s.jsx("img",{src:t.image,alt:t.title,className:"h-10 w-10 object-cover rounded-md"}):s.jsx("div",{className:"h-10 w-10 bg-jkd-bg rounded-md flex items-center justify-center border border-jkd-border text-church-primary",children:s.jsx(jy,{size:20})})})]}),s.jsx("p",{className:"text-jkd-text mb-4 leading-relaxed line-clamp-2",children:t.content||"Nenhum contedo adicionado."}),s.jsxs("div",{className:"text-xs text-jkd-text/70 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(hi,{size:12}),s.jsxs("span",{children:["Autor: ",(i==null?void 0:i.name)||"Desconhecido"]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(kf,{size:12}),s.jsxs("span",{children:["ltima edio: ",Ar(t.updatedAt,"dd/MM/yy HH:mm")," por ",(o==null?void 0:o.name)||"Sistema"]})]}),s.jsxs("div",{className:"flex items-center gap-1.5 font-semibold",children:[s.jsx(Cs,{size:12}),s.jsxs("span",{children:["Gravao: ",t.recordingMonth]})]})]})]}),s.jsxs("div",{className:"bg-jkd-bg border-t border-jkd-border px-6 py-3 flex justify-end items-center gap-2",children:[s.jsx("button",{onClick:()=>r(t),title:"Visualizar",className:"action-button",children:s.jsx(Rw,{size:16})}),s.jsx("button",{onClick:f,title:"Baixar",className:"action-button",children:s.jsx(fG,{size:16})}),s.jsx(xt,{to:`/edit-roteiro/${t.id}`,title:"Editar",className:"action-button",children:s.jsx(Od,{size:16})}),s.jsx("button",{onClick:()=>e(t),title:"Excluir",className:"action-button text-red-500 hover:bg-red-500/10",children:s.jsx(Ss,{size:16})})]}),s.jsx("style",{children:".action-button { @apply p-2 rounded-md text-jkd-text hover:bg-church-primary/10 hover:text-church-primary transition-colors; }"})]})},u$e=()=>{const{scripts:t,authorizedUsers:e,showConfirmation:r,deleteScript:n,showScriptView:a}=cr(),{user:i}=xr(),[o,c]=v.useState("all"),[u,h]=v.useState("all"),f=v.useMemo(()=>{const x=new Set(t.map(j=>j.authorId));return e.filter(j=>x.has(j.id))},[t,e]),p=v.useMemo(()=>t.filter(x=>o==="all"||x.status===o).filter(x=>u==="all"||x.authorId===u).sort((x,j)=>{const w=x.updatedAt instanceof Date?x.updatedAt.getTime():0;return(j.updatedAt instanceof Date?j.updatedAt.getTime():0)-w}),[t,o,u]),g=x=>{r("Excluir Roteiro",`Tem certeza que deseja excluir o roteiro "${x.title}"?`,()=>n(x.id))};return s.jsxs("div",{className:"min-h-screen bg-jkd-bg py-8",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(jy,{className:"h-8 w-8 text-church-primary"}),s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Roteiros de Gravao"})]}),s.jsx(xt,{to:"/new-roteiro",className:"h-12 w-12 rounded-full bg-church-primary text-white shadow-lg flex items-center justify-center hover:bg-church-primary/90 transition-all duration-300 transform hover:scale-110",title:"Novo Roteiro",children:s.jsx(vl,{size:24})})]}),s.jsx("p",{className:"text-jkd-text",children:"Gerencie os roteiros para as gravaes do Fonte News."})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row lg:gap-8",children:[s.jsxs("aside",{className:"w-full lg:w-1/3 space-y-6 mb-8 lg:mb-0",children:[s.jsx("div",{className:"bg-jkd-bg-sec rounded-lg p-6 border border-jkd-border",children:s.jsx(gY,{events:[]})}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg p-6 border border-jkd-border space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading",children:"Filtros"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-jkd-heading mb-1",children:"Status"}),s.jsxs("select",{id:"status-filter",value:o,onChange:x=>c(x.target.value),className:"w-full input-style",children:[s.jsx("option",{value:"all",children:"Todos"}),s.jsx("option",{value:"rascunho",children:"Rascunho"}),s.jsx("option",{value:"pronto",children:"Pronto"}),s.jsx("option",{value:"revisado",children:"Revisado"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"author-filter",className:"block text-sm font-medium text-jkd-heading mb-1",children:"Responsvel"}),s.jsxs("select",{id:"author-filter",value:u,onChange:x=>h(x.target.value),className:"w-full input-style",children:[s.jsx("option",{value:"all",children:"Todos"}),f.map(x=>s.jsx("option",{value:x.id,children:x.name},x.id))]})]})]})]}),s.jsx("div",{className:"w-full lg:w-2/3",children:p.length>0?s.jsx("div",{className:"space-y-6",children:p.map(x=>s.jsx(c$e,{script:x,onDelete:g,onView:a},x.id))}):s.jsxs("div",{className:"text-center py-16 bg-jkd-bg-sec rounded-lg border border-dashed border-jkd-border",children:[s.jsx(jy,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-jkd-text mb-4",children:"Nenhum roteiro encontrado para os filtros selecionados."}),s.jsx("div",{className:"flex gap-2 justify-center",children:s.jsxs(xt,{to:"/new-roteiro",className:"inline-flex items-center space-x-2 bg-church-primary text-white px-4 py-2 rounded-lg font-semibold hover:bg-church-primary/90 transition-colors",children:[s.jsx(vl,{size:20}),s.jsx("span",{children:"Criar Primeiro Roteiro"})]})})]})})]})]}),s.jsx("style",{children:".input-style { @apply px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary; }"})]})},fee=({script:t})=>{const e=!!t,{user:r}=xr(),{addScript:n,updateScript:a,getAuthorizedUserById:i}=cr(),o=mn(),[c,u]=v.useState({title:(t==null?void 0:t.title)||"",content:(t==null?void 0:t.content)||"",status:(t==null?void 0:t.status)||"rascunho",image:(t==null?void 0:t.image)||"",recordingMonth:(t==null?void 0:t.recordingMonth)||`Gravao ${Ar(new Date,"MMMM yyyy",{locale:Hs})}`}),[h,f]=v.useState(null),[p,g]=v.useState((t==null?void 0:t.rruleString)||""),[x,j]=v.useState(!1),[w,b]=v.useState("editor"),[N,E]=v.useState((t==null?void 0:t.endTime)||""),[A,O]=v.useState(null),M=async T=>{if(T.preventDefault(),!r)return;if(j(!0),!p||p.trim()===""){O("Configure data e horrio na recorrncia antes de salvar."),j(!1);return}let _=c.image;h&&(_=await new Promise(P=>{const R=new FileReader;R.onload=()=>P(R.result),R.readAsDataURL(h)}));const D={...c,..._&&_.trim()&&{image:_.trim()},rruleString:p,...N&&{endTime:N},authorId:(t==null?void 0:t.authorId)||r.id};try{e&&t.id?a(t.id,D,r.id):n(D,r.id),o("/roteiros")}catch(P){console.error("Erro ao salvar roteiro:",P)}finally{j(!1)}},L=T=>{u(_=>({..._,image:T})),T&&f(null)},I=T=>{var D;const _=(D=T.target.files)==null?void 0:D[0];_&&(f(_),u(P=>({...P,image:""})))};return s.jsxs("div",{className:"min-h-screen bg-jkd-bg py-8",children:[s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(xt,{to:"/roteiros",className:"inline-flex items-center space-x-2 text-church-primary hover:text-church-primary/80 mb-4",children:[s.jsx(_s,{size:20}),s.jsx("span",{children:"Voltar para Roteiros"})]}),s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:e?"Editar Roteiro":"Novo Roteiro"})]}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border",children:[e&&s.jsx("div",{className:"border-b border-jkd-border",children:s.jsxs("nav",{className:"flex space-x-1 p-2",children:[s.jsx("button",{onClick:()=>b("editor"),className:`tab-button ${w==="editor"?"active":""}`,children:"Editor"}),s.jsx("button",{onClick:()=>b("history"),className:`tab-button ${w==="history"?"active":""}`,children:"Histrico"})]})}),w==="editor"&&s.jsxs("form",{onSubmit:M,className:"p-8 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Ttulo *"}),s.jsx("input",{type:"text",id:"title",required:!0,value:c.title,onChange:T=>u(_=>({..._,title:T.target.value})),className:"w-full input-style"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Status *"}),s.jsxs("select",{id:"status",required:!0,value:c.status,onChange:T=>u(_=>({..._,status:T.target.value})),className:"w-full input-style",children:[s.jsx("option",{value:"rascunho",children:"Rascunho"}),s.jsx("option",{value:"pronto",children:"Pronto"}),s.jsx("option",{value:"revisado",children:"Revisado"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Contedo do Roteiro *"}),s.jsx("textarea",{id:"content",required:!0,rows:12,value:c.content,onChange:T=>u(_=>({..._,content:T.target.value})),className:"w-full input-style font-mono"})]}),s.jsx(Gw,{rruleString:p,onChange:g,endTime:N,onEndTimeChange:E}),A&&s.jsx("div",{className:"text-red-600 text-sm",children:A}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"recordingMonth",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Ms da Gravao *"}),s.jsx("input",{type:"text",id:"recordingMonth",required:!0,value:c.recordingMonth,onChange:T=>u(_=>({..._,recordingMonth:T.target.value})),className:"w-full input-style"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:"Imagem da Programao (opcional)"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"url",id:"image",value:c.image,onChange:T=>L(T.target.value),disabled:!!h,className:"w-full input-style disabled:bg-jkd-border/20",placeholder:"URL da imagem"}),s.jsxs("div",{className:"relative flex items-center justify-center",children:[s.jsx("div",{className:"flex-grow border-t border-jkd-border"}),s.jsx("span",{className:"flex-shrink mx-4 text-jkd-text text-xs",children:"ou"}),s.jsx("div",{className:"flex-grow border-t border-jkd-border"})]}),h?s.jsxs("div",{className:"flex items-center justify-between bg-jkd-bg p-2 rounded-lg border border-jkd-border",children:[s.jsx("p",{className:"text-sm text-jkd-text truncate",children:h.name}),s.jsx("button",{type:"button",onClick:()=>f(null),className:"p-1 rounded-full hover:bg-red-500/10 text-red-500",children:s.jsx(On,{size:16})})]}):s.jsxs("label",{htmlFor:"file-upload",className:`relative cursor-pointer rounded-lg border-2 border-dashed border-jkd-border w-full p-4 flex justify-center items-center text-center transition-colors ${c.image?"bg-jkd-border/20 cursor-not-allowed opacity-50":"hover:border-church-primary"}`,children:[s.jsxs("div",{className:"space-y-1 text-jkd-text",children:[s.jsx(ns,{className:"mx-auto h-8 w-8"}),s.jsx("span",{className:"font-medium text-church-primary text-sm",children:"Enviar arquivo"})]}),s.jsx("input",{id:"file-upload",type:"file",className:"sr-only",onChange:I,disabled:!!c.image,accept:"image/*"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6",children:[s.jsx(xt,{to:"/roteiros",className:"px-4 py-2 text-jkd-text hover:text-church-primary",children:"Cancelar"}),s.jsxs("button",{type:"submit",disabled:x,className:"inline-flex items-center space-x-2 bg-church-primary text-white px-6 py-2 rounded-lg hover:bg-church-primary/90 disabled:opacity-50",children:[s.jsx(as,{size:20}),s.jsx("span",{children:x?"Salvando...":"Salvar Roteiro"})]})]})]}),w==="history"&&t&&s.jsxs("div",{className:"p-8",children:[s.jsxs("h3",{className:"text-lg font-semibold text-jkd-heading mb-4 flex items-center gap-2",children:[s.jsx(c0e,{size:20})," Histrico de Alteraes"]}),s.jsx("ul",{className:"space-y-3",children:t.history.slice().reverse().map((T,_)=>{const D=i(T.userId);return s.jsxs("li",{className:"flex items-center gap-4 p-3 bg-jkd-bg rounded-md border border-jkd-border",children:[s.jsx("img",{src:(D==null?void 0:D.avatarUrl)||`https://ui-avatars.com/api/?name=${(D==null?void 0:D.name)||"?"}`,alt:D==null?void 0:D.name,className:"h-10 w-10 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-jkd-heading",children:[s.jsx("span",{className:"font-bold",children:(D==null?void 0:D.name)||"Usurio desconhecido"})," realizou uma alterao."]}),s.jsx("p",{className:"text-xs text-jkd-text/70",children:Ar(T.date,"dd 'de' MMMM, yyyy 's' HH:mm",{locale:Hs})})]})]},_)})})]})]})]}),s.jsx("style",{children:`
        .input-style { @apply px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary; }
        .tab-button { @apply px-4 py-2 text-sm font-medium rounded-md transition-colors; }
        .tab-button.active { @apply bg-church-primary/10 text-church-primary; }
      `})]})},d$e=()=>s.jsx(fee,{}),h$e=()=>{const{id:t}=Mp(),{getScriptById:e}=cr();if(!t)return s.jsx("div",{className:"p-8 text-center text-red-500",children:"ID do roteiro no fornecido."});const r=e(t);return r?s.jsx(fee,{script:r}):s.jsxs("div",{className:"p-8 text-center text-red-500",children:[s.jsx("p",{children:"Roteiro no encontrado."}),s.jsx(xt,{to:"/roteiros",className:"text-church-primary mt-4 inline-block",children:"Voltar para Roteiros"})]})},EA={title:"",category:"",imageUrl:"",linkUrl:"",target:"_self",background:"",order:0,active:!0},f$e=()=>{const{user:t}=xr(),[e,r]=v.useState([]),[n,a]=v.useState(!0),[i,o]=v.useState(null),[c,u]=v.useState(EA),[h,f]=v.useState(!1),[p,g]=v.useState(null),[x,j]=v.useState(EA),w=v.useMemo(()=>e.length?Math.max(...e.map(_=>_.order??0))+1:1,[e]),b=async()=>{a(!0),o(null);try{const T=Er(Et(we,"course_slides"),li("order","asc")),D=(await hn(T)).docs.map(P=>{const R=P.data();return{id:P.id,title:R.title||"",category:R.category||"",imageUrl:R.imageUrl||R.image||"",linkUrl:R.linkUrl||R.link||"",target:R.target||"_self",background:R.background||R.imageUrl||"",order:R.order??0,active:R.active!==!1}});r(D)}catch(T){o((T==null?void 0:T.message)||"Erro ao carregar slides")}finally{a(!1)}};v.useEffect(()=>{b()},[]);const N=async T=>{var _,D,P,R;if(T.preventDefault(),o(null),!c.title.trim()){o("Ttulo  obrigatrio.");return}if(!c.imageUrl.trim()){o("Imagem (URL)  obrigatria.");return}f(!0);try{const U={title:c.title.trim(),category:((_=c.category)==null?void 0:_.trim())||"",imageUrl:c.imageUrl.trim(),image:c.imageUrl.trim(),linkUrl:((D=c.linkUrl)==null?void 0:D.trim())||"",link:((P=c.linkUrl)==null?void 0:P.trim())||"",target:c.target||"_self",background:((R=c.background)==null?void 0:R.trim())||c.imageUrl.trim(),order:w,active:c.active!==!1};await qa(Et(we,"course_slides"),U),u({...EA}),await b()}catch(U){o((U==null?void 0:U.message)||"Erro ao adicionar slide")}finally{f(!1)}},E=T=>{g(T.id),j({title:T.title,category:T.category||"",imageUrl:T.imageUrl,linkUrl:T.linkUrl||"",target:T.target||"_self",background:T.background||T.imageUrl,order:T.order??0,active:T.active!==!1})},A=async()=>{var T,_,D,P;if(p){if(!x.title.trim()){o("Ttulo  obrigatrio.");return}if(!x.imageUrl.trim()){o("Imagem (URL)  obrigatria.");return}f(!0);try{const R=at(we,"course_slides",p),U={title:x.title.trim(),category:((T=x.category)==null?void 0:T.trim())||"",imageUrl:x.imageUrl.trim(),image:x.imageUrl.trim(),linkUrl:((_=x.linkUrl)==null?void 0:_.trim())||"",link:((D=x.linkUrl)==null?void 0:D.trim())||"",target:x.target||"_self",background:((P=x.background)==null?void 0:P.trim())||x.imageUrl.trim(),order:x.order??0,active:x.active!==!1};await Pr(R,U),g(null),await b()}catch(R){o((R==null?void 0:R.message)||"Erro ao salvar alteraes")}finally{f(!1)}}},O=async T=>{try{await Pr(at(we,"course_slides",T.id),{active:T.active===!1}),await b()}catch(_){o((_==null?void 0:_.message)||"Erro ao atualizar status")}},M=async T=>{const _=e.findIndex(U=>U.id===T.id);if(_<=0)return;const D=e[_-1],P=T.order??0,R=D.order??0;try{await Pr(at(we,"course_slides",T.id),{order:R}),await Pr(at(we,"course_slides",D.id),{order:P}),await b()}catch(U){o((U==null?void 0:U.message)||"Erro ao reordenar")}},L=async T=>{const _=e.findIndex(U=>U.id===T.id);if(_<0||_>=e.length-1)return;const D=e[_+1],P=T.order??0,R=D.order??0;try{await Pr(at(we,"course_slides",T.id),{order:R}),await Pr(at(we,"course_slides",D.id),{order:P}),await b()}catch(U){o((U==null?void 0:U.message)||"Erro ao reordenar")}},I=async T=>{if(confirm("Excluir este slide?"))try{await ha(at(we,"course_slides",T.id)),await b()}catch(_){o((_==null?void 0:_.message)||"Erro ao excluir")}};return!t||t.role!=="admin"?s.jsx(pl,{to:"/login",replace:!0}):s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h1",{className:"text-2xl font-semibold text-jkd-heading",children:"Curso-Slide  Administrao"}),s.jsx("p",{className:"text-sm text-jkd-text mt-1",children:"Gerencie os slides usados no slider da Home e pgina de Cursos."}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(vl,{className:"w-5 h-5 text-church-primary"}),s.jsx("h2",{className:"text-lg font-medium text-jkd-heading",children:"Adicionar novo slide"})]}),i&&s.jsx("div",{className:"text-sm text-red-600 mb-3",children:i}),s.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-jkd-heading",children:"Ttulo *"}),s.jsx("input",{value:c.title,onChange:T=>u(_=>({..._,title:T.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-jkd-heading",children:"Categoria"}),s.jsx("input",{value:c.category,onChange:T=>u(_=>({..._,category:T.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm font-medium text-jkd-heading",children:"Imagem (URL) *"}),s.jsx("input",{value:c.imageUrl,onChange:T=>u(_=>({..._,imageUrl:T.target.value})),placeholder:"https://...",className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-jkd-heading",children:"Link"}),s.jsx("input",{value:c.linkUrl,onChange:T=>u(_=>({..._,linkUrl:T.target.value})),placeholder:"https://... ou /site/cursos",className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-jkd-heading",children:"Target"}),s.jsxs("select",{value:c.target,onChange:T=>u(_=>({..._,target:T.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text",children:[s.jsx("option",{value:"_self",children:"Abrir na mesma aba"}),s.jsx("option",{value:"_blank",children:"Abrir em nova aba"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm font-medium text-jkd-heading",children:"Fundo (opcional)"}),s.jsx("input",{value:c.background,onChange:T=>u(_=>({..._,background:T.target.value})),placeholder:"URL para fundo (se diferente da imagem)",className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"active",type:"checkbox",checked:c.active!==!1,onChange:T=>u(_=>({..._,active:T.target.checked}))}),s.jsx("label",{htmlFor:"active",className:"text-sm text-jkd-heading",children:"Ativo"})]}),s.jsx("div",{className:"md:col-span-2 flex justify-end",children:s.jsxs("button",{type:"submit",disabled:h,className:"inline-flex items-center gap-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90 disabled:opacity-60",children:[s.jsx(as,{size:16}),s.jsx("span",{children:h?"Salvando...":"Adicionar slide"})]})})]})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(aj,{className:"w-5 h-5 text-church-primary"}),s.jsx("h2",{className:"text-lg font-medium text-jkd-heading",children:"Slides existentes"})]}),n?s.jsx("div",{className:"text-jkd-text",children:"Carregando..."}):e.length===0?s.jsx("div",{className:"text-jkd-text",children:"Nenhum slide cadastrado."}):s.jsx("div",{className:"space-y-4",children:e.map(T=>s.jsx("div",{className:"bg-jkd-bg rounded-lg border border-jkd-border p-3",children:p===T.id?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-jkd-heading",children:"Ttulo *"}),s.jsx("input",{value:x.title,onChange:_=>j(D=>({...D,title:_.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-jkd-heading",children:"Categoria"}),s.jsx("input",{value:x.category,onChange:_=>j(D=>({...D,category:_.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm font-medium text-jkd-heading",children:"Imagem (URL) *"}),s.jsx("input",{value:x.imageUrl,onChange:_=>j(D=>({...D,imageUrl:_.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-jkd-heading",children:"Link"}),s.jsx("input",{value:x.linkUrl,onChange:_=>j(D=>({...D,linkUrl:_.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-jkd-heading",children:"Target"}),s.jsxs("select",{value:x.target,onChange:_=>j(D=>({...D,target:_.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text",children:[s.jsx("option",{value:"_self",children:"_self"}),s.jsx("option",{value:"_blank",children:"_blank"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm font-medium text-jkd-heading",children:"Fundo"}),s.jsx("input",{value:x.background,onChange:_=>j(D=>({...D,background:_.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-jkd-heading",children:"Ordem"}),s.jsx("input",{type:"number",value:x.order??0,onChange:_=>j(D=>({...D,order:Number(_.target.value)})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:`active-${T.id}`,type:"checkbox",checked:x.active!==!1,onChange:_=>j(D=>({...D,active:_.target.checked}))}),s.jsx("label",{htmlFor:`active-${T.id}`,className:"text-sm text-jkd-heading",children:"Ativo"})]}),s.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:()=>g(null),className:"px-3 py-2 border border-jkd-border rounded-lg text-jkd-heading bg-jkd-bg",children:"Cancelar"}),s.jsxs("button",{type:"button",onClick:A,disabled:h,className:"inline-flex items-center gap-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90 disabled:opacity-60",children:[s.jsx(vy,{size:16}),s.jsx("span",{children:"Salvar"})]})]})]}):s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-24 h-16 bg-jkd-bg-sec border border-jkd-border rounded overflow-hidden",children:T.imageUrl&&s.jsx("img",{src:T.imageUrl,alt:T.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-jkd-heading font-medium",children:T.title}),s.jsxs("div",{className:"text-xs text-jkd-text",children:[T.category||"","  ordem ",T.order??0,"  ",T.active!==!1?"ativo":"inativo"]}),T.linkUrl&&s.jsx("a",{href:T.linkUrl,target:T.target||"_self",className:"text-xs text-church-primary",children:T.linkUrl})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{title:"Editar",onClick:()=>E(T),className:"px-3 py-2 border border-jkd-border rounded-lg text-jkd-heading bg-jkd-bg",children:"Editar"}),s.jsxs("button",{title:"Ativar/Inativar",onClick:()=>O(T),className:"inline-flex items-center gap-1 px-3 py-2 border border-jkd-border rounded-lg text-jkd-heading bg-jkd-bg",children:[T.active!==!1?s.jsx(Rw,{size:16}):s.jsx(e0e,{size:16}),s.jsx("span",{children:T.active!==!1?"Desativar":"Ativar"})]}),s.jsx("button",{title:"Mover para cima",onClick:()=>M(T),className:"px-3 py-2 border border-jkd-border rounded-lg text-jkd-heading bg-jkd-bg",children:s.jsx(Pbe,{size:16})}),s.jsx("button",{title:"Mover para baixo",onClick:()=>L(T),className:"px-3 py-2 border border-jkd-border rounded-lg text-jkd-heading bg-jkd-bg",children:s.jsx(Ibe,{size:16})}),s.jsx("button",{title:"Excluir",onClick:()=>I(T),className:"px-3 py-2 bg-red-600 text-white rounded-lg",children:s.jsx(Ss,{size:16})})]})]})},T.id))})]})]})})},vh={autoplayMs:5e3,pauseOnHover:!0,showIndicators:!0,contact_email:"",email_color:"#ffffff",enable_particles:!1},m$e=()=>{const{user:t}=xr(),[e,r]=v.useState(vh),[n,a]=v.useState(!0),[i,o]=v.useState(!1),[c,u]=v.useState(null),[h,f]=v.useState(null),p=async()=>{a(!0),u(null);try{const x=at(we,"course_slide_settings","default"),j=await nn(x);if(j.exists()){const w=j.data();r({...vh,...w,autoplayMs:w.autoplayMs??w.transition_time??vh.autoplayMs,pauseOnHover:w.pauseOnHover??w.pause_on_hover??vh.pauseOnHover})}else r(vh)}catch(x){u((x==null?void 0:x.message)||"Erro ao carregar configuraes")}finally{a(!1)}};v.useEffect(()=>{p()},[]);const g=async x=>{x.preventDefault(),o(!0),u(null),f(null);try{const j={autoplayMs:Number(e.autoplayMs)||vh.autoplayMs,transition_time:Number(e.autoplayMs)||vh.autoplayMs,pauseOnHover:!!e.pauseOnHover,pause_on_hover:!!e.pauseOnHover,showIndicators:!!e.showIndicators,contact_email:e.contact_email||"",email_color:e.email_color||"#ffffff",enable_particles:!!e.enable_particles};await oi(at(we,"course_slide_settings","default"),j,{merge:!0}),f("Configuraes salvas com sucesso.")}catch(j){u((j==null?void 0:j.message)||"Erro ao salvar configuraes")}finally{o(!1)}};return!t||t.role!=="admin"?s.jsx(pl,{to:"/login",replace:!0}):s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h1",{className:"text-2xl font-semibold text-jkd-heading",children:"Curso-Slide  Configuraes"}),s.jsx("p",{className:"text-sm text-jkd-text mt-1",children:"Ajuste as opes de comportamento e aparncia do slider de cursos."}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Id,{className:"w-5 h-5 text-church-primary"}),s.jsx("h2",{className:"text-lg font-medium text-jkd-heading",children:"Opes"})]}),n?s.jsx("div",{className:"text-jkd-text",children:"Carregando..."}):s.jsxs("form",{onSubmit:g,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c&&s.jsx("div",{className:"md:col-span-2 text-sm text-red-600",children:c}),h&&s.jsx("div",{className:"md:col-span-2 text-sm text-green-600",children:h}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-jkd-heading",children:"Autoplay (ms)"}),s.jsx("input",{type:"number",min:1e3,step:500,value:e.autoplayMs??5e3,onChange:x=>r(j=>({...j,autoplayMs:Number(x.target.value)})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"pauseOnHover",type:"checkbox",checked:!!e.pauseOnHover,onChange:x=>r(j=>({...j,pauseOnHover:x.target.checked}))}),s.jsx("label",{htmlFor:"pauseOnHover",className:"text-sm text-jkd-heading",children:"Pausar ao passar o mouse"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"showIndicators",type:"checkbox",checked:!!e.showIndicators,onChange:x=>r(j=>({...j,showIndicators:x.target.checked}))}),s.jsx("label",{htmlFor:"showIndicators",className:"text-sm text-jkd-heading",children:"Mostrar indicadores"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm font-medium text-jkd-heading",children:"E-mail de contato"}),s.jsx("input",{type:"email",value:e.contact_email||"",onChange:x=>r(j=>({...j,contact_email:x.target.value})),placeholder:"ex: contato@exemplo.com",className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-jkd-heading",children:"Cor do e-mail"}),s.jsx("input",{type:"text",value:e.email_color||"#ffffff",onChange:x=>r(j=>({...j,email_color:x.target.value})),placeholder:"#ffffff",className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"enable_particles",type:"checkbox",checked:!!e.enable_particles,onChange:x=>r(j=>({...j,enable_particles:x.target.checked}))}),s.jsx("label",{htmlFor:"enable_particles",className:"text-sm text-jkd-heading",children:"Habilitar partculas decorativas"})]}),s.jsx("div",{className:"md:col-span-2 flex justify-end mt-2",children:s.jsxs("button",{type:"submit",disabled:i,className:"inline-flex items-center gap-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90 disabled:opacity-60",children:[s.jsx(as,{size:16}),s.jsx("span",{children:i?"Salvando...":"Salvar configuraes"})]})})]})]})]})})},p$e=()=>{const{user:t}=xr(),e=mn(),[r,n]=v.useState({title:"",content:"",status:"rascunho",image:"",recordingMonth:`Gravao ${Ar(new Date,"MMMM yyyy",{locale:Hs})}`}),[a,i]=v.useState(null),[o,c]=v.useState(!1),[u,h]=v.useState(null),[f,p]=v.useState(""),[g,x]=v.useState(""),j=async N=>{if(N.preventDefault(),!!t){if(c(!0),h(null),!f||f.trim()===""){h("Configure data e horrio na recorrncia antes de salvar."),c(!1);return}try{let E=r.image;if(a)try{const M=`roteiros/${Date.now()}_${a.name}`;E=await iu(a,M),console.log(" ROTEIRO2: Imagem enviada:",E)}catch(M){console.error(" ROTEIRO2: Erro no upload:",M),h(`Erro no upload da imagem: ${M instanceof Error?M.message:"Erro desconhecido"}`),c(!1);return}const A={title:r.title,content:r.content,status:r.status,recordingMonth:r.recordingMonth,rruleString:f,...g&&{endTime:g},authorId:t.id,createdAt:fn(),updatedAt:fn(),...E&&E.trim()&&{image:E.trim()}};console.log(" ROTEIRO2: Salvando no Firestore:",A);const O=await qa(Et(we,"roteiros"),A);console.log(" ROTEIRO2: Salvo com sucesso, ID:",O.id),e("/roteiros")}catch(E){console.error(" ROTEIRO2: Erro ao salvar:",E),h(`Erro ao salvar roteiro: ${E instanceof Error?E.message:"Erro desconhecido"}`)}finally{c(!1)}}},w=N=>{n(E=>({...E,image:N})),N&&i(null)},b=N=>{var A;const E=(A=N.target.files)==null?void 0:A[0];E&&(i(E),n(O=>({...O,image:""})))};return t?s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(xt,{to:"/roteiros",className:"inline-flex items-center space-x-2 text-church-primary hover:text-church-primary/80 mb-4",children:[s.jsx(_s,{size:20}),s.jsx("span",{children:"Voltar para Roteiros"})]}),s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Novo Roteiro (Teste 2)"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Verso de teste com abordagem direta ao Firestore"})]}),u&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(_i,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("p",{className:"text-red-700",children:u})]})}),s.jsxs("form",{onSubmit:j,className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Ttulo do Roteiro *"}),s.jsx("input",{type:"text",id:"title",value:r.title,onChange:N=>n(E=>({...E,title:N.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Contedo do Roteiro *"}),s.jsx("textarea",{id:"content",value:r.content,onChange:N=>n(E=>({...E,content:N.target.value})),rows:10,className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",required:!0})]}),s.jsx(Gw,{rruleString:f,onChange:p,endTime:g,onEndTimeChange:x}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Status"}),s.jsxs("select",{id:"status",value:r.status,onChange:N=>n(E=>({...E,status:N.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",children:[s.jsx("option",{value:"rascunho",children:"Rascunho"}),s.jsx("option",{value:"pronto",children:"Pronto"}),s.jsx("option",{value:"revisado",children:"Revisado"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"recordingMonth",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Ms de Gravao"}),s.jsx("input",{type:"text",id:"recordingMonth",value:r.recordingMonth,onChange:N=>n(E=>({...E,recordingMonth:N.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Is,{size:16}),"Imagem (opcional)"]}),s.jsxs("p",{className:"text-xs text-jkd-text/70",children:["Recomendado: formato vertical (9:16). Tamanho mximo: ",s.jsx("strong",{children:"2MB"}),"."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex gap-2",children:s.jsx("input",{type:"url",value:r.image,onChange:N=>w(N.target.value),disabled:!!a,className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary disabled:bg-jkd-border/20 disabled:cursor-not-allowed",placeholder:"https://exemplo.com/imagem.jpg"})}),s.jsxs("div",{className:"relative flex items-center justify-center",children:[s.jsx("div",{className:"flex-grow border-t border-jkd-border"}),s.jsx("span",{className:"flex-shrink mx-4 text-jkd-text text-sm",children:"ou"}),s.jsx("div",{className:"flex-grow border-t border-jkd-border"})]}),a?s.jsxs("div",{className:"flex items-center justify-between bg-jkd-bg p-2 rounded-lg border border-jkd-border",children:[s.jsx("p",{className:"text-sm text-jkd-text truncate",children:a.name}),s.jsx("button",{type:"button",onClick:()=>i(null),className:"p-1 rounded-full hover:bg-red-500/10 text-red-500",children:s.jsx(On,{size:16})})]}):s.jsxs("label",{htmlFor:"file-upload",className:`relative cursor-pointer rounded-lg border-2 border-dashed border-jkd-border w-full p-6 flex justify-center items-center text-center transition-colors ${r.image?"bg-jkd-border/20 cursor-not-allowed opacity-50":"hover:border-church-primary"}`,children:[s.jsxs("div",{className:"space-y-1 text-jkd-text",children:[s.jsx(ns,{className:"mx-auto h-10 w-10"}),s.jsx("span",{className:"font-medium text-church-primary",children:"Clique para enviar"}),s.jsx("p",{className:"text-xs",children:"PNG, JPG, GIF at 2MB"})]}),s.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:b,disabled:!!r.image,accept:"image/*"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(xt,{to:"/roteiros",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-jkd-bg text-jkd-text",children:"Cancelar"}),s.jsxs("button",{type:"submit",disabled:o,className:"inline-flex items-center gap-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90 disabled:opacity-50",children:[s.jsx(as,{size:16}),o?"Salvando...":"Salvar Roteiro"]})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-jkd-bg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(_i,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading mb-2",children:"Acesso Negado"}),s.jsx("p",{className:"text-jkd-text",children:"Voc precisa estar logado para criar roteiros."})]})})},g$e=[{value:"aviso",label:"Aviso"},{value:"evento",label:"Evento"},{value:"retiro",label:"Retiro"},{value:"jantar",label:"Jantar"},{value:"visita",label:"Visita"},{value:"evangelismo",label:"Evangelismo"},{value:"audicao",label:"Audio"},{value:"curso",label:"Curso"},{value:"confraternizacao",label:"Confraternizao"},{value:"jornada-vida",label:"Jornada Vida"}],x$e=[{value:"baixa",label:"Baixa"},{value:"media",label:"Mdia"},{value:"alta",label:"Alta"}],y$e=()=>{const{user:t,firebaseUser:e}=xr(),r=mn(),{addAnnouncement:n}=cr(),{showToast:a}=Da(),[i,o]=v.useState({title:"",content:"",type:"aviso",priority:"media",image:""}),[c,u]=v.useState([]),[h,f]=v.useState([]),[p,g]=v.useState([]),[x,j]=v.useState([]),[w,b]=v.useState(""),[N,E]=v.useState(""),[A,O]=v.useState(!1);v.useEffect(()=>{(async()=>{const[I,T,_,D]=await Promise.all([ss("tema"),ss("topico"),ss("tipo"),ss("prioridade")]),P=R=>[...R].sort((U,$)=>U.name.localeCompare($.name,"pt-BR",{sensitivity:"base"}));u(P(I)),f(P(T)),g(P(_)),j(P(D)),_.length>0&&!_.find(R=>R.name===i.type)&&o(R=>({...R,type:_[0].name})),D.length>0&&!D.find(R=>R.name===i.priority)&&o(R=>({...R,priority:D[0].name}))})()},[]);const M=async L=>{var I,T;if(t){O(!0);try{if(!i.type||!i.priority||!w||!N){a("warning","Selecione Tipo, Prioridade, Tema e Tpico."),O(!1);return}const _={title:L.title,content:L.description,...L.descriptionHtml&&{contentHtml:L.descriptionHtml},type:i.type,priority:i.priority,ministry:t.ministry||"geral",rruleString:L.rruleString,...L.endTime&&{endTime:L.endTime},...L.imageUrl&&L.imageUrl.trim()&&{image:L.imageUrl.trim()},...L.destaqueCountdownUrl&&L.destaqueCountdownUrl.trim()&&{destaqueCountdownUrl:L.destaqueCountdownUrl.trim()},...L.videoUrl&&L.videoUrl.trim()&&{videoUrl:L.videoUrl.trim()},...typeof L.isLive<"u"&&{isLive:!!L.isLive},...w&&{temaId:w,temaName:((I=c.find(D=>D.id===w))==null?void 0:I.name)||""},...N&&{topicoId:N,topicoName:((T=h.find(D=>D.id===N))==null?void 0:T.name)||""}};console.log(" PROGRAMACAO2: Enviando criao via AppContext.addAnnouncement:",_),await n(_,{...t,avatarUrl:t.avatarUrl||""}),console.log(" PROGRAMACAO2: Solicitao de criao enviada com sucesso"),r("/dashboard")}catch(_){console.error(" PROGRAMACAO2: Erro ao salvar:",_);const D=_ instanceof Error?_.message:"Erro desconhecido";a("error",`Erro ao salvar programao: ${D}`)}finally{O(!1)}}};return t?s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(xt,{to:"/dashboard",className:"inline-flex items-center space-x-2 text-church-primary hover:text-church-primary/80 mb-4",children:[s.jsx(_s,{size:20}),s.jsx("span",{children:"Voltar para Dashboard"})]}),s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Nova Programao"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'Crie uma programao com ttulo, descrio, tipo, prioridade, imagem e recorrncia. Aps salvar, ela ficar pendente em "Aprovaes" e s aparecer na Agenda aps ser aprovada.'})]}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 space-y-6",children:[s.jsx(n2,{initialTitle:i.title,initialDescription:i.content,initialImageUrl:i.image,uploaderAuthorizedUserId:t.id,onSubmit:M,submitLabel:A?"Salvando...":"Salvar Programao",entityLabel:"Programao"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Tipo"}),s.jsx("select",{id:"type",value:i.type,onChange:L=>o(I=>({...I,type:L.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",required:!0,children:(p.length>0?p.map(L=>({value:L.name,label:L.name})):g$e).map(L=>s.jsx("option",{value:L.value,children:L.label},L.value))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Prioridade"}),s.jsx("select",{id:"priority",value:i.priority,onChange:L=>o(I=>({...I,priority:L.target.value})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",required:!0,children:(x.length>0?x.map(L=>({value:L.name,label:L.name})):x$e).map(L=>s.jsx("option",{value:L.value,children:L.label},L.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"tema",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Tema (Categoria)"}),s.jsxs("select",{id:"tema",value:w,onChange:L=>b(L.target.value),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um Tema"}),c.map(L=>s.jsx("option",{value:L.id,children:L.name},L.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"topico",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Tpico (Tag)"}),s.jsxs("select",{id:"topico",value:N,onChange:L=>E(L.target.value),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um Tpico"}),h.map(L=>s.jsx("option",{value:L.id,children:L.name},L.id))]})]})]}),s.jsx("div",{className:"flex justify-end gap-3 pt-4",children:s.jsx(xt,{to:"/dashboard",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-jkd-bg text-jkd-text",children:"Cancelar"})})]})]})}):s.jsx("div",{className:"min-h-screen bg-jkd-bg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(_i,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading mb-2",children:"Acesso Negado"}),s.jsx("p",{className:"text-jkd-text",children:"Voc precisa estar logado para criar programaes."})]})})},v$e=()=>{const{user:t,firebaseUser:e}=xr(),r=mn(),[n,a]=v.useState(!1),[i,o]=v.useState(null),[c,u]=v.useState([]),[h,f]=v.useState([]),[p,g]=v.useState(""),[x,j]=v.useState("");v.useEffect(()=>{(async()=>{const[N,E]=await Promise.all([ss("tema"),ss("topico")]);u([...N].sort((A,O)=>A.name.localeCompare(O.name,"pt-BR",{sensitivity:"base"}))),f([...E].sort((A,O)=>A.name.localeCompare(O.name,"pt-BR",{sensitivity:"base"})))})()},[]);const w=async b=>{var N,E;if(t){a(!0),o(null);try{if(!p||!x){o("Selecione Tema e Tpico."),a(!1);return}const A={title:b.title,description:b.description,...b.descriptionHtml&&{descriptionHtml:b.descriptionHtml},rruleString:b.rruleString,...b.endTime&&{endTime:b.endTime},authorFirebaseUid:e==null?void 0:e.uid,createdAt:fn(),updatedAt:fn(),...b.imageUrl&&b.imageUrl.trim()&&{image:b.imageUrl.trim()},...b.destaqueCountdownUrl&&b.destaqueCountdownUrl.trim()&&{destaqueCountdownUrl:b.destaqueCountdownUrl.trim()},...b.videoUrl&&b.videoUrl.trim()&&{videoUrl:b.videoUrl.trim()},...typeof b.isLive<"u"&&{isLive:!!b.isLive},...p&&{temaId:p,temaName:((N=c.find(M=>M.id===p))==null?void 0:N.name)||""},...x&&{topicoId:x,topicoName:((E=h.find(M=>M.id===x))==null?void 0:E.name)||""}};console.log(" CULTO2: Salvando no Firestore:",A);const O=await qa(Et(we,"cultos"),A);console.log(" CULTO2: Salvo com sucesso, ID:",O.id),r("/agenda")}catch(A){console.error(" CULTO2: Erro ao salvar:",A),o(`Erro ao salvar culto: ${A instanceof Error?A.message:"Erro desconhecido"}`)}finally{a(!1)}}};return t?s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(xt,{to:"/agenda",className:"inline-flex items-center space-x-2 text-church-primary hover:text-church-primary/80 mb-4",children:[s.jsx(_s,{size:20}),s.jsx("span",{children:"Voltar para Agenda"})]}),s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Novo Culto"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Formulrio para cadastro de cultos (pontuais ou recorrentes)."})]}),i&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(_i,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("p",{className:"text-red-700",children:i})]})}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 space-y-6",children:[s.jsx(n2,{uploaderAuthorizedUserId:t.id,onSubmit:w,submitLabel:n?"Salvando...":"Salvar Culto",entityLabel:"Culto"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"tema",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Tema (Categoria)"}),s.jsxs("select",{id:"tema",value:p,onChange:b=>g(b.target.value),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um Tema"}),c.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"topico",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Tpico (Tag)"}),s.jsxs("select",{id:"topico",value:x,onChange:b=>j(b.target.value),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um Tpico"}),h.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]})]})]}),s.jsx("div",{className:"flex justify-end gap-3 pt-4",children:s.jsx(xt,{to:"/agenda",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-jkd-bg text-jkd-text",children:"Cancelar"})})]})]})}):s.jsx("div",{className:"min-h-screen bg-jkd-bg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(_i,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading mb-2",children:"Acesso Negado"}),s.jsx("p",{className:"text-jkd-text",children:"Voc precisa estar logado para criar cultos."})]})})},b$e=()=>{const{id:t}=Mp(),{user:e,firebaseUser:r}=xr(),{cultos:n,updateCulto:a}=cr(),i=mn(),o=v.useMemo(()=>n.find(O=>O.id===t),[n,t]),[c,u]=v.useState(!1),[h,f]=v.useState(null),[p,g]=v.useState([]),[x,j]=v.useState([]),[w,b]=v.useState(""),[N,E]=v.useState("");v.useEffect(()=>{(async()=>{const[M,L]=await Promise.all([ss("tema"),ss("topico")]);g([...M].sort((I,T)=>I.name.localeCompare(T.name,"pt-BR",{sensitivity:"base"}))),j([...L].sort((I,T)=>I.name.localeCompare(T.name,"pt-BR",{sensitivity:"base"})))})()},[]),v.useEffect(()=>{o&&(b(o.temaId||""),E(o.topicoId||""))},[o]);const A=async O=>{var M,L;if(!(!e||!o)){u(!0),f(null);try{if(!w||!N){f("Selecione Tema e Tpico."),u(!1);return}const I={title:O.title,description:O.description,...O.descriptionHtml&&{descriptionHtml:O.descriptionHtml},rruleString:O.rruleString,...O.endTime&&{endTime:O.endTime},...O.imageUrl&&O.imageUrl.trim()&&{image:O.imageUrl.trim()},...O.destaqueCountdownUrl&&O.destaqueCountdownUrl.trim()&&{destaqueCountdownUrl:O.destaqueCountdownUrl.trim()},...O.videoUrl&&O.videoUrl.trim()&&{videoUrl:O.videoUrl.trim()},...typeof O.isLive<"u"&&{isLive:!!O.isLive},...w&&{temaId:w,temaName:((M=p.find(T=>T.id===w))==null?void 0:M.name)||""},...N&&{topicoId:N,topicoName:((L=x.find(T=>T.id===N))==null?void 0:L.name)||""}};await a(o.id,I),i("/agenda")}catch(I){console.error(" Erro ao atualizar culto:",I),f(`Erro ao atualizar culto: ${I instanceof Error?I.message:"Erro desconhecido"}`)}finally{u(!1)}}};return e?o?s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(xt,{to:"/agenda",className:"inline-flex items-center space-x-2 text-church-primary hover:text-church-primary/80 mb-4",children:[s.jsx(_s,{size:20}),s.jsx("span",{children:"Voltar para Agenda"})]}),s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Editar Culto"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Atualize os dados do culto, incluindo descrio rica e imagens."})]}),h&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(_i,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("p",{className:"text-red-700",children:h})]})}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 space-y-6",children:[s.jsx(n2,{initialTitle:o.title||"",initialDescription:o.description||"",initialImageUrl:o.image||"",initialRRuleString:o.rruleString||"",initialEndTime:o.endTime||"",uploaderAuthorizedUserId:e.id,onSubmit:A,submitLabel:c?"Salvando...":"Salvar Alteraes",entityLabel:"Culto"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"tema",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Tema (Categoria)"}),s.jsxs("select",{id:"tema",value:w,onChange:O=>b(O.target.value),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um Tema"}),p.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"topico",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Tpico (Tag)"}),s.jsxs("select",{id:"topico",value:N,onChange:O=>E(O.target.value),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text focus:outline-none focus:ring-2 focus:ring-church-primary",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um Tpico"}),x.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),s.jsx("div",{className:"flex justify-end gap-3 pt-4",children:s.jsx(xt,{to:"/agenda",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-jkd-bg text-jkd-text",children:"Cancelar"})})]})]})}):s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(xt,{to:"/agenda",className:"inline-flex items-center space-x-2 text-church-primary hover:text-church-primary/80 mb-4",children:[s.jsx(_s,{size:20}),s.jsx("span",{children:"Voltar para Agenda"})]}),s.jsx("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-6",children:s.jsx("p",{className:"text-jkd-text",children:"Culto no encontrado."})})]})}):s.jsx("div",{className:"min-h-screen bg-jkd-bg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(_i,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading mb-2",children:"Acesso Negado"}),s.jsx("p",{className:"text-jkd-text",children:"Voc precisa estar logado para editar cultos."})]})})},j$e=()=>{const{user:t}=xr(),{showToast:e}=Da(),[r,n]=v.useState([]),[a,i]=v.useState(!1),[o,c]=v.useState(null),[u,h]=v.useState(""),[f,p]=v.useState("todos"),[g,x]=v.useState(!1),[j,w]=v.useState("principal"),[b,N]=v.useState(!1),E=(_,D=32)=>{const P=_.replace(/^[0-9]+_/,"");return P.length<=D?P:""+P.slice(-D)},A=async()=>{i(!0),c(null);try{const _=await IK(j);n(_)}catch(_){console.error("Erro ao listar galeria:",_),c("Falha ao carregar a galeria.")}finally{i(!1)}};v.useEffect(()=>{A()},[j]);const O=v.useMemo(()=>{const _=u.trim().toLowerCase();return r.filter(D=>{const P=!_||D.name.toLowerCase().includes(_),R=(D.name.split(".").pop()||"").toLowerCase();return P&&(f==="todos"||R===f)})},[r,u,f]),M=async _=>{try{await navigator.clipboard.writeText(_),e("success","URL da imagem copiada!")}catch{e("error","No foi possvel copiar a URL.")}},L=async _=>{var P;const D=(P=_.target.files)==null?void 0:P[0];if(D){x(!0);try{await l3e(D,j),e("success","Imagem enviada para a galeria!"),await A()}catch(R){e("error",(R==null?void 0:R.message)||"Falha no upload.")}finally{x(!1);try{_.target.value=""}catch{}}}},I=async _=>{x(!0);try{await c3e(_,j),e("success","Imagem importada pela URL!"),await A()}catch(D){e("error",(D==null?void 0:D.message)||"Falha ao importar por URL.")}finally{x(!1),N(!1)}},T=async _=>{if(!t){e("error"," necessrio estar logado para excluir.");return}if(window.confirm(`Excluir a imagem "${_.name}" da aba ${j}? Esta ao no pode ser desfeita.`))try{await u3e(_.fullPath),e("success","Imagem excluda da galeria."),await A()}catch(P){const R=(P==null?void 0:P.message)||"Falha ao excluir a imagem.";e("error",R)}};return s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Is,{className:"h-8 w-8 text-church-primary"}),s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Galeria"})]}),s.jsxs(xt,{to:"/dashboard",className:"inline-flex items-center gap-2 text-church-primary hover:text-church-primary/80",children:[s.jsx(_s,{size:18}),s.jsx("span",{children:"Voltar ao Painel"})]})]}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-500/30 p-4 mb-6 text-blue-900 dark:text-blue-200",children:s.jsxs("p",{className:"text-sm",children:["As imagens desta Galeria so destinadas ao uso nas criaes de ",s.jsx("strong",{children:"Programaes"})," e ",s.jsx("strong",{children:"Cultos"}),". Para mantermos um ambiente organizado e gil na hora de escolher uma imagem atual, pedimos gentilmente que as imagens sejam mantidas ",s.jsx("strong",{children:"sempre atualizadas"}),". Caso alguma imagem no esteja mais sendo utilizada em postagens que j expiraram e no esto visveis, por favor, ",s.jsx("strong",{children:"exclua"})," para colaborar com a boa organizao de todos."]})}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-4 mb-6",children:[s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx("button",{className:`px-3 py-1.5 rounded-md text-sm font-medium border ${j==="principal"?"bg-church-primary text-white border-church-primary":"bg-jkd-bg border-jkd-border text-jkd-text hover:bg-jkd-bg-sec"}`,onClick:()=>w("principal"),children:"Imagem Principal"}),s.jsx("button",{className:`px-3 py-1.5 rounded-md text-sm font-medium border ${j==="countdown"?"bg-church-primary text-white border-church-primary":"bg-jkd-bg border-jkd-border text-jkd-text hover:bg-jkd-bg-sec"}`,onClick:()=>w("countdown"),children:"Destaque Countdown"})]}),s.jsx("p",{className:"text-xs text-jkd-text",children:j==="principal"?"Use imagens 1:1 (1000x1000 - Feed) ou 9:16 (1080x1920 - Reels/History).":"Use imagens 16:9 (1920x1080 - Paisagem/Horizontal)."})]}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-4 mb-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:items-center md:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx(Uw,{size:16,className:"text-jkd-text"}),s.jsx("input",{type:"text",value:u,onChange:_=>h(_.target.value),placeholder:"Buscar por nome...",className:"flex-1 input-style"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm",children:"Tipo"}),s.jsxs("select",{value:f,onChange:_=>p(_.target.value),className:"input-style",children:[s.jsx("option",{value:"todos",children:"Todos"}),s.jsx("option",{value:"jpg",children:"JPG"}),s.jsx("option",{value:"jpeg",children:"JPEG"}),s.jsx("option",{value:"png",children:"PNG"}),s.jsx("option",{value:"svg",children:"SVG"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg cursor-pointer hover:bg-jkd-border",children:[s.jsx(ns,{size:18}),s.jsx("span",{children:g?"Enviando...":"Upload"}),s.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/svg+xml",className:"hidden",onChange:L,disabled:g||!t})]}),s.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg hover:bg-jkd-border disabled:opacity-50",onClick:()=>N(!0),disabled:g||!t,children:[s.jsx(hv,{size:18}),s.jsx("span",{children:"URL"})]})]})]}),s.jsx("p",{className:"text-xs text-jkd-text mt-2",children:"Apenas imagens: JPEG, JPG, PNG, SVG. Mx 5MB."})]}),o&&s.jsx("div",{className:"mb-6 p-3 rounded border border-red-300 bg-red-50 text-red-700",children:o}),a?s.jsx("div",{className:"text-center py-12",children:"Carregando galeria..."}):s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[O.map(_=>s.jsxs("div",{className:"border border-jkd-border rounded-lg overflow-hidden bg-jkd-bg-sec",children:[s.jsx("div",{className:"aspect-square bg-white flex items-center justify-center",children:s.jsx("img",{src:_.url,alt:_.name,className:"h-full w-full object-contain"})}),s.jsxs("div",{className:"p-2 flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-xs truncate",title:_.name,children:E(_.name)})}),s.jsx("button",{className:"p-1 rounded hover:bg-jkd-border",onClick:()=>M(_.url),title:"Copiar URL",children:s.jsx(II,{size:16})}),s.jsx("a",{className:"p-1 rounded hover:bg-jkd-border",href:_.url,target:"_blank",rel:"noreferrer",title:"Abrir em nova aba",children:s.jsx(Is,{size:16})}),s.jsx("button",{className:"p-1 rounded hover:bg-red-100 text-red-600 disabled:opacity-50",onClick:()=>T(_),title:"Excluir imagem",disabled:!t,children:s.jsx(Ss,{size:16})})]})]},_.fullPath)),O.length===0&&s.jsx("div",{className:"col-span-full text-center py-12 text-jkd-text",children:"Nenhuma imagem encontrada."})]}),s.jsx(fv,{isOpen:b,title:j==="principal"?"Adicionar imagem por URL (Principal)":"Adicionar imagem por URL (Countdown)",message:j==="principal"?"Informe a URL de uma imagem 1:1 ou 9:16.":"Informe a URL de uma imagem 16:9.",inputLabel:"URL da imagem",onConfirm:I,onCancel:()=>N(!1)})]})})},AA=[{title:"A Mulher Que Prospera",category:"Mulheres",image:"https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=1200&auto=format&fit=crop",link:"https://fontenews.com/curso/amqprospera",target:"_self"},{title:"Crown",category:"Finanas",image:"https://images.unsplash.com/photo-1553729784-e91953dec042?q=80&w=1200&auto=format&fit=crop",link:"https://fontenews.com/curso/crown",target:"_self"},{title:"Casados para Sempre",category:"Famlia",image:"https://images.unsplash.com/photo-1518600506278-4e8ef466b010?q=80&w=1200&auto=format&fit=crop",link:"https://fontenews.com/curso/casados_para_sempre",target:"_self"},{title:"Homem nico",category:"Homens",image:"https://images.unsplash.com/photo-1537368910025-700350fe46c7?q=80&w=1200&auto=format&fit=crop",link:"https://fontenews.com/curso/homem_unico",target:"_self"}],TA={transition_time:6e3,pause_on_hover:!0,show_indicators:!1,contact_email:"secretaria@adfontedevidalaranjeiras.org",email_color:"#ffffff",enable_particles:!1},mee=({heightPx:t=350,noRounded:e=!1})=>{var je,Pe;const[r,n]=v.useState(AA),[a,i]=v.useState([]),[o,c]=v.useState(TA),[u,h]=v.useState(0),[f,p]=v.useState(!1),[g,x]=v.useState(null),[j,w]=v.useState(0),[b,N]=v.useState("idle"),[E,A]=v.useState((je=AA[0])==null?void 0:je.image),[O,M]=v.useState((Pe=AA[0])==null?void 0:Pe.image),[L,I]=v.useState(!1),T=v.useRef(null),_=v.useRef(null),D=v.useRef(0),P=v.useRef(!1),R=50,U=async ue=>{if(!ue)return;const ae=ue.trim();if(!ae)return;if(/^https?:\/\//i.test(ae))return ae;const oe=ae.startsWith("/")?ae.slice(1):ae;if(/^(images|uploads|assets)\//i.test(oe))try{const ve=kn(da,oe);return await Ci(ve)}catch{return`/${oe}`}return ae};v.useEffect(()=>{(async()=>{try{const ue=Er(Et(we,"course_slides"),Vr("active","==",!0),li("order","asc")),oe=(await hn(ue)).docs.map(Y=>{const fe=Y.data();return{title:fe.title||"",category:fe.category||"",image:fe.imageUrl||fe.image||fe.coverUrl||"",link:fe.linkUrl||fe.link||"",target:fe.target||"_self",background:fe.background||fe.imageUrl||fe.image||"",order:fe.order||0,active:fe.active!==!1}}).filter(Y=>!!Y.image);oe.length>0&&n(oe);const ve=await nn(at(we,"course_slide_settings","default"));if(ve.exists()){const Y=ve.data();c({transition_time:Y.autoplayMs||Y.transition_time||6e3,pause_on_hover:Y.pauseOnHover??!0,show_indicators:Y.showIndicators??!1,contact_email:Y.contact_email||Y.email||TA.contact_email,email_color:Y.email_color||TA.email_color,enable_particles:Y.enable_particles??!1})}}catch(ue){console.warn("Falha ao carregar dados de Course Slides. Usando fallback.",ue)}})()},[]),v.useEffect(()=>{let ue=!0;return(async()=>{const ae=await Promise.all(r.map(async oe=>{const[ve,Y]=await Promise.all([U(oe.image),U(oe.background)]);return{...oe,resolvedImage:ve,resolvedBackground:Y}}));ue&&i(ae)})(),()=>{ue=!1}},[r]);const $=ue=>{const ae=r[ue],oe=a[ue];return(oe==null?void 0:oe.resolvedBackground)||(oe==null?void 0:oe.resolvedImage)||(ae==null?void 0:ae.background)||(ae==null?void 0:ae.image)};v.useEffect(()=>{const ue=$(u);if(!ue)return;const ae=new Image,oe=()=>{A(O||ue),M(ue),I(!0),requestAnimationFrame(()=>I(!1))};ae.onload=oe,ae.onerror=oe,ae.src=ue},[u]),v.useEffect(()=>{N("exiting");const ae=window.setTimeout(()=>{w(u),N("entering"),requestAnimationFrame(()=>N("idle"))},300);return()=>window.clearTimeout(ae)},[u]);const K=()=>{T.current&&window.clearInterval(T.current);const ue=Math.max(2500,o.transition_time||6e3);T.current=window.setInterval(()=>h(ae=>(ae+1)%r.length),ue)},F=()=>{T.current&&(window.clearInterval(T.current),T.current=null)};v.useEffect(()=>(r.length>1&&K(),()=>F()),[r,o.transition_time]);const W=ue=>{f||(p(!0),h((ue%r.length+r.length)%r.length),K(),window.setTimeout(()=>p(!1),700))},te=()=>W(u-1),X=()=>W(u+1),B=v.useMemo(()=>ue=>{const ae=r.length;let oe=ue-u;return Math.abs(oe)>ae/2&&(oe=oe>0?oe-ae:oe+ae),oe===0?"current":oe===1?"future0":oe===2?"future1":oe===-1?"past0":oe===-2?"past1":"hidden"},[u,r.length]),G=ue=>{var ae;f||(P.current=!0,(ae=_.current)==null||ae.classList.add("is-dragging"),D.current="touches"in ue?ue.touches[0].pageX:ue.pageX,ue.preventDefault(),o.pause_on_hover&&F())},J=ue=>{P.current&&ue.preventDefault()},ne=ue=>{var ve,Y,fe,ee,ye;if(!P.current)return;P.current=!1,(ve=_.current)==null||ve.classList.remove("is-dragging");const oe=("changedTouches"in ue?ue.changedTouches[0].pageX:ue.pageX)-D.current;if(Math.abs(oe)>R)oe<0?X():te();else{const Oe=((Y=a[u])==null?void 0:Y.resolvedImage)||((fe=r[u])==null?void 0:fe.image);x({visible:!0,img:Oe,link:(ee=r[u])==null?void 0:ee.link,target:(ye=r[u])==null?void 0:ye.target})}o.pause_on_hover&&K()},ie=r[j]||r[0],se=a[j]||a[0];return se!=null&&se.resolvedBackground||se!=null&&se.resolvedImage||ie!=null&&ie.background||(ie==null||ie.image),s.jsxs("div",{children:[s.jsxs("div",{id:"fsc_container",className:`fsc-container ${L?"is-fading":""} ${e?"no-rounded":""}`,"data-particles-enabled":!!o.enable_particles,style:{height:`${t}px`},children:[s.jsx("canvas",{id:"fsc_magic-dust"}),s.jsx("div",{className:"fsc-background bg-prev",style:{backgroundImage:E?`url(${E})`:void 0}}),s.jsx("div",{className:"fsc-background bg-curr",style:{backgroundImage:O?`url(${O})`:void 0}}),s.jsxs("div",{className:"fsc-content",children:[s.jsx("div",{className:"fsc-text-area",children:s.jsxs("div",{className:`fsc-text-wrapper ${b==="exiting"?"is-exiting":""} ${b==="entering"?"is-entering":""}`,children:[s.jsx("div",{className:"fsc-category",children:(ie==null?void 0:ie.category)||""}),s.jsx("h2",{className:"fsc-title",children:(ie==null?void 0:ie.title)||""}),s.jsx("a",{href:(ie==null?void 0:ie.link)||"#",target:(ie==null?void 0:ie.target)||"_self",className:"fsc-read-more background_shining",onClick:ue=>{if(!(ie!=null&&ie.link)){ue.preventDefault();const ae=(se==null?void 0:se.resolvedImage)||(ie==null?void 0:ie.image);x({visible:!0,img:ae,link:ie==null?void 0:ie.link,target:ie==null?void 0:ie.target})}},children:"Leia Mais"})]})}),s.jsx("div",{className:"fsc-image-area",children:s.jsx("div",{ref:_,className:"fsc-image-wrapper",onMouseEnter:()=>o.pause_on_hover&&F(),onMouseLeave:()=>o.pause_on_hover&&K(),onMouseDown:G,onMouseMove:J,onMouseUp:ne,onTouchStart:G,onTouchMove:J,onTouchEnd:ne,children:r.map((ue,ae)=>{var ve;const oe=((ve=a[ae])==null?void 0:ve.resolvedImage)||ue.image;return s.jsx("div",{className:`fsc-page ${B(ae)}`,children:s.jsx("div",{className:"fsc-card",style:{backgroundImage:`url(${oe})`}})},`${ue.title}-${ae}`)})})})]}),s.jsxs("div",{className:"fsc-navigator",children:[s.jsx("div",{className:"fsc-prev",onClick:te,children:s.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"15 18 9 12 15 6"})})}),s.jsx("div",{className:"fsc-next",onClick:X,children:s.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),o.contact_email&&s.jsx("div",{className:"fsc-email-display",style:{color:o.email_color||"#ffffff"},children:s.jsx("a",{href:`mailto:${o.contact_email}`,style:{color:"inherit"},children:o.contact_email})})]}),o.show_indicators&&r.length>1&&s.jsx("div",{className:"flex justify-center gap-2 mt-2",children:r.map((ue,ae)=>s.jsx("button",{"aria-label":`Ir para slide ${ae+1}`,onClick:()=>W(ae),className:`h-2 w-2 rounded-full ${ae===u?"bg-gray-800":"bg-gray-400"}`},`ind-${ae}`))}),s.jsxs("div",{id:"fsc_popup_overlay",className:`fsc-popup-overlay ${g!=null&&g.visible?"is-visible":""}`,onClick:()=>x(null),children:[s.jsx("div",{className:"fsc-popup-content",onClick:ue=>ue.stopPropagation(),children:(g==null?void 0:g.img)&&s.jsx("img",{src:g.img,alt:"Imagem Ampliada"})}),s.jsxs("div",{className:"fsc-popup-actions",children:[(g==null?void 0:g.link)&&s.jsx("a",{href:g.link,target:g.target||"_self",className:"fsc-popup-open-link",title:"Abrir Link",children:s.jsx("i",{children:s.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),s.jsx("polyline",{points:"15 3 21 3 21 9"}),s.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})})}),s.jsx("a",{href:"#",className:"fsc-popup-close-action",title:"Fechar",onClick:ue=>{ue.preventDefault(),x(null)},children:s.jsx("i",{children:s.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]})]})]})},w$e=()=>{var fe,ee,ye,Oe,We,it,ut,At,wt,st;const t=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],{announcements:e,cultos:r,settings:n,getOccurrences:a}=cr(),i=Ce=>typeof Ce=="number"&&Ce>=0&&Ce<=6?t[Ce]:"Dia no configurado";function o(Ce,Ve){if(typeof Ve!="number"||Ve<0||Ve>6)return[];const Qe=Ce.getFullYear(),rt=Ce.getMonth(),ot=new Date(Qe,rt+1,0).getDate(),gt=new Date(Qe,rt,1),Dt=1+(Ve-gt.getDay()+7)%7,qt=[];for(let Rt=Dt;Rt<=ot;Rt+=7)qt.push(Rt);return qt}function c(Ce,Ve){const Qe=o(Ce,Ve);if(Qe.length===0)return"1";const rt=Ce.getDate(),ot=Qe.indexOf(rt);if(ot>=0)return ot===Qe.length-1?"last":String(ot+1);let gt=Math.floor((rt-Qe[0])/7);return gt=Math.max(0,Math.min(Qe.length-1,gt)),gt===Qe.length-1?"last":String(gt+1)}const u=Ce=>Ce>1024?900:Ce>=778&&Ce<=1023?768:Ce>=480&&Ce<=777?960:720,[h,f]=v.useState(u(typeof window<"u"?window.innerWidth:1024));v.useEffect(()=>{const Ce=()=>f(u(window.innerWidth));return window.addEventListener("resize",Ce),()=>window.removeEventListener("resize",Ce)},[]);const[p,g]=v.useState(typeof window<"u"?window.innerWidth<768:!1);v.useEffect(()=>{const Ce=()=>g(window.innerWidth<768);return window.addEventListener("resize",Ce),()=>window.removeEventListener("resize",Ce)},[]);const x=v.useMemo(()=>e.filter(Ce=>Ce.status==="approved"),[e]),j=v.useMemo(()=>{const Ce=new Date,Ve=new Date(Ce.getFullYear(),Ce.getMonth(),Ce.getDate(),0,0,0,0),Qe=new Date(Ce.getFullYear()+1,Ce.getMonth(),Ce.getDate()),rt=x.flatMap(gt=>a(gt.rruleString,Ve,Qe).map(ht=>{var Rt;let Dt=new Date(ht);try{const Qt=(Rt=Je.fromString(gt.rruleString).options)==null?void 0:Rt.dtstart;if(Qt){const pe=Qt.getHours(),ge=Qt.getMinutes();pe+ge>0&&Dt.setHours(pe||0,ge||0,0,0)}}catch{}let qt;if(gt.endTime){const[Xt,Qt]=gt.endTime.split(":").map(Number);qt=new Date(Dt),qt.setHours(Xt,Qt,0,0)}return{title:gt.title,date:Dt,endDate:qt,source:gt}})),ot=r.flatMap(gt=>a(gt.rruleString,Ve,Qe).map(ht=>{var Rt;let Dt=new Date(ht);try{const Qt=(Rt=Je.fromString(gt.rruleString).options)==null?void 0:Rt.dtstart;if(Qt){const pe=Qt.getHours(),ge=Qt.getMinutes();pe+ge>0&&Dt.setHours(pe||0,ge||0,0,0)}}catch{}let qt;if(gt.endTime){const[Xt,Qt]=gt.endTime.split(":").map(Number);qt=new Date(Dt),qt.setHours(Xt,Qt,0,0)}return{title:gt.title,date:Dt,endDate:qt,source:gt}}));return[...rt,...ot]},[x,r,a]),w=v.useMemo(()=>Date.now(),[]),b=v.useMemo(()=>{const Ce=new Date,Ve=j.filter(rt=>rt.endDate&&rt.date<=Ce&&rt.endDate>=Ce);return Ve.length===0?null:Ve.sort((rt,ot)=>rt.date.getTime()-ot.date.getTime())[0]},[j,w]),N=v.useMemo(()=>{const Ce=new Date,Ve=j.filter(Qe=>Qe.date>Ce).sort((Qe,rt)=>Qe.date.getTime()-rt.date.getTime());return Ve.length>0?Ve[0]:null},[j,w]),E=((fe=n.siteHome)==null?void 0:fe.bgImageSource)==="upload"?((ee=n.siteHome)==null?void 0:ee.bgImageUploadUrl)||((ye=n.siteHome)==null?void 0:ye.bgImageUrl)||n.parallaxBgUrl:((Oe=n.siteHome)==null?void 0:Oe.bgImageUrl)||n.parallaxBgUrl,A=typeof((We=n.siteHome)==null?void 0:We.bgOpacity)=="number"?n.siteHome.bgOpacity:.35,O=((it=n.siteHome)==null?void 0:it.bgSize)||"cover",M=((ut=n.siteHome)==null?void 0:ut.bgPosition)||"center",L=(At=n.siteHome)!=null&&At.bgRepeat?"repeat":"no-repeat",[I,T]=v.useState(null);v.useEffect(()=>{let Ce=!0;return(async()=>{try{const Ve=at(we,"culto_blocos_settings","default"),Qe=await nn(Ve);if(Qe.exists()&&Ce){const rt=Qe.data(),ht=[...(Array.isArray(rt.blocks)?rt.blocks:[]).map(he=>{const Te=Array.isArray(he==null?void 0:he.images)?he.images.map(De=>({imageUrl:typeof(De==null?void 0:De.imageUrl)=="string"?De.imageUrl:"",imageStoragePath:typeof(De==null?void 0:De.imageStoragePath)=="string"?De.imageStoragePath:"",weekOfMonth:(De==null?void 0:De.weekOfMonth)==="last"||["1","2","3","4","5"].includes(String(De==null?void 0:De.weekOfMonth))?De.weekOfMonth==="5"?"last":De.weekOfMonth:void 0})):typeof(he==null?void 0:he.imageUrl)=="string"&&he.imageUrl?[{imageUrl:he.imageUrl,imageStoragePath:typeof(he==null?void 0:he.imageStoragePath)=="string"?he.imageStoragePath:"",weekOfMonth:void 0}]:[];return{dayOfWeek:typeof(he==null?void 0:he.dayOfWeek)=="number"?he.dayOfWeek:null,imageUrl:typeof(he==null?void 0:he.imageUrl)=="string"?he.imageUrl:"",imageStoragePath:typeof(he==null?void 0:he.imageStoragePath)=="string"?he.imageStoragePath:"",images:Te,rotationMinutes:Number((he==null?void 0:he.rotationMinutes)??0)||0}})];for(;ht.length<5;)ht.push({dayOfWeek:null,imageUrl:"",imageStoragePath:"",images:[],rotationMinutes:0});const Dt=Number(rt.containerHeightDesktop??rt.desktopHeight??400)||400,qt=Number(rt.containerHeightMobile??rt.mobileHeight??Dt)||Dt,Rt=Number(rt.contentHeightDesktop??140)||140,Xt=Number(rt.contentHeightMobile??Rt)||Rt,Qt=Number(rt.contentPaddingBottomDesktop??24)||24,pe=Number(rt.contentPaddingBottomMobile??16)||16,ge=!!(rt.clampTitleMobile??!1);T({blocks:ht,containerHeightDesktop:Dt,containerHeightMobile:qt,contentHeightDesktop:Rt,contentHeightMobile:Xt,contentPaddingBottomDesktop:Qt,contentPaddingBottomMobile:pe,clampTitleMobile:ge})}else Ce&&T({blocks:[{dayOfWeek:null,rotationMinutes:0},{dayOfWeek:null,rotationMinutes:0},{dayOfWeek:null,rotationMinutes:0},{dayOfWeek:null,rotationMinutes:0},{dayOfWeek:null,rotationMinutes:0}],containerHeightDesktop:400,containerHeightMobile:400,contentHeightDesktop:140,contentHeightMobile:120,contentPaddingBottomDesktop:24,contentPaddingBottomMobile:16,clampTitleMobile:!1})}catch(Ve){console.error("Erro ao carregar culto-blocos settings",Ve)}})(),()=>{Ce=!1}},[]);function _(Ce,Ve){const Qe=Array.isArray(Ce==null?void 0:Ce.images)?Ce.images.filter(Rt=>((Rt==null?void 0:Rt.imageUrl)||"").length>0):[];if(Qe.length===0)return(Ce==null?void 0:Ce.imageUrl)||""||null;if(Qe.length===1||!Ve||typeof Ce.dayOfWeek!="number")return Qe[0].imageUrl||null;const rt=c(Ve,Ce.dayOfWeek),ot=Qe.find(Rt=>Rt.weekOfMonth===rt);if(ot!=null&&ot.imageUrl)return ot.imageUrl;const Dt=o(Ve,Ce.dayOfWeek).length===5?["1","2","3","4","last"]:["1","2","3","4"],qt=rt==="last"?Dt.length-1:Number(rt)-1;for(let Rt=qt+1;Rt<Dt.length;Rt++){const Xt=Qe.find(Qt=>Qt.weekOfMonth===Dt[Rt]);if(Xt!=null&&Xt.imageUrl)return Xt.imageUrl}for(let Rt=0;Rt<qt;Rt++){const Xt=Qe.find(Qt=>Qt.weekOfMonth===Dt[Rt]);if(Xt!=null&&Xt.imageUrl)return Xt.imageUrl}return Qe[0].imageUrl||null}function D(Ce,Ve){const Qe=Array.isArray(Ce==null?void 0:Ce.images)?Ce.images.filter(ht=>((ht==null?void 0:ht.imageUrl)||"").length>0):[];if(Qe.length===0){const ht=(Ce==null?void 0:Ce.imageUrl)||"";return ht?[ht]:[]}if(!Ve||typeof Ce.dayOfWeek!="number")return Qe.map(ht=>ht.imageUrl).filter(Boolean);const rt=c(Ve,Ce.dayOfWeek),ot=Qe.filter(ht=>ht.weekOfMonth===rt).map(ht=>ht.imageUrl).filter(Boolean);if(ot.length>0)return ot;const gt=_(Ce,Ve);return gt?[gt]:[]}function P(Ce){var gt;const Ve=new Date,Qe=new Date(Ve.getFullYear(),Ve.getMonth(),Ve.getDate(),0,0,0,0),rt=new Date(Ve.getFullYear()+1,Ve.getMonth(),Ve.getDate());if(Ce==null)return null;const ot=[];for(const ht of r)try{const Dt=a(ht.rruleString,Qe,rt);for(const qt of Dt){let Rt=new Date(qt);try{const Qt=(gt=Je.fromString(ht.rruleString).options)==null?void 0:gt.dtstart;if(Qt){const pe=Qt.getHours(),ge=Qt.getMinutes();pe+ge>0&&Rt.setHours(pe||0,ge||0,0,0)}}catch{}Rt.getDay()===Ce&&Rt>=Ve&&ot.push({culto:ht,date:Rt})}}catch{}return ot.sort((ht,Dt)=>ht.date.getTime()-Dt.date.getTime()),ot.length>0?ot[0]:null}const[R,U]=v.useState(null),[$,K]=v.useState(null),[F,W]=v.useState([]),[te,X]=v.useState(0),[B,G]=v.useState(null),[J,ne]=v.useState(null),[ie,se]=v.useState(!0),je=800;v.useEffect(()=>{const Ce=(I==null?void 0:I.blocks)??[];if(!Ce.length){W([]),G(null),ne(null);return}let Ve=null;for(const ht of Ce){const Dt=P(ht.dayOfWeek??null);if(Dt){if(!(D(ht,Dt.date)[0]||_(ht,Dt.date)||""))continue;(!Ve||Dt.date<Ve.date)&&(Ve={block:ht,date:Dt.date})}}const Qe=(Ve==null?void 0:Ve.block)||Ce[0],rt=P(Qe.dayOfWeek??null),ot=D(Qe,rt==null?void 0:rt.date),gt=ot[0]||_(Qe,rt==null?void 0:rt.date)||null;W(ot),X(Number(Qe.rotationMinutes??0)||0),G(gt),ne(null),se(!0)},[I,r,a]),v.useEffect(()=>{const Ce=F[0]||null;G(Ce),ne(null),se(!0)},[F]),v.useEffect(()=>{if((te||0)<=0||F.length<=1)return;let Ce=0;const Ve=Math.max(1,te)*60*1e3,Qe=setInterval(()=>{Ce=(Ce+1)%F.length;const rt=F[Ce];se(ot=>(ot?ne(rt):G(rt),!ot))},Ve);return()=>clearInterval(Qe)},[F,te]),v.useEffect(()=>{const Ce=(I==null?void 0:I.blocks)??[];if(!Ce.length){K(null);return}let Ve=null;for(const gt of Ce){const ht=P(gt.dayOfWeek??null);if(ht){const Dt=_(gt,ht.date)||"";if(!Dt)continue;(!Ve||ht.date<Ve.date)&&(Ve={img:Dt,date:ht.date})}}const Qe=Ce[0],rt=Qe?P(Qe.dayOfWeek??null):null,ot=Qe&&_(Qe,rt==null?void 0:rt.date)||"";K((Ve==null?void 0:Ve.img)||ot||null)},[I,r,a]);const Pe=(()=>{const Ce=(I==null?void 0:I.containerHeightDesktop)??400,Ve=(I==null?void 0:I.containerHeightMobile)??Ce;return p?Ve:Ce})(),ue=(()=>{const Ce=(I==null?void 0:I.contentHeightDesktop)??140,Ve=(I==null?void 0:I.contentHeightMobile)??Ce;return p?Ve:Ce})(),ae=(()=>{const Ce=(I==null?void 0:I.contentPaddingBottomDesktop)??24,Ve=(I==null?void 0:I.contentPaddingBottomMobile)??Ce;return p?Ve:Ce})(),oe=Ce=>({1:"lg:col-span-1",2:"lg:col-span-2",3:"lg:col-span-3",4:"lg:col-span-4",5:"lg:col-span-5",6:"lg:col-span-6",7:"lg:col-span-7",8:"lg:col-span-8",9:"lg:col-span-9",10:"lg:col-span-10",11:"lg:col-span-11",12:"lg:col-span-12"})[Ce]||"lg:col-span-6",ve=((wt=n.siteHome)==null?void 0:wt.leftColSpan)||4,Y=((st=n.siteHome)==null?void 0:st.rightColSpan)||8;return s.jsxs("div",{className:"min-h-screen bg-jkd-bg",children:[s.jsxs("div",{className:"relative",children:[E&&s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${E})`,backgroundSize:O,backgroundPosition:M,backgroundRepeat:L,opacity:A}}),s.jsx("div",{className:"pointer-events-none absolute inset-0",style:{backgroundImage:"linear-gradient(to bottom, var(--jkd-bg-col), hsla(0,0%,100%,0))"}}),s.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-stretch",children:[s.jsxs("div",{className:`${oe(ve)} space-y-3`,children:[s.jsx("div",{className:"text-xs text-jkd-text uppercase tracking-wide",children:"Fonte Live..."}),s.jsx("div",{className:"p-0 bg-transparent",children:s.jsx(e_,{})})]}),s.jsx("div",{className:`${oe(Y)} flex items-center gap-8`,children:b||N?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("div",{className:"text-5xl md:text-6xl font-extrabold leading-none text-church-primary",children:new Date().getDate()}),s.jsx("div",{className:"text-xs md:text-sm uppercase tracking-wide text-jkd-text",children:new Date().toLocaleDateString("pt-BR",{month:"long"}).toUpperCase()})]}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx(VT,{targetDate:(b||N).date,endDate:(b||N).endDate,title:(b||N).title,variant:"transparent"})})]}):s.jsx("div",{className:"text-jkd-text",children:"Nenhuma programao futura encontrada."})})]})})]}),s.jsxs("div",{className:"relative w-full overflow-hidden",style:{height:`${Pe}px`},children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:B?`url(${B})`:"none",backgroundSize:"cover",backgroundPosition:"center",opacity:ie?1:0,transition:`opacity ${je}ms ease-in-out`}}),s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:J?`url(${J})`:"none",backgroundSize:"cover",backgroundPosition:"center",opacity:ie?0:1,transition:`opacity ${je}ms ease-in-out`}})]}),s.jsx("div",{className:"absolute inset-0 bg-black/30 pointer-events-none"}),s.jsx("div",{className:"relative z-10 w-full h-full py-0",children:s.jsx("div",{className:"grid grid-cols-5 h-full",children:(()=>{const Ve=[...(I==null?void 0:I.blocks)??[]];for(;Ve.length<5;)Ve.push({dayOfWeek:null,imageUrl:"",images:[]});return Ve})().map((Ce,Ve)=>{const Qe=P(Ce.dayOfWeek??null);return s.jsx("button",{type:"button",className:`relative h-full w-full text-center min-w-0 overflow-hidden ${Ve>0?"border-l":""} border-jkd-border group`,onMouseEnter:()=>{const rt=D(Ce,Qe==null?void 0:Qe.date),ot=rt[0]||_(Ce,Qe==null?void 0:Qe.date)||"";W(rt),X(Number(Ce.rotationMinutes??0)||0),G(ot||null),ne(null),se(!0)},onFocus:()=>{const rt=D(Ce,Qe==null?void 0:Qe.date),ot=rt[0]||_(Ce,Qe==null?void 0:Qe.date)||"";W(rt),X(Number(Ce.rotationMinutes??0)||0),G(ot||null),ne(null),se(!0)},"aria-label":`Bloco: ${i(Ce.dayOfWeek??null)}`,children:s.jsx("div",{className:"relative z-10 flex flex-col h-full w-full justify-end items-center px-2 sm:px-4 pb-4 sm:pb-6 pt-0 max-w-full space-y-1 sm:space-y-2",style:{paddingBottom:ae},children:s.jsxs("div",{className:"w-full",style:{minHeight:ue},children:[s.jsx("div",{className:"text-[10px] sm:text-xs font-medium uppercase tracking-wide text-white/90 text-center whitespace-normal break-words",children:i(Ce.dayOfWeek)}),Qe?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-sm sm:text-lg font-semibold text-white text-center whitespace-normal break-words leading-tight",style:p&&((I==null?void 0:I.clampTitleMobile)??!1)?{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"}:void 0,children:Qe.culto.title}),s.jsx("div",{className:"text-xs sm:text-sm text-white/90 text-center",children:Ar(Qe.date,"dd 'de' MMMM 'de' yyyy",{locale:Hs})})]}):s.jsx("div",{className:"text-xs sm:text-sm text-white/80 text-center whitespace-normal break-words leading-tight",children:"Sem culto prximo para este dia."})]})})},Ve)})})})]}),s.jsx(mee,{heightPx:380,noRounded:!0})]})},yP=[{value:"saude",label:"Sade"},{value:"familia",label:"Famlia"},{value:"trabalho",label:"Trabalho"},{value:"financas",label:"Finanas"},{value:"espiritual",label:"Espiritual"},{value:"emocional",label:"Emocional"},{value:"relacionamento",label:"Relacionamento"},{value:"libertacao",label:"Libertao"},{value:"ministerio",label:"Ministrio"},{value:"outros",label:"Outros"}],Kc=t=>{const e=yP.find(r=>r.value===t);return e?e.label:t},bC=()=>yP.map(t=>t.value),k$e=()=>{const{user:t,firebaseUser:e}=xr(),{showToast:r}=Da(),[n,a]=v.useState({name:"",email:"",phone:"",motif:"saude",motifOther:"",wantsVisit:!1,street:"",number:"",district:"",city:"",state:"",isPrivate:!1,hideName:!1,text:"",imageFile:null,imageUrl:"",affiliation:""}),[i,o]=v.useState(!1),[c,u]=v.useState(!1),h=qc.useRef(null),f=j=>{const{name:w,value:b,type:N,checked:E}=j.target;a(A=>({...A,[w]:N==="checkbox"?E:b}))},p=j=>{var b;const w=((b=j.target.files)==null?void 0:b[0])||null;a(N=>({...N,imageFile:w}))},g=()=>{var j;if(!t&&!e){u(!0);return}(j=h.current)==null||j.click()},x=async j=>{var w;if(j.preventDefault(),!i){if(!n.text.trim()){r("error","O campo Pedido  obrigatrio.");return}if(!n.isPrivate&&!n.hideName&&!n.name.trim()){r("error",'Informe seu nome ou marque "Reservado".');return}if(!n.email.trim()){r("error","Informe seu e-mail.");return}if(!n.phone.trim()){r("error","Informe seu telefone.");return}if(n.motif==="outros"&&!n.motifOther.trim()){r("error",'Especifique o Motivo em "Outros".');return}if(!n.affiliation){r("error",'Selecione o campo "Vnculo com a Igreja".');return}if(n.wantsVisit&&(!n.street.trim()||!n.number.trim()||!n.district.trim()||!n.city.trim()||!n.state.trim())){r("error","Preencha todos os campos de endereo para visita.");return}try{o(!0);const b=Et(we,"prayers"),N={name:n.name.trim(),motif:n.motif,wantsVisit:!!n.wantsVisit,isPrivate:!!n.isPrivate,hideName:!!n.hideName,text:n.text,status:"pending",prayCount:0,prayedBy:[],createdAt:fn(),affiliation:n.affiliation};if(n.email&&(N.email=n.email),n.phone&&(N.phone=n.phone),n.motif==="outros"&&n.motifOther&&(N.motifOther=n.motifOther),(e!=null&&e.uid||t!=null&&t.firebaseUid)&&(N.ownerUserId=(e==null?void 0:e.uid)||(t==null?void 0:t.firebaseUid)),n.wantsVisit){const L={};n.street&&(L.street=n.street),n.number&&(L.number=n.number),n.district&&(L.district=n.district),n.city&&(L.city=n.city),n.state&&(L.state=n.state),Object.keys(L).length>0&&(N.address=L)}const E=await qa(b,N);if(!n.imageFile&&n.imageUrl.trim())try{await Pr(at(we,"prayers",E.id),{imageUrl:n.imageUrl.trim()})}catch(L){console.warn("Falha ao salvar imageUrl no pedido:",L)}if((t||e)&&n.imageFile)try{const L=kn(da,`images/prayers/${E.id}/${n.imageFile.name}`);await io(L,n.imageFile);const I=await Ci(L);await Pr(at(we,"prayers",E.id),{imageUrl:I})}catch(L){console.warn("Falha ao anexar imagem do pedido (provvel permisso de Storage):",L),r("warning","pedido enviado sem imagem, permisses de upload restrita")}else n.imageUrl.trim()||r("warning","pedido enviado sem imagem, permisses de upload restrita");const A=await nn(at(we,"prayer_settings","default")),O=A.exists()?A.data():null,M=((w=O==null?void 0:O.notificationEmails)==null?void 0:w.filter(Boolean))||[];M.length>0&&await qa(Et(we,"outbox_emails"),{to:M,subject:`Novo Pedido de Orao: ${n.isPrivate?"Privado":n.hideName?"Reservado":n.name}`,body:`Motivo: ${Kc(n.motif)}${n.motif==="outros"?` (${n.motifOther})`:""}
Pedido:
${n.text}

Contato: ${n.email||""} ${n.phone||""}`,createdAt:fn(),meta:{prayerId:E.id}}),r("success","Pedido enviado com sucesso!"),a({name:"",email:"",phone:"",motif:"saude",motifOther:"",wantsVisit:!1,street:"",number:"",district:"",city:"",state:"",isPrivate:!1,hideName:!1,text:"",imageFile:null,imageUrl:"",affiliation:""})}catch(b){const N=b||{};console.error(" Erro ao enviar pedido:",N);const E=N.code||N.name||"erro-desconhecido",A=N.message||"Falha ao salvar no Firestore.";r("error",`Erro ao enviar pedido: ${E}. ${A}`)}finally{o(!1)}}};return s.jsxs("form",{onSubmit:x,className:"relative bg-jkd-bg-sec border border-jkd-border rounded-lg p-4 space-y-3",children:[s.jsx("div",{className:"absolute inset-0 rounded-lg bg-transparent pointer-events-none"}),s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Faa seu Pedido de Orao"}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs("div",{className:"inline-flex rounded-md border border-jkd-border bg-jkd-bg overflow-hidden text-xs sm:text-sm",children:[s.jsx("button",{type:"button",onClick:()=>a(j=>({...j,isPrivate:!0,hideName:!1})),className:`px-3 py-1.5 ${n.isPrivate?"bg-church-primary text-white hover:bg-church-primary/90":"text-jkd-text hover:bg-jkd-border/30"}`,children:"Privado (Visvel apenas para Pastores)"}),s.jsx("button",{type:"button",onClick:()=>a(j=>({...j,isPrivate:!1})),className:`px-3 py-1.5 ${n.isPrivate?"text-jkd-text hover:bg-jkd-border/30":"bg-church-primary text-white hover:bg-church-primary/90"}`,children:"Pblico (Formar uma corrente de Orao)"})]})}),s.jsx("p",{className:"mt-1 text-[11px] text-jkd-text/80 text-center",children:"(Seus dados pessoais nunca sero exibidos)"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsx("input",{name:"name",value:n.name,onChange:f,placeholder:"Seu nome",className:"w-full px-3 py-2 rounded-md border border-jkd-border bg-jkd-bg text-jkd-text"}),s.jsx("input",{name:"email",value:n.email,onChange:f,placeholder:"Seu e-mail",className:"w-full px-3 py-2 rounded-md border border-jkd-border bg-jkd-bg text-jkd-text"}),s.jsx("input",{name:"phone",value:n.phone,onChange:f,placeholder:"Seu telefone",className:"w-full px-3 py-2 rounded-md border border-jkd-border bg-jkd-bg text-jkd-text"}),s.jsx("select",{name:"motif",value:n.motif,onChange:f,className:"w-full px-3 py-2 rounded-md border border-jkd-border bg-jkd-bg text-jkd-text",children:yP.map(j=>s.jsx("option",{value:j.value,children:j.label},j.value))}),n.motif==="outros"&&s.jsx("input",{name:"motifOther",value:n.motifOther,onChange:f,placeholder:"Especifique o Motivo (Outros) *",className:"w-full sm:col-span-2 px-3 py-2 rounded-md border border-jkd-border bg-jkd-bg text-jkd-text"}),s.jsxs("label",{className:"flex flex-col sm:col-span-2 text-jkd-text text-xs md:text-sm",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",name:"wantsVisit",checked:n.wantsVisit,onChange:f})," ",s.jsx("span",{children:"Desejo receber visita (se aplicvel)"})]}),s.jsx("span",{className:"mt-1 text-[11px] text-jkd-text/80",children:"(Seu endereo no ser exibido)"})]}),s.jsxs("select",{name:"affiliation",value:n.affiliation,onChange:f,className:"w-full px-3 py-2 rounded-md border border-jkd-border bg-jkd-bg text-jkd-text",required:!0,children:[s.jsx("option",{value:"",children:"Vnculo com a Igreja: *"}),s.jsx("option",{value:"membro",children:"Membro"}),s.jsx("option",{value:"visitante",children:"Visitante"}),s.jsx("option",{value:"outro",children:"Outro"})]})]}),n.wantsVisit&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsx("input",{name:"street",value:n.street,onChange:f,placeholder:"Rua",className:"w-full px-3 py-2 rounded-md border border-jkd-border bg-jkd-bg text-jkd-text"}),s.jsx("input",{name:"number",value:n.number,onChange:f,placeholder:"Nmero",className:"w-full px-3 py-2 rounded-md border border-jkd-border bg-jkd-bg text-jkd-text"}),s.jsx("input",{name:"district",value:n.district,onChange:f,placeholder:"Bairro",className:"w-full px-3 py-2 rounded-md border border-jkd-border bg-jkd-bg text-jkd-text"}),s.jsx("input",{name:"city",value:n.city,onChange:f,placeholder:"Cidade",className:"w-full px-3 py-2 rounded-md border border-jkd-border bg-jkd-bg text-jkd-text"}),s.jsx("input",{name:"state",value:n.state,onChange:f,placeholder:"Estado",className:"w-full px-3 py-2 rounded-md border border-jkd-border bg-jkd-bg text-jkd-text"})]}),!n.isPrivate&&s.jsxs("label",{className:"flex items-center gap-2 text-jkd-text text-xs md:text-sm",children:[s.jsx("input",{type:"checkbox",name:"hideName",checked:n.hideName,onChange:f})," No quero que meu nome seja exibido (Seu nome ser Reservado)"]}),s.jsx("textarea",{name:"text",value:n.text,onChange:f,placeholder:"Escreva seu pedido",className:"w-full px-3 py-2 rounded-md border border-jkd-border bg-jkd-bg text-jkd-text min-h-28"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-jkd-text",children:"Imagem (Opcional)"}),s.jsx("button",{type:"button",onClick:g,className:"px-3 py-2 rounded-md bg-jkd-bg border border-jkd-border text-jkd-text",children:"Upload"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[n.imageFile&&s.jsx("span",{className:"text-jkd-text text-sm",children:n.imageFile.name}),s.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:p,className:"hidden"})]}),s.jsx("input",{name:"imageUrl",value:n.imageUrl,onChange:f,placeholder:"URL da imagem (se no estiver logado)",className:"w-full px-3 py-2 rounded-md border border-jkd-border bg-jkd-bg text-jkd-text"})]}),s.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 rounded-md bg-church-primary text-white hover:bg-church-primary/90",children:i?"Enviando...":"Enviar Pedido"}),s.jsx("p",{className:"text-xs text-jkd-text",children:"Ao enviar, voc concorda em exibir seu pedido no mural."}),c&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>u(!1)}),s.jsxs("div",{className:"relative bg-jkd-bg rounded-lg border border-jkd-border w-full max-w-sm mx-4 p-4 text-center",children:[s.jsx("img",{src:"/mural-de-oracao/assets/images/icons/login.svg",alt:"Login necessrio",className:"mx-auto w-16 h-16 mb-2 opacity-80"}),s.jsx("p",{className:"text-sm text-jkd-heading font-semibold",children:"Faa login para enviar imagem por Upload"}),s.jsx("p",{className:"text-xs text-jkd-text mt-1",children:"Se preferir, cole a URL da imagem."}),s.jsx("button",{type:"button",className:"mt-3 px-3 py-2 rounded-md bg-jkd-bg border border-jkd-border text-jkd-text",onClick:()=>u(!1),children:"Entendi"})]})]})]})},N$e=()=>{const[t,e]=v.useState(["todos"]),[r,n]=v.useState("todos"),[a,i]=v.useState(""),[o,c]=v.useState("none"),[u,h]=v.useState("");return v.useEffect(()=>{(async()=>{const p=await hn(Et(we,"prayers")),g=new Set(bC());p.forEach(x=>{const j=x.data().motif;j&&g.add(j)}),e(["todos",...Array.from(g)])})()},[]),v.useEffect(()=>{const f=new CustomEvent("prayers:filters",{detail:{motif:r,search:a,dateFilterType:o,dateFilterValue:u}});window.dispatchEvent(f)},[r,a,o,u]),s.jsxs("div",{className:"bg-jkd-bg-sec border border-jkd-border rounded-lg p-3 flex flex-col sm:flex-row gap-3",children:[s.jsx("select",{value:r,onChange:f=>n(f.target.value),className:"w-full sm:w-48 px-3 py-2 rounded-md border border-jkd-border bg-jkd-bg text-jkd-text",children:t.map(f=>s.jsx("option",{value:f,children:f==="todos"?"Todos":Kc(f)},f))}),s.jsx("input",{value:a,onChange:f=>i(f.target.value),className:"flex-1 px-3 py-2 rounded-md border border-jkd-border bg-jkd-bg text-jkd-text",placeholder:"Buscar por nome"}),s.jsxs("select",{value:o,onChange:f=>{c(f.target.value),h("")},className:"w-full sm:w-44 px-3 py-2 rounded-md border border-jkd-border bg-jkd-bg text-jkd-text",children:[s.jsx("option",{value:"none",children:"S/ filtro de data"}),s.jsx("option",{value:"day",children:"Por dia"}),s.jsx("option",{value:"year",children:"Por ano"})]}),o==="day"&&s.jsx("input",{type:"date",value:u,onChange:f=>h(f.target.value),className:"w-full sm:w-44 px-3 py-2 rounded-md border border-jkd-border bg-jkd-bg text-jkd-text"}),o==="year"&&s.jsx("input",{type:"number",min:1990,max:2100,value:u,onChange:f=>h(f.target.value),placeholder:"AAAA",className:"w-full sm:w-28 px-3 py-2 rounded-md border border-jkd-border bg-jkd-bg text-jkd-text"})]})},CF=6,pee=({mode:t="public"})=>{const{user:e,firebaseUser:r}=xr(),{showToast:n}=Da(),{isDark:a}=LI(),i=(e==null?void 0:e.firebaseUid)||(e==null?void 0:e.id)||(r==null?void 0:r.uid)||null,[o,c]=v.useState([]),[u,h]=v.useState(!1),[f,p]=v.useState(!0),[g,x]=v.useState({motif:"todos",search:"",dateFilterType:"none",dateFilterValue:""}),j=v.useRef(null),[w,b]=v.useState(CF),[N,E]=v.useState({}),[A,O]=v.useState(!1),[M,L]=v.useState(new Set),[I,T]=v.useState(!0);v.useEffect(()=>{const $=K=>x({motif:K.detail.motif,search:K.detail.search,dateFilterType:K.detail.dateFilterType||"none",dateFilterValue:K.detail.dateFilterValue||""});return window.addEventListener("prayers:filters",$),()=>window.removeEventListener("prayers:filters",$)},[]);const _=async($=!1)=>{$&&(j.current=null);const K=Et(we,"prayers"),F=[];if(t==="public"){const G=I?["approved","active"]:["approved","active","archived"];F.push(Vr("status","in",G))}if(t==="mine"){const G=(e==null?void 0:e.firebaseUid)||(e==null?void 0:e.id)||(r==null?void 0:r.uid);if(!G)return{list:[],last:null};F.push(Vr("ownerUserId","==",G))}if(g.motif&&g.motif!=="todos"&&F.push(Vr("motif","==",g.motif)),g.dateFilterType!=="none"&&g.dateFilterValue){if(g.dateFilterType==="day"){const[G,J,ne]=String(g.dateFilterValue).split("-"),ie=Number(G),se=Number(J),je=Number(ne);if(ie&&se&&je){const Pe=new Date(ie,se-1,je),ue=new Date(ie,se-1,je+1);F.push(Vr("createdAt",">=",Pe)),F.push(Vr("createdAt","<",ue))}}else if(g.dateFilterType==="year"){const G=Number(g.dateFilterValue);if(G){const J=new Date(G,0,1),ne=new Date(G+1,0,1);F.push(Vr("createdAt",">=",J)),F.push(Vr("createdAt","<",ne))}}}let W=Er(K,...F,li("createdAt","desc"));j.current?W=Er(K,...F,li("createdAt","desc"),ede(j.current),$1(w)):W=Er(K,...F,li("createdAt","desc"),$1(w));const te=await hn(W),X=[];te.forEach(G=>X.push({id:G.id,...G.data()}));const B=te.docs.length?te.docs[te.docs.length-1]:null;return j.current=B,{list:X,last:B}},D=async($=!1)=>{try{h(!0);const{list:K}=await _($);c(F=>$?K:[...F,...K]),p(K.length>=w)}catch(K){console.error(K)}finally{h(!1)}};v.useEffect(()=>{c([]),p(!0),D(!0)},[g.motif,g.search,g.dateFilterType,g.dateFilterValue,I]),v.useEffect(()=>{(async()=>{try{const $=await hn(Et(we,"prayer_settings")),K=$.docs.find(W=>W.id==="default")||$.docs[0],F=K?K.data():null;b((F==null?void 0:F.prayersPerPage)||CF),E((F==null?void 0:F.motifColors)||{}),O(!!(F!=null&&F.allowUnpray)),T((F==null?void 0:F.hideArchivedOnWall)??!0)}catch{}})()},[]),v.useEffect(()=>{c([]),p(!0),D(!0)},[w]),v.useEffect(()=>{const $=Et(we,"prayers"),K=[];if(t==="public"){const te=I?["approved","active"]:["approved","active","archived"];K.push(Vr("status","in",te))}if(t==="mine"){const te=(e==null?void 0:e.firebaseUid)||(e==null?void 0:e.id)||(r==null?void 0:r.uid);if(!te)return;K.push(Vr("ownerUserId","==",te))}g.motif&&g.motif!=="todos"&&K.push(Vr("motif","==",g.motif));const F=Er($,...K,li("createdAt","desc")),W=Gn(F,te=>{const X=[];te.forEach(B=>X.push({id:B.id,...B.data()})),c(X),p(X.length>=w)},te=>{console.error("[PrayerCards] onSnapshot erro",te)});return()=>W()},[t,e,r,g.motif,g.search,g.dateFilterType,g.dateFilterValue,I,w]);const P=$=>{try{const K=$;return K?typeof(K==null?void 0:K.toDate)=="function"?K.toDate().toLocaleString("pt-BR"):K.seconds?new Date(K.seconds*1e3).toLocaleString("pt-BR"):typeof K=="number"?new Date(K).toLocaleString("pt-BR"):new Date(K).toLocaleString("pt-BR"):"-"}catch{return"-"}},R=$=>{const K=(e==null?void 0:e.role)==="admin";if(t==="public"&&$.status==="archived"&&!K){n("info","Deus j respondeu a este pedido, mas agradecemos por sua orao e inteno. ");return}if(t==="public"&&$.isPrivate){if(!K){n("info","Pedido privado");return}const W=new CustomEvent("prayers:open:private:password",{detail:{id:$.id}});window.dispatchEvent(W);return}const F=new CustomEvent("prayers:open",{detail:{id:$.id,mode:t}});window.dispatchEvent(F)},U=async $=>{try{if(M.has($.id))return;if(L(W=>new Set(W).add($.id)),!(e||r)){n("info","Para indicar que est orando por um pedido, faa login com sua conta.");return}if($.status==="archived"){n("info","Deus j respondeu a este pedido");return}const K=(e==null?void 0:e.firebaseUid)||(r==null?void 0:r.uid);if(($.prayedBy||[]).includes(K)){if(!A){n("warning","Voc j est orando por este pedido.");return}c(W=>W.map(te=>te.id===$.id?{...te,prayedBy:(te.prayedBy||[]).filter(X=>X!==K),prayCount:Math.max(0,(te.prayCount||0)-1)}:te)),await Pr(at(we,"prayers",$.id),{prayedBy:dde(K),prayCount:Bi(-1)})}else c(W=>W.map(te=>te.id===$.id?{...te,prayedBy:[...te.prayedBy||[],K],prayCount:(te.prayCount||0)+1}:te)),await Pr(at(we,"prayers",$.id),{prayedBy:ude(K),prayCount:Bi(1)})}catch(K){console.error(K)}finally{L(K=>{const F=new Set(K);return F.delete($.id),F})}};return s.jsxs("div",{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",id:"mdo-prayer-cards-container",children:o.map($=>s.jsxs("div",{className:"mdo-prayer-card relative bg-jkd-bg-sec border border-jkd-border rounded-lg p-3 cursor-pointer hover:border-church-primary/60","data-prayer-id":$.id,onClick:()=>R($),onContextMenu:K=>{K.preventDefault(),K.stopPropagation()},children:[$.status==="archived"&&s.jsx("div",{className:"mdo-god-answered-overlay absolute inset-0 z-50 flex items-center justify-center pointer-events-none",children:s.jsx("div",{className:"rotate-[-10deg] px-6 py-2 border-2 border-dashed font-semibold text-lg shadow-sm rounded-md backdrop-blur-sm border-white text-white",style:{backgroundColor:"rgb(var(--church-primary) / 0.4)"},children:"Deus Respondeu!"})}),t==="public"&&$.isPrivate&&s.jsx("div",{className:"absolute inset-0 z-10 rounded-lg bg-jkd-bg/35 backdrop-blur-sm border border-jkd-border/50 pointer-events-none"}),$.imageUrl&&s.jsx("img",{src:$.imageUrl,alt:"",className:"w-full h-32 object-cover rounded",draggable:!1,onDragStart:K=>K.preventDefault()}),t==="public"&&$.isPrivate&&$.imageUrl&&s.jsx("div",{className:"absolute top-3 left-3 right-3 h-32 rounded z-[30] pointer-events-none backdrop-blur-[16px]"}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-jkd-text",children:[s.jsx("span",{className:"font-semibold",children:$.isPrivate?"Privado":$.hideName?"Reservado":$.name||"Sem nome"}),s.jsx("span",{className:"ml-2 px-2 py-0.5 rounded bg-church-primary/10 text-church-primary text-xs",children:Kc($.motif)})]}),!$.isPrivate&&s.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded hover:bg-jkd-border/40",onClick:K=>{K.stopPropagation(),U($)},children:[(()=>{const K=(e==null?void 0:e.firebaseUid)||(r==null?void 0:r.uid)||null,W=!!K&&($.prayedBy||[]).includes(K)?"/mural-de-oracao/assets/images/icons/heart-filled.svg":"/mural-de-oracao/assets/images/icons/heart.svg";return s.jsx("img",{src:W,alt:"Orar",className:"w-4 h-4",draggable:!1,onDragStart:te=>te.preventDefault()})})(),s.jsx("span",{className:"mdo-prayer-count text-xs",children:$.prayCount})]})]}),s.jsx("div",{className:"mt-1 text-xs text-jkd-text",children:P($.createdAt)}),s.jsx("p",{className:"mt-2 text-sm text-jkd-text line-clamp-1",children:$.isPrivate?"********...":$.text})]},$.id))}),s.jsxs("div",{className:"flex justify-center mt-4",children:[f&&s.jsx("button",{onClick:()=>D(!1),disabled:u,className:"btn",children:u?"Carregando...":"Carregar Mais"}),!f&&o.length>0&&s.jsx("p",{className:"text-jkd-text text-sm",children:"No h mais pedidos."}),!f&&o.length===0&&(t==="mine"&&!i?s.jsx("p",{className:"text-jkd-text text-sm",children:"Faa login para ver seus pedidos."}):s.jsx("p",{className:"text-jkd-text text-sm",children:"Nenhum pedido encontrado."}))]})]})},gee=()=>{const{user:t,firebaseUser:e,loginWithGoogle:r}=xr(),{showToast:n}=Da(),[a,i]=v.useState(null),[o,c]=v.useState("public"),[u,h]=v.useState(!1),[f,p]=v.useState(null),[g,x]=v.useState(""),[j,w]=v.useState(!1),[b,N]=v.useState([]),[E,A]=v.useState(!1),[O,M]=v.useState(!1),L=v.useRef(null),I=[/\bporra\b/i,/\bcaralh\w*\b/i,/\bmerd\w*\b/i,/\bputa\w*\b/i,/\bbucet\w*\b/i,/\bcuz?\w*\b/i,/\bcu\b/i,/\bfod[ea]\w*\b/i,/\bfoda-?se\b/i,/\bviad\w*\b/i,/\bbich\w*\b/i,/\botri\w*\b/i,/\bidiot\w*\b/i,/\bimbecil\b/i,/\bburr[oa]\b/i,/\barrombad\w*\b/i,/\bdesgrac\w*\b/i,/\bmaldit\w*\b/i,/\bpqp\b/i,/\bporn[o]\w*\b/i,/\bsexo\b/i,/\bpenis\b/i,/\bpnis\b/i,/\bvagin\w*\b/i,/\bboquet\w*\b/i,/\bpunhet\w*\b/i],T=K=>(K||"").normalize("NFD").replace(/[\u0300-\u036f]/g,""),_=K=>{if(!K||!K.trim())return!1;const F=T(K);return I.some(W=>W.test(K)||W.test(F))},D=()=>{M(!0);try{L.current&&clearTimeout(L.current)}catch{}L.current=setTimeout(()=>M(!1),1e4)},P=K=>{const F=K.target.value;x(F),_(F)&&D()};v.useEffect(()=>{const K=F=>{i(F.detail.id),F.detail.mode&&c(F.detail.mode)};return window.addEventListener("prayers:open",K),()=>window.removeEventListener("prayers:open",K)},[]),v.useEffect(()=>{(async()=>{if(a){h(!0);try{const K=await nn(at(we,"prayers",a));K.exists()&&p({id:K.id,...K.data()})}finally{h(!1)}}})()},[a]),v.useEffect(()=>{if(!a)return;A(!0);const K=Et(we,"prayer_comments");let F=null;const W=()=>{const X=Er(K,Vr("prayerId","==",a));F=Gn(X,{includeMetadataChanges:!0},B=>{const G=[];B.forEach(J=>G.push({id:J.id,...J.data()})),G.sort((J,ne)=>{const ie=J.createdAt,se=ne.createdAt,je=ie!=null&&ie.seconds?ie.seconds*1e3:ie instanceof Date?ie.getTime():ie?new Date(ie).getTime():0,Pe=se!=null&&se.seconds?se.seconds*1e3:se instanceof Date?se.getTime():se?new Date(se).getTime():0;return je-Pe}),N(G),A(!1)},()=>{A(!1)})};return(()=>{const X=Er(K,Vr("prayerId","==",a),li("createdAt","asc"));F=Gn(X,{includeMetadataChanges:!0},B=>{const G=[];B.forEach(J=>G.push({id:J.id,...J.data()})),N(G),A(!1)},B=>{console.warn("onSnapshot(prayer_comments) com orderBy falhou, usando fallback:",(B==null?void 0:B.message)||B);try{F&&F()}catch{}W()})})(),()=>{try{F&&F()}catch{}}},[a]);const R=()=>{i(null),p(null),x("")},U=async K=>{if(K.preventDefault(),!f||!g.trim())return;if(_(g)){D();return}if(!e&&!t){n("warning","Por gentileza faa Login para poder comentar em Pedidos de Orao");return}const F=(t==null?void 0:t.name)||(e==null?void 0:e.displayName)||"usurio annimo",W=(e==null?void 0:e.uid)||(t==null?void 0:t.firebaseUid)||null;try{const te={prayerId:f.id,userId:W,userName:F,text:g.trim(),createdAt:fn()},X=await qa(Et(we,"prayer_comments"),te);x(""),A(!1)}catch(te){console.error("Falha ao adicionar comentrio:",te),A(!1)}},$=async()=>{if(!f)return;const K=(t==null?void 0:t.firebaseUid)||(t==null?void 0:t.id)||(e==null?void 0:e.uid);if(!(!K||K!==f.ownerUserId))try{if(f.status==="archived"){const F=await nn(at(we,"prayers",f.id)),W=F.exists()&&F.data().prevStatus||"approved";await Pr(at(we,"prayers",f.id),{status:W,prevStatus:null}),p({...f,status:W}),n("success","Marcado como no respondido.")}else await Pr(at(we,"prayers",f.id),{status:"archived",prevStatus:f.status}),p({...f,status:"archived"}),n("success","Marcado como respondido.")}catch(F){console.error("Falha ao atualizar status:",F);let W="Erro ao atualizar status.";(F==null?void 0:F.code)==="permission-denied"&&(W="Permisso negada. Faa login."),(F==null?void 0:F.code)==="unauthenticated"&&(W="Sesso expirada. Faa login novamente."),n("error",W)}};return a?s.jsx("div",{id:"mdo-prayer-popup-overlay",className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1000]",onClick:R,children:s.jsxs("div",{id:"mdo-prayer-popup-modal",className:"relative bg-jkd-bg-sec border border-jkd-border rounded-lg max-w-5xl w-full p-4 max-h-[85vh] overflow-y-auto",onClick:K=>K.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading",children:"Detalhes do Pedido"}),s.jsx("button",{onClick:R,className:"p-2 text-jkd-text hover:text-church-primary",children:s.jsx(On,{size:18})})]}),u&&s.jsx("p",{className:"text-jkd-text py-8 text-center",children:"Carregando..."}),!u&&f&&(()=>{const K=(t==null?void 0:t.role)==="admin";return t!=null&&t.firebaseUid||(e==null||e.uid),f.ownerUserId,o==="public"&&f.isPrivate&&!K?s.jsxs("div",{className:"mt-3 p-4 rounded border border-jkd-border bg-jkd-bg text-jkd-text",children:[s.jsx("p",{className:"font-semibold",children:"Pedido privado"}),s.jsx("p",{className:"text-sm mt-1",children:"Este pedido  privado. Apenas administradores podem visualizar o contedo."}),s.jsx("p",{className:"text-sm mt-1",children:'Se este  seu pedido, acesse "Meus pedidos" para visualizar com segurana.'})]}):s.jsxs("div",{className:"mt-3 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm text-jkd-text",children:[s.jsx("span",{className:"font-semibold",children:f.isPrivate?"Privado":f.hideName?"Reservado":f.name}),s.jsx("span",{className:"ml-2 px-2 py-0.5 rounded bg-church-primary/10 text-church-primary text-xs",children:Kc(f.motif)}),f.status==="archived"&&s.jsx("span",{className:"ml-2 px-2 py-0.5 rounded bg-yellow-600/10 text-yellow-700 text-xs",children:"Deus Respondeu"})]}),(()=>{const W=(t==null?void 0:t.firebaseUid)||(e==null?void 0:e.uid)||null,te=!!W&&(f.prayedBy||[]).includes(W);return W&&te?s.jsx("div",{className:"mt-3 px-3 py-2 rounded-md bg-green-600/10 text-green-800 text-sm border border-green-300/30",children:"Voc j est orando por este pedido."}):W&&!te?s.jsx("div",{className:"mt-3 px-3 py-2 rounded-md bg-church-primary/10 text-church-primary text-sm border border-church-primary/20",children:"Para indicar que est orando, clique no corao no card."}):null})(),s.jsx("p",{className:"mt-3 text-jkd-text whitespace-pre-wrap",children:f.text}),s.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[(()=>{const W=()=>`${window.location.origin}/site/pedido-de-oracao?prayer_id=${f.id}#mdo-open-${f.id}`,te=()=>f.text.slice(0,120),X=async()=>{try{await navigator.clipboard.writeText(W()),w(!0),setTimeout(()=>w(!1),2e3)}catch{}},B=async()=>{const ne=W(),ie=te();try{navigator!=null&&navigator.share?await navigator.share({title:"Pedido de Orao",text:ie,url:ne}):await X()}catch{}},G=`https://wa.me/?text=${encodeURIComponent(te()+" "+W())}`,J=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(W())}`;return s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:"px-3 py-2 rounded-md bg-jkd-bg border border-jkd-border text-jkd-text flex items-center gap-1",onClick:X,children:[s.jsx("img",{src:"/mural-de-oracao/assets/images/icons/link.svg",alt:"Copiar",className:"w-4 h-4"})," Copiar"]}),s.jsxs("button",{className:"px-3 py-2 rounded-md bg-jkd-bg border border-jkd-border text-jkd-text flex items-center gap-1",onClick:B,children:[s.jsx("img",{src:"/mural-de-oracao/assets/images/icons/share-native.svg",alt:"Compartilhar",className:"w-4 h-4"})," Compartilhar"]}),s.jsxs("a",{className:"px-3 py-2 rounded-md bg-jkd-bg border border-jkd-border text-jkd-text flex items-center gap-1",href:G,target:"_blank",rel:"noopener noreferrer",children:[s.jsx("img",{src:"/mural-de-oracao/assets/images/icons/whatsapp.svg",alt:"WhatsApp",className:"w-4 h-4"})," WhatsApp"]}),s.jsxs("a",{className:"px-3 py-2 rounded-md bg-jkd-bg border border-jkd-border text-jkd-text flex items-center gap-1",href:J,target:"_blank",rel:"noopener noreferrer",children:[s.jsx("img",{src:"/mural-de-oracao/assets/images/icons/facebook.svg",alt:"Facebook",className:"w-4 h-4"})," Facebook"]})]})})(),o==="mine"&&((t==null?void 0:t.firebaseUid)||(e==null?void 0:e.uid))===f.ownerUserId&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:`px-3 py-2 rounded-md flex items-center gap-1 ${f.status==="archived"?"bg-yellow-600/20 text-yellow-800 border border-yellow-600/30 hover:bg-yellow-600/30":"bg-yellow-600 text-white hover:bg-yellow-700"}`,onClick:$,"aria-pressed":f.status==="archived",title:"Marcar como respondido (clique novamente para reverter)",children:[s.jsx(wf,{size:16})," Deus Respondeu?"]}),f.status!=="archived"&&s.jsx("span",{className:"text-xs text-jkd-text",children:"clique apenas se Deus j respondeu ao seu pedido"})]})]}),j&&s.jsx("div",{className:"mt-2 inline-block px-3 py-2 rounded bg-green-600 text-white text-sm",children:"Link copiado com sucesso!"}),f.imageUrl&&s.jsx("img",{src:f.imageUrl,alt:"Imagem do pedido",className:"mt-4 w-full rounded object-contain max-h-[40vh]"}),!!f.wantsVisit&&f.address&&(()=>{const W=(((t==null?void 0:t.firebaseUid)||(e==null?void 0:e.uid))??"")===(f.ownerUserId??""),te=(t==null?void 0:t.role)==="admin";return o==="mine"&&W||o==="public"&&te?s.jsxs("div",{className:"mt-4 border border-jkd-border rounded p-3 bg-jkd-bg",children:[s.jsxs("p",{className:"text-sm font-semibold text-jkd-heading flex items-center gap-2",children:[s.jsx("img",{src:"/mural-de-oracao/assets/images/icons/visit.svg",alt:"Visita",className:"w-4 h-4"})," Informaes de Visita:"]}),s.jsxs("div",{className:"mt-2 text-sm text-jkd-text",children:[f.address.street&&s.jsxs("p",{children:["Rua: ",f.address.street]}),f.address.number&&s.jsxs("p",{children:["Nmero: ",f.address.number]}),f.address.district&&s.jsxs("p",{children:["Bairro: ",f.address.district]}),(f.address.city||f.address.state)&&s.jsxs("p",{children:[f.address.city||""," ",f.address.state?`- ${f.address.state}`:""]}),o==="mine"&&W&&s.jsx("p",{className:"text-xs text-jkd-text/80 mt-1",children:"Seus dados pessoais esto visveis porque voc est logado."})]})]}):null})()]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-jkd-text",children:"Comentrios"}),E?s.jsx("p",{className:"text-jkd-text",children:"Carregando..."}):s.jsxs("div",{className:"mt-2 space-y-2",children:[b.length===0&&s.jsx("p",{className:"text-jkd-text",children:"Seja o primeiro a comentar."}),b.map(W=>s.jsxs("div",{className:"bg-jkd-bg rounded border border-jkd-border p-2",children:[s.jsx("div",{className:"text-xs text-jkd-text",children:W.userName||"Annimo"}),s.jsx("div",{className:"text-sm text-jkd-heading whitespace-pre-wrap",children:W.text})]},W.id))]}),s.jsxs("form",{onSubmit:U,className:"mt-3 flex items-center gap-2",children:[s.jsx("input",{value:g,onChange:P,placeholder:"Escreva um comentrio",className:`flex-1 px-3 py-2 rounded border bg-jkd-bg text-jkd-text ${_(g)?"border-red-400":"border-jkd-border"}`}),s.jsx("button",{type:"submit",className:"px-3 py-2 rounded bg-church-primary text-white",children:"Enviar"})]}),O&&s.jsxs("div",{className:"fixed right-6 z-[1100] max-w-md rounded-xl border border-white/10 bg-black/80 text-white shadow-xl backdrop-blur px-4 py-3 safe-bottom-6",children:[s.jsx("p",{className:"text-sm",children:"Este  um espao de orao e comunho."}),s.jsx("p",{className:"text-sm mt-1",children:"Pedimos que suas palavras reflitam amor e respeito."}),s.jsx("p",{className:"text-sm mt-1",children:"Comentrios com ofensas, palavres ou contedo inapropriado sero removidos, mantendo o respeito e a boa convivncia."})]}),!t&&!e&&s.jsxs("p",{className:"mt-2 text-xs text-jkd-text",children:["Para comentar, faa login.",s.jsx("button",{type:"button",className:"ml-2 underline text-church-primary",onClick:r,children:"Login com Google"})]})]})]})})()]})}):null},S$e=()=>{const{user:t,firebaseUser:e}=xr(),r=mn(),[n,a]=v.useState(!1),[i,o]=v.useState(!1),c=v.useMemo(()=>(t==null?void 0:t.role)==="admin",[t]),[u,h]=v.useState(null),[f,p]=v.useState(null),[g,x]=v.useState("Informe a senha para acessar INTERCESSO (Painel)."),[j,w]=v.useState("public"),[b,N]=v.useState(null),E=()=>{if(c){if(i){r("/site/pedido-de-oracao/painel");return}p("/site/pedido-de-oracao/painel"),x("Informe a senha para acessar INTERCESSO (Painel)."),a(!0)}},A=M=>{const L=f==="/site/pedido-de-oracao/painel",I=M==="*FdVL2016#",T=M==="#PrEduardo*";if(L&&I){o(!0),a(!1),f&&r(f);return}if(b&&T){a(!1);const _=new CustomEvent("prayers:open",{detail:{id:b,mode:"public"}});window.dispatchEvent(_),N(null)}};v.useEffect(()=>{(async()=>{try{const M=await nn(at(we,"prayer_settings","default"));M.exists()&&h(M.data())}catch{}})()},[]),v.useEffect(()=>{const M=L=>{var T;if(!c)return;const I=(T=L==null?void 0:L.detail)==null?void 0:T.id;I&&(N(I),x("Informe a senha para acessar o pedido privado."),a(!0))};return window.addEventListener("prayers:open:private:password",M),()=>window.removeEventListener("prayers:open:private:password",M)},[c]);const O=v.useMemo(()=>{const M=u,L="/mural-de-oracao/assets/images/placeholders/default-prayer.jpg",I=(M==null?void 0:M.bgImageSource)==="upload"?M==null?void 0:M.bgImageUploadUrl:M==null?void 0:M.bgImageUrl,T=(M==null?void 0:M.bgImageSource)==="plugin"?L:I||L,_=(M==null?void 0:M.bgPosition)==="top"?"top center":(M==null?void 0:M.bgPosition)==="bottom"?"bottom center":"center center";return{backgroundImage:`url(${T})`,backgroundRepeat:M!=null&&M.bgRepeat?"repeat":"no-repeat",backgroundSize:(M==null?void 0:M.bgSize)||"cover",backgroundPosition:_,opacity:Math.min(Math.max((M==null?void 0:M.bgOpacity)??.35,0),1)}},[u]);return v.useEffect(()=>{var M;try{console.log("[PedidoDeOracaoPage] mount",{path:(M=window.location)==null?void 0:M.pathname,at:new Date().toISOString()})}catch{}return()=>{var L;try{console.log("[PedidoDeOracaoPage] unmount",{path:(L=window.location)==null?void 0:L.pathname,at:new Date().toISOString()})}catch{}}},[]),s.jsxs("div",{className:"min-h-screen bg-jkd-bg py-6",onContextMenu:M=>{M.preventDefault()},children:[s.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none",style:O}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-jkd-heading flex items-center gap-2",children:[s.jsx(Gm,{className:"h-16 w-16 text-church-primary"}),"Pedido de Orao"]}),s.jsx("p",{className:"text-jkd-text mt-1",children:"Envie seu pedido, ore por outros e compartilhe."}),s.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[(t||e||ft.currentUser)&&s.jsxs("button",{type:"button",onClick:()=>r("/site/pedido-de-oracao/meus"),className:"group flex flex-col items-end bg-church-primary/10 hover:bg-church-primary/20 text-church-primary border border-church-primary/30 rounded-lg px-3 py-2","aria-label":"Meus Pedidos",children:[s.jsx("span",{className:"text-xs text-jkd-text",children:"Acesso Pessoal"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide flex items-center gap-1",children:"Meus Pedidos"})]}),c&&s.jsxs("button",{type:"button",onClick:E,className:"group flex flex-col items-end bg-church-primary/10 hover:bg-church-primary/20 text-church-primary border border-church-primary/30 rounded-lg px-3 py-2","aria-label":"Painel de Pedidos",children:[s.jsx("span",{className:"text-xs text-jkd-text",children:"rea Restrita"}),s.jsxs("span",{className:"text-sm font-semibold tracking-wide flex items-center gap-1",children:[s.jsx(Gm,{className:"h-4 w-4"})," INTERCESSO"]})]})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsx(k$e,{})}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"relative bg-jkd-bg-sec rounded-lg border border-jkd-border p-3",children:[s.jsx("div",{className:"absolute inset-0 rounded-lg bg-church-primary/10 pointer-events-none"}),s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Corrente de Orao"}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Ore por um pedido"})]}),s.jsx(N$e,{}),s.jsx("div",{className:"mt-4",children:s.jsx(pee,{mode:"public"})})]})]})]}),s.jsx(gee,{}),s.jsx(fv,{isOpen:n,title:"Acesso Restrito",message:g,inputLabel:"Senha",onConfirm:A,onCancel:()=>{a(!1),p(null)}})]})},E$e=t=>(t||"").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),A$e=()=>{const{announcements:t,cultos:e,settings:r,ministryDepartments:n,getOccurrences:a}=cr(),i=v.useMemo(()=>t.filter(g=>g.status==="approved"),[t]),o=v.useMemo(()=>{const g=new Date,x=new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,0,0),j=new Date(g.getFullYear()+1,g.getMonth(),g.getDate()),w=i.flatMap(N=>a(N.rruleString,x,j).map(E=>{var M;let A=new Date(E);try{const I=(M=Je.fromString(N.rruleString).options)==null?void 0:M.dtstart;if(I){const T=I.getHours(),_=I.getMinutes();T+_>0&&A.setHours(T||0,_||0,0,0)}}catch{}let O;if(N.endTime){const[L,I]=N.endTime.split(":").map(Number);O=new Date(A),O.setHours(L,I,0,0)}return{title:N.title,date:A,endDate:O,source:N}})),b=e.flatMap(N=>a(N.rruleString,x,j).map(E=>{var M;let A=new Date(E);try{const I=(M=Je.fromString(N.rruleString).options)==null?void 0:M.dtstart;if(I){const T=I.getHours(),_=I.getMinutes();T+_>0&&A.setHours(T||0,_||0,0,0)}}catch{}let O;if(N.endTime){const[L,I]=N.endTime.split(":").map(Number);O=new Date(A),O.setHours(L,I,0,0)}return{title:N.title,date:A,endDate:O,source:N}}));return[...w,...b]},[i,e,a]),c=v.useMemo(()=>Date.now(),[]),u=v.useMemo(()=>n.filter(g=>g.active!==!1).sort((g,x)=>{const j=g.order??999,w=x.order??999;return j!==w?j-w:(g.name||"").localeCompare(x.name||"")}),[n]),h=v.useMemo(()=>{const g=new Date,x=o.filter(w=>w.endDate&&w.date<=g&&w.endDate>=g);return x.length===0?null:x.sort((w,b)=>w.date.getTime()-b.date.getTime())[0]},[o,c]),f=v.useMemo(()=>{const g=new Date,x=o.filter(j=>j.date>g).sort((j,w)=>j.date.getTime()-w.date.getTime());return x.length>0?x[0]:null},[o,c]),p=v.useMemo(()=>{const g=new Date,x=new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,0,0),j=new Date(g.getFullYear(),g.getMonth(),g.getDate(),23,59,59,999),w=new Date(g.getFullYear()+1,g.getMonth(),g.getDate()),b=E=>{var _;const A=a(E.rruleString,x,j);if(A.length===0||!E.endTime)return!1;let O=A[0],M=!1;try{const P=(_=Je.fromString(E.rruleString).options)==null?void 0:_.dtstart;if(P){const R=P.getHours(),U=P.getMinutes();M=R+U>0,M&&(O=new Date(O),O.setHours(R||0,U||0,0,0))}}catch{}if(!M)return!1;const[L,I]=E.endTime.split(":").map(Number),T=new Date(O);return T.setHours(L||0,I||0,0,0),O<=g&&T>=g},N=E=>a(E.rruleString,g,w).length>0;return i.filter(E=>N(E)||b(E)).sort((E,A)=>{const O=E.createdAt instanceof Date?E.createdAt.getTime():0;return(A.createdAt instanceof Date?A.createdAt.getTime():0)-O}).slice(0,3)},[i,a,c]);return v.useEffect(()=>{try{console.log("[Site/Ministerios] mount"),console.log("[Site/Ministerios] state:init",{deptCount:n.length,announcementsCount:t.length,cultosCount:e.length,hasParallaxBg:!!r.parallaxBgUrl})}catch(g){console.error("[Site/Ministerios] mount: error logging state",g)}return()=>console.log("[Site/Ministerios] unmount")},[]),v.useEffect(()=>{try{console.log("[Site/Ministerios] departments:update",n.map(g=>({id:g.id,name:g.name,slug:g.slug})))}catch(g){console.error("[Site/Ministerios] departments:update: error",g)}},[n]),v.useEffect(()=>{try{console.log("[Site/Ministerios] programming:update",{current:h,next:f})}catch(g){console.error("[Site/Ministerios] programming:update: error",g)}},[h,f]),v.useEffect(()=>{try{console.log("[Site/Ministerios] recentAnnouncements",p.map(g=>({id:g.id,title:g.title,status:g.status})))}catch(g){console.error("[Site/Ministerios] recentAnnouncements: error",g)}},[p]),s.jsxs("div",{className:"min-h-screen bg-jkd-bg",children:[s.jsxs("div",{className:"relative",children:[r.parallaxBgUrl&&s.jsx("div",{className:"absolute inset-0 bg-center bg-cover",style:{backgroundImage:`url(${r.parallaxBgUrl})`,opacity:.25}}),s.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Ministrios"}),s.jsx("p",{className:"text-jkd-text mt-2 max-w-3xl",children:"Conhea os ministrios e departamentos da igreja. Clique em um bloco para ver detalhes, agenda e contedos relacionados."})]}),s.jsx("svg",{width:"100%",height:"40",preserveAspectRatio:"none",className:"text-jkd-bg block",children:s.jsx("rect",{x:"0",y:"0",width:"100%",height:"40",fill:"currentColor"})})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("aside",{className:"order-2 lg:order-1 lg:col-span-1 space-y-6",children:s.jsxs("div",{className:"lg:sticky lg:top-24",children:[s.jsxs("div",{className:"bg-church-primary/10 rounded-lg p-4 border border-jkd-border mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading mb-4",children:"Prxima Programao"}),h||f?s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-jkd-text",title:(h||f).title,children:(h||f).title}),s.jsx("p",{className:"text-xs text-jkd-text/80",children:(h||f).date.toLocaleString("pt-BR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),h&&s.jsx("span",{className:"inline-block text-xs px-2 py-1 rounded bg-church-primary text-white",children:"Em andamento"})]}):s.jsx("p",{className:"text-sm text-jkd-text",children:"Nenhuma programao prxima."})]}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg p-4 border border-jkd-border",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading mb-4",children:"Programaes Recentes"}),s.jsxs("div",{className:"space-y-4",children:[p.map(g=>s.jsx(af,{announcement:g,showActions:!1,variant:"light"},g.id)),p.length===0&&s.jsx("p",{className:"text-sm text-jkd-text",children:"Nenhuma programao recente."})]})]}),s.jsxs("div",{className:"bg-church-primary/10 rounded-lg p-4 border border-jkd-border",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading mb-4",children:s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(KI,{className:"h-5 w-5",title:"VGA"}),"Contato da Secretaria"]})}),s.jsxs("div",{className:"space-y-3 text-sm text-jkd-text",children:[s.jsxs("p",{children:["Email: ",r.contactInfo.email]}),s.jsxs("p",{children:["Telefone: ",r.contactInfo.phone]}),s.jsxs("p",{children:["Endereo: ",r.contactInfo.address]}),s.jsxs("p",{children:["Atendimento: ",r.contactInfo.services]})]})]})]})}),s.jsx("main",{className:"order-1 lg:order-2 lg:col-span-2",children:s.jsxs("div",{className:"space-y-6",children:[u.map(g=>{const x=g.slug||E$e(g.name);return s.jsx(xt,{to:`/site/ministerios/${x}`,className:"block rounded-lg border border-jkd-border bg-jkd-bg-sec hover:bg-jkd-bg transition-colors",children:s.jsxs("div",{className:"p-4 grid grid-cols-12 gap-4 items-center",children:[s.jsxs("div",{className:"col-span-12 md:col-span-9 flex items-start gap-4",children:[g.logoUrl&&s.jsx("img",{src:g.logoUrl,alt:g.name,className:"h-10 w-10 rounded bg-white border border-jkd-border object-contain"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-jkd-heading",children:g.name}),g.description&&s.jsx("p",{className:"text-jkd-text mt-1 line-clamp-3",children:g.description})]})]}),s.jsx("div",{className:"col-span-12 md:col-span-3",children:s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border border-jkd-border",children:g.highlightUrl?s.jsx("img",{src:g.highlightUrl,alt:g.name,className:"h-full w-full object-cover"}):s.jsx("div",{className:"h-full w-full bg-jkd-bg flex items-center justify-center text-jkd-text/60",children:"Sem imagem"})})})]})},g.id)}),u.length===0&&s.jsx("div",{className:"text-sm text-jkd-text",children:"Nenhum ministrio/departamento cadastrado."})]})})]})]})},T$e=t=>(t||"").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),_$e=()=>{const{slug:t}=Mp(),{announcements:e,cultos:r,settings:n,ministryDepartments:a,getOccurrences:i}=cr(),o=v.useMemo(()=>a.find(j=>(j.slug||T$e(j.name))===t)||null,[a,t]),c=v.useMemo(()=>e.filter(x=>x.status==="approved"),[e]),u=v.useMemo(()=>{const x=new Date,j=new Date(x.getFullYear(),x.getMonth(),x.getDate(),0,0,0,0),w=new Date(x.getFullYear()+1,x.getMonth(),x.getDate()),b=c.flatMap(E=>i(E.rruleString,j,w).map(A=>{var L;let O=new Date(A);try{const T=(L=Je.fromString(E.rruleString).options)==null?void 0:L.dtstart;if(T){const _=T.getHours(),D=T.getMinutes();_+D>0&&O.setHours(_||0,D||0,0,0)}}catch{}let M;if(E.endTime){const[I,T]=E.endTime.split(":").map(Number);M=new Date(O),M.setHours(I,T,0,0)}return{title:E.title,date:O,endDate:M,source:E}})),N=r.flatMap(E=>i(E.rruleString,j,w).map(A=>{var L;let O=new Date(A);try{const T=(L=Je.fromString(E.rruleString).options)==null?void 0:L.dtstart;if(T){const _=T.getHours(),D=T.getMinutes();_+D>0&&O.setHours(_||0,D||0,0,0)}}catch{}let M;if(E.endTime){const[I,T]=E.endTime.split(":").map(Number);M=new Date(O),M.setHours(I,T,0,0)}return{title:E.title,date:O,endDate:M,source:E}}));return[...b,...N]},[c,r,i]),h=v.useMemo(()=>Date.now(),[]),f=v.useMemo(()=>{const x=new Date,j=u.filter(b=>b.endDate&&b.date<=x&&b.endDate>=x);return j.length===0?null:j.sort((b,N)=>b.date.getTime()-N.date.getTime())[0]},[u,h]),p=v.useMemo(()=>{const x=new Date,j=u.filter(w=>w.date>x).sort((w,b)=>w.date.getTime()-b.date.getTime());return j.length>0?j[0]:null},[u,h]);(()=>{var j;const x=(j=f||p)==null?void 0:j.source;if(x){const w=x==null?void 0:x.destaqueCountdownUrl,b=x==null?void 0:x.image;return w||b||n.parallaxBgUrl}return n.parallaxBgUrl})();const g=v.useMemo(()=>{var j;if(!o)return[];const x=((j=o.name)==null?void 0:j.toLowerCase())||"";return c.filter(w=>(w.ministry||"").toLowerCase()===x).sort((w,b)=>{const N=w.createdAt instanceof Date?w.createdAt.getTime():0;return(b.createdAt instanceof Date?b.createdAt.getTime():0)-N})},[c,o]);return v.useEffect(()=>{try{console.log("[Site/MinisterioDetail] mount",{slug:t}),console.log("[Site/MinisterioDetail] state:init",{ministry:o?{id:o.id,name:o.name,slug:o.slug}:null,announcementsCount:e.length,cultosCount:r.length,hasContactInfo:!!(n!=null&&n.contactInfo)})}catch(x){console.error("[Site/MinisterioDetail] mount: error logging state",x)}return()=>console.log("[Site/MinisterioDetail] unmount")},[]),v.useEffect(()=>{console.log("[Site/MinisterioDetail] ministry:update",o?{id:o.id,name:o.name,slug:o.slug}:null)},[o]),v.useEffect(()=>{try{console.log("[Site/MinisterioDetail] programming:update",{current:f,next:p})}catch(x){console.error("[Site/MinisterioDetail] programming:update: error",x)}},[f,p]),v.useEffect(()=>{try{console.log("[Site/MinisterioDetail] relatedAnnouncements",g.map(x=>({id:x.id,title:x.title,status:x.status})))}catch(x){console.error("[Site/MinisterioDetail] relatedAnnouncements: error",x)}},[g]),s.jsxs("div",{className:"min-h-screen bg-jkd-bg",children:[s.jsxs("div",{className:"relative",children:[(o==null?void 0:o.highlightUrl)&&s.jsx("div",{className:"absolute inset-0 bg-center bg-cover",style:{backgroundImage:`url(${o.highlightUrl})`}}),s.jsx("div",{className:"pointer-events-none absolute inset-0",style:{backgroundImage:"linear-gradient(to top, var(--jkd-bg-col), hsla(0, 0%, 100%, 0))"}}),s.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[s.jsx(xt,{to:"/site/ministerios",className:"text-sm text-jkd-text hover:text-church-primary",children:" Voltar para Ministrios"}),s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading mt-2",children:(o==null?void 0:o.name)||"Ministrio"}),(o==null?void 0:o.description)&&s.jsx("p",{className:"text-jkd-text mt-2 max-w-3xl",children:o.description})]})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-12 pb-12 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("aside",{className:"order-2 lg:order-1 lg:col-span-1 space-y-6",children:s.jsxs("div",{className:"lg:sticky lg:top-24",children:[s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg p-4 border border-jkd-border mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading mb-4",children:"Prxima Programao"}),f||p?s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-jkd-text",title:(f||p).title,children:(f||p).title}),s.jsx("p",{className:"text-xs text-jkd-text/80",children:(f||p).date.toLocaleString("pt-BR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),f&&s.jsx("span",{className:"inline-block text-xs px-2 py-1 rounded bg-church-primary text-white",children:"Em andamento"})]}):s.jsx("p",{className:"text-sm text-jkd-text",children:"Nenhuma programao prxima."})]}),s.jsxs("div",{className:"bg-church-primary/10 rounded-lg p-4 border border-jkd-border",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading mb-4",children:s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(KI,{className:"h-5 w-5",title:"VGA"}),"Contato da Secretaria"]})}),s.jsxs("div",{className:"space-y-3 text-sm text-jkd-text",children:[s.jsxs("p",{children:["Email: ",n.contactInfo.email]}),s.jsxs("p",{children:["Telefone: ",n.contactInfo.phone]}),s.jsxs("p",{children:["Endereo: ",n.contactInfo.address]}),s.jsxs("p",{children:["Atendimento: ",n.contactInfo.services]})]})]})]})}),s.jsxs("main",{className:"order-1 lg:order-2 lg:col-span-2",children:[s.jsxs("div",{className:"flex items-end justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-jkd-heading",children:"Contedos e Programaes"}),s.jsxs("div",{className:"text-sm text-jkd-text",children:[g.length," resultados encontrados"]})]}),s.jsxs("div",{className:"space-y-4",children:[g.map(x=>s.jsx(af,{announcement:x,showActions:!1},x.id)),g.length===0&&s.jsx("div",{className:"text-sm text-jkd-text",children:"Nenhuma programao relacionada encontrada."})]})]})]})]})},_x=(()=>{const t=new Date,e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0");return`${e}-${r}`})();function xee(t,e=0){const r=parseInt(String(t),10);return Number.isFinite(r)?r:e}function yee(){try{localStorage.getItem("voice-usage-month")!==_x&&(localStorage.setItem(`voice-usage-google-${_x}`,"0"),localStorage.setItem(`voice-usage-elevenlabs-${_x}`,"0"),localStorage.setItem("voice-usage-month",_x))}catch{}}function q0(t){yee();try{const e=localStorage.getItem(`voice-usage-${t}-${_x}`);return xee(e,0)}catch{return 0}}function IF(t,e={google:5e4,elevenlabs:1e4}){try{const r=localStorage.getItem(`voice-limit-${t}`);return xee(r,e[t])}catch{return e[t]}}function OF(t,e){try{localStorage.setItem(`voice-limit-${t}`,String(Math.max(0,e|0)))}catch{}}const vee=({embed:t=!1})=>{const{user:e}=xr(),{showToast:r}=Da(),{showConfirmation:n}=cr(),a=mn();e==null||e.role;const[i,o]=v.useState(!0),[c,u]=v.useState({prayersPerPage:6,hideArchivedOnWall:!0,allowUnpray:!1,heartIconFilledUrl:"",heartIconOutlineUrl:"",notificationEmails:[],bgImageSource:"plugin",bgImageUrl:"",bgImageUploadUrl:"",bgRepeat:!1,bgSize:"cover",bgPosition:"center",bgOpacity:.35}),[h,f]=v.useState({total:0,approved:0,pending:0,rejected:0,totalPrayers:0}),[p,g]=v.useState("todos"),[x,j]=v.useState("todos"),[w,b]=v.useState(""),[N,E]=v.useState(bC());v.useEffect(()=>{(async()=>{try{const D=await nn(at(we,"prayer_settings","default"));D.exists()&&u(D.data());const P=await hn(Et(we,"prayers"));let R=0,U=0,$=0,K=0,F=0;const W=new Set(bC());P.forEach(te=>{const X=te.data();R+=1,F+=X.prayCount||0;const B=X.status;B==="approved"||B==="active"?U+=1:B==="pending"?$+=1:B==="rejected"&&(K+=1),X.motif&&W.add(X.motif)}),f({total:R,approved:U,pending:$,rejected:K,totalPrayers:F}),E(Array.from(W))}finally{o(!1)}})()},[]);const A=D=>{const{name:P,value:R,type:U,checked:$}=D.target;u(U==="checkbox"?K=>({...K,[P]:$}):K=>({...K,[P]:R}))},O=D=>u(P=>({...P,notificationEmails:D.split(",").map(R=>R.trim()).filter(Boolean)})),M=async D=>{var $;const P=($=D.target.files)==null?void 0:$[0];if(!P)return;const R=kn(da,`images/prayers/background/${Date.now()}_${P.name}`);await io(R,P);const U=await Ci(R);u(K=>({...K,bgImageSource:"upload",bgImageUploadUrl:U}))},L=async()=>{await oi(at(we,"prayer_settings","default"),c,{merge:!0}),r("success","Configuraes salvas com sucesso.")},I=async()=>{const D=Et(we,"prayers");let P=D;p!=="todos"&&(P=Er(D,Vr("status","==",{approved:"approved",pending:"pending",rejected:"rejected"}[p])));const R=await hn(P),U=[];U.push(["ID","Status","Nome","Reservado","Motivo","Texto","E-mail","Telefone","Cidade","Estado","Contagem Oraes","Criado Em"].join(",")),R.forEach(W=>{var ne,ie;const te=W.data(),X=te.createdAt&&te.createdAt.toDate?te.createdAt.toDate().toISOString():"",B=((ne=te.address)==null?void 0:ne.city)||"",G=((ie=te.address)==null?void 0:ie.state)||"",J=[W.id,te.status||"",te.name||"",te.isPrivate?"Sim":"No",te.motif||"",JSON.stringify(te.text||""),te.email||"",te.phone||"",B,G,String(te.prayCount||0),X].join(",");U.push(J)});const $=new Blob([U.join(`
`)],{type:"text/csv;charset=utf-8;"}),K=URL.createObjectURL($),F=document.createElement("a");F.href=K,F.download=`pedidos_oracao_${p}.csv`,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(K)},T=async()=>{n("Confirmar excluso em massa","Ateno: esta ao  destrutiva e no pode ser desfeita. Faa backup do banco antes de prosseguir.",async()=>{const P=Et(we,"prayers");let R=P;x!=="todos"&&(R=Er(P,Vr("status","==",{approved:"approved",pending:"pending",rejected:"rejected",archived:"archived"}[x])));const U=await hn(R),$=w?new Date(w):null;let K=0;for(const F of U.docs){const W=F.data(),te=W.createdAt&&W.createdAt.toDate?W.createdAt.toDate():null;if(!($&&te&&te>=$)){try{const X=await hn(Er(Et(we,"prayer_comments"),Vr("prayerId","==",F.id))),B=[];X.forEach(G=>B.push(ha(at(we,"prayer_comments",G.id)))),B.length&&await Promise.all(B)}catch(X){console.warn("Aviso: falha ao excluir comentrios do pedido",F.id,X)}await ha(at(we,"prayers",F.id)),K+=1}}r("success",`Excluso concluda. Registros removidos: ${K}`)})},_=s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec border border-jkd-border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"Pedidos por pgina"}),s.jsx("input",{type:"number",name:"prayersPerPage",value:c.prayersPerPage,onChange:A,className:"input input-bordered"})]}),s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",name:"hideArchivedOnWall",checked:c.hideArchivedOnWall,onChange:A})," Ocultar arquivados no mural"]}),s.jsx("span",{className:"text-xs text-jkd-text mt-1",children:"Quando ativado, pedidos arquivados no aparecem no mural pblico."})]}),s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",name:"allowUnpray",checked:c.allowUnpray,onChange:A}),' Permitir "desorar"']}),s.jsx("span",{className:"text-xs text-jkd-text mt-1",children:"Permite desfazer o Orando, removendo o corao do usurio."})]}),s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"cone corao preenchido (URL)"}),s.jsx("input",{type:"text",name:"heartIconFilledUrl",value:c.heartIconFilledUrl||"",onChange:A,className:"input input-bordered"})]}),s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"cone corao contorno (URL)"}),s.jsx("input",{type:"text",name:"heartIconOutlineUrl",value:c.heartIconOutlineUrl||"",onChange:A,className:"input input-bordered"})]})]}),s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"E-mails para notificao (separados por vrgula)"}),s.jsx("input",{type:"text",value:c.notificationEmails.join(", "),onChange:D=>O(D.target.value),className:"input input-bordered"})]}),s.jsxs("div",{className:"border-t border-jkd-border pt-3",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Cores dos Motivos"}),s.jsx("p",{className:"text-xs text-jkd-text",children:"Defina a cor de fundo exibida no badge do motivo nos cards do mural. Deixe em branco para usar a cor padro do tema."}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2",children:N.map(D=>{const P=(c.motifColors||{})[D]||"";return s.jsxs("div",{className:"flex items-center justify-between gap-3 border border-jkd-border rounded p-2 bg-jkd-bg",children:[s.jsx("span",{className:"text-sm text-jkd-text",children:Kc(D)}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"color",value:P||"#ffffff",onChange:R=>{const U=R.target.value;u($=>({...$,motifColors:{...$.motifColors||{},[D]:U}}))}}),s.jsx("button",{type:"button",className:"btn btn-sm",onClick:()=>{u(R=>{const U={...R.motifColors||{}};return delete U[D],{...R,motifColors:U}})},children:"Limpar"})]})]},D)})})]}),s.jsxs("div",{className:"border-t border-jkd-border pt-3",children:[s.jsxs("h2",{className:"text-lg font-semibold text-jkd-heading flex items-center gap-2",children:[s.jsx(Wm,{size:16})," Plano de Fundo do Mural"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2",children:[s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"Fonte da Imagem"}),s.jsxs("select",{name:"bgImageSource",value:c.bgImageSource||"plugin",onChange:A,className:"input input-bordered",children:[s.jsx("option",{value:"plugin",children:"Plugin (padro)"}),s.jsx("option",{value:"url",children:"URL"}),s.jsx("option",{value:"upload",children:"Upload"})]})]}),c.bgImageSource==="plugin"&&s.jsxs("p",{className:"text-xs text-jkd-text sm:col-span-2",children:["Usando imagem do plugin em ",s.jsx("code",{children:"/mural-de-oracao/assets/images/placeholders/default-prayer.jpg"}),"."]}),c.bgImageSource==="url"&&s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"URL da Imagem"}),s.jsx("input",{type:"text",name:"bgImageUrl",value:c.bgImageUrl||"",onChange:A,className:"input input-bordered"})]}),c.bgImageSource==="upload"&&s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"Upload de Imagem"}),s.jsx("input",{type:"file",accept:"image/*",onChange:M}),c.bgImageUploadUrl&&s.jsx("span",{className:"text-xs mt-1 break-all",children:c.bgImageUploadUrl})]}),s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"Posicionamento"}),s.jsxs("select",{name:"bgPosition",value:c.bgPosition||"center",onChange:A,className:"input input-bordered",children:[s.jsx("option",{value:"top",children:"Topo"}),s.jsx("option",{value:"center",children:"Centro"}),s.jsx("option",{value:"bottom",children:"Base"})]})]}),s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"Tamanho"}),s.jsxs("select",{name:"bgSize",value:c.bgSize||"cover",onChange:A,className:"input input-bordered",children:[s.jsx("option",{value:"cover",children:"Estender (cover)"}),s.jsx("option",{value:"contain",children:"Conter"}),s.jsx("option",{value:"auto",children:"Auto"})]})]}),s.jsxs("label",{className:"flex items-center gap-2 text-jkd-text",children:[s.jsx("input",{type:"checkbox",name:"bgRepeat",checked:!!c.bgRepeat,onChange:A})," Repetir imagem"]}),s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"Opacidade (01)"}),s.jsx("input",{type:"number",name:"bgOpacity",min:0,max:1,step:.05,value:c.bgOpacity||0,onChange:A,className:"input input-bordered"})]})]})]}),s.jsxs("div",{className:"border-t border-jkd-border pt-3",children:[s.jsxs("h2",{className:"text-lg font-semibold text-jkd-heading flex items-center gap-2",children:[s.jsx(A9,{size:16})," Estatsticas"]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mt-2",children:[s.jsxs("div",{className:"p-3 rounded border border-jkd-border bg-jkd-bg",children:[s.jsx("p",{className:"text-xs text-jkd-text",children:"Total de Pedidos Recebidos"}),s.jsx("p",{className:"text-xl font-semibold text-jkd-heading",children:h.total})]}),s.jsxs("div",{className:"p-3 rounded border border-jkd-border bg-jkd-bg",children:[s.jsx("p",{className:"text-xs text-jkd-text",children:"Pedidos Aprovados"}),s.jsx("p",{className:"text-xl font-semibold text-green-600",children:h.approved})]}),s.jsxs("div",{className:"p-3 rounded border border-jkd-border bg-jkd-bg",children:[s.jsx("p",{className:"text-xs text-jkd-text",children:"Pedidos Pendentes"}),s.jsx("p",{className:"text-xl font-semibold text-yellow-600",children:h.pending})]}),s.jsxs("div",{className:"p-3 rounded border border-jkd-border bg-jkd-bg",children:[s.jsx("p",{className:"text-xs text-jkd-text",children:"Total de Oraes Registradas"}),s.jsx("p",{className:"text-xl font-semibold text-church-primary",children:h.totalPrayers})]})]})]}),s.jsxs("div",{className:"border-t border-jkd-border pt-3",children:[s.jsxs("h2",{className:"text-lg font-semibold text-jkd-heading flex items-center gap-2",children:[s.jsx(T9,{size:16})," Exportar CSV"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-2 items-end",children:[s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"Filtrar por Status (opcional)"}),s.jsxs("select",{value:p,onChange:D=>g(D.target.value),className:"input input-bordered",children:[s.jsx("option",{value:"todos",children:"Todos os Status"}),s.jsx("option",{value:"approved",children:"Aprovado"}),s.jsx("option",{value:"pending",children:"Pendente"}),s.jsx("option",{value:"rejected",children:"Rejeitado"})]})]}),s.jsx("button",{className:"btn btn-primary",onClick:I,children:"Exportar CSV"})]}),s.jsx("p",{className:"text-xs text-jkd-text mt-1",children:"Observao: antes da aprovao, o pedido no  exibido no card pblico."})]}),s.jsx("div",{className:"pt-2 flex justify-end",children:s.jsx("button",{className:"inline-flex items-center gap-2 rounded-md px-4 py-2 bg-church-primary text-white hover:bg-church-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-church-primary",onClick:L,children:"Salvar alteraes"})}),s.jsxs("div",{className:"border-t border-jkd-border pt-3",children:[s.jsxs("h2",{className:"text-lg font-semibold text-jkd-heading flex items-center gap-2 text-red-600",children:[s.jsx(_i,{size:16})," Aes destrutivas"]}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Ateno: As aes abaixo so destrutivas e no podem ser desfeitas. Faa um backup do seu banco de dados antes de prosseguir."}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mt-2",children:[s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"Filtrar por Status (opcional)"}),s.jsxs("select",{value:x,onChange:D=>j(D.target.value),className:"input input-bordered",children:[s.jsx("option",{value:"todos",children:"Todos os Status"}),s.jsx("option",{value:"approved",children:"Aprovado"}),s.jsx("option",{value:"pending",children:"Pendente"}),s.jsx("option",{value:"rejected",children:"Rejeitado"}),s.jsx("option",{value:"archived",children:"Arquivado"})]})]}),s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"Excluir registros criados antes de"}),s.jsx("input",{type:"date",value:w,onChange:D=>b(D.target.value),className:"input input-bordered"})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("button",{className:"btn btn-error flex items-center gap-2",onClick:T,children:[s.jsx(Ss,{size:16})," Excluir em massa"]})})]})]})]});return t?s.jsx("div",{children:i?s.jsx("p",{className:"text-jkd-text mt-2",children:"Carregando..."}):_}):s.jsx("div",{className:"min-h-screen bg-jkd-bg py-6",children:s.jsxs("div",{className:"max-w-3xl mx-auto px-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-jkd-heading",children:"Configuraes  rea Restrita"}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx("p",{className:"text-jkd-text",children:"Configure o mural de orao, plano de fundo e utilidades."}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{type:"button",onClick:()=>a("/site/pedido-de-oracao"),className:"px-3 py-2 rounded-md border border-jkd-border text-jkd-heading hover:bg-jkd-bg",children:"Voltar"})})]}),i?s.jsx("p",{className:"text-jkd-text mt-6",children:"Carregando..."}):s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec border border-jkd-border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"Pedidos por pgina"}),s.jsx("input",{type:"number",name:"prayersPerPage",value:c.prayersPerPage,onChange:A,className:"input input-bordered"})]}),s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",name:"hideArchivedOnWall",checked:c.hideArchivedOnWall,onChange:A})," Ocultar arquivados no mural"]}),s.jsx("span",{className:"text-xs text-jkd-text mt-1",children:"Quando ativado, pedidos arquivados no aparecem no mural pblico."})]}),s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",name:"allowUnpray",checked:c.allowUnpray,onChange:A}),' Permitir "desorar"']}),s.jsx("span",{className:"text-xs text-jkd-text mt-1",children:"Permite desfazer o Orando, removendo o corao do usurio."})]}),s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"cone corao preenchido (URL)"}),s.jsx("input",{type:"text",name:"heartIconFilledUrl",value:c.heartIconFilledUrl||"",onChange:A,className:"input input-bordered"})]}),s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"cone corao contorno (URL)"}),s.jsx("input",{type:"text",name:"heartIconOutlineUrl",value:c.heartIconOutlineUrl||"",onChange:A,className:"input input-bordered"})]})]}),s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"E-mails para notificao (separados por vrgula)"}),s.jsx("input",{type:"text",value:c.notificationEmails.join(", "),onChange:D=>O(D.target.value),className:"input input-bordered"})]}),s.jsxs("div",{className:"border-t border-jkd-border pt-3",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Cores dos Motivos"}),s.jsx("p",{className:"text-xs text-jkd-text",children:"Defina a cor de fundo exibida no badge do motivo nos cards do mural. Deixe em branco para usar a cor padro do tema."}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2",children:N.map(D=>{const P=(c.motifColors||{})[D]||"";return s.jsxs("div",{className:"flex items-center justify-between gap-3 border border-jkd-border rounded p-2 bg-jkd-bg",children:[s.jsx("span",{className:"text-sm text-jkd-text",children:Kc(D)}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"color",value:P||"#ffffff",onChange:R=>{const U=R.target.value;u($=>({...$,motifColors:{...$.motifColors||{},[D]:U}}))}}),s.jsx("button",{type:"button",className:"btn btn-sm",onClick:()=>{u(R=>{const U={...R.motifColors||{}};return delete U[D],{...R,motifColors:U}})},children:"Limpar"})]})]},D)})})]}),s.jsxs("div",{className:"border-t border-jkd-border pt-3",children:[s.jsxs("h2",{className:"text-lg font-semibold text-jkd-heading flex items-center gap-2",children:[s.jsx(Wm,{size:16})," Plano de Fundo do Mural"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2",children:[s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"Fonte da Imagem"}),s.jsxs("select",{name:"bgImageSource",value:c.bgImageSource||"plugin",onChange:A,className:"input input-bordered",children:[s.jsx("option",{value:"plugin",children:"Plugin (padro)"}),s.jsx("option",{value:"url",children:"URL"}),s.jsx("option",{value:"upload",children:"Upload"})]})]}),c.bgImageSource==="plugin"&&s.jsxs("p",{className:"text-xs text-jkd-text sm:col-span-2",children:["Usando imagem do plugin em ",s.jsx("code",{children:"/mural-de-oracao/assets/images/placeholders/default-prayer.jpg"}),"."]}),c.bgImageSource==="url"&&s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"URL da Imagem"}),s.jsx("input",{type:"text",name:"bgImageUrl",value:c.bgImageUrl||"",onChange:A,className:"input input-bordered"})]}),c.bgImageSource==="upload"&&s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"Upload de Imagem"}),s.jsx("input",{type:"file",accept:"image/*",onChange:M}),c.bgImageUploadUrl&&s.jsx("span",{className:"text-xs mt-1 break-all",children:c.bgImageUploadUrl})]}),s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"Posicionamento"}),s.jsxs("select",{name:"bgPosition",value:c.bgPosition||"center",onChange:A,className:"input input-bordered",children:[s.jsx("option",{value:"top",children:"Topo"}),s.jsx("option",{value:"center",children:"Centro"}),s.jsx("option",{value:"bottom",children:"Base"})]})]}),s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"Tamanho"}),s.jsxs("select",{name:"bgSize",value:c.bgSize||"cover",onChange:A,className:"input input-bordered",children:[s.jsx("option",{value:"cover",children:"Estender (cover)"}),s.jsx("option",{value:"contain",children:"Conter"}),s.jsx("option",{value:"auto",children:"Auto"})]})]}),s.jsxs("label",{className:"flex items-center gap-2 text-jkd-text",children:[s.jsx("input",{type:"checkbox",name:"bgRepeat",checked:!!c.bgRepeat,onChange:A})," Repetir imagem"]}),s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"Opacidade (01)"}),s.jsx("input",{type:"number",name:"bgOpacity",min:0,max:1,step:.05,value:c.bgOpacity||0,onChange:A,className:"input input-bordered"})]})]})]}),s.jsxs("div",{className:"border-t border-jkd-border pt-3",children:[s.jsxs("h2",{className:"text-lg font-semibold text-jkd-heading flex items-center gap-2",children:[s.jsx(A9,{size:16})," Estatsticas"]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mt-2",children:[s.jsxs("div",{className:"p-3 rounded border border-jkd-border bg-jkd-bg",children:[s.jsx("p",{className:"text-xs text-jkd-text",children:"Total de Pedidos Recebidos"}),s.jsx("p",{className:"text-xl font-semibold text-jkd-heading",children:h.total})]}),s.jsxs("div",{className:"p-3 rounded border border-jkd-border bg-jkd-bg",children:[s.jsx("p",{className:"text-xs text-jkd-text",children:"Pedidos Aprovados"}),s.jsx("p",{className:"text-xl font-semibold text-green-600",children:h.approved})]}),s.jsxs("div",{className:"p-3 rounded border border-jkd-border bg-jkd-bg",children:[s.jsx("p",{className:"text-xs text-jkd-text",children:"Pedidos Pendentes"}),s.jsx("p",{className:"text-xl font-semibold text-yellow-600",children:h.pending})]}),s.jsxs("div",{className:"p-3 rounded border border-jkd-border bg-jkd-bg",children:[s.jsx("p",{className:"text-xs text-jkd-text",children:"Total de Oraes Registradas"}),s.jsx("p",{className:"text-xl font-semibold text-church-primary",children:h.totalPrayers})]})]})]}),s.jsxs("div",{className:"border-t border-jkd-border pt-3",children:[s.jsxs("h2",{className:"text-lg font-semibold text-jkd-heading flex items-center gap-2",children:[s.jsx(T9,{size:16})," Exportar CSV"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-2 items-end",children:[s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"Filtrar por Status (opcional)"}),s.jsxs("select",{value:p,onChange:D=>g(D.target.value),className:"input input-bordered",children:[s.jsx("option",{value:"todos",children:"Todos os Status"}),s.jsx("option",{value:"approved",children:"Aprovado"}),s.jsx("option",{value:"pending",children:"Pendente"}),s.jsx("option",{value:"rejected",children:"Rejeitado"})]})]}),s.jsx("button",{className:"btn btn-primary",onClick:I,children:"Exportar CSV"})]}),s.jsx("p",{className:"text-xs text-jkd-text mt-1",children:"Observao: antes da aprovao, o pedido no  exibido no card pblico."})]}),s.jsx("div",{className:"pt-2",children:s.jsx("button",{className:"inline-flex items-center gap-2 rounded-md px-4 py-2 bg-church-primary text-white hover:bg-church-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-church-primary",onClick:L,children:"Salvar alteraes"})}),s.jsxs("div",{className:"border-t border-jkd-border pt-3",children:[s.jsxs("h2",{className:"text-lg font-semibold text-jkd-heading flex items-center gap-2 text-red-600",children:[s.jsx(_i,{size:16})," Aes destrutivas"]}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Ateno: As aes abaixo so destrutivas e no podem ser desfeitas. Faa um backup do seu banco de dados antes de prosseguir."}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mt-2",children:[s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"Filtrar por Status (opcional)"}),s.jsxs("select",{value:x,onChange:D=>j(D.target.value),className:"input input-bordered",children:[s.jsx("option",{value:"todos",children:"Todos os Status"}),s.jsx("option",{value:"approved",children:"Aprovado"}),s.jsx("option",{value:"pending",children:"Pendente"}),s.jsx("option",{value:"rejected",children:"Rejeitado"}),s.jsx("option",{value:"archived",children:"Arquivado"})]})]}),s.jsxs("label",{className:"flex flex-col text-jkd-text",children:[s.jsx("span",{className:"text-sm",children:"Excluir registros criados antes de"}),s.jsx("input",{type:"date",value:w,onChange:D=>b(D.target.value),className:"input input-bordered"})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("button",{className:"btn btn-error flex items-center gap-2",onClick:T,children:[s.jsx(Ss,{size:16})," Excluir em massa"]})})]})]})]})]})})},C$e=()=>{var $e,dt,Tt,Ge,Ct,sr,fr,St;const t=mn(),{user:e}=xr(),{settings:r,updateSettings:n}=cr(),{showToast:a}=Da(),{config:i,updateConfig:o,toggleMaintenance:c,toggleRedirect:u}=Sf(),[h,f]=v.useState(r.sliderUrl||""),[p,g]=v.useState(r.sliderHeight||500),[x,j]=v.useState(r.sliderAutoRefreshMinutes??5),[w,b]=v.useState(!1),[N,E]=v.useState(null),[A,O]=v.useState(""),[M,L]=v.useState(""),[I,T]=v.useState(""),[_,D]=v.useState(!1),[P,R]=v.useState([]),[U,$]=v.useState(!0),[K,F]=v.useState(null),[W,te]=v.useState("browser"),[X,B]=v.useState(""),[G,J]=v.useState(""),[ne,ie]=v.useState(5e4),[se,je]=v.useState(1e4),[Pe,ue]=v.useState(0),[ae,oe]=v.useState(0),[ve,Y]=v.useState((($e=r.youtubeLive)==null?void 0:$e.enabled)??!1),[fe,ee]=v.useState(((dt=r.youtubeLive)==null?void 0:dt.apiKey)||""),[ye,Oe]=v.useState(((Tt=r.youtubeLive)==null?void 0:Tt.channelId)||""),[We,it]=v.useState(((Ge=r.youtubeLive)==null?void 0:Ge.cacheSeconds)??60),[ut,At]=v.useState(((Ct=r.youtubeLive)==null?void 0:Ct.backgroundAutoplayMuted)??!0),[wt,st]=v.useState(((sr=r.youtubeLive)==null?void 0:sr.backgroundOpacity)??1),[Ce,Ve]=v.useState(((fr=r.youtubeLive)==null?void 0:fr.hideBackgroundOnPopup)??!0),[Qe,rt]=v.useState(((St=r.youtubeLive)==null?void 0:St.forceVideoId)||""),[ot,gt]=v.useState(0),[ht,Dt]=v.useState(0);v.useEffect(()=>{try{yee();const Se=localStorage.getItem("bibleVoiceSettings");if(Se){const Gt=JSON.parse(Se);Gt!=null&&Gt.provider&&te(Gt.provider)}const lt=localStorage.getItem("bible-google-api-key")||"",ir=localStorage.getItem("bible-elevenlabs-api-key")||"";B(lt),J(ir),ie(IF("google")),je(IF("elevenlabs")),ue(q0("google")),oe(q0("elevenlabs"))}catch{}},[]),v.useEffect(()=>{Sy(),gt(Oh()),Dt(u1())},[]);const qt=Se=>{te(Se);try{const lt=JSON.parse(localStorage.getItem("bibleVoiceSettings")||"{}");localStorage.setItem("bibleVoiceSettings",JSON.stringify({...lt,provider:Se}))}catch{localStorage.setItem("bibleVoiceSettings",JSON.stringify({provider:Se}))}a("success","Provedor de voz atualizado.")},Rt=async()=>{b(!0);try{await n({youtubeLive:{enabled:ve,apiKey:fe.trim(),channelId:ye.trim(),cacheSeconds:Math.max(10,Number(We)||60),backgroundAutoplayMuted:ut,backgroundOpacity:Math.max(0,Math.min(1,Number(wt)||1)),hideBackgroundOnPopup:Ce,forceVideoId:Qe.trim()}}),Sy(),gt(Oh()),Dt(u1()),a("success","Configuraes do Fonte Live salvas com sucesso!")}catch(Se){console.error("Erro ao salvar configuraes do Fonte Live:",Se),a("error","Erro ao salvar configuraes do Fonte Live. Tente novamente.")}finally{b(!1)}},Xt=()=>{try{Ike(Math.max(0,Number(ht)||0)),gt(Oh()),Dt(u1()),a("success","Limite mensal do YouTube atualizado.")}catch{a("error","Falha ao salvar limite mensal do YouTube.")}},Qt=()=>{try{Pke(),gt(Oh()),a("success","Uso mensal do YouTube reiniciado.")}catch{a("error","No foi possvel reiniciar o ms.")}},pe=()=>{try{OF("google",Math.max(0,Number(ne)||0)),OF("elevenlabs",Math.max(0,Number(se)||0)),ue(q0("google")),oe(q0("elevenlabs")),a("success","Limites de caracteres atualizados.")}catch{a("error","Falha ao salvar limites.")}},ge=(Se,lt)=>{Se==="google"?(B(lt),localStorage.setItem("bible-google-api-key",lt)):(J(lt),localStorage.setItem("bible-elevenlabs-api-key",lt))};if(!e||e.role!=="admin")return s.jsx(pl,{to:"/login",replace:!0});const he=async()=>{const Se=(h||"").trim(),lt=Number(p)||500,ir=Math.max(0,Number(x)||0);b(!0);try{await n({sliderUrl:Se,sliderHeight:lt,sliderAutoRefreshMinutes:ir}),a("success","Configuraes salvas com sucesso!")}catch(Gt){console.error("Erro ao salvar configuraes do site:",Gt),a("error","Erro ao salvar configuraes. Tente novamente.")}finally{b(!1)}};async function Te(){$(!0);try{const Se=await hn(Et(we,"bibleVersions")),lt=[];Se.forEach(ir=>lt.push({id:ir.id,...ir.data()})),R(lt)}catch(Se){F((Se==null?void 0:Se.message)||"Erro ao carregar verses")}finally{$(!1)}}v.useEffect(()=>{Te()},[]);async function De(Se){if(Se.preventDefault(),F(null),!N){F("Selecione o arquivo da verso bblica (JSON).");return}if(!A.trim()||!M.trim()){F("Preencha Nome da Verso e Abreviao.");return}D(!0);try{const lt=M.trim().toUpperCase(),ir=`bible/versions/${lt}.json`,Gt=kn(da,ir),kr=await N.text();let Fr;try{if(Fr=JSON.parse(kr),!Fr||typeof Fr!="object")throw new Error("JSON invlido: estrutura no reconhecida")}catch(Ln){throw new Error(`Falha ao ler JSON: ${(Ln==null?void 0:Ln.message)||"erro desconhecido"}`)}await io(Gt,new Blob([kr],{type:"application/json"}),{contentType:"application/json"});const Pn=Et(we,"bibleVersions"),Nn=await hn(Er(Pn,Vr("abbr","==",lt),$1(1)));if(Nn.empty)await qa(Pn,{name:A.trim(),abbr:lt,language:I.trim()||null,active:!0,default:!1,storagePath:ir,createdAt:fn()});else{const Ln=Nn.docs[0].ref;await Pr(Ln,{name:A.trim(),abbr:lt,language:I.trim()||null,active:!0,default:!1,storagePath:ir,updatedAt:fn()})}E(null),O(""),L(""),T(""),a("success","Verso bblica adicionada com sucesso!"),await Te()}catch(lt){console.error(lt);const ir=(lt==null?void 0:lt.code)||"";F(ir==="storage/unauthorized"?"Sem permisso para enviar ao Storage. Verifique se sua conta  admin.":ir==="storage/canceled"?"Upload cancelado. Tente novamente.":ir==="storage/unknown"?"Erro desconhecido no upload. Verifique a conexo e tente novamente.":(lt==null?void 0:lt.message)||"Falha ao adicionar verso bblica"),a("error","Falha ao adicionar verso bblica")}finally{D(!1)}}async function nt(Se,lt){Se.id&&(await Pr(at(we,"bibleVersions",Se.id),{active:lt,updatedAt:fn()}),await Te())}async function bt(Se){Se.id&&(await Promise.all(P.map(lt=>lt.id?Pr(at(we,"bibleVersions",lt.id),{default:lt.id===Se.id,updatedAt:fn()}):Promise.resolve())),await Te())}async function kt(Se){if(Se.id)try{if(Se.storagePath)try{await hu(kn(da,Se.storagePath))}catch(lt){const ir=(lt==null?void 0:lt.code)||"";if(ir==="storage/object-not-found"||ir==="storage/invalid-root-operation")console.warn("Arquivo da verso no encontrado no Storage; continuando excluso do documento.",lt);else throw lt}await ha(at(we,"bibleVersions",Se.id)),a("success","Verso bblica excluda."),await Te()}catch(lt){console.error("Erro ao excluir verso:",lt),a("error","Falha ao excluir verso.")}}return s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Gerenciamento"}),s.jsx("p",{className:"text-jkd-text mt-2",children:"rea administrativa do site (acesso restrito)."}),s.jsxs("div",{className:"mt-8 bg-gradient-to-r from-red-50 to-orange-50 rounded-lg border border-red-200 p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-red-900",children:"Modo Manuteno"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.isActive?" Site em manuteno. Apenas administradores podem acessar.":" Site normal. Todos podem acessar."})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:i.isActive,onChange:()=>{console.log("[GerenciamentoPage] Toggle maintenance clicked"),console.log("[GerenciamentoPage] Current state:",i.isActive),c(),console.log("[GerenciamentoPage] After toggle:",i.isActive)}}),s.jsx("div",{className:`toggle-container ${i.isActive?"bg-red-600":"bg-gray-300"} peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-5 peer-checked:bg-red-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:transition-all`})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-red-100 p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"URL de Redirecionamento"}),s.jsx("p",{className:"text-sm text-gray-600",children:i.useRedirect?" Redirecionamento ativo. Usurios sero redirecionados.":" Contedo customizado ativo."})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:i.useRedirect,onChange:u}),s.jsx("div",{className:`toggle-container ${i.useRedirect?"bg-blue-600":"bg-gray-300"} peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-5 peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:transition-all`})]})]}),i.useRedirect&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"redirect-url",className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de Redirecionamento"}),s.jsx("input",{id:"redirect-url",type:"url",value:i.redirectUrl,onChange:Se=>o({redirectUrl:Se.target.value}),placeholder:"https://exemplo.com/manutencao",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Se houver uma URL aqui, os usurios sero redirecionados. Caso contrrio, vero o contedo customizado."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>t("/site/maintenance/edit"),className:"flex items-center justify-center gap-2 bg-red-600 text-white px-4 py-3 rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(aj,{size:18}),s.jsx("span",{children:"Editar Modo Manuteno"})]}),i.useRedirect&&i.redirectUrl&&s.jsxs("a",{href:i.redirectUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(OI,{size:18}),s.jsx("span",{children:"Testar Redirecionamento"})]})]}),i.isActive&&s.jsxs("div",{className:"bg-red-100 border border-red-300 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rj,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"font-semibold text-red-800",children:"Ateno!"})]}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:"O modo manuteno est ativo. Usurios no administradores vero a pgina de manuteno ou sero redirecionados."})]})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 transition-colors hover:border-church-primary focus-within:border-church-primary",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Id,{className:"w-5 h-5 text-church-primary"}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Configuraes do Fonte News"})]}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Acesse e gerencie as configuraes gerais do app principal."}),s.jsx("div",{className:"mt-4",children:s.jsxs("button",{type:"button",onClick:()=>t("/admin?tab=settings"),className:"inline-flex items-center gap-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90",children:[s.jsx(Id,{size:16}),s.jsx("span",{children:"Abrir Configuraes"})]})})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 transition-colors hover:border-church-primary focus-within:border-church-primary",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(To,{className:"w-5 h-5 text-church-primary"}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Incio  Configuraes"})]}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Defina imagem de fundo, opacidade e layout de colunas da Home."}),s.jsx("div",{className:"mt-4",children:s.jsxs("button",{type:"button",onClick:()=>t("/site/gerenciamento/inicio"),className:"inline-flex items-center gap-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90",children:[s.jsx(To,{size:16}),s.jsx("span",{children:"Abrir Configuraes da Home"})]})})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 transition-colors hover:border-church-primary focus-within:border-church-primary",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(O9,{className:"w-5 h-5 text-church-primary"}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Configurao de Ministrios"})]}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Gerencie os ministrios/departamentos: cadastrar, editar e excluir."}),s.jsx("div",{className:"mt-4",children:s.jsxs("button",{type:"button",onClick:()=>t("/site/gerenciamento/ministerios"),className:"inline-flex items-center gap-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90",children:[s.jsx(O9,{size:16}),s.jsx("span",{children:"Abrir Configurao de Ministrios"})]})})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 transition-colors hover:border-church-primary focus-within:border-church-primary",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(nc,{className:"w-5 h-5 text-church-primary"}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Lder-Chat  Aparncia"})]}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Personalize cores das mensagens e imagem de fundo (overlay)."}),s.jsx("div",{className:"mt-4",children:s.jsxs("button",{type:"button",onClick:()=>t("/site/gerenciamento/lider-chat"),className:"inline-flex items-center gap-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90",children:[s.jsx(nc,{size:16}),s.jsx("span",{children:"Abrir Configuraes do Lder-Chat"})]})})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 transition-colors hover:border-church-primary focus-within:border-church-primary",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(To,{className:"w-5 h-5 text-church-primary"}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Culto-Blocos  Configuraes"})]}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Defina dias e imagens de cada bloco do continer na Home."}),s.jsx("div",{className:"mt-4",children:s.jsxs("button",{type:"button",onClick:()=>t("/site/gerenciamento/culto-blocos"),className:"inline-flex items-center gap-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90",children:[s.jsx(To,{size:16}),s.jsx("span",{children:"Abrir Configuraes de Culto-Blocos"})]})})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 transition-colors hover:border-church-primary focus-within:border-church-primary",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(gp,{className:"w-5 h-5 text-church-primary"}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Curso-Slide  Administrao"})]}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Crie, edite e ordene os slides exibidos na Home e na pgina de Cursos."}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[s.jsxs("button",{type:"button",onClick:()=>t("/site/gerenciamento/curso-slide"),className:"inline-flex items-center gap-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90",children:[s.jsx(gp,{size:16}),s.jsx("span",{children:"Abrir Administrao de Curso-Slide"})]}),s.jsxs("button",{type:"button",onClick:()=>t("/site/gerenciamento/curso-slide/config"),className:"inline-flex items-center gap-2 bg-church-primary/10 text-church-primary px-4 py-2 rounded-lg hover:bg-church-primary/20 border border-church-primary/30",children:[s.jsx(I9,{size:16}),s.jsx("span",{children:"Abrir Configuraes de Curso-Slide"})]})]})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 space-y-6 transition-colors hover:border-church-primary focus-within:border-church-primary",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Adicionar Verso Bblica"}),s.jsx("p",{className:"text-sm text-jkd-text mt-1",children:"Faa upload de um arquivo JSON com a verso bblica e cadastre os metadados."})]}),s.jsxs("form",{onSubmit:De,className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Arquivo da Verso Bblica"}),s.jsx("input",{type:"file",accept:"application/json",onChange:Se=>{var lt;return E(((lt=Se.target.files)==null?void 0:lt[0])||null)},className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Nome da Verso *"}),s.jsx("input",{value:A,onChange:Se=>O(Se.target.value),placeholder:"Ex: Almeida Revista e Atualizada",className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Abreviao *"}),s.jsx("input",{value:M,onChange:Se=>L(Se.target.value),placeholder:"Ex: ARA",className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Idioma"}),s.jsx("input",{value:I,onChange:Se=>T(Se.target.value),placeholder:"Ex: pt-BR",className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]})]}),K&&s.jsx("div",{className:"text-sm text-red-500",children:K}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"submit",disabled:_,className:"px-4 py-2 bg-church-primary text-white rounded-lg disabled:opacity-60",children:"Selecionar Arquivo e Adicionar"})})]})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 space-y-4 transition-colors hover:border-church-primary focus-within:border-church-primary",children:[s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Verses Disponveis"}),U?s.jsx("div",{className:"text-jkd-text",children:"Carregando verses..."}):P.length===0?s.jsx("div",{className:"text-jkd-text",children:"Nenhuma verso cadastrada."}):s.jsx("div",{className:"space-y-2",children:P.map(Se=>{var lt,ir;return s.jsxs("div",{className:"flex items-center justify-between bg-jkd-bg rounded-lg border border-jkd-border p-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-jkd-heading font-medium",children:[Se.name," (",Se.abbr,")"]}),s.jsxs("div",{className:"text-sm text-jkd-text",children:["Idioma: ",Se.language||""," | Ativa: ",Se.active?"Sim":"No"," | Padro: ",Se.default?"Sim":"No"]}),s.jsxs("div",{className:"text-xs text-jkd-text mt-1",children:["Criada: ",(lt=Se==null?void 0:Se.createdAt)!=null&&lt.toDate?Se.createdAt.toDate().toLocaleString("pt-BR"):"",Se!=null&&Se.updatedAt?` | Atualizada: ${(ir=Se.updatedAt)!=null&&ir.toDate?Se.updatedAt.toDate().toLocaleString("pt-BR"):""}`:""]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>nt(Se,!Se.active),className:"px-3 py-1 border border-jkd-border rounded-lg text-jkd-heading bg-jkd-bg",children:Se.active?"Desativar":"Ativar"}),s.jsx("button",{onClick:()=>bt(Se),className:"px-3 py-1 border border-jkd-border rounded-lg text-jkd-heading bg-jkd-bg",children:"Definir Padro"}),s.jsx("button",{onClick:()=>kt(Se),className:"px-3 py-1 bg-red-600 text-white rounded-lg",children:"Excluir"})]})]},Se.id)})})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 transition-colors hover:border-church-primary focus-within:border-church-primary",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(_9,{className:"w-5 h-5 text-church-primary"}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Configuraes de Voz"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:"Provedor de Voz"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{id:"browser",name:"Vozes do Navegador",requiresApiKey:!1},{id:"system",name:"Vozes do Sistema",requiresApiKey:!1},{id:"google",name:"Google Text-to-Speech",requiresApiKey:!0,apiKeySet:!!X},{id:"elevenlabs",name:"ElevenLabs",requiresApiKey:!0,apiKeySet:!!G}].map(Se=>s.jsxs("button",{onClick:()=>qt(Se.id),className:`p-4 text-left rounded-lg border-2 transition-colors ${W===Se.id?"border-church-primary/70 bg-church-primary/10":"border-jkd-border hover:border-jkd-heading/40"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-jkd-heading",children:Se.name}),Se.requiresApiKey&&s.jsx("div",{className:`w-3 h-3 rounded-full ${Se.apiKeySet?"bg-green-500":"bg-red-500"}`})]}),s.jsxs("p",{className:"text-sm text-jkd-text",children:[Se.id==="browser"&&"Usa as vozes nativas do navegador",Se.id==="system"&&"Usa as vozes instaladas no sistema",Se.id==="google"&&"API do Google Cloud Text-to-Speech",Se.id==="elevenlabs"&&"Vozes avanadas da ElevenLabs"]})]},Se.id))})]}),W==="google"&&s.jsxs("div",{className:"mb-6 p-4 bg-blue-50/50 border border-blue-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(gS,{className:"w-4 h-4 text-blue-600"}),s.jsx("h3",{className:"font-medium text-blue-900",children:"Google Cloud API Key"})]}),s.jsx("input",{type:"password",value:X,onChange:Se=>ge("google",Se.target.value),placeholder:"Cole sua chave da API do Google Cloud...",className:"w-full px-3 py-2 border border-blue-300 rounded-lg bg-jkd-bg text-jkd-text"}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:"Limite Mensal de Caracteres (Google)"}),s.jsx("input",{type:"number",min:0,value:ne,onChange:Se=>ie(Math.max(0,Number(Se.target.value)||0)),className:"w-full px-3 py-2 border border-blue-300 rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{className:"flex flex-col justify-end",children:[s.jsx("span",{className:"text-sm text-jkd-text",children:"Uso de Caracteres Neste Ms (Google)"}),s.jsxs("span",{className:`text-sm font-medium ${Pe>=ne?"text-red-600":"text-jkd-heading"}`,children:[Pe.toLocaleString("pt-BR")," / ",ne.toLocaleString("pt-BR")]})]})]}),s.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"console.cloud.google.com  APIs & Services  Text-to-Speech API"})]}),W==="elevenlabs"&&s.jsxs("div",{className:"mb-6 p-4 bg-green-50/50 border border-green-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(gS,{className:"w-4 h-4 text-green-600"}),s.jsx("h3",{className:"font-medium text-green-900",children:"ElevenLabs API Key"})]}),s.jsx("input",{type:"password",value:G,onChange:Se=>ge("elevenlabs",Se.target.value),placeholder:"Cole sua chave da API do ElevenLabs...",className:"w-full px-3 py-2 border border-green-300 rounded-lg bg-jkd-bg text-jkd-text"}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:"Limite Mensal de Caracteres (ElevenLabs)"}),s.jsx("input",{type:"number",min:0,value:se,onChange:Se=>je(Math.max(0,Number(Se.target.value)||0)),className:"w-full px-3 py-2 border border-green-300 rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{className:"flex flex-col justify-end",children:[s.jsx("span",{className:"text-sm text-jkd-text",children:"Uso de Caracteres Neste Ms (ElevenLabs)"}),s.jsxs("span",{className:`text-sm font-medium ${ae>=se?"text-red-600":"text-jkd-heading"}`,children:[ae.toLocaleString("pt-BR")," / ",se.toLocaleString("pt-BR")]})]})]}),s.jsx("p",{className:"text-xs text-green-700 mt-2",children:"elevenlabs.io  Profile  API Key"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:`p-3 rounded-lg border ${W==="browser"||W==="system"||W==="google"&&X||W==="elevenlabs"&&G?"border-green-200 bg-green-50":"border-yellow-200 bg-yellow-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[W==="browser"||W==="system"||W==="google"&&X||W==="elevenlabs"&&G?s.jsx(vy,{className:"w-4 h-4 text-green-600"}):s.jsx(rj,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Status da Configurao"})]}),s.jsx("p",{className:"text-xs mt-1",children:W==="browser"||W==="system"||W==="google"&&X||W==="elevenlabs"&&G?"Configurado e pronto para uso":"API Key necessria para usar este provedor"})]}),s.jsxs("div",{className:"p-3 rounded-lg border border-jkd-border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_9,{className:"w-4 h-4 text-church-primary"}),s.jsx("span",{className:"text-sm font-medium",children:"Qualidade"})]}),s.jsxs("p",{className:"text-xs mt-1 text-jkd-text",children:[W==="browser"&&"Boa qualidade, offline",W==="system"&&"Boa qualidade, offline",W==="google"&&"Excelente qualidade, online",W==="elevenlabs"&&"Qualidade premium, online"]})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsxs("button",{type:"button",onClick:pe,className:"inline-flex items-center gap-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90",children:[s.jsx(as,{size:16}),s.jsx("span",{children:"Salvar Configuraes"})]})})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 space-y-6 transition-colors hover:border-church-primary focus-within:border-church-primary",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(jG,{className:"w-5 h-5 text-red-600"}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Fonte Live  Configuraes"})]}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Gerencie chave da API, canal e comportamento do indicador ao vivo (Fonte Live). O status usa um cone SVG animado na cor primria do App."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:"Habilitar Indicador"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"button",onClick:()=>Y(!0),className:`px-3 py-2 rounded-lg border ${ve?"bg-green-100 border-green-300":"bg-jkd-bg border-jkd-border"}`,children:"Ligado"}),s.jsx("button",{type:"button",onClick:()=>Y(!1),className:`px-3 py-2 rounded-lg border ${ve?"bg-jkd-bg border-jkd-border":"bg-red-100 border-red-300"}`,children:"Desligado"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:"API Key (YouTube Data API v3)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{value:fe,onChange:Se=>ee(Se.target.value),placeholder:"AIza...",className:"flex-1 px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"}),s.jsx(gS,{className:"w-5 h-5 text-church-primary"})]}),s.jsx("p",{className:"text-xs text-jkd-text mt-1",children:"Console Google  APIs & Services  Credentials"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:"Channel ID"}),s.jsx("input",{value:ye,onChange:Se=>Oe(Se.target.value),placeholder:"UCxxxxxxxxxxxx",className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"}),ye&&s.jsx("a",{href:`https://www.youtube.com/channel/${ye}`,target:"_blank",rel:"noreferrer",className:"text-xs text-church-primary mt-1 inline-block",children:"Abrir canal"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:"Cache (segundos)"}),s.jsx("input",{type:"number",min:10,value:We,onChange:Se=>it(Number(Se.target.value)),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"}),s.jsx("p",{className:"text-xs text-jkd-text mt-1",children:"Poupa crditos da API com armazenamento local."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:"Vdeo de Fundo (autoplay e mudo)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"button",onClick:()=>At(!0),className:`px-3 py-2 rounded-lg border ${ut?"bg-green-100 border-green-300":"bg-jkd-bg border-jkd-border"}`,children:"Ligado"}),s.jsx("button",{type:"button",onClick:()=>At(!1),className:`px-3 py-2 rounded-lg border ${ut?"bg-jkd-bg border-jkd-border":"bg-red-100 border-red-300"}`,children:"Desligado"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:"Transparncia do Fundo"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:0,max:1,step:.01,value:wt,onChange:Se=>st(Number(Se.target.value)),className:"w-full"}),s.jsxs("span",{className:"text-xs text-jkd-text",children:["Atual: ",Number(wt).toFixed(2)]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:"Ocultar Fundo ao Abrir Pop-up"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"button",onClick:()=>Ve(!0),className:`px-3 py-2 rounded-lg border ${Ce?"bg-green-100 border-green-300":"bg-jkd-bg border-jkd-border"}`,children:"Sim"}),s.jsx("button",{type:"button",onClick:()=>Ve(!1),className:`px-3 py-2 rounded-lg border ${Ce?"bg-jkd-bg border-jkd-border":"bg-red-100 border-red-300"}`,children:"No"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:"Forar Video ID (override)"}),s.jsx("input",{value:Qe,onChange:Se=>rt(Se.target.value),placeholder:"Ex.: dQw4w9WgXcQ",className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"}),s.jsx("p",{className:"text-xs text-jkd-text mt-1",children:"Opcional: se preencher (11 caracteres), o sistema tratar como Ao Vivo usando este ID, ignorando a deteco automtica."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[s.jsxs("div",{className:"p-4 rounded-lg border border-jkd-border bg-jkd-bg",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:"Uso mensal (chamadas)"}),s.jsx("p",{className:"text-2xl font-semibold text-jkd-heading",children:ot}),s.jsxs("p",{className:"text-xs text-jkd-text mt-1 flex items-center gap-2",children:[s.jsx(To,{size:14})," Controlado localmente em `localStorage`."]})]}),s.jsxs("div",{className:"p-4 rounded-lg border border-jkd-border bg-jkd-bg",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:"Limite mensal"}),s.jsx("input",{type:"number",value:ht,onChange:Se=>Dt(Number(Se.target.value)),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"}),s.jsx("p",{className:"text-xs text-jkd-text mt-1",children:"Apenas informativo/controle local."})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{type:"button",onClick:Qt,className:"inline-flex items-center gap-2 bg-jkd-bg text-jkd-heading px-4 py-2 rounded-lg border border-jkd-border hover:bg-jkd-bg-sec",children:"Reiniciar ms atual"})})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[s.jsxs("button",{type:"button",onClick:Rt,disabled:w,className:"inline-flex items-center gap-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90 disabled:opacity-70",children:[s.jsx(as,{size:16}),s.jsx("span",{children:w?"Salvando...":"Salvar Configuraes de YouTube"})]}),s.jsxs("button",{type:"button",onClick:Xt,className:"inline-flex items-center gap-2 bg-jkd-bg text-jkd-heading px-4 py-2 rounded-lg border border-jkd-border hover:bg-jkd-bg-sec",children:[s.jsx(as,{size:16}),s.jsx("span",{children:"Salvar Limite Mensal"})]})]})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 space-y-6 transition-colors hover:border-church-primary focus-within:border-church-primary",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Slider da Home (WordPress)"}),s.jsx("p",{className:"text-sm text-jkd-text mt-1",children:"Configure a pgina do WordPress que renderiza apenas o Revolution Slider, para ser embutida via iframe na Home do Site."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"slider-url",className:"block text-sm font-medium text-jkd-heading mb-2",children:"URL da Pgina do Slider (WP)"}),s.jsx("input",{id:"slider-url",type:"url",placeholder:"https://seusite.com/slider-home",value:h,onChange:Se=>f(Se.target.value),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text placeholder-jkd-text/60 focus:outline-none focus:ring-2 focus:ring-church-primary"}),s.jsx("p",{className:"text-xs text-jkd-text mt-2",children:"A pgina WordPress deve permitir embed (CSP frame-ancestors) e conter somente o slider para melhor performance."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"slider-height",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Altura do iframe (px)"}),s.jsx("input",{id:"slider-height",type:"number",min:300,max:1200,step:10,value:p,onChange:Se=>g(Number(Se.target.value)||500),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text placeholder-jkd-text/60 focus:outline-none focus:ring-2 focus:ring-church-primary"}),s.jsx("p",{className:"text-xs text-jkd-text mt-2",children:"Altura opcional. Por padro, usamos alturas responsivas por breakpoint: >1024  900px; 1023778  768px; 777480  960px; <480  720px."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"slider-auto-refresh",className:"block text-sm font-medium text-jkd-heading mb-2",children:"Auto-atualizar (min)"}),s.jsx("input",{id:"slider-auto-refresh",type:"number",min:0,max:120,step:1,value:x,onChange:Se=>j(Number(Se.target.value)||0),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text placeholder-jkd-text/60 focus:outline-none focus:ring-2 focus:ring-church-primary"}),s.jsx("p",{className:"text-xs text-jkd-text mt-2",children:"Quando maior que 0, anexamos um parmetro ao iframe que muda a cada N minutos, evitando cache e refletindo alteraes do WordPress automaticamente."})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"button",onClick:he,disabled:w,className:"inline-flex items-center gap-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90 disabled:opacity-70",children:[s.jsx(as,{size:16}),s.jsx("span",{children:w?"Salvando...":"Salvar Configuraes"})]})})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 space-y-4 transition-colors hover:border-church-primary focus-within:border-church-primary",children:[s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Rolagem por Botes do Slider (WP)"}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Defina ncoras e a origem do iframe para permitir que botes do Slider rolem a pgina at sees da Home."}),s.jsx("div",{className:"flex gap-3",children:s.jsx("button",{type:"button",onClick:()=>t("/site/gerenciamento/anchors"),className:"inline-flex items-center gap-2 bg-jkd-bg text-jkd-heading px-4 py-2 rounded-lg border border-jkd-border hover:bg-jkd-bg-sec",children:s.jsx("span",{children:"Abrir Configurao de ncoras"})})})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 transition-colors hover:border-church-primary focus-within:border-church-primary",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(I9,{className:"w-5 h-5 text-church-primary"}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Fonte Add  Formulrios"})]}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Crie e gerencie formulrios dinmicos para voluntrios, membros, ministrios, cursos e lderes."}),s.jsx("div",{className:"mt-4 flex gap-3",children:s.jsx("button",{type:"button",onClick:()=>t("/site/fonte-add"),className:"inline-flex items-center gap-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90",children:s.jsx("span",{children:"Abrir Fonte Add"})})})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 transition-colors hover:border-church-primary focus-within:border-church-primary",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(nc,{className:"w-5 h-5 text-church-primary"}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Intercesso  Configuraes"})]}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Configuraes do mural de orao centralizadas no Gerenciamento."}),s.jsx("div",{className:"mt-4",children:s.jsx(vee,{embed:!0})})]})]})})},PF=t=>t.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,""),MF={id:"",name:"",slug:"",description:"",leaderIds:[],colorHex:"#9ca3af",order:99,active:!0,gradientHeightPx:160,gradientIntensityPercent:65};function I$e(){const t=mn(),{user:e}=xr(),{ministryDepartments:r,addMinistryDepartment:n,deleteMinistryDepartment:a}=cr(),{showToast:i}=Da(),[o,c]=v.useState(MF),[u,h]=v.useState(null),[f,p]=v.useState(null),[g,x]=v.useState(!1),[j,w]=v.useState("");v.useEffect(()=>{(!e||e.role!=="admin")&&t("/site")},[e,t]);const b=v.useMemo(()=>{const T=j.trim().toLowerCase();return T?r.filter(_=>[_.name,_.slug,_.description].some(D=>D==null?void 0:D.toLowerCase().includes(T))):r},[j,r]),N=()=>{c(MF),h(null),p(null)},E=T=>{c({...T}),h(null),p(null)},A=T=>{const{name:_,value:D,type:P,checked:R}=T.target,U=new Set(["order","gradientHeightPx","gradientIntensityPercent"]);c($=>({...$,[_]:P==="checkbox"?R:U.has(_)?Number(D):D,..._==="name"&&!$.id?{slug:PF(D)}:{}}))},O=async T=>{const _={},D=Date.now();if(u){const P=`images/ministerios/${T}/logo-${D}-${u.name}`;_.logoUrl=await iu(u,P)}if(f){const P=`images/ministerios/${T}/highlight-${D}-${f.name}`;_.highlightUrl=await iu(f,P)}return _},M=async()=>{try{x(!0);const T=o.slug||PF(o.name),_=await O(T);if(!o.name.trim())throw new Error("Nome  obrigatrio");const D={...o,slug:T,logoUrl:_.logoUrl??o.logoUrl??"",highlightUrl:_.highlightUrl??o.highlightUrl??"",gradientHeightPx:o.gradientHeightPx??160,gradientIntensityPercent:o.gradientIntensityPercent??65};if(o.id){const{id:P,...R}=D;await zx(P,R),i("success","Alteraes salvas com sucesso.")}else{const{id:P,...R}=D;await n(R),i("success","Ministrio criado com sucesso.")}N()}catch(T){console.error(T);const _=T.message||"Erro ao salvar";i("error",_)}finally{x(!1)}},L=async T=>{if(confirm("Excluir este ministrio?"))try{x(!0),await a(T),o.id===T&&N(),i("success","Ministrio excludo com sucesso.")}catch(_){console.error(_),i("error","Erro ao excluir")}finally{x(!1)}},I=async T=>{try{x(!0),await zx(T.id,{active:!T.active}),i("success",T.active?"Ministrio ocultado da pgina.":"Ministrio visvel na pgina.")}catch(_){console.error(_),i("error","Falha ao atualizar visibilidade")}finally{x(!1)}};return s.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-6",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Configurao de Ministrios"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{placeholder:"Filtrar...",value:j,onChange:T=>w(T.target.value),className:"rounded border px-3 py-2"}),s.jsx("button",{onClick:()=>{N(),i("info","Novo ministrio: preencha e clique em Salvar.")},className:"rounded bg-indigo-600 px-3 py-2 text-white",children:"Novo"}),s.jsx("button",{onClick:M,disabled:g||!o.name.trim(),className:"rounded bg-green-600 px-3 py-2 text-white disabled:opacity-50",title:"Salvar",children:"Salvar"}),s.jsx("button",{onClick:()=>{N(),i("info","Formulrio limpo.")},className:"rounded bg-gray-200 px-3 py-2",children:"Limpar formulrio"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[s.jsx("section",{className:"md:col-span-1",children:s.jsx("div",{className:"rounded border",children:s.jsxs("ul",{children:[b.map(T=>s.jsxs("li",{className:"flex items-center justify-between border-b px-3 py-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[T.logoUrl&&s.jsx("img",{src:T.logoUrl,alt:T.name,className:"h-8 w-8 rounded bg-white border border-jkd-border object-contain"}),s.jsxs("button",{className:"text-left hover:underline",onClick:()=>E(T),title:"Editar",children:[s.jsx("span",{className:"font-medium",children:T.name}),s.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["/",T.slug]}),T.active===!1&&s.jsx("span",{className:"ml-2 inline-block text-xs px-2 py-0.5 rounded bg-gray-200 text-gray-700",children:"Oculto"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{className:"text-sm text-indigo-600 hover:underline",onClick:()=>E(T),children:"Editar"}),s.jsx("button",{className:"text-sm text-jkd-heading hover:underline",onClick:()=>I(T),title:T.active===!1?"Mostrar na pgina":"Ocultar da pgina",children:T.active===!1?"Mostrar":"Ocultar"}),s.jsx("button",{className:"text-red-600 hover:underline",onClick:()=>L(T.id),children:"Excluir"})]})]},T.id)),!b.length&&s.jsx("li",{className:"px-3 py-3 text-gray-500",children:"Nenhum ministrio encontrado"})]})})}),s.jsx("section",{className:"md:col-span-2",children:s.jsx("div",{className:"rounded border p-4",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[s.jsxs("label",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm",children:"Nome"}),s.jsx("input",{name:"name",value:o.name,onChange:A,className:"rounded border px-3 py-2"})]}),s.jsxs("label",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm",children:"Altura do degrad (px)"}),s.jsx("input",{type:"range",name:"gradientHeightPx",min:60,max:360,step:10,value:o.gradientHeightPx??160,onChange:A,className:"w-full"}),s.jsxs("span",{className:"text-xs text-jkd-text mt-1",children:[o.gradientHeightPx??160,"px"]})]}),s.jsxs("label",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm",children:"Intensidade do degrad (%)"}),s.jsx("input",{type:"range",name:"gradientIntensityPercent",min:0,max:100,step:5,value:o.gradientIntensityPercent??65,onChange:A,className:"w-full"}),s.jsxs("span",{className:"text-xs text-jkd-text mt-1",children:[o.gradientIntensityPercent??65,"%"]})]}),s.jsxs("label",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm",children:"Slug"}),s.jsx("input",{name:"slug",value:o.slug,onChange:A,className:"rounded border px-3 py-2"})]}),s.jsxs("label",{className:"col-span-1 md:col-span-2 flex flex-col",children:[s.jsx("span",{className:"text-sm",children:"Descrio"}),s.jsx("textarea",{name:"description",value:o.description,onChange:A,rows:4,className:"rounded border px-3 py-2"})]}),s.jsxs("label",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm",children:"Cor (hex)"}),s.jsx("input",{type:"color",name:"colorHex",value:o.colorHex||"#9ca3af",onChange:A,className:"h-10 w-16 rounded border"})]}),s.jsxs("label",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm",children:"Ordem"}),s.jsx("input",{type:"number",name:"order",value:o.order,onChange:A,className:"rounded border px-3 py-2"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",name:"active",checked:o.active,onChange:A}),s.jsx("span",{className:"text-sm",children:'Visvel na pgina "Ministrios"'})]}),s.jsxs("label",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm",children:"Logo (PNG/JPG)"}),s.jsx("input",{type:"file",accept:"image/*",onChange:T=>{var _;return h(((_=T.target.files)==null?void 0:_[0])||null)},className:"rounded border px-3 py-2"}),o.logoUrl&&s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx("img",{src:o.logoUrl,alt:o.name,className:"h-10 w-10 rounded bg-white border border-jkd-border object-contain"}),s.jsx("a",{href:o.logoUrl,target:"_blank",rel:"noreferrer",className:"text-xs text-indigo-600 underline",children:"Abrir logo atual"})]})]}),s.jsxs("label",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm",children:"Highlight (PNG/JPG)"}),s.jsx("input",{type:"file",accept:"image/*",onChange:T=>{var _;return p(((_=T.target.files)==null?void 0:_[0])||null)},className:"rounded border px-3 py-2"}),o.highlightUrl&&s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx("img",{src:o.highlightUrl,alt:o.name,className:"h-12 w-12 rounded bg-white border border-jkd-border object-cover"}),s.jsx("a",{href:o.highlightUrl,target:"_blank",rel:"noreferrer",className:"text-xs text-indigo-600 underline",children:"Abrir destaque atual"})]})]})]})})})]})]})}const xm=(t,e,r)=>Math.max(e,Math.min(r,t)),O$e=()=>{const t=mn(),{user:e}=xr(),{settings:r,updateSettings:n}=cr(),{showToast:a}=Da(),i=v.useMemo(()=>{var N,E,A,O,M,L,I,T,_;return{bgImageSource:((N=r.siteHome)==null?void 0:N.bgImageSource)||"url",bgImageUrl:((E=r.siteHome)==null?void 0:E.bgImageUrl)||"",bgImageUploadUrl:((A=r.siteHome)==null?void 0:A.bgImageUploadUrl)||"",bgRepeat:!!((O=r.siteHome)!=null&&O.bgRepeat),bgSize:((M=r.siteHome)==null?void 0:M.bgSize)||"cover",bgPosition:((L=r.siteHome)==null?void 0:L.bgPosition)||"center",bgOpacity:typeof((I=r.siteHome)==null?void 0:I.bgOpacity)=="number"?r.siteHome.bgOpacity:.35,leftColSpan:((T=r.siteHome)==null?void 0:T.leftColSpan)||4,rightColSpan:((_=r.siteHome)==null?void 0:_.rightColSpan)||8}},[r.siteHome]),[o,c]=v.useState(i),[u,h]=v.useState(null),[f,p]=v.useState(!1);v.useEffect(()=>{(!e||e.role!=="admin")&&t("/site")},[e,t]),v.useEffect(()=>{const N=xm(Number(o.leftColSpan||6),1,11),E=xm(12-N,1,11);c(A=>({...A,leftColSpan:N,rightColSpan:E}))},[o.leftColSpan]);const g=N=>{const{name:E,value:A,type:O,checked:M}=N.target;c(L=>({...L,[E]:O==="checkbox"?M:E==="bgOpacity"||E==="leftColSpan"||E==="rightColSpan"?Number(A):A}))},x=async()=>{if(o.bgImageSource!=="upload")return;if(!u&&o.bgImageUploadUrl)return o.bgImageUploadUrl;if(!u)return;const E=`images/site/home-bg/bg-${Date.now()}-${u.name}`;return await iu(u,E)},j=async()=>{try{p(!0);const N=await x(),E={...o,bgOpacity:xm(o.bgOpacity??.35,0,1),leftColSpan:xm(o.leftColSpan??4,1,11),rightColSpan:xm(o.rightColSpan??8,1,11),...typeof N=="string"?{bgImageUploadUrl:N}:{}};E.bgImageSource==="upload"&&E.bgImageUploadUrl&&(E.bgImageUrl=E.bgImageUploadUrl),await n({siteHome:E}),a("success","Configuraes da Home salvas com sucesso")}catch(N){console.error("Erro ao salvar configuraes da Home:",N),a("error",(N==null?void 0:N.message)||"Falha ao salvar configuraes")}finally{p(!1)}},w=N=>({1:"lg:col-span-1",2:"lg:col-span-2",3:"lg:col-span-3",4:"lg:col-span-4",5:"lg:col-span-5",6:"lg:col-span-6",7:"lg:col-span-7",8:"lg:col-span-8",9:"lg:col-span-9",10:"lg:col-span-10",11:"lg:col-span-11",12:"lg:col-span-12"})[N]||"lg:col-span-6",b=o.bgImageSource==="upload"?o.bgImageUploadUrl||"":o.bgImageUrl||"";return s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Configuraes da Home do Site"}),s.jsx("p",{className:"text-jkd-text mt-2",children:"Defina imagem de fundo, opacidade e largura das colunas."}),s.jsx("div",{className:"mt-6 rounded-lg border border-jkd-border overflow-hidden",children:s.jsxs("div",{className:"relative h-40",children:[b&&s.jsx("div",{className:"absolute inset-0 bg-center",style:{backgroundImage:`url(${b})`,backgroundSize:o.bgSize||"cover",backgroundPosition:o.bgPosition||"center",backgroundRepeat:o.bgRepeat?"repeat":"no-repeat",opacity:xm(o.bgOpacity??.35,0,1)}}),s.jsxs("div",{className:"absolute inset-0 grid grid-cols-12",children:[s.jsx("div",{className:`hidden lg:block ${w(o.leftColSpan||4)} bg-church-primary/10`}),s.jsx("div",{className:`hidden lg:block ${w(o.rightColSpan||8)} bg-jkd-bg/10`})]})]})}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:"Fonte da imagem de fundo"}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"bgImageSource",value:"url",checked:o.bgImageSource==="url",onChange:g}),s.jsx("span",{className:"text-jkd-text",children:"URL direta"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"bgImageSource",value:"upload",checked:o.bgImageSource==="upload",onChange:g}),s.jsx("span",{className:"text-jkd-text",children:"Upload"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:"Opacidade do fundo"}),s.jsx("input",{type:"range",name:"bgOpacity",min:0,max:1,step:.05,value:o.bgOpacity??.35,onChange:g,className:"w-full"}),s.jsxs("div",{className:"text-xs text-jkd-text mt-1",children:[Math.round((o.bgOpacity??.35)*100),"%"]})]})]}),o.bgImageSource==="url"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"URL da imagem de fundo"}),s.jsx("input",{name:"bgImageUrl",value:o.bgImageUrl||"",onChange:g,placeholder:"https://exemplo.com/imagem.jpg",className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),o.bgImageSource==="upload"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Arquivo de imagem"}),s.jsx("input",{type:"file",accept:"image/*",onChange:N=>{var E;return h(((E=N.target.files)==null?void 0:E[0])||null)},className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"}),o.bgImageUploadUrl&&s.jsxs("div",{className:"text-xs text-jkd-text mt-1 truncate",children:["Atual: ",o.bgImageUploadUrl]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"URL final (preenchida aps upload)"}),s.jsx("input",{value:o.bgImageUploadUrl||"",onChange:N=>c(E=>({...E,bgImageUploadUrl:N.target.value})),placeholder:"Preenchida automaticamente aps upload",className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Repetio"}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-jkd-text",children:[s.jsx("input",{type:"checkbox",name:"bgRepeat",checked:!!o.bgRepeat,onChange:g}),s.jsx("span",{children:"Repetir imagem (tiling)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Tamanho"}),s.jsxs("select",{name:"bgSize",value:o.bgSize||"cover",onChange:g,className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text",children:[s.jsx("option",{value:"cover",children:"cover"}),s.jsx("option",{value:"contain",children:"contain"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Posio"}),s.jsxs("select",{name:"bgPosition",value:o.bgPosition||"center",onChange:g,className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text",children:[s.jsx("option",{value:"center",children:"center"}),s.jsx("option",{value:"top",children:"top"}),s.jsx("option",{value:"bottom",children:"bottom"}),s.jsx("option",{value:"left",children:"left"}),s.jsx("option",{value:"right",children:"right"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Largura da coluna esquerda"}),s.jsx("input",{type:"range",name:"leftColSpan",min:1,max:11,step:1,value:o.leftColSpan||4,onChange:g,className:"w-full"}),s.jsxs("div",{className:"text-xs text-jkd-text mt-1",children:["Esquerda: ",o.leftColSpan||4," | Direita: ",o.rightColSpan||12-(o.leftColSpan||4)]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Direita (auto)"}),s.jsx("input",{type:"number",name:"rightColSpan",value:o.rightColSpan||8,min:1,max:11,onChange:g,className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"}),s.jsx("div",{className:"text-xs text-jkd-text mt-1",children:"A soma deve ser 12."})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:()=>t("/site/gerenciamento"),className:"px-4 py-2 border border-jkd-border rounded-lg text-jkd-heading bg-jkd-bg",children:"Voltar"}),s.jsx("button",{type:"button",disabled:f,onClick:j,className:"px-4 py-2 bg-church-primary text-white rounded-lg disabled:opacity-60",children:"Salvar Configuraes"})]})]})]})})},P$e=()=>{const t=mn(),{user:e}=xr(),{settings:r,updateSettings:n}=cr(),{showToast:a}=Da(),i=r.leaderChatAppearance||{},[o,c]=v.useState(i.messageSentBgColorHex||"#DCF8C6"),[u,h]=v.useState(i.messageReceivedBgColorHex||"#FFFFFF"),[f,p]=v.useState(i.messageSentTextColorHex||"#000000"),[g,x]=v.useState(i.messageReceivedTextColorHex||"#000000"),[j,w]=v.useState(i.overlayImageSource||"url"),[b,N]=v.useState(i.overlayImageUrl||""),[E,A]=v.useState(i.overlayImageUploadUrl||""),[O,M]=v.useState(null),[L,I]=v.useState(i.overlayRepeat??!1),[T,_]=v.useState(i.overlaySize||"cover"),[D,P]=v.useState(i.overlayPosition||"center"),[R,U]=v.useState(typeof i.overlayOpacity=="number"?i.overlayOpacity:.2);if(v.useEffect(()=>{const W=r.leaderChatAppearance||{};c(W.messageSentBgColorHex||"#DCF8C6"),h(W.messageReceivedBgColorHex||"#FFFFFF"),p(W.messageSentTextColorHex||"#000000"),x(W.messageReceivedTextColorHex||"#000000"),w(W.overlayImageSource||"url"),N(W.overlayImageUrl||""),A(W.overlayImageUploadUrl||""),I(W.overlayRepeat??!1),_(W.overlaySize||"cover"),P(W.overlayPosition||"center"),U(typeof W.overlayOpacity=="number"?W.overlayOpacity:.2)},[r.leaderChatAppearance]),!e||e.role!=="admin")return s.jsx(pl,{to:"/login",replace:!0});const $=async()=>{if(O)try{const W=`leader-chat/overlay/${Date.now()}_${O.name}`,te=kn(da,W),X=await io(te,O),B=await Ci(X.ref);A(B),w("upload"),a("success","Imagem enviada com sucesso!")}catch(W){console.error("Falha no upload:",W),a("error","Falha ao enviar imagem.")}},K=async()=>{try{await n({leaderChatAppearance:{messageSentBgColorHex:o,messageReceivedBgColorHex:u,messageSentTextColorHex:f,messageReceivedTextColorHex:g,overlayImageSource:j,overlayImageUrl:j==="url"?b.trim():"",overlayImageUploadUrl:j==="upload"?E:"",overlayRepeat:L,overlaySize:T,overlayPosition:D,overlayOpacity:Math.max(0,Math.min(1,Number(R)||0))}}),a("success","Configuraes do Lder-Chat salvas com sucesso!"),t("/site/gerenciamento")}catch(W){console.error("Erro ao salvar aparncia do chat:",W),a("error","Erro ao salvar configuraes.")}},F=j==="upload"?E:b;return s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Lder-Chat  Aparncia"}),s.jsx("p",{className:"text-jkd-text mt-2",children:"Personalize cores das mensagens e a imagem de fundo da rea de conversa."}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Lw,{className:"w-5 h-5 text-church-primary"}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Cores das Mensagens"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading",children:"Fundo  Enviadas"}),s.jsx("input",{type:"color",value:o,onChange:W=>c(W.target.value),className:"w-20 h-10 p-0 border border-jkd-border rounded"}),s.jsx("label",{className:"block text-sm font-medium text-jkd-heading",children:"Fonte  Enviadas"}),s.jsx("input",{type:"color",value:f,onChange:W=>p(W.target.value),className:"w-20 h-10 p-0 border border-jkd-border rounded"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading",children:"Fundo  Recebidas"}),s.jsx("input",{type:"color",value:u,onChange:W=>h(W.target.value),className:"w-20 h-10 p-0 border border-jkd-border rounded"}),s.jsx("label",{className:"block text-sm font-medium text-jkd-heading",children:"Fonte  Recebidas"}),s.jsx("input",{type:"color",value:g,onChange:W=>x(W.target.value),className:"w-20 h-10 p-0 border border-jkd-border rounded"})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 rounded border border-jkd-border",style:{background:u,color:g},children:[s.jsx("div",{className:"text-xs text-jkd-text",children:"Exemplo  Recebida"}),s.jsx("div",{className:"mt-2",children:"Mensagem recebida com estas cores."})]}),s.jsxs("div",{className:"p-4 rounded border border-jkd-border",style:{background:o,color:f},children:[s.jsx("div",{className:"text-xs text-jkd-text",children:"Exemplo  Enviada"}),s.jsx("div",{className:"mt-2",children:"Mensagem enviada com estas cores."})]})]})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Is,{className:"w-5 h-5 text-church-primary"}),s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Imagem de Sobreposio"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Fonte da Imagem"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",checked:j==="url",onChange:()=>w("url")}),s.jsx("span",{children:"URL"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",checked:j==="upload",onChange:()=>w("upload")}),s.jsx("span",{children:"Upload"})]})]})]}),j==="url"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"URL da Imagem"}),s.jsx("input",{type:"text",value:b,onChange:W=>N(W.target.value),placeholder:"https://...",className:"w-full px-3 py-2 border border-jkd-border rounded bg-jkd-bg text-jkd-text"})]}),j==="upload"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Upload de Imagem"}),s.jsx("input",{type:"file",accept:"image/*",onChange:W=>{var te;return M(((te=W.target.files)==null?void 0:te[0])||null)},className:"w-full"}),s.jsxs("button",{type:"button",onClick:$,className:"mt-2 inline-flex items-center gap-2 px-3 py-2 rounded bg-church-primary text-white hover:bg-church-primary/90",children:[s.jsx(Wm,{size:16})," Enviar Imagem"]}),E&&s.jsxs("div",{className:"mt-2 text-xs text-jkd-text",children:["Imagem enviada. URL: ",E.slice(0,60),"..."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Tamanho"}),s.jsxs("select",{value:T,onChange:W=>_(W.target.value),className:"w-full px-3 py-2 border border-jkd-border rounded bg-jkd-bg text-jkd-text",children:[s.jsx("option",{value:"auto",children:"Auto"}),s.jsx("option",{value:"cover",children:"Cobrir"}),s.jsx("option",{value:"contain",children:"Conter"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Posio"}),s.jsxs("select",{value:D,onChange:W=>P(W.target.value),className:"w-full px-3 py-2 border border-jkd-border rounded bg-jkd-bg text-jkd-text",children:[s.jsx("option",{value:"top",children:"Topo"}),s.jsx("option",{value:"center",children:"Centro"}),s.jsx("option",{value:"bottom",children:"Base"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"repeat",type:"checkbox",checked:L,onChange:W=>I(W.target.checked)}),s.jsx("label",{htmlFor:"repeat",className:"text-sm text-jkd-heading",children:"Repetir imagem"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Opacidade"}),s.jsx("input",{type:"range",min:0,max:1,step:.01,value:R,onChange:W=>U(Number(W.target.value)),className:"w-full"}),s.jsx("div",{className:"text-xs text-jkd-text",children:R.toFixed(2)})]})]})]}),s.jsxs("div",{className:"rounded border border-jkd-border p-4",children:[s.jsx("div",{className:"text-sm text-jkd-text mb-2",children:"Pr-visualizao"}),s.jsxs("div",{className:"relative h-64 rounded overflow-hidden border border-jkd-border bg-jkd-bg",children:[F&&s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${F})`,backgroundRepeat:L?"repeat":"no-repeat",backgroundSize:T,backgroundPosition:D,opacity:R}}),s.jsxs("div",{className:"relative z-10 p-3 space-y-3",children:[s.jsx("div",{className:"inline-block px-3 py-2 rounded",style:{background:u,color:g},children:"Mensagem recebida"}),s.jsx("div",{className:"inline-block px-3 py-2 rounded",style:{background:o,color:f},children:"Mensagem enviada"})]})]})]})]})]}),s.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[s.jsx("button",{type:"button",onClick:()=>t("/site/gerenciamento"),className:"px-4 py-2 rounded-lg bg-jkd-bg text-jkd-heading border border-jkd-border",children:"Voltar"}),s.jsxs("button",{type:"button",onClick:K,className:"px-4 py-2 rounded-lg bg-church-primary text-white inline-flex items-center gap-2",children:[s.jsx(as,{size:16})," Salvar Aparncia"]})]})]})})},DF={key:"",selector:"",offsetPx:56,title:"",enabled:!0},M$e=()=>{const t=mn(),{user:e}=xr(),{settings:r,updateSettings:n}=cr(),{showToast:a}=Da(),[i,o]=v.useState(!!(r.sliderScrollEnabled??!0)),[c,u]=v.useState(r.sliderMessageOrigin||""),[h,f]=v.useState(r.sliderScrollAnchors||[]),[p,g]=v.useState({...DF}),[x,j]=v.useState(!1),w=v.useMemo(()=>{try{return window.location.origin}catch{return"https://fontenews-877a3.web.app"}},[]);if(!e||e.role!=="admin")return t("/site"),null;const b=()=>{const O=(p.key||"").trim(),M=(p.selector||"").trim();if(!O||!M){a("error","Informe chave e seletor.");return}if(h.find(L=>L.key===O)){a("error","J existe uma ncora com esta chave.");return}f(L=>[...L,{...p,key:O,selector:M}]),g({...DF})},N=O=>{f(M=>M.filter(L=>L.key!==O))},E=(O,M)=>{f(L=>L.map((I,T)=>T===O?{...I,...M}:I))},A=async()=>{try{j(!0),await n({sliderScrollEnabled:i,sliderMessageOrigin:c.trim(),sliderScrollAnchors:h}),a("success","Configuraes de ncoras salvas com sucesso")}catch(O){a("error",(O==null?void 0:O.message)||"Falha ao salvar configuraes")}finally{j(!1)}};return s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Rolagem por Botes do Slider (WP)"}),s.jsx("p",{className:"text-jkd-text mt-2",children:"Defina ncoras deste App e a origem do iframe para permitir que botes do Slider (WordPress) rolem at sees especficas da Home do Site."}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:"Habilitar rolagem por postMessage"}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-jkd-text",children:[s.jsx("input",{type:"checkbox",checked:i,onChange:O=>o(O.target.checked)}),s.jsx("span",{children:"Ativar integrao de rolagem"})]}),s.jsx("p",{className:"text-xs text-jkd-text mt-2",children:"Quando habilitado, a Home escuta mensagens do iframe e rola suavemente at o seletor configurado."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-2",children:"Origem esperada do iframe (WordPress)"}),s.jsx("input",{type:"text",placeholder:"https://seuwordpress.com",value:c,onChange:O=>u(O.target.value),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text placeholder-jkd-text/60 focus:outline-none focus:ring-2 focus:ring-church-primary"}),s.jsx("p",{className:"text-xs text-jkd-text mt-2",children:"Recomendado por segurana. Use o domnio do seu site WordPress (sem barra final). Ex.: https://exemplo.com"})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"ncoras"}),s.jsxs("p",{className:"text-sm text-jkd-text mt-1",children:["Cada ncora associa uma ",s.jsx("em",{children:"chave"})," (usada no boto do WordPress) a um ",s.jsx("em",{children:"seletor CSS"})," existente nesta pgina."]}),s.jsxs("div",{className:"mt-4 space-y-3",children:[h.length===0&&s.jsx("div",{className:"text-sm text-jkd-text",children:"Nenhuma ncora definida."}),h.map((O,M)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Chave"}),s.jsx("input",{value:O.key,onChange:L=>E(M,{key:L.target.value}),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{className:"md:col-span-6",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Seletor CSS"}),s.jsx("input",{value:O.selector,onChange:L=>E(M,{selector:L.target.value}),placeholder:"#agenda, .secao-contatos",className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Offset (px)"}),s.jsx("input",{type:"number",value:O.offsetPx??0,onChange:L=>E(M,{offsetPx:Number(L.target.value)||0}),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Ativo"}),s.jsx("input",{type:"checkbox",checked:!!(O.enabled??!0),onChange:L=>E(M,{enabled:L.target.checked})})]}),s.jsx("div",{className:"md:col-span-1",children:s.jsx("button",{type:"button",onClick:()=>N(O.key),className:"px-3 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:"Remover"})})]},O.key))]}),s.jsx("div",{className:"mt-6 p-4 border border-jkd-border rounded-lg bg-jkd-bg",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Chave"}),s.jsx("input",{value:p.key,onChange:O=>g(M=>({...M,key:O.target.value})),placeholder:"agenda",className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{className:"md:col-span-6",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Seletor CSS"}),s.jsx("input",{value:p.selector,onChange:O=>g(M=>({...M,selector:O.target.value})),placeholder:"#agenda, .secao-contatos",className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Offset (px)"}),s.jsx("input",{type:"number",value:p.offsetPx??0,onChange:O=>g(M=>({...M,offsetPx:Number(O.target.value)||0})),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"button",onClick:b,className:"w-full px-3 py-2 bg-jkd-bg text-jkd-heading border border-jkd-border rounded-lg hover:bg-jkd-bg-sec",children:"Adicionar ncora"})})]})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"button",onClick:A,disabled:x,className:"inline-flex items-center gap-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90 disabled:opacity-70",children:s.jsx("span",{children:x?"Salvando...":"Salvar Configuraes"})})})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 space-y-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Como configurar no WordPress"}),s.jsx("p",{className:"text-sm text-jkd-text",children:"No plugin HTML do seu WordPress (na pgina do Slider), inclua um boto que envie a chave da ncora via postMessage para este App. Exemplo:"}),s.jsx("pre",{className:"text-xs bg-black/20 text-jkd-text p-3 rounded-md overflow-auto",children:`<!-- Boto no WordPress: substitua 'agenda' pela sua chave -->
<a href="#" onclick="window.parent.postMessage({ type: 'fonte-scroll', anchorKey: 'agenda' }, '${c||w}'); return false;">
  Ir para Agenda
</a>`}),s.jsx("p",{className:"text-xs text-jkd-text",children:`Dica: se no quiser restringir a origem agora, use '*' temporariamente e depois configure "Origem esperada" acima para maior segurana.`}),s.jsx("p",{className:"text-xs text-jkd-text",children:"Ao receber a mensagem, este App localizar o seletor da ncora correspondente e far rolagem suave considerando o offset."})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 space-y-3",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Dicas para criar ncoras"}),s.jsxs("ul",{className:"text-sm text-jkd-text list-disc ml-6",children:[s.jsxs("li",{children:["Use seletores estveis: IDs como ",s.jsx("code",{children:"#agenda"})," ou classes como ",s.jsx("code",{children:".secao-contatos"}),"."]}),s.jsx("li",{children:"Voc pode apontar para elementos j existentes na Home do Site. Se necessrio, adicione IDs/classes nos componentes."}),s.jsxs("li",{children:["Ajuste o ",s.jsx("em",{children:"offset"})," para compensar o cabealho fixo (padro ~56px)."]})]})]})]})})},D$e=({verses:t,bookName:e,chapter:r,versionAbbr:n,onClose:a})=>{const i=t.sort((f,p)=>f.verse-p.verse).map(f=>`${f.verse} ${f.text}`).join(`
`),o=`${e} ${r} (${n})`,c=`${o}

${i}`;async function u(){try{await navigator.clipboard.writeText(c),alert("Texto copiado para a rea de transferncia.")}catch(f){console.warn("Falha ao copiar:",f)}}async function h(){try{navigator.share?await navigator.share({title:o,text:c}):await u()}catch(f){console.warn("Falha ao compartilhar:",f)}}return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:a}),s.jsxs("div",{className:"relative bg-jkd-bg rounded-lg border border-jkd-border w-full max-w-lg mx-4 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading",children:"Compartilhar Versculos"}),s.jsx("button",{onClick:a,className:"px-3 py-2 bg-jkd-bg text-jkd-heading border border-jkd-border rounded-lg",children:"Fechar"})]}),s.jsx("div",{className:"text-sm text-jkd-text mb-2",children:o}),s.jsx("div",{className:"bg-jkd-bg-sec rounded border border-jkd-border p-3 max-h-64 overflow-auto",children:t.length>0?s.jsx("div",{className:"space-y-2",children:t.sort((f,p)=>f.verse-p.verse).map(f=>s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-jkd-heading mr-2",children:f.verse}),s.jsx("span",{className:"text-jkd-text",children:f.text})]},f.verse))}):s.jsx("div",{className:"text-jkd-text",children:"Nenhum versculo selecionado."})}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx("button",{onClick:u,className:"px-3 py-2 bg-jkd-bg text-jkd-heading border border-jkd-border rounded-lg",children:"Copiar"}),s.jsx("button",{onClick:h,className:"px-3 py-2 bg-church-primary text-white rounded-lg",children:"Compartilhar"})]})]})]})},Bl=[{id:1,nome:"Gnesis"},{id:2,nome:"xodo"},{id:3,nome:"Levtico"},{id:4,nome:"Nmeros"},{id:5,nome:"Deuteronmio"},{id:6,nome:"Josu"},{id:7,nome:"Juzes"},{id:8,nome:"Rute"},{id:9,nome:"1 Samuel"},{id:10,nome:"2 Samuel"},{id:11,nome:"1 Reis"},{id:12,nome:"2 Reis"},{id:13,nome:"1 Crnicas"},{id:14,nome:"2 Crnicas"},{id:15,nome:"Esdras"},{id:16,nome:"Neemias"},{id:17,nome:"Ester"},{id:18,nome:"J"},{id:19,nome:"Salmos"},{id:20,nome:"Provrbios"},{id:21,nome:"Eclesiastes"},{id:22,nome:"Cnticos"},{id:23,nome:"Isaas"},{id:24,nome:"Jeremias"},{id:25,nome:"Lamentaes"},{id:26,nome:"Ezequiel"},{id:27,nome:"Daniel"},{id:28,nome:"Osias"},{id:29,nome:"Joel"},{id:30,nome:"Ams"},{id:31,nome:"Obadias"},{id:32,nome:"Jonas"},{id:33,nome:"Miquias"},{id:34,nome:"Naum"},{id:35,nome:"Habacuque"},{id:36,nome:"Sofonias"},{id:37,nome:"Ageu"},{id:38,nome:"Zacarias"},{id:39,nome:"Malaquias"},{id:40,nome:"Mateus"},{id:41,nome:"Marcos"},{id:42,nome:"Lucas"},{id:43,nome:"Joo"},{id:44,nome:"Atos"},{id:45,nome:"Romanos"},{id:46,nome:"1 Corntios"},{id:47,nome:"2 Corntios"},{id:48,nome:"Glatas"},{id:49,nome:"Efsios"},{id:50,nome:"Filipenses"},{id:51,nome:"Colossenses"},{id:52,nome:"1 Tessalonicenses"},{id:53,nome:"2 Tessalonicenses"},{id:54,nome:"1 Timteo"},{id:55,nome:"2 Timteo"},{id:56,nome:"Tito"},{id:57,nome:"Filemom"},{id:58,nome:"Hebreus"},{id:59,nome:"Tiago"},{id:60,nome:"1 Pedro"},{id:61,nome:"2 Pedro"},{id:62,nome:"1 Joo"},{id:63,nome:"2 Joo"},{id:64,nome:"3 Joo"},{id:65,nome:"Judas"},{id:66,nome:"Apocalipse"}],bee={Cnticos:["Cntico dos Cnticos","Cantares"]};function y1(t){const e=t.toLowerCase(),r=Bl.find(n=>n.nome.toLowerCase()===e);if(r)return r.id;for(const n of Bl)if((bee[n.nome]||[]).some(i=>i.toLowerCase()===e))return n.id;return 43}function ym(t,e){if(!t||typeof t!="object")return null;const r=Object.keys(t),n=e.toLowerCase();for(const o of r)if(o.toLowerCase()===n)return o;const a=bee[e]||[];for(const o of a){const c=o.toLowerCase();for(const u of r)if(u.toLowerCase()===c)return u}const i=y1(e);for(const o of r)if(o===String(i))return o;return null}const R$e=()=>{var sn;const[t,e]=v.useState([]),[r,n]=v.useState(!0),[a,i]=v.useState(null),[o,c]=v.useState(""),[u,h]=v.useState([]),[f,p]=v.useState(""),[g,x]=v.useState(3),[j,w]=v.useState(43),[b,N]=v.useState("Joo"),[E,A]=v.useState([]),[O,M]=v.useState(!1),[L,I]=v.useState(null),[T,_]=v.useState({}),D=v.useRef(void 0),[P,R]=v.useState(""),[U,$]=v.useState(!1),[K,F]=v.useState([]),[W,te]=v.useState(!1),[X,B]=v.useState(""),[G,J]=v.useState(""),[ne,ie]=v.useState(!1),[se,je]=v.useState("browser"),[Pe,ue]=v.useState([]),[ae,oe]=v.useState(""),[ve,Y]=v.useState([]),[fe,ee]=v.useState(!1),[ye,Oe]=v.useState(null),[We,it]=v.useState(1),[ut,At]=v.useState(1),[wt,st]=v.useState(1),[Ce,Ve]=v.useState(!1),Qe=v.useRef(null),rt=v.useRef(null);v.useEffect(()=>{const me=localStorage.getItem("bibleVoiceSettings");if(me)try{const Ye=JSON.parse(me);je(Ye.provider??"browser"),oe(Ye.selectedVoice??""),it(1),At(1),st(1)}catch{}},[]),v.useEffect(()=>{localStorage.setItem("bibleVoiceSettings",JSON.stringify({provider:se,selectedVoice:ae}))},[se,ae,We,ut,wt]),v.useEffect(()=>{async function me(){if(se!=="google"&&se!=="elevenlabs"){Y([]),Oe(null),ee(!1);return}ee(!0),Oe(null);try{if(se==="google"){const Ye=localStorage.getItem("bible-google-api-key")||"";if(!Ye){Oe("Chave da API Google no configurada."),Y([]);return}const et=await fetch(`https://texttospeech.googleapis.com/v1/voices?key=${encodeURIComponent(Ye)}`);if(!et.ok)throw new Error(`Falha ${et.status}`);const Ze=((await et.json()).voices||[]).map(Ue=>({id:String(Ue.name||""),name:String(Ue.name||""),info:`${(Ue.languageCodes||[]).join(", ")}${Ue.ssmlGender?`  ${Ue.ssmlGender}`:""}`,languageCode:Array.isArray(Ue.languageCodes)&&Ue.languageCodes.length>0?String(Ue.languageCodes[0]):void 0}));Y(Ze),!ae&&Ze.length>0&&oe(Ze[0].id)}else if(se==="elevenlabs"){const Ye=localStorage.getItem("bible-elevenlabs-api-key")||"";if(!Ye){Oe("Chave da API ElevenLabs no configurada."),Y([]);return}const et=await fetch("https://api.elevenlabs.io/v1/voices",{headers:{"xi-api-key":Ye}});if(!et.ok)throw new Error(`Falha ${et.status}`);const Ze=((await et.json()).voices||[]).map(Ue=>({id:String(Ue.voice_id||Ue.id||Ue.name||""),name:String(Ue.name||""),info:Ue.category?String(Ue.category):""}));Y(Ze),!ae&&Ze.length>0&&oe(Ze[0].id)}}catch(Ye){Oe("No foi possvel carregar vozes: "+((Ye==null?void 0:Ye.message)||String(Ye))),Y([])}finally{ee(!1)}}me()},[se]),v.useEffect(()=>{async function me(){try{const Ye=await hn(Et(we,"bibleVersions")),et=[];Ye.forEach(Ue=>et.push({id:Ue.id,...Ue.data()}));const Be=et.filter(Ue=>Ue.active),Ze=Be.find(Ue=>Ue.default)||Be[0]||et[0];h(et),Ze!=null&&Ze.id&&p(Ze.id)}catch(Ye){console.warn("Falha ao carregar verses, usando NVI padro.",Ye)}}me()},[]),v.useEffect(()=>{try{const me=localStorage.getItem("bibleLastReading");if(me){const Ye=JSON.parse(me);Ye!=null&&Ye.versionId&&(Ye!=null&&Ye.bookName)&&(Ye!=null&&Ye.chapter)&&(I({versionId:Ye.versionId,bookName:Ye.bookName,chapter:Number(Ye.chapter)}),M(!0))}}catch{}},[]),v.useEffect(()=>{async function me(){const Ye=u.find(et=>et.id===f);if(!(Ye!=null&&Ye.storagePath)){const et=Bl.map(Be=>Be.nome);A(et),!et.includes(b)&&et.length>0&&N(et[0]);return}try{const et=kn(da,Ye.storagePath),Ze=await(await ZN(et)).text(),Ue=JSON.parse(Ze),Nt=Bl.filter(_t=>ym(Ue,_t.nome)).map(_t=>_t.nome),Pt=Nt.length>0?Nt:Object.keys(Ue||{}).sort((_t,Mt)=>_t.localeCompare(Mt));A(Pt),!Pt.includes(b)&&Pt.length>0&&N(Pt[0])}catch(et){console.warn("Falha ao carregar via Storage; tentando assets pblicos...",et);try{const Be=await fetch(`/${Ye.storagePath}`);if(!Be.ok)throw new Error(`HTTP ${Be.status}`);const Ze=await Be.json(),Ue=Bl.filter(Pt=>ym(Ze,Pt.nome)).map(Pt=>Pt.nome),Nt=Ue.length>0?Ue:Object.keys(Ze||{}).sort((Pt,_t)=>Pt.localeCompare(_t));A(Nt),!Nt.includes(b)&&Nt.length>0&&N(Nt[0])}catch(Be){console.warn("Falha ao carregar por assets; usando lista cannica.",Be);const Ze=Bl.map(Ue=>Ue.nome);A(Ze),!Ze.includes(b)&&Ze.length>0&&N(Ze[0])}}}f&&me()},[u,f]),v.useEffect(()=>{w(y1(b))},[b]),v.useEffect(()=>{!f||!b||!g||(localStorage.setItem("bibleLastReading",JSON.stringify({versionId:f,bookName:b,chapter:g})),M(!0),I({versionId:f,bookName:b,chapter:g}))},[f,b,g]),v.useEffect(()=>{async function me(){var Ye,et;n(!0),i(null);try{const Be=u.find(Ze=>Ze.id===f);if(Be!=null&&Be.storagePath)try{const Ze=kn(da,Be.storagePath),Nt=await(await ZN(Ze)).text(),Pt=JSON.parse(Nt),_t=ym(Pt,b),Mt=_t?(Ye=Pt==null?void 0:Pt[_t])==null?void 0:Ye[String(g)]:null;if(!Mt||typeof Mt!="object")throw new Error(`Captulo no encontrado no JSON: ${b} ${g}`);const tr=Object.keys(Mt).map(Tr=>({chapter:g,verse:parseInt(Tr,10),text:Mt[Tr]}));tr.sort((Tr,Gr)=>Tr.verse-Gr.verse),e(tr);return}catch(Ze){console.warn("Falha ao carregar via Storage JSON. Tentando fallback via fetch de assets do site...",Ze);try{const Ue=await fetch(`/${Be.storagePath}`);if(!Ue.ok)throw new Error(`HTTP ${Ue.status}`);const Nt=await Ue.json(),Pt=ym(Nt,b),_t=Pt?(et=Nt==null?void 0:Nt[Pt])==null?void 0:et[String(g)]:null;if(!_t||typeof _t!="object")throw new Error(`Captulo no encontrado no JSON (assets): ${b} ${g}`);const Mt=Object.keys(_t).map(tr=>({chapter:g,verse:parseInt(tr,10),text:_t[tr]}));Mt.sort((tr,Tr)=>tr.verse-Tr.verse),e(Mt);return}catch(Ue){console.warn("Fallback via fetch tambm falhou, tentando Firestore NVI...",Ue)}}try{const Ze=await nn(at(we,"nvi",String(j),"capitulos",String(g)));if(!Ze.exists())throw new Error(`Documento no encontrado em Firestore: nvi/${j}/capitulos/${g}`);const Nt=Ze.data().versiculos||{},Pt=Object.keys(Nt).map(_t=>({chapter:g,verse:parseInt(_t,10),text:Nt[_t]}));Pt.sort((_t,Mt)=>_t.verse-Mt.verse),e(Pt);return}catch(Ze){console.warn("Fallback Firestore NVI falhou:",Ze)}throw new Error("Verso selecionada sem fonte conhecida (Storage ou NVI Firestore).")}catch(Be){console.error("Erro ao carregar captulo:",Be);const Ze=(Be==null?void 0:Be.code)||(Be==null?void 0:Be.message)||"erro-desconhecido";i(`No foi possvel carregar o contedo: ${Ze}`)}finally{n(!1)}}f&&me()},[u,f,g,b]);async function ot(me){if(!me)return null;if(T[me])return T[me];const Ye=u.find(et=>et.id===me);if(!(Ye!=null&&Ye.storagePath))return null;try{const et=kn(da,Ye.storagePath),Ze=await(await ZN(et)).text(),Ue=JSON.parse(Ze);return _(Nt=>({...Nt,[me]:Ue})),Ue}catch{try{const Be=await fetch(`/${Ye.storagePath}`);if(!Be.ok)throw new Error(`HTTP ${Be.status}`);const Ze=await Be.json();return _(Ue=>({...Ue,[me]:Ze})),Ze}catch{return null}}}v.useEffect(()=>{const me=P.trim();if(D.current&&window.clearTimeout(D.current),me.length<2){F([]),$(!1);return}return D.current=window.setTimeout(async()=>{var Ye,et;$(!0);try{const Ze=await ot(X||f),Ue=[],Nt=me.toLowerCase();if(Ze&&typeof Ze=="object"){const Pt=Object.keys(Ze);for(const _t of Pt){if(G&&G!==_t)continue;const Mt=Ze[_t]||{},tr=Object.keys(Mt);for(const Tr of tr){const Gr=parseInt(Tr,10),gr=Mt[Tr]||{},Vn=Object.keys(gr);for(const pa of Vn){const tn=parseInt(pa,10),Ra=String(gr[pa]||"");if(Ra.toLowerCase().includes(Nt)&&(Ue.push({book:_t,chapter:Gr,verse:tn,text:Ra}),Ue.length>=100))break}if(Ue.length>=100)break}if(Ue.length>=100)break}F(Ue)}else if(X||f)try{const _t=await hn(j5(we,"capitulos"));for(const Mt of _t.docs){const Tr=Mt.ref.parent.parent,Gr=(Tr==null?void 0:Tr.id)||"",gr=parseInt(Gr,10),Vn=((Ye=Bl.find(La=>La.id===gr))==null?void 0:Ye.nome)||"";if(G&&G!==Vn)continue;const pa=parseInt(Mt.id,10),Ra=(Mt.data()||{}).versiculos||{};for(const La of Object.keys(Ra)){const ga=parseInt(La,10),cs=String(Ra[La]||"");if(cs.toLowerCase().includes(Nt)&&Ue.push({book:Vn||"",chapter:pa,verse:ga,text:cs}),Ue.length>=100)break}if(Ue.length>=100)break}F(Ue)}catch(_t){console.warn("Fallback Firestore falhou:",_t),F([])}else try{const _t=u.filter(Mt=>Mt.active);for(const Mt of _t){const tr=await ot(Mt.id||"");if(!tr||typeof tr!="object")continue;const Tr=Object.keys(tr);for(const Gr of Tr){if(G&&G!==Gr)continue;const gr=tr[Gr]||{};for(const Vn of Object.keys(gr)){const pa=parseInt(Vn,10),tn=gr[Vn]||{};for(const Ra of Object.keys(tn)){const La=parseInt(Ra,10),ga=String(tn[Ra]||"");if(ga.toLowerCase().includes(Nt)&&Ue.push({book:Gr,chapter:pa,verse:La,text:ga}),Ue.length>=100)break}if(Ue.length>=100)break}if(Ue.length>=100)break}if(Ue.length>=100)break}if(Ue.length===0){const Mt=await hn(j5(we,"capitulos"));for(const tr of Mt.docs){const Gr=tr.ref.parent.parent,gr=(Gr==null?void 0:Gr.id)||"",Vn=parseInt(gr,10),pa=((et=Bl.find(ga=>ga.id===Vn))==null?void 0:et.nome)||"";if(G&&G!==pa)continue;const tn=parseInt(tr.id,10),La=(tr.data()||{}).versiculos||{};for(const ga of Object.keys(La)){const cs=parseInt(ga,10),Fo=String(La[ga]||"");if(Fo.toLowerCase().includes(Nt)&&Ue.push({book:pa||"",chapter:tn,verse:cs,text:Fo}),Ue.length>=100)break}if(Ue.length>=100)break}}F(Ue)}catch{F([])}}catch(Be){console.warn("Falha na pesquisa avanada:",Be),F([])}finally{$(!1)}},250),()=>{D.current&&window.clearTimeout(D.current)}},[P,X,G,f,t,b]),v.useEffect(()=>{var Ye;function me(){var Be;const et=((Be=window.speechSynthesis)==null?void 0:Be.getVoices())||[];ue(et),!ae&&et.length>0&&oe(et[0].name)}return me(),(Ye=window.speechSynthesis)==null||Ye.addEventListener("voiceschanged",me),()=>{var et;return(et=window.speechSynthesis)==null?void 0:et.removeEventListener("voiceschanged",me)}},[ae]);const gt=v.useMemo(()=>{const me=o.trim().toLowerCase();return me?t.filter(Ye=>Ye.text.toLowerCase().includes(me)):t},[t,o]),[ht,Dt]=v.useState(!1),[qt,Rt]=v.useState(16),[Xt,Qt]=v.useState(24),[pe,ge]=v.useState(!1),[he,Te]=v.useState(!1),De=v.useMemo(()=>({fontSize:`${qt}px`,lineHeight:`${Xt}px`,fontWeight:pe?600:400,fontStyle:he?"italic":"normal"}),[qt,Xt,pe,he]),[nt,bt]=v.useState([]),[kt,$e]=v.useState(!1),[dt,Tt]=v.useState(!1);function Ge(me){bt(Ye=>Ye.includes(me)?Ye.filter(et=>et!==me):[...Ye,me].sort((et,Be)=>et-Be))}const[Ct,sr]=v.useState(!1),[fr,St]=v.useState(0);function Se(){var me;if(sr(!1),St(0),(me=window.speechSynthesis)!=null&&me.speaking&&window.speechSynthesis.cancel(),Qe.current=null,rt.current){try{rt.current.pause()}catch{}rt.current.src="",rt.current=null}}function lt(){var Be;const me=gt;if(fr>=me.length){Se();return}const Ye=me[fr],et=`${Ye.verse}. ${Ye.text}`;if(se==="browser"||se==="system"){const Ze=new SpeechSynthesisUtterance(et),Ue=Pe.find(Nt=>Nt.name===ae);Ue&&(Ze.voice=Ue),Ze.rate=Math.min(2,Math.max(.5,We)),Ze.pitch=Math.min(2,Math.max(0,ut)),Ze.volume=Math.min(1,Math.max(0,wt)),Ze.onend=()=>St(Nt=>Nt+1),Ze.onerror=()=>St(Nt=>Nt+1),Qe.current=Ze,(Be=window.speechSynthesis)==null||Be.speak(Ze);return}if(se==="elevenlabs"){const Ze=localStorage.getItem("bible-elevenlabs-api-key")||"";if(!Ze||!ae){St(Ue=>Ue+1);return}fetch(`https://api.elevenlabs.io/v1/text-to-speech/${encodeURIComponent(ae)}`,{method:"POST",headers:{"xi-api-key":Ze,"Content-Type":"application/json"},body:JSON.stringify({text:et,model_id:"eleven_multilingual_v2"})}).then(async Ue=>{if(!Ue.ok)throw new Error("Falha ao sintetizar udio");const Nt=await Ue.blob(),Pt=URL.createObjectURL(Nt),_t=new Audio(Pt);_t.onended=()=>{URL.revokeObjectURL(Pt),St(Mt=>Mt+1)},_t.onerror=()=>{URL.revokeObjectURL(Pt),St(Mt=>Mt+1)},rt.current=_t,_t.play()}).catch(()=>St(Ue=>Ue+1));return}if(se==="google"){const Ze=localStorage.getItem("bible-google-api-key")||"";if(!Ze||!ae){St(Pt=>Pt+1);return}const Ue=ve.find(Pt=>Pt.id===ae),Nt=(Ue==null?void 0:Ue.languageCode)||"pt-BR";fetch(`https://texttospeech.googleapis.com/v1/text:synthesize?key=${encodeURIComponent(Ze)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{text:et},voice:{name:ae,languageCode:Nt},audioConfig:{audioEncoding:"MP3"}})}).then(async Pt=>{if(!Pt.ok)throw new Error("Falha ao sintetizar udio");const _t=await Pt.json(),Mt=_t==null?void 0:_t.audioContent;if(!Mt)throw new Error("Resposta sem udio");const tr=new Audio(`data:audio/mp3;base64,${Mt}`);tr.onended=()=>St(Tr=>Tr+1),tr.onerror=()=>St(Tr=>Tr+1),rt.current=tr,tr.play()}).catch(()=>St(Pt=>Pt+1));return}}v.useEffect(()=>{Ct&&lt()},[Ct,fr]);function ir(){Ct?Se():(sr(!0),St(0))}function Gt(){Se(),bt([]),x(me=>me+1)}function kr(){Se(),bt([]),x(me=>Math.max(1,me-1))}function Fr(){var me;(me=window.speechSynthesis)!=null&&me.speaking&&window.speechSynthesis.cancel(),Ve(!1),Qe.current=null}function Pn(me){var Ye;if(Fr(),se==="browser"||se==="system"){const et=new SpeechSynthesisUtterance(me),Be=Pe.find(Ze=>Ze.name===ae);Be&&(et.voice=Be),et.rate=Math.min(2,Math.max(.5,We)),et.pitch=Math.min(2,Math.max(0,ut)),et.volume=Math.min(1,Math.max(0,wt)),et.onend=()=>Ve(!1),Qe.current=et,Ve(!0),(Ye=window.speechSynthesis)==null||Ye.speak(et);return}if(se==="elevenlabs"){const et=localStorage.getItem("bible-elevenlabs-api-key")||"";if(!et||!ae)return;Ve(!0),fetch(`https://api.elevenlabs.io/v1/text-to-speech/${encodeURIComponent(ae)}`,{method:"POST",headers:{"xi-api-key":et,"Content-Type":"application/json"},body:JSON.stringify({text:me,model_id:"eleven_multilingual_v2"})}).then(async Be=>{if(!Be.ok)throw new Error("Falha ao sintetizar udio");const Ze=await Be.blob(),Ue=URL.createObjectURL(Ze),Nt=new Audio(Ue);Nt.onended=()=>{Ve(!1),URL.revokeObjectURL(Ue)},Nt.onerror=()=>{Ve(!1),URL.revokeObjectURL(Ue)},rt.current=Nt,Nt.play()}).catch(()=>Ve(!1));return}if(se==="google"){const et=localStorage.getItem("bible-google-api-key")||"";if(!et||!ae)return;const Be=ve.find(Ue=>Ue.id===ae),Ze=(Be==null?void 0:Be.languageCode)||"pt-BR";Ve(!0),fetch(`https://texttospeech.googleapis.com/v1/text:synthesize?key=${encodeURIComponent(et)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{text:me},voice:{name:ae,languageCode:Ze},audioConfig:{audioEncoding:"MP3"}})}).then(async Ue=>{if(!Ue.ok)throw new Error("Falha ao sintetizar udio");const Nt=await Ue.json(),Pt=Nt==null?void 0:Nt.audioContent;if(!Pt)throw new Error("Resposta sem udio");const _t=new Audio(`data:audio/mp3;base64,${Pt}`);_t.onended=()=>Ve(!1),_t.onerror=()=>Ve(!1),rt.current=_t,_t.play()}).catch(()=>Ve(!1));return}}async function Nn(){const me=u.find(Be=>Be.id===f),Ye=(me==null?void 0:me.abbr)||"NVI",et=`Teste de voz. ${b} ${g} (${Ye}). Configurao aplicada com sucesso.`;if(se==="browser"||se==="system"){Pn(et);return}if(!ae){alert("Selecione uma voz primeiro.");return}try{if(se==="elevenlabs"){const Be=localStorage.getItem("bible-elevenlabs-api-key")||"";if(!Be){alert("Chave ElevenLabs no configurada.");return}const Ze=await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${encodeURIComponent(ae)}`,{method:"POST",headers:{"xi-api-key":Be,"Content-Type":"application/json"},body:JSON.stringify({text:et,model_id:"eleven_multilingual_v2"})});if(!Ze.ok)throw new Error("Falha ao sintetizar udio");const Ue=await Ze.blob(),Nt=URL.createObjectURL(Ue),Pt=new Audio(Nt);Pt.onended=()=>URL.revokeObjectURL(Nt),Pt.play();return}if(se==="google"){const Be=localStorage.getItem("bible-google-api-key")||"";if(!Be){alert("Chave Google TTS no configurada.");return}const Ze=ve.find(tr=>tr.id===ae),Ue=(Ze==null?void 0:Ze.languageCode)||"pt-BR",Nt=await fetch(`https://texttospeech.googleapis.com/v1/text:synthesize?key=${encodeURIComponent(Be)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{text:et},voice:{name:ae,languageCode:Ue},audioConfig:{audioEncoding:"MP3"}})});if(!Nt.ok)throw new Error("Falha ao sintetizar udio");const Pt=await Nt.json(),_t=Pt==null?void 0:Pt.audioContent;if(!_t)throw new Error("Resposta sem udio");new Audio(`data:audio/mp3;base64,${_t}`).play();return}}catch(Be){alert("Erro ao testar voz: "+((Be==null?void 0:Be.message)||String(Be)))}}async function Ln(){var Ze;if(nt.length===0)return;const me=t.filter(Ue=>nt.includes(Ue.verse)),Ye=((Ze=u.find(Ue=>Ue.id===f))==null?void 0:Ze.abbr)||"",et=`${b} ${g}${Ye?` (${Ye})`:""}`,Be=`${et}

${me.map(Ue=>`${Ue.verse}. ${Ue.text}`).join(`
`)}`;try{const Ue=navigator;if(Ue!=null&&Ue.share){await Ue.share({title:et,text:Be});return}}catch{}try{await navigator.clipboard.writeText(Be),Tt(!0),window.setTimeout(()=>Tt(!1),2e3)}catch{$e(!0)}}const[pn,Un]=v.useState(!1),[Ot,pr]=v.useState(!1),[Jt,Sn]=v.useState([]),[pt,de]=v.useState([]),[Fe,vt]=v.useState({});async function yr(me){N(me),Un(!0);const Ye=await ot(f),et=ym(Ye,me),Be=et?Ye==null?void 0:Ye[et]:null;if(Be){const Ze=Object.keys(Be).map(Nt=>Number(Nt)).sort((Nt,Pt)=>Nt-Pt),Ue={};for(const Nt of Ze){const Pt=Be[String(Nt)]||{};Ue[Nt]=typeof Pt=="object"?Object.keys(Pt).length:0}vt(Ue),Sn(Ze)}else try{const Ze=y1(me),Ue=Et(we,"nvi",String(Ze),"capitulos"),Nt=await hn(Ue),Pt=[],_t={};Nt.forEach(Mt=>{const tr=Number(Mt.id);Pt.push(tr);const Gr=(Mt.data()||{}).versiculos||{};_t[tr]=Object.keys(Gr).length}),Pt.sort((Mt,tr)=>Mt-tr),vt(_t),Sn(Pt)}catch{vt({}),Sn([])}}async function an(me){var Ze;x(me),Un(!1);const Ye=await ot(f),et=ym(Ye,b),Be=et?(Ze=Ye==null?void 0:Ye[et])==null?void 0:Ze[String(me)]:null;if(Be){const Ue=Object.keys(Be).map(Nt=>Number(Nt)).sort((Nt,Pt)=>Nt-Pt);de(Ue)}else try{const Ue=y1(b),Nt=await nn(at(we,"nvi",String(Ue),"capitulos",String(me)));if(Nt.exists()){const _t=(Nt.data()||{}).versiculos||{},Mt=Object.keys(_t).map(tr=>Number(tr)).sort((tr,Tr)=>tr-Tr);de(Mt)}else de([])}catch{de([])}pr(!0)}function en(me){pr(!1),bt(et=>et.includes(me)?et:[...et,me].sort((Be,Ze)=>Be-Ze));const Ye=document.querySelector(`[data-verse="${me}"]`);Ye&&"scrollIntoView"in Ye&&Ye.scrollIntoView({behavior:"smooth",block:"center"})}return s.jsx("div",{className:"min-h-screen bg-jkd-bg-sec",children:s.jsxs("div",{className:"max-w-none mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-jkd-bg rounded-lg border border-jkd-border p-4 mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading mb-3",children:"Bblia"}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Verso"}),s.jsxs("select",{value:f,onChange:me=>p(me.target.value),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text",children:[s.jsx("option",{value:"",disabled:!0,children:"Selecione uma verso"}),u.filter(me=>me.active).map(me=>s.jsxs("option",{value:me.id,children:[me.name," (",me.abbr,")"]},me.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Livro"}),s.jsxs("select",{value:b,onChange:me=>yr(me.target.value),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text",children:[s.jsx("option",{value:"",disabled:!0,children:"Selecione um livro"}),(E.length>0?E:Bl.map(me=>me.nome)).map(me=>s.jsx("option",{value:me,children:me},me))]})]})]}),s.jsxs("div",{className:"bg-jkd-bg rounded-lg border border-jkd-border p-4 mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading mb-3",children:"Assistente"}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Seleo de Voz"}),s.jsxs("select",{value:se,onChange:me=>je(me.target.value),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text",children:[s.jsx("option",{value:"browser",children:"Navegador"}),s.jsx("option",{value:"system",children:"Sistema"}),s.jsx("option",{value:"google",children:"Google"}),s.jsx("option",{value:"elevenlabs",children:"ElevenLabs"})]})]}),(se==="browser"||se==="system")&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:["Voz (",se==="system"?"Sistema":"Navegador",")"]}),s.jsx("select",{value:ae,onChange:me=>oe(me.target.value),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text",children:Pe.map(me=>s.jsxs("option",{value:me.name,children:[me.name," (",me.lang,")"]},me.name))})]}),s.jsx("button",{type:"button",onClick:Nn,className:"px-3 py-2 border border-jkd-border bg-jkd-bg text-jkd-heading rounded-lg",children:"Testar Voz"})]}),se!=="browser"&&s.jsxs("div",{className:"space-y-3",children:[fe&&s.jsx("div",{className:"text-sm text-jkd-text",children:"Carregando vozes"}),!fe&&ye&&s.jsx("div",{className:"text-sm text-jkd-text",children:ye}),!fe&&!ye&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:["Voz (",se==="google"?"Google":"ElevenLabs",")"]}),s.jsxs("select",{value:ae,onChange:me=>oe(me.target.value),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text",children:[ve.length===0&&s.jsx("option",{value:"",disabled:!0,children:"Nenhuma voz disponvel"}),ve.map(me=>s.jsxs("option",{value:me.id,children:[me.name,me.info?` (${me.info})`:""]},me.id))]})]}),s.jsx("button",{type:"button",onClick:Nn,className:"px-3 py-2 border border-jkd-border bg-jkd-bg text-jkd-heading rounded-lg",children:"Testar Voz"})]})]})]}),ne&&s.jsx("div",{className:"fixed inset-0 z-[1000] flex items-start justify-center bg-black/40",onClick:()=>ie(!1),children:s.jsxs("div",{className:"mt-10 w-full max-w-3xl mx-4 bg-jkd-bg rounded-lg border border-jkd-border p-4",onClick:me=>me.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Pesquisa Bblica"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:()=>te(me=>!me),className:"px-3 py-2 bg-jkd-bg text-jkd-heading border border-jkd-border rounded-lg",children:W?"Ocultar filtros":"Mostrar filtros"}),s.jsx("button",{type:"button",onClick:()=>ie(!1),"aria-label":"Fechar",className:"w-8 h-8 rounded-full border border-jkd-border bg-jkd-bg text-jkd-heading flex items-center justify-center",children:""})]})]}),W&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Verso"}),s.jsxs("select",{value:X,onChange:me=>B(me.target.value),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text",children:[s.jsx("option",{value:"",children:"Todas"}),u.filter(me=>me.active).map(me=>s.jsxs("option",{value:me.id,children:[me.name," (",me.abbr,")"]},me.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Livro"}),s.jsxs("select",{value:G,onChange:me=>J(me.target.value),className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text",children:[s.jsx("option",{value:"",children:"Todos"}),(E.length>0?E:Bl.map(me=>me.nome)).map(me=>s.jsx("option",{value:me,children:me},me))]})]})]}),s.jsx("div",{children:s.jsx("input",{value:P,onChange:me=>R(me.target.value),placeholder:"Digite palavras-chave para pesquisar...",className:"w-full px-3 py-2 border border-jkd-border rounded-lg bg-jkd-bg text-jkd-text"})}),s.jsx("div",{className:"mt-3 max-h-[60vh] overflow-auto",children:U?s.jsx("div",{className:"text-jkd-text",children:"Pesquisando..."}):K.length>0?s.jsx("div",{className:"space-y-2",children:K.map((me,Ye)=>s.jsxs("div",{className:"bg-jkd-bg rounded-lg border border-jkd-border p-3",children:[s.jsxs("div",{className:"text-sm text-jkd-heading mb-1",children:[me.book," ",me.chapter,":",me.verse]}),s.jsx("div",{className:"text-jkd-text",children:me.text})]},`${me.book}-${me.chapter}-${me.verse}-${Ye}`))}):s.jsx("div",{className:"text-jkd-text",children:"Nenhum resultado para a consulta atual."})})]})}),ht&&s.jsxs("div",{className:"bg-jkd-bg rounded-lg border border-jkd-border p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading mb-3",children:"Controles de Texto"}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Tamanho"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-3 py-2 bg-jkd-bg text-jkd-heading border border-jkd-border rounded-lg",onClick:()=>Rt(me=>Math.max(12,me-1)),children:"A-"}),s.jsx("button",{className:"px-3 py-2 bg-jkd-bg text-jkd-heading border border-jkd-border rounded-lg",onClick:()=>Rt(me=>Math.min(28,me+1)),children:"A+"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Espaamento"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-3 py-2 bg-jkd-bg text-jkd-heading border border-jkd-border rounded-lg",onClick:()=>Qt(me=>Math.max(18,me-2)),children:"-"}),s.jsx("button",{className:"px-3 py-2 bg-jkd-bg text-jkd-heading border border-jkd-border rounded-lg",onClick:()=>Qt(me=>Math.min(36,me+2)),children:"+"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Estilo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`px-3 py-2 border rounded-lg ${pe?"bg-church-primary text-white border-church-primary":"bg-jkd-bg text-jkd-heading border-jkd-border"}`,onClick:()=>ge(me=>!me),children:"Negrito"}),s.jsx("button",{className:`px-3 py-2 border rounded-lg ${he?"bg-church-primary text-white border-church-primary":"bg-jkd-bg text-jkd-heading border-jkd-border"}`,onClick:()=>Te(me=>!me),children:"Itlico"})]})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsxs("div",{className:"grid grid-cols-[auto_minmax(0,1fr)_auto] items-center w-full pr-20",children:[s.jsx("div",{className:"justify-self-start",children:s.jsx("button",{type:"button",onClick:kr,"aria-label":"Anterior",className:"w-8 h-8 rounded-full border border-church-primary bg-church-primary text-white flex items-center justify-center",children:s.jsx(Ebe,{className:"w-4 h-4 text-white"})})}),s.jsxs("div",{className:"justify-self-center text-center text-jkd-heading font-bold text-base px-2 whitespace-nowrap overflow-hidden text-ellipsis",children:[b," ",g]}),s.jsx("div",{className:"justify-self-end",children:s.jsx("button",{type:"button",onClick:Gt,"aria-label":"Prximo",className:"w-8 h-8 rounded-full border border-church-primary bg-church-primary text-white flex items-center justify-center",children:s.jsx(l1,{className:"w-4 h-4 text-white"})})})]}),s.jsxs("div",{className:"absolute right-0 top-0 flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:ir,"aria-label":Ct?"Pausar":"Reproduzir",className:"w-8 h-8 rounded-full border border-church-primary bg-church-primary text-white flex items-center justify-center",children:Ct?s.jsx(F0e,{className:"w-4 h-4 text-white"}):s.jsx(ka,{className:"w-4 h-4 text-white"})}),s.jsx("button",{type:"button",onClick:()=>ie(me=>!me),"aria-label":"Pesquisar",className:"w-8 h-8 rounded-full border border-church-primary bg-church-primary text-white flex items-center justify-center",children:s.jsx(Uw,{className:"w-4 h-4 text-white"})})]})]}),nt.length>0&&s.jsxs("div",{className:"fixed top-4 right-4 z-50 flex items-center gap-2",children:[s.jsxs("button",{type:"button",onClick:Ln,"aria-label":"Compartilhar seleo",className:"px-4 py-2 rounded-full shadow-lg bg-church-primary text-white hover:bg-church-primary/90",children:["Compartilhar (",nt.length,")"]}),s.jsx("button",{type:"button","aria-label":"Limpar seleo",className:"w-8 h-8 rounded-full border border-jkd-border bg-jkd-bg text-jkd-heading flex items-center justify-center",onClick:()=>{bt([]),$e(!1)},title:"Desmarcar selecionados",children:s.jsx(On,{className:"w-4 h-4 text-jkd-heading"})})]}),dt&&s.jsx("div",{className:"fixed top-16 right-4 z-50 px-4 py-2 rounded-lg shadow-lg bg-green-600 text-white",children:"Copiado para a rea de transferncia"}),r&&s.jsx("div",{className:"text-jkd-text",children:"Carregando..."}),a&&s.jsx("div",{className:"text-red-600",children:a}),!r&&!a&&s.jsx("div",{className:"space-y-3",children:t.length>0?t.map(me=>{var Be;const Ye=nt.includes(me.verse),et=Ct&&((Be=t[fr])==null?void 0:Be.verse)===me.verse;return s.jsxs("div",{"data-verse":me.verse,className:`group flex items-start space-x-3 p-3 rounded-lg transition-all cursor-pointer ${Ye?"bg-church-primary/10 border-2 border-church-primary":et?"bg-yellow-100 dark:bg-yellow-900/30 border-2 border-yellow-300":"hover:bg-jkd-bg border-2 border-transparent"}`,onClick:()=>Ge(me.verse),children:[s.jsx("span",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${Ye?"bg-church-primary text-white":et?"bg-yellow-600 text-white":"bg-church-primary/10 text-jkd-text"}`,children:me.verse}),s.jsx("p",{className:"flex-1 text-jkd-text leading-relaxed",style:De,children:me.text})]},me.verse)}):s.jsxs("div",{className:"text-jkd-text",children:["Nenhum versculo encontrado para ",b," ",g," nesta verso."]})}),s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsx("button",{type:"button",onClick:kr,className:"px-4 py-2 bg-jkd-bg text-jkd-heading border border-jkd-border rounded-lg",children:"Anterior"}),s.jsx("button",{type:"button",onClick:Gt,className:"px-4 py-2 bg-church-primary text-white rounded-lg",children:"Prximo"})]})]})]}),ht&&s.jsxs("div",{className:"bg-jkd-bg rounded-lg border border-jkd-border p-4 mt-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading mb-3",children:"Controles de Texto"}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Tamanho"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-3 py-2 bg-jkd-bg text-jkd-heading border border-jkd-border rounded-lg",onClick:()=>Rt(me=>Math.max(12,me-1)),children:"A-"}),s.jsx("button",{className:"px-3 py-2 bg-jkd-bg text-jkd-heading border border-jkd-border rounded-lg",onClick:()=>Rt(me=>Math.min(28,me+1)),children:"A+"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Espaamento"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-3 py-2 bg-jkd-bg text-jkd-heading border border-jkd-border rounded-lg",onClick:()=>Qt(me=>Math.max(18,me-2)),children:"-"}),s.jsx("button",{className:"px-3 py-2 bg-jkd-bg text-jkd-heading border border-jkd-border rounded-lg",onClick:()=>Qt(me=>Math.min(36,me+2)),children:"+"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Estilo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`px-3 py-2 border rounded-lg ${pe?"bg-church-primary text-white border-church-primary":"bg-jkd-bg text-jkd-heading border-jkd-border"}`,onClick:()=>ge(me=>!me),children:"Negrito"}),s.jsx("button",{className:`px-3 py-2 border rounded-lg ${he?"bg-church-primary text-white border-church-primary":"bg-jkd-bg text-jkd-heading border-jkd-border"}`,onClick:()=>Te(me=>!me),children:"Itlico"})]})]})]})]}),kt&&s.jsx(D$e,{verses:t.filter(me=>nt.includes(me.verse)),bookName:b,chapter:g,versionAbbr:((sn=u.find(me=>me.id===f))==null?void 0:sn.abbr)||"",onClose:()=>$e(!1)}),pn&&s.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>Un(!1)}),s.jsxs("div",{className:"relative bg-jkd-bg rounded-lg border border-jkd-border w-full max-w-lg mx-4 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading",children:"Selecionar Captulo"}),s.jsx("button",{onClick:()=>Un(!1),className:"px-3 py-2 bg-jkd-bg text-jkd-heading border border-jkd-border rounded-lg",children:"Fechar"})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[Jt.map(me=>s.jsxs("button",{onClick:()=>an(me),className:"px-2 py-2 bg-jkd-bg text-jkd-heading border border-jkd-border rounded hover:bg-jkd-bg-sec flex flex-col items-center","aria-label":`Captulo ${me} (${Fe[me]??0} versculos)`,children:[s.jsx("span",{className:"text-sm font-semibold",children:me}),s.jsxs("span",{className:"text-xs text-jkd-text",children:[Fe[me]??0," versculos"]})]},me)),Jt.length===0&&s.jsx("div",{className:"col-span-4 text-sm text-jkd-text",children:"Captulos indisponveis para esta verso."})]})]})]}),Ot&&s.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>pr(!1)}),s.jsxs("div",{className:"relative bg-jkd-bg rounded-lg border border-jkd-border w-full max-w-lg mx-4 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading",children:"Selecionar Versculo"}),s.jsx("button",{onClick:()=>pr(!1),className:"px-3 py-2 bg-jkd-bg text-jkd-heading border border-jkd-border rounded-lg",children:"Fechar"})]}),s.jsx("div",{className:"grid grid-cols-6 gap-2",children:(pt.length>0?pt:t.map(me=>me.verse)).map(me=>s.jsx("button",{onClick:()=>en(me),className:"px-2 py-2 bg-jkd-bg text-jkd-heading border border-jkd-border rounded hover:bg-jkd-bg-sec",children:me},me))})]})]})]})})},L$e=()=>s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h1",{className:"text-2xl font-semibold text-jkd-text mb-4",children:"Cursos"}),s.jsx("div",{className:"mt-4",children:s.jsx(mee,{heightPx:380})}),s.jsx("div",{className:"mt-8",children:s.jsx("p",{className:"text-jkd-text/80",children:"Mais contedos de cursos sero adicionados em breve."})})]})}),U$e=()=>s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("p",{className:"text-jkd-text",children:"Em construo"})})}),V$e=({popupId:t,onClose:e})=>{var j;const{user:r}=xr(),[n,a]=v.useState(null),[i,o]=v.useState({}),[c,u]=v.useState(!1),[h,f]=v.useState(!1);v.useEffect(()=>{(async()=>{const b=Er(Et(we,"forms"),Vr("popupId","==",t),$1(1)),N=await hn(b);if(N.empty)return;const E=N.docs[0];a({title:E.get("title"),description:E.get("description"),paid:E.get("paid"),price:E.get("price"),fields:E.get("fields")||[]})})()},[t]);const p=(w,b)=>o(N=>({...N,[w]:b})),g=v.useMemo(()=>n?(n.fields||[]).every(w=>!w.required||i[w.id]!==void 0&&i[w.id]!==""&&!(Array.isArray(i[w.id])&&i[w.id].length===0)):!1,[i,n]),x=async()=>{if(n){if(!g){alert("Preencha os campos obrigatrios.");return}try{u(!0),await qa(Et(we,"form_submissions"),{popupId:t,formTitle:n.title,data:i,paid:!!n.paid,price:n.price||0,submittedByUid:(r==null?void 0:r.uid)||null,submittedAt:fn(),status:"pending"}),f(!0)}catch(w){console.error(w),alert("Erro ao enviar.")}finally{u(!1)}}};return s.jsx(Ti,{children:s.jsxs(ar.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100]",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:s.jsxs(ar.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{duration:.25},className:"relative w-full max-w-2xl bg-gradient-to-b from-jkd-bg-sec to-jkd-bg rounded-2xl border border-jkd-border shadow-2xl ring-1 ring-white/10",children:[s.jsx("button",{type:"button",className:"absolute top-3 right-3 icon-btn",onClick:e,"aria-label":"Fechar",children:s.jsx(On,{})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-jkd-heading",children:(n==null?void 0:n.title)||"Formulrio"}),(n==null?void 0:n.description)&&s.jsx("p",{className:"mt-1 text-sm text-jkd-text",children:n.description}),s.jsx("div",{className:"mt-4 space-y-3",children:(j=n==null?void 0:n.fields)==null?void 0:j.map(w=>s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs text-jkd-text",children:[w.label," ",w.required&&s.jsx("span",{className:"text-red-500",children:"*"})]}),w.type==="text"&&s.jsx("input",{className:"mt-1 input",onChange:b=>p(w.id,b.target.value)}),w.type==="email"&&s.jsx("input",{type:"email",className:"mt-1 input",onChange:b=>p(w.id,b.target.value)}),w.type==="phone"&&s.jsx("input",{className:"mt-1 input",onChange:b=>p(w.id,b.target.value),placeholder:"(00) 00000-0000"}),w.type==="textarea"&&s.jsx("textarea",{rows:3,className:"mt-1 input",onChange:b=>p(w.id,b.target.value)}),w.type==="date"&&s.jsx("input",{type:"date",className:"mt-1 input",onChange:b=>p(w.id,b.target.value)}),w.type==="select"&&s.jsxs("select",{className:"mt-1 input",onChange:b=>p(w.id,b.target.value),children:[s.jsx("option",{value:"",children:"Selecione..."}),(w.options||[]).map(b=>s.jsx("option",{value:b,children:b},b))]}),w.type==="checkbox"&&s.jsx("div",{className:"mt-1 flex flex-wrap gap-3",children:(w.options||[]).map(b=>s.jsxs("label",{className:"inline-flex items-center gap-2 text-xs text-jkd-text",children:[s.jsx("input",{type:"checkbox",onChange:N=>{const E=Array.isArray(i[w.id])?i[w.id]:[];p(w.id,N.target.checked?[...E,b]:E.filter(A=>A!==b))}})," ",b]},b))})]},w.id))}),(n==null?void 0:n.paid)&&s.jsxs("div",{className:"mt-4 bg-jkd-bg-sec rounded-lg border border-jkd-border p-3",children:[s.jsx("p",{className:"text-sm text-jkd-heading",children:"Este formulrio  pago."}),s.jsxs("p",{className:"text-xs text-jkd-text",children:["Valor: R$ ",Number(n.price||0).toFixed(2)]})]}),s.jsxs("div",{className:"mt-6 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"btn-sec",onClick:e,children:"Cancelar"}),s.jsxs("button",{type:"button",className:"btn",onClick:x,disabled:!g||c,children:[s.jsx(MI,{size:16})," ",c?"Enviando...":h?"Enviado!":"Enviar"]})]})]})]})})]})})},z$e=()=>{const[t,e]=v.useState([]),[r,n]=v.useState(null);v.useEffect(()=>{(async()=>{const c=Er(Et(we,"forms"),li("createdAt","desc")),h=(await hn(c)).docs.map(f=>({id:f.id,popupId:f.get("popupId"),title:f.get("title"),category:f.get("category"),status:f.get("status")||"active"}));e(h)})()},[]);const a=async o=>{const c=o.status==="active"?"inactive":"active";await Pr(at(we,"forms",o.id),{status:c}),e(u=>u.map(h=>h.id===o.id?{...h,status:c}:h))},i=async o=>{const c=`<OpenFormButton popupId="${o}" label="Abrir formulrio" />`;await navigator.clipboard.writeText(c),alert("Snippet copiado!")};return s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-3",children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:t.map(o=>s.jsxs("div",{className:"bg-jkd-bg rounded-lg border border-jkd-border p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-jkd-heading",children:o.title}),s.jsxs("p",{className:"text-xs text-jkd-text",children:["ID: ",o.popupId,"  ",o.category]})]}),s.jsx("button",{type:"button",className:"icon-btn",onClick:()=>n(o.popupId),title:"Pr-visualizar",children:s.jsx(Rw,{size:16})})]}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsxs("button",{type:"button",className:"btn-sm",onClick:()=>i(o.popupId),children:[s.jsx(II,{size:14})," Copiar snippet"]}),s.jsx("button",{type:"button",className:"icon-btn",onClick:()=>a(o),title:"Ativar/Desativar",children:o.status==="active"?s.jsx(Gx,{className:"text-church-primary",size:18}):s.jsx(Wx,{className:"text-jkd-text",size:18})})]})]},o.id))}),r&&s.jsx(V$e,{popupId:r,onClose:()=>n(null)})]})};let Cx=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");const RF=()=>({id:Cx(8),label:"Nome",type:"text",required:!0}),LF=["Voluntrios","Membros","Ministrios","Cursos","Lderes"],F$e=()=>{const[t,e]=v.useState("Inscrio"),[r,n]=v.useState("Preencha para participar."),[a,i]=v.useState(LF[0]),[o,c]=v.useState(!1),[u,h]=v.useState(""),[f,p]=v.useState(()=>`FA-${Cx(6)}`),[g,x]=v.useState([RF(),{id:Cx(8),label:"Email",type:"email",required:!0}]),[j,w]=v.useState(!1),[b,N]=v.useState(null),E=v.useMemo(()=>g.length,[g]),A=()=>x(_=>[..._,RF()]),O=_=>x(D=>D.filter(P=>P.id!==_)),M=(_,D)=>x(P=>P.map(R=>R.id===_?{...R,...D}:R)),L=async()=>{const _=`FA-${Cx(6)}`;p(_)},I=async _=>{const D=Er(Et(we,"forms"),Vr("popupId","==",_));if((await hn(D)).empty)return _;const R=`FA-${Cx(7)}`;return I(R)},T=async()=>{try{w(!0);const _=await I(f),D=await qa(Et(we,"forms"),{title:t,description:r,category:a,paid:o,price:o?Number(u||0):0,popupId:_,status:"active",fields:g,createdAt:fn()});N(D.id),p(_)}catch(_){console.error(_),alert("Erro ao salvar formulrio")}finally{w(!1)}};return s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border",children:[s.jsxs("div",{className:"p-4 border-b border-jkd-border flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Construtor de Formulrios"}),s.jsx("p",{className:"text-xs text-jkd-text",children:"Modelos modernos inspirados no Amelia, adaptados para igreja."})]}),s.jsxs("div",{className:"text-xs text-jkd-text",children:[E," campos"]})]}),s.jsxs("div",{className:"p-4 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"text-sm",children:[s.jsx("span",{className:"text-jkd-text",children:"Ttulo"}),s.jsx("input",{className:"mt-1 input",value:t,onChange:_=>e(_.target.value)})]}),s.jsxs("label",{className:"text-sm",children:[s.jsx("span",{className:"text-jkd-text",children:"Categoria"}),s.jsx("select",{className:"mt-1 input",value:a,onChange:_=>i(_.target.value),children:LF.map(_=>s.jsx("option",{value:_,children:_},_))})]}),s.jsxs("label",{className:"text-sm sm:col-span-2",children:[s.jsx("span",{className:"text-jkd-text",children:"Descrio"}),s.jsx("textarea",{className:"mt-1 input",rows:2,value:r,onChange:_=>n(_.target.value)})]})]}),s.jsxs("div",{className:"bg-jkd-bg rounded-lg border border-jkd-border p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-medium text-jkd-heading",children:"Campos"}),s.jsxs("button",{type:"button",onClick:A,className:"btn-sm",children:[s.jsx(vl,{size:14})," Adicionar campo"]})]}),s.jsx("div",{className:"mt-3 space-y-3",children:g.map(_=>s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-2 items-end",children:[s.jsxs("label",{className:"text-xs sm:col-span-2",children:[s.jsx("span",{className:"text-jkd-text",children:"Rtulo"}),s.jsx("input",{className:"mt-1 input",value:_.label,onChange:D=>M(_.id,{label:D.target.value})})]}),s.jsxs("label",{className:"text-xs",children:[s.jsx("span",{className:"text-jkd-text",children:"Tipo"}),s.jsxs("select",{className:"mt-1 input",value:_.type,onChange:D=>M(_.id,{type:D.target.value}),children:[s.jsx("option",{value:"text",children:"Texto"}),s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"phone",children:"Telefone"}),s.jsx("option",{value:"textarea",children:"Texto longo"}),s.jsx("option",{value:"select",children:"Seleo"}),s.jsx("option",{value:"checkbox",children:"Caixa de seleo"}),s.jsx("option",{value:"date",children:"Data"})]})]}),(_.type==="select"||_.type==="checkbox")&&s.jsxs("label",{className:"text-xs sm:col-span-2",children:[s.jsx("span",{className:"text-jkd-text",children:"Opes (separar por vrgula)"}),s.jsx("input",{className:"mt-1 input",value:(_.options||[]).join(", "),onChange:D=>M(_.id,{options:D.target.value.split(",").map(P=>P.trim()).filter(Boolean)})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"text-xs inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:!!_.required,onChange:D=>M(_.id,{required:D.target.checked})})," Obrigatrio"]}),s.jsx("button",{type:"button",onClick:()=>O(_.id),className:"icon-btn text-red-500",children:s.jsx(v1e,{size:14})})]})]},_.id))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-jkd-bg rounded-lg border border-jkd-border p-3 space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium text-jkd-heading",children:"Pop-up"}),s.jsxs("label",{className:"text-xs block",children:[s.jsx("span",{className:"text-jkd-text",children:"ID do Pop-up"}),s.jsxs("div",{className:"mt-1 flex gap-2",children:[s.jsx("input",{className:"input flex-1",value:f,onChange:_=>p(_.target.value)}),s.jsx("button",{type:"button",className:"btn-sm",onClick:L,children:"Gerar"})]})]}),s.jsx("p",{className:"text-xs text-jkd-text",children:"Use este ID para abrir o pop-up em qualquer pgina."})]}),s.jsxs("div",{className:"bg-jkd-bg rounded-lg border border-jkd-border p-3 space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium text-jkd-heading",children:"Pagamento"}),s.jsxs("label",{className:"text-xs inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:o,onChange:_=>c(_.target.checked)})," Formulrio pago"]}),o&&s.jsxs("label",{className:"text-xs block",children:[s.jsx("span",{className:"text-jkd-text",children:"Preo (R$)"}),s.jsx("input",{className:"mt-1 input",type:"number",min:0,step:.5,value:u,onChange:_=>h(_.target.value?Number(_.target.value):"")})]})]}),s.jsxs("div",{children:[s.jsx("button",{type:"button",onClick:T,disabled:j,className:"btn w-full",children:j?"Salvando...":"Salvar formulrio"}),b&&s.jsxs("p",{className:"mt-2 text-xs text-green-600 inline-flex items-center gap-2",children:[s.jsx(Rbe,{size:14})," Salvo! Use o ID ",f," para abrir o pop-up."]})]})]})]})]})},$$e=()=>{const{user:t}=xr(),[e,r]=v.useState("builder");return!t||t.role!=="admin"?s.jsx(pl,{to:"/login",replace:!0}):s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Fonte Add"}),s.jsx("span",{className:"text-xs text-jkd-text",children:"Sistema de formulrios dinmicos"})]}),s.jsxs("div",{className:"mt-6 flex gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>r("builder"),className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg border ${e==="builder"?"bg-church-primary text-white border-church-primary":"bg-jkd-bg-sec text-jkd-heading border-jkd-border"}`,children:[s.jsx(Vbe,{size:16})," Criar Formulrio"]}),s.jsxs("button",{type:"button",onClick:()=>r("list"),className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg border ${e==="list"?"bg-church-primary text-white border-church-primary":"bg-jkd-bg-sec text-jkd-heading border-jkd-border"}`,children:[s.jsx(y0e,{size:16})," Formulrios"]}),s.jsxs("button",{type:"button",onClick:()=>r("help"),className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg border ${e==="help"?"bg-church-primary text-white border-church-primary":"bg-jkd-bg-sec text-jkd-heading border-jkd-border"}`,children:[s.jsx(To,{size:16})," Pop-ups & Snippet"]})]}),e==="builder"&&s.jsx("div",{className:"mt-6",children:s.jsx(F$e,{})}),e==="list"&&s.jsx("div",{className:"mt-6",children:s.jsx(z$e,{})}),e==="help"&&s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-jkd-heading",children:"Como usar pop-ups em qualquer pgina"}),s.jsxs("p",{className:"text-sm text-jkd-text",children:["Cada formulrio tem um ",s.jsx("strong",{children:"ID de Pop-up"}),". Para abrir um pop-up em qualquer pgina React do site, use o componente utilitrio abaixo:"]}),s.jsx("pre",{className:"bg-jkd-bg rounded-lg border border-jkd-border p-3 text-xs overflow-auto",children:s.jsx("code",{children:`import OpenFormButton from '@/components/FonteAdd/OpenFormButton';

// Em qualquer componente do site:
<OpenFormButton popupId="SEU_POPUP_ID" label="Inscrever-se" />`})}),s.jsxs("p",{className:"text-sm text-jkd-text",children:["Se preferir HTML puro (por exemplo dentro de contedo renderizado), voc pode usar um handler global que adicionaremos em breve: ",s.jsx("code",{children:"window.FonteAdd.open('SEU_POPUP_ID')"}),"."]}),s.jsx("p",{className:"text-xs text-jkd-text",children:"Obs.: Os campos e modelos so adaptados para contexto de igreja: voluntrios, membros, ministrios, cursos, lderes. Voc pode personalizar no construtor."})]})]})})},B$e=()=>s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h1",{className:"text-2xl font-semibold text-jkd-text mb-4",children:"Transborde"}),s.jsx("div",{className:"mt-8",children:s.jsx("p",{className:"text-jkd-text/80",children:"Contedo em breve."})})]})}),q$e=()=>s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h1",{className:"text-2xl font-semibold text-jkd-text mb-4",children:"Agenda Pastoral"}),s.jsx("div",{className:"mt-8",children:s.jsx("p",{className:"text-jkd-text/80",children:"Contedo em breve."})})]})}),H$e=()=>s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h1",{className:"text-2xl font-semibold text-jkd-text mb-4",children:"Onde estamos"}),s.jsx("div",{className:"mt-8",children:s.jsx("p",{className:"text-jkd-text/80",children:"Contedo em breve."})})]})}),W$e=()=>{const t=mn(),{showToast:e}=Da(),{config:r,updateConfig:n,resetConfig:a,uploadHeaderImage:i,uploadHeaderImageFromBase64:o,deleteHeaderImage:c}=Sf(),[u,h]=v.useState(!1),[f,p]=v.useState("content"),[g,x]=v.useState(!1),[j,w]=v.useState(r.headerImageUrl),[b,N]=v.useState(null),[E,A]=v.useState(!1);qc.useEffect(()=>{!E&&r.headerImageUrl!==j&&(console.log("[MaintenanceEditPage] headerImageUrl mudou externamente:",r.headerImageUrl),w(r.headerImageUrl))},[r.headerImageUrl,E,j]);const O=async()=>{var $,K,F;if(!g)try{console.log("[MaintenanceEditPage] Iniciando salvamento de configuraes..."),x(!0),await n({}),console.log("[MaintenanceEditPage] Configuraes salvas com sucesso!"),e("success","Configuraes salvas com sucesso!")}catch(W){console.error("[MaintenanceEditPage] Erro ao salvar configuraes:",W);let te="Erro ao salvar configuraes. ";($=W.message)!=null&&$.includes("Usurio no autenticado")?te+="Por favor, faa login novamente.":(K=W.message)!=null&&K.includes("Permisso negada")?te+="Voc no tem permisso para salvar configuraes.":(F=W.message)!=null&&F.includes("Falha ao salvar")?te+="Tente novamente em alguns segundos.":te+=W.message||"Erro desconhecido.",e("error",te)}finally{x(!1)}},M=async()=>{window.confirm("Tem certeza que deseja redefinir todas as configuraes para o padro?")&&(await a(),e("Configuraes redefinidas para o padro","info"))},L=async()=>{const $=document.createElement("input");$.type="file",$.accept="image/*",$.onchange=async K=>{var W,te,X,B;const F=(W=K.target.files)==null?void 0:W[0];if(F)try{console.log("[MaintenanceEditPage]  Iniciando upload do header image..."),x(!0);const G=await i(F);console.log("[MaintenanceEditPage]  Upload concludo:",G),e("success","Imagem do cabealho enviada com sucesso!"),w(G)}catch(G){console.error("[MaintenanceEditPage]  Erro ao fazer upload:",G);let J="Erro ao enviar imagem. ";(te=G.message)!=null&&te.includes("Tipo de arquivo invlido")?J+="Use apenas JPG, PNG, GIF ou WebP.":(X=G.message)!=null&&X.includes("muito grande")?J+="A imagem deve ter no mximo 5MB.":(B=G.message)!=null&&B.includes("no autenticado")?J+="Faa login novamente.":J+=G.message||"Tente novamente.",e("error",J)}finally{x(!1)}},$.click()},I=$=>{const K=document.createElement("input");K.type="file",K.accept="image/*",K.onchange=F=>{var te;const W=(te=F.target.files)==null?void 0:te[0];if(W){const X=new FileReader;X.onload=B=>{var J;const G=(J=B.target)==null?void 0:J.result;$==="background"?n({backgroundImage:G}):$==="overlay"?n({overlayImage:G}):$==="logo"&&n({logoUrl:G})},X.readAsDataURL(W)}},K.click()},T=()=>{const $={id:Date.now().toString(),text:"Novo Boto",url:"https://",backgroundColor:"#3b82f6",textColor:"#ffffff",showButton:!0};n({buttons:[...r.buttons,$]})},_=($,K)=>{const F=r.buttons.map(W=>W.id===$?{...W,...K}:W);n({buttons:F})},D=$=>{const K=r.buttons.filter(F=>F.id!==$);n({buttons:K})},P=$=>{b&&clearTimeout(b);const K=setTimeout(()=>{console.log("[MaintenanceEditPage] Debounce: Salvando headerImageUrl:",$),n({headerImageUrl:$})},1e3);N(K)};qc.useEffect(()=>()=>{b&&clearTimeout(b)},[b]);const R=()=>{const $=JSON.stringify(r,null,2),K=new Blob([$],{type:"application/json"}),F=URL.createObjectURL(K),W=document.createElement("a");W.href=F,W.download="maintenance-config.json",W.click()},U=()=>{const $=document.createElement("input");$.type="file",$.accept=".json",$.onchange=K=>{var W;const F=(W=K.target.files)==null?void 0:W[0];if(F){const te=new FileReader;te.onload=X=>{var B;try{const G=JSON.parse((B=X.target)==null?void 0:B.result);n(G),e("Configurao importada com sucesso!","success")}catch{e("Erro ao importar configurao","error")}},te.readAsText(F)}},$.click()};return u?s.jsxs("div",{className:"fixed inset-0 bg-black z-50",children:[s.jsx("div",{className:"absolute top-4 right-4 z-[10000] pointer-events-auto",children:s.jsx("button",{onClick:()=>h(!1),className:"bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors shadow-lg",children:"Sair do Preview"})}),s.jsx("div",{className:"w-full h-full",children:s.jsx(Vw,{isPreview:!0})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>t("/site/gerenciamento"),className:"text-gray-600 hover:text-gray-900 transition-colors",children:" Voltar"}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Editor - Modo Manuteno"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(fG,{size:16}),"Exportar"]}),s.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(ns,{size:16}),"Importar"]}),s.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-3 py-2 text-orange-600 hover:text-orange-700 transition-colors",children:[s.jsx(xG,{size:16}),"Resetar"]}),s.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-3 py-2 text-blue-600 hover:text-blue-700 transition-colors",children:[s.jsx(Rw,{size:16}),"Preview"]}),s.jsxs("button",{onClick:O,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(as,{size:16}),"Salvar"]})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"content",label:"Contedo",icon:w1e},{id:"design",label:"Design",icon:Lw},{id:"buttons",label:"Botes",icon:hv},{id:"advanced",label:"Avanado",icon:Bbe}].map(({id:$,label:K,icon:F})=>s.jsxs("button",{onClick:()=>p($),className:`flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${f===$?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(F,{size:16}),K]},$))})}),s.jsxs("div",{className:"p-6",children:[f==="content"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo"}),s.jsx("input",{type:"text",value:r.title,onChange:$=>n({title:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Estamos em Manuteno"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrio"}),s.jsx("textarea",{value:r.description,onChange:$=>n({description:$.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descrio detalhada..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alinhamento do Contedo"}),s.jsxs("select",{value:r.contentAlignment,onChange:$=>n({contentAlignment:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"left",children:"Esquerda"}),s.jsx("option",{value:"center",children:"Centro"}),s.jsx("option",{value:"right",children:"Direita"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alinhamento Vertical"}),s.jsxs("select",{value:r.verticalAlignment,onChange:$=>n({verticalAlignment:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"top",children:"Topo"}),s.jsx("option",{value:"center",children:"Centro"}),s.jsx("option",{value:"bottom",children:"Fundo"})]})]})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:r.showCountdown,onChange:$=>n({showCountdown:$.target.checked}),className:"mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Mostrar contador regressivo"})]})}),r.showCountdown&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data do contador"}),s.jsx("input",{type:"date",value:r.countdownDate,onChange:$=>n({countdownDate:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),f==="design"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagem de Fundo"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",value:r.backgroundImage,onChange:$=>n({backgroundImage:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"URL da imagem"}),s.jsxs("button",{onClick:()=>I("background"),className:"flex items-center gap-2 bg-gray-600 text-white px-3 py-2 rounded-lg hover:bg-gray-700 transition-colors w-full justify-center",children:[s.jsx(Wm,{size:16}),"Upload de Imagem"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor de Fundo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:r.backgroundColor,onChange:$=>n({backgroundColor:$.target.value}),className:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"}),s.jsx("input",{type:"text",value:r.backgroundColor,onChange:$=>n({backgroundColor:$.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagem de Sobreposio"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",value:r.overlayImage,onChange:$=>n({overlayImage:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"URL da imagem (pattern)"}),s.jsxs("button",{onClick:()=>I("overlay"),className:"flex items-center gap-2 bg-gray-600 text-white px-3 py-2 rounded-lg hover:bg-gray-700 transition-colors w-full justify-center",children:[s.jsx(Wm,{size:16}),"Upload de Imagem"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Opacidade da Sobreposio"}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:r.overlayOpacity,onChange:$=>n({overlayOpacity:parseFloat($.target.value)}),className:"w-full"}),s.jsx("span",{className:"text-sm text-gray-500",children:r.overlayOpacity})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tamanho do Ttulo"}),s.jsxs("select",{value:r.titleSize,onChange:$=>n({titleSize:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"xs",children:"Extra Pequeno"}),s.jsx("option",{value:"sm",children:"Pequeno"}),s.jsx("option",{value:"base",children:"Normal"}),s.jsx("option",{value:"lg",children:"Grande"}),s.jsx("option",{value:"xl",children:"Extra Grande"}),s.jsx("option",{value:"2xl",children:"2x Grande"}),s.jsx("option",{value:"3xl",children:"3x Grande"}),s.jsx("option",{value:"4xl",children:"4x Grande"}),s.jsx("option",{value:"5xl",children:"5x Grande"}),s.jsx("option",{value:"6xl",children:"6x Grande"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor do Ttulo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:r.titleColor,onChange:$=>n({titleColor:$.target.value}),className:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"}),s.jsx("input",{type:"text",value:r.titleColor,onChange:$=>n({titleColor:$.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Peso do Ttulo"}),s.jsxs("select",{value:r.titleWeight,onChange:$=>n({titleWeight:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"normal",children:"Normal"}),s.jsx("option",{value:"medium",children:"Mdio"}),s.jsx("option",{value:"semibold",children:"Semi Negrito"}),s.jsx("option",{value:"bold",children:"Negrito"}),s.jsx("option",{value:"extrabold",children:"Extra Negrito"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tamanho da Descrio"}),s.jsxs("select",{value:r.descriptionSize,onChange:$=>n({descriptionSize:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"xs",children:"Extra Pequeno"}),s.jsx("option",{value:"sm",children:"Pequeno"}),s.jsx("option",{value:"base",children:"Normal"}),s.jsx("option",{value:"lg",children:"Grande"}),s.jsx("option",{value:"xl",children:"Extra Grande"}),s.jsx("option",{value:"2xl",children:"2x Grande"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor da Descrio"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:r.descriptionColor,onChange:$=>n({descriptionColor:$.target.value}),className:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"}),s.jsx("input",{type:"text",value:r.descriptionColor,onChange:$=>n({descriptionColor:$.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Peso da Descrio"}),s.jsxs("select",{value:r.descriptionWeight,onChange:$=>n({descriptionWeight:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"normal",children:"Normal"}),s.jsx("option",{value:"medium",children:"Mdio"}),s.jsx("option",{value:"semibold",children:"Semi Negrito"}),s.jsx("option",{value:"bold",children:"Negrito"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Largura Mxima do Container"}),s.jsxs("select",{value:r.containerMaxWidth,onChange:$=>n({containerMaxWidth:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"sm",children:"Pequeno"}),s.jsx("option",{value:"md",children:"Mdio"}),s.jsx("option",{value:"lg",children:"Grande"}),s.jsx("option",{value:"xl",children:"Extra Grande"}),s.jsx("option",{value:"2xl",children:"2x Grande"}),s.jsx("option",{value:"3xl",children:"3x Grande"}),s.jsx("option",{value:"4xl",children:"4x Grande"}),s.jsx("option",{value:"5xl",children:"5x Grande"}),s.jsx("option",{value:"6xl",children:"6x Grande"}),s.jsx("option",{value:"7xl",children:"7x Grande"}),s.jsx("option",{value:"full",children:"Tela Cheia"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:r.textShadow,onChange:$=>n({textShadow:$.target.checked}),className:"mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Sombra no Texto"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:r.backdropBlur,onChange:$=>n({backdropBlur:$.target.checked}),className:"mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Desfoque do Fundo"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"text-md font-semibold text-gray-800 flex items-center",children:[s.jsx(Is,{className:"mr-2 h-5 w-5"}),"Imagem de Cabealho"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL da Imagem de Cabealho"}),s.jsx("input",{type:"text",value:j,onChange:$=>{A(!0),w($.target.value),P($.target.value)},onBlur:$=>{A(!1),b&&clearTimeout(b),n({headerImageUrl:$.target.value})},onKeyPress:$=>{$.key==="Enter"&&(A(!1),b&&clearTimeout(b),n({headerImageUrl:$.currentTarget.value}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://exemplo.com/imagem.png"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:L,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",disabled:g,children:[s.jsx(Wm,{className:"mr-2 h-4 w-4"}),g?"Enviando...":"Upload de Imagem"]}),j&&s.jsxs("button",{onClick:async()=>{try{x(!0),await c(),w(""),e("success","Imagem removida com sucesso!")}catch($){console.error("Erro ao remover imagem:",$),e("error","Erro ao remover imagem")}finally{x(!1)}},className:"inline-flex items-center px-4 py-2 border border-red-300 rounded-lg shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50",disabled:g,children:[s.jsx(Ss,{className:"mr-2 h-4 w-4"}),"Remover"]})]}),j&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:j,alt:"Preview Header",className:"max-h-24 max-w-full rounded-lg shadow-md"})})]})]})]})]}),f==="buttons"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Botes de Ao"}),s.jsxs("button",{onClick:T,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(vl,{size:16}),"Adicionar Boto"]})]}),r.buttons.map(($,K)=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium text-gray-900",children:["Boto ",K+1]}),s.jsx("button",{onClick:()=>D($.id),className:"text-red-600 hover:text-red-700 transition-colors",children:s.jsx(Ss,{size:16})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texto do Boto"}),s.jsx("input",{type:"text",value:$.text,onChange:F=>_($.id,{text:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL do Boto"}),s.jsx("input",{type:"url",value:$.url,onChange:F=>_($.id,{url:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor de Fundo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:$.backgroundColor,onChange:F=>_($.id,{backgroundColor:F.target.value}),className:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"}),s.jsx("input",{type:"text",value:$.backgroundColor,onChange:F=>_($.id,{backgroundColor:F.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor do Texto"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:$.textColor,onChange:F=>_($.id,{textColor:F.target.value}),className:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"}),s.jsx("input",{type:"text",value:$.textColor,onChange:F=>_($.id,{textColor:F.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:$.showButton,onChange:F=>_($.id,{showButton:F.target.checked}),className:"mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Mostrar"})]})})]})]},$.id))]}),f==="advanced"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CSS Customizado"}),s.jsx("textarea",{value:r.customCSS,onChange:$=>n({customCSS:$.target.value}),rows:10,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"/* CSS customizado aqui */"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Adicione estilos CSS personalizados. Use com cautela!"})]})})]})]})})]})},G$e=()=>{const{config:t}=Sf();return s.jsx("div",{className:"min-h-screen bg-gray-900",children:s.jsx(Vw,{isPreview:!0})})},Y$e=()=>{const{config:t}=Sf(),e=()=>{switch(t.verticalAlign){case"top":return"items-start pt-20";case"bottom":return"items-end pb-20";default:return"items-center"}},r=()=>{switch(t.titleAlign){case"left":return"text-left";case"right":return"text-right";default:return"text-center"}},n=()=>{switch(t.titleSize){case"small":return"text-2xl md:text-3xl";case"large":return"text-5xl md:text-6xl";default:return"text-4xl md:text-5xl"}},a=()=>{switch(t.descriptionSize){case"small":return"text-sm md:text-base";case"large":return"text-lg md:text-xl";default:return"text-base md:text-lg"}},i=()=>{switch(t.titleWeight){case"normal":return"font-normal";case"medium":return"font-medium";case"semibold":return"font-semibold";case"bold":return"font-bold";default:return"font-bold"}},o=()=>{switch(t.descriptionWeight){case"normal":return"font-normal";case"medium":return"font-medium";case"semibold":return"font-semibold";case"bold":return"font-bold";default:return"font-normal"}},c=()=>{switch(t.containerMaxWidth){case"sm":return"max-w-sm";case"md":return"max-w-md";case"lg":return"max-w-lg";case"xl":return"max-w-xl";case"2xl":return"max-w-2xl";case"3xl":return"max-w-3xl";case"4xl":return"max-w-4xl";case"5xl":return"max-w-5xl";case"6xl":return"max-w-6xl";case"7xl":return"max-w-7xl";case"full":return"max-w-full";default:return"max-w-3xl"}},u=()=>{switch(t.logoSize){case"small":return"h-16";case"large":return"h-32";default:return"h-24"}},f=(()=>{if(!t.showCountdown||!t.countdownDate)return null;const p=new Date().getTime(),x=new Date(t.countdownDate).getTime()-p;if(x<=0)return{days:0,hours:0,minutes:0,seconds:0,isFinished:!0};const j=Math.floor(x/(1e3*60*60*24)),w=Math.floor(x%(1e3*60*60*24)/(1e3*60*60)),b=Math.floor(x%(1e3*60*60)/(1e3*60)),N=Math.floor(x%(1e3*60)/1e3);return{days:j,hours:w,minutes:b,seconds:N,isFinished:!1}})();return console.log("[MaintenanceOverlay] HeaderImageUrl:",t.headerImageUrl),console.log("[MaintenanceOverlay] Tem HeaderImageUrl?",!!t.headerImageUrl),s.jsxs("div",{className:"fixed inset-0 z-[9999] overflow-hidden",style:{backgroundImage:t.backgroundImage?`url(${t.backgroundImage})`:"none",backgroundColor:t.backgroundColor,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[t.overlayImage&&s.jsx("div",{className:"absolute inset-0 z-[9998]",style:{backgroundImage:`url(${t.overlayImage})`,opacity:t.overlayOpacity,backgroundSize:"repeat"}}),t.backdropBlur&&s.jsx("div",{className:"absolute inset-0 z-[9997] backdrop-blur-sm bg-black bg-opacity-30"}),t.headerImageUrl&&s.jsx("div",{className:"fixed inset-x-0 top-20 flex justify-center pointer-events-none z-[9999]",children:s.jsx("div",{className:"text-center pointer-events-auto",children:s.jsx("img",{src:t.headerImageUrl.trim(),alt:"Header Image",className:"max-h-32 max-w-full object-contain",style:{filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.3))"},onError:p=>{console.error(" [MaintenanceOverlay] Erro ao carregar header image:",t.headerImageUrl),p.currentTarget.style.display="none"},onLoad:()=>{console.log(" [MaintenanceOverlay] Header image carregada com sucesso:",t.headerImageUrl)}})})}),s.jsx("div",{className:`relative z-10 min-h-screen flex items-center ${e()}`,style:{pointerEvents:"auto"},children:s.jsx("div",{className:`${c()} mx-auto px-4 sm:px-6 lg:px-8 w-full`,children:s.jsxs("div",{className:`${r()} space-y-8`,children:[t.showLogo&&t.logoImage&&s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:t.logoImage,alt:"Logo",className:`${u()} object-contain`})}),s.jsx("h1",{className:`${n()} ${i()} ${t.textShadow?"text-shadow":""}`,style:{color:t.titleColor},children:t.title}),t.description&&s.jsx("p",{className:`${a()} ${o()} ${t.textShadow?"text-shadow":""}`,style:{color:t.descriptionColor},children:t.description}),f&&!f.isFinished&&s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"bg-black bg-opacity-50 rounded-lg p-6 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 text-white mb-2",children:[s.jsx(kf,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:t.countdownText||"Tempo restante"})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center text-white",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl md:text-3xl font-bold",children:f.days}),s.jsx("div",{className:"text-xs opacity-75",children:"Dias"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl md:text-3xl font-bold",children:f.hours}),s.jsx("div",{className:"text-xs opacity-75",children:"Horas"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl md:text-3xl font-bold",children:f.minutes}),s.jsx("div",{className:"text-xs opacity-75",children:"Min"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl md:text-3xl font-bold",children:f.seconds}),s.jsx("div",{className:"text-xs opacity-75",children:"Seg"})]})]})]})}),s.jsx("div",{className:"flex flex-wrap gap-4 justify-center",children:t.buttons.filter(p=>p.showButton).map((p,g)=>s.jsxs("a",{href:p.url,target:p.openNewTab?"_blank":"_self",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 hover:scale-105",style:{backgroundColor:p.backgroundColor,color:p.textColor,border:p.borderColor?`2px solid ${p.borderColor}`:"none"},children:[p.text,p.openNewTab&&s.jsx(OI,{className:"w-4 h-4"})]},g))}),t.customHTML&&s.jsx("div",{className:"prose prose-lg mx-auto text-white",dangerouslySetInnerHTML:{__html:t.customHTML}})]})})}),t.customCSS&&s.jsx("style",{dangerouslySetInnerHTML:{__html:t.customCSS}})]})},K$e=({children:t})=>{const{user:e,isLoading:r}=xr(),{config:n}=Sf(),a=pi(),o=new URLSearchParams(a.search).get("preview")==="true",u=["/login","/site/maintenance/preview","/site/maintenance/edit","/site/gerenciamento"].some(h=>a.pathname.startsWith(h));return console.log("[MaintenanceOverlayGuard] ===== CHECK ====="),console.log("[MaintenanceOverlayGuard] Path:",a.pathname),console.log("[MaintenanceOverlayGuard] User:",(e==null?void 0:e.role)||"No user"),console.log("[MaintenanceOverlayGuard] Maintenance Active:",n.isActive),console.log("[MaintenanceOverlayGuard] Is Preview:",o),console.log("[MaintenanceOverlayGuard] Is Allowed Route:",u),console.log("[MaintenanceOverlayGuard] Should Block:",n.isActive&&(!e||e.role!=="admin")&&!u&&!o),console.log("[MaintenanceOverlayGuard] ======================"),r?s.jsx(s.Fragment,{children:t}):u?s.jsx(s.Fragment,{children:t}):o?s.jsx(s.Fragment,{children:t}):n.isActive&&(!e||e.role!=="admin")?n.useRedirect&&n.redirectUrl?(console.log("[MaintenanceOverlayGuard] Redirecting to external URL:",n.redirectUrl),window.location.href=n.redirectUrl,null):(console.log("[MaintenanceOverlayGuard] Showing maintenance overlay"),s.jsx(Y$e,{})):s.jsx(s.Fragment,{children:t})},UF={blocks:[{dayOfWeek:null,imageUrl:"",imageStoragePath:"",images:[],rotationMinutes:0},{dayOfWeek:null,imageUrl:"",imageStoragePath:"",images:[],rotationMinutes:0},{dayOfWeek:null,imageUrl:"",imageStoragePath:"",images:[],rotationMinutes:0},{dayOfWeek:null,imageUrl:"",imageStoragePath:"",images:[],rotationMinutes:0},{dayOfWeek:null,imageUrl:"",imageStoragePath:"",images:[],rotationMinutes:0}],containerHeightDesktop:400,containerHeightMobile:400,contentHeightDesktop:140,contentHeightMobile:120,contentPaddingBottomDesktop:24,contentPaddingBottomMobile:16,clampTitleMobile:!1},X$e=[{label:"Domingo",value:0},{label:"Segunda-feira",value:1},{label:"Tera-feira",value:2},{label:"Quarta-feira",value:3},{label:"Quinta-feira",value:4},{label:"Sexta-feira",value:5},{label:"Sbado",value:6}],Q$e=()=>{const{showToast:t}=Da(),[e,r]=v.useState(UF),[n,a]=v.useState(!1),[i,o]=v.useState(!1),[c,u]=v.useState(null);v.useEffect(()=>{async function g(){a(!0);try{const x=at(we,"culto_blocos_settings","default"),j=await nn(x);if(j.exists()){const w=j.data(),E=[...(Array.isArray(w.blocks)?w.blocks:UF.blocks).map(D=>{const P=Array.isArray(D==null?void 0:D.images)?D.images.map(R=>({imageUrl:typeof(R==null?void 0:R.imageUrl)=="string"?R.imageUrl:"",imageStoragePath:typeof(R==null?void 0:R.imageStoragePath)=="string"?R.imageStoragePath:"",weekOfMonth:(R==null?void 0:R.weekOfMonth)==="last"||["1","2","3","4","5"].includes(String(R==null?void 0:R.weekOfMonth))?R.weekOfMonth==="5"?"last":R.weekOfMonth:void 0})):typeof(D==null?void 0:D.imageUrl)=="string"&&D.imageUrl?[{imageUrl:D.imageUrl,imageStoragePath:typeof(D==null?void 0:D.imageStoragePath)=="string"?D.imageStoragePath:"",weekOfMonth:void 0}]:[];return{dayOfWeek:typeof D.dayOfWeek=="number"?D.dayOfWeek:null,imageUrl:typeof D.imageUrl=="string"?D.imageUrl:"",imageStoragePath:typeof D.imageStoragePath=="string"?D.imageStoragePath:"",images:P,rotationMinutes:Number((D==null?void 0:D.rotationMinutes)??0)||0}})];for(;E.length<5;)E.push({dayOfWeek:null,imageUrl:"",imageStoragePath:"",images:[],rotationMinutes:0});const A=Number(w.containerHeightDesktop??w.desktopHeight??400)||400,O=Number(w.containerHeightMobile??w.mobileHeight??A)||A,M=Number(w.contentHeightDesktop??140)||140,L=Number(w.contentHeightMobile??M)||M,I=Number(w.contentPaddingBottomDesktop??24)||24,T=Number(w.contentPaddingBottomMobile??16)||16,_=!!(w.clampTitleMobile??!1);r({blocks:E,containerHeightDesktop:A,containerHeightMobile:O,contentHeightDesktop:M,contentHeightMobile:L,contentPaddingBottomDesktop:I,contentPaddingBottomMobile:T,clampTitleMobile:_,updatedAt:w.updatedAt||null})}}catch(x){console.error("Erro ao carregar configuraes de Culto-Blocos",x),t("error","Erro ao carregar configuraes.")}finally{a(!1)}}g()},[t]);async function h(g){g.preventDefault();try{o(!0);const x=at(we,"culto_blocos_settings","default"),j={blocks:e.blocks.map(w=>({dayOfWeek:typeof w.dayOfWeek=="number"?w.dayOfWeek:null,imageUrl:(w.imageUrl||"").trim(),imageStoragePath:(w.imageStoragePath||"").trim(),images:Array.isArray(w.images)?w.images.map(b=>({imageUrl:(b.imageUrl||"").trim(),imageStoragePath:(b.imageStoragePath||"").trim(),weekOfMonth:b.weekOfMonth??void 0})):[],rotationMinutes:Number(w.rotationMinutes??0)||0})),containerHeightDesktop:Number(e.containerHeightDesktop)||400,containerHeightMobile:Number(e.containerHeightMobile)||Number(e.containerHeightDesktop)||400,contentHeightDesktop:Number(e.contentHeightDesktop)||140,contentHeightMobile:Number(e.contentHeightMobile)||Number(e.contentHeightDesktop)||140,contentPaddingBottomDesktop:Number(e.contentPaddingBottomDesktop)||24,contentPaddingBottomMobile:Number(e.contentPaddingBottomMobile)||16,clampTitleMobile:!!e.clampTitleMobile,updatedAt:fn()};await oi(x,j,{merge:!0}),t("success","Configuraes salvas!")}catch(x){console.error("Erro ao salvar configuraes de Culto-Blocos",x);const j=x!=null&&x.message?`Falha ao salvar: ${x.message}`:"Falha ao salvar configuraes";t("error",j)}finally{o(!1)}}async function f(g,x,j){var w,b,N;u(g*100+x);try{const E=j.name.replace(/[^a-zA-Z0-9_.-]/g,"_"),A=`images/cultos/blocos/block_${g+1}/img_${x+1}/${Date.now()}_${E}`,O=kn(da,A);await io(O,j);const M=await Ci(O),L=(N=(b=(w=e.blocks[g])==null?void 0:w.images)==null?void 0:b[x])==null?void 0:N.imageStoragePath;if(L&&L.length>0&&L!==A)try{await hu(kn(da,L))}catch{}r(I=>{const T=[...I.blocks],_=[...T[g].images??[]];return _[x]={..._[x],imageUrl:M,imageStoragePath:A},T[g]={...T[g],images:_},{...I,blocks:T}}),t("success",`Imagem ${x+1} do Bloco ${g+1} atualizada.`)}catch(E){console.error("Falha no upload da imagem do bloco",E);const A=E!=null&&E.message?`Falha no upload: ${E.message}`:"Falha no upload";t("error",A)}finally{u(null)}}const p=v.useMemo(()=>!i,[i]);return s.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Culto-Blocos  Configuraes"}),s.jsx("p",{className:"text-sm text-jkd-text mb-6",children:"Defina o dia da semana para cada bloco e atribua uma imagem de largura total (por upload ou URL). A linha divisria entre blocos usa a cor do tema automaticamente."}),s.jsxs("form",{onSubmit:h,className:"bg-jkd-bg-sec border border-jkd-border rounded-lg p-4 shadow-sm grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"rounded-lg border border-jkd-border p-4 bg-jkd-bg",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Altura dos blocos (Desktop, px)"}),s.jsx("input",{type:"number",min:200,max:1200,className:"w-full px-3 py-2 rounded border border-jkd-border bg-transparent text-jkd-text",value:e.containerHeightDesktop??400,onChange:g=>r(x=>({...x,containerHeightDesktop:Number(g.target.value)}))}),s.jsx("p",{className:"mt-1 text-xs text-jkd-text",children:"Afeta continer, blocos e linhas divisrias."})]}),s.jsxs("div",{className:"rounded-lg border border-jkd-border p-4 bg-jkd-bg",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Altura dos blocos (Mobile, px)"}),s.jsx("input",{type:"number",min:200,max:1200,className:"w-full px-3 py-2 rounded border border-jkd-border bg-transparent text-jkd-text",value:e.containerHeightMobile??e.containerHeightDesktop??400,onChange:g=>r(x=>({...x,containerHeightMobile:Number(g.target.value)}))}),s.jsx("p",{className:"mt-1 text-xs text-jkd-text",children:"Aplicado em telas pequenas."})]}),s.jsxs("div",{className:"rounded-lg border border-jkd-border p-4 bg-jkd-bg",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Altura do contedo (Desktop, px)"}),s.jsx("input",{type:"number",min:60,max:800,className:"w-full px-3 py-2 rounded border border-jkd-border bg-transparent text-jkd-text",value:e.contentHeightDesktop??140,onChange:g=>r(x=>({...x,contentHeightDesktop:Number(g.target.value)}))}),s.jsx("p",{className:"mt-1 text-xs text-jkd-text",children:"Altura mnima reservada para textos; alinhado ao rodap por padro."})]}),s.jsxs("div",{className:"rounded-lg border border-jkd-border p-4 bg-jkd-bg",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Altura do contedo (Mobile, px)"}),s.jsx("input",{type:"number",min:60,max:800,className:"w-full px-3 py-2 rounded border border-jkd-border bg-transparent text-jkd-text",value:e.contentHeightMobile??e.contentHeightDesktop??140,onChange:g=>r(x=>({...x,contentHeightMobile:Number(g.target.value)}))}),s.jsx("p",{className:"mt-1 text-xs text-jkd-text",children:"Aplicado em telas pequenas; texto pode subir quando for extenso."})]}),s.jsxs("div",{className:"rounded-lg border border-jkd-border p-4 bg-jkd-bg",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Respiro inferior do contedo (Desktop, px)"}),s.jsx("input",{type:"number",min:0,max:160,className:"w-full px-3 py-2 rounded border border-jkd-border bg-transparent text-jkd-text",value:e.contentPaddingBottomDesktop??24,onChange:g=>r(x=>({...x,contentPaddingBottomDesktop:Number(g.target.value)}))}),s.jsx("p",{className:"mt-1 text-xs text-jkd-text",children:"Espao abaixo do texto no desktop. Padro 24px (pb-6)."})]}),s.jsxs("div",{className:"rounded-lg border border-jkd-border p-4 bg-jkd-bg",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Respiro inferior do contedo (Mobile, px)"}),s.jsx("input",{type:"number",min:0,max:160,className:"w-full px-3 py-2 rounded border border-jkd-border bg-transparent text-jkd-text",value:e.contentPaddingBottomMobile??16,onChange:g=>r(x=>({...x,contentPaddingBottomMobile:Number(g.target.value)}))}),s.jsx("p",{className:"mt-1 text-xs text-jkd-text",children:"Espao abaixo do texto em telas pequenas. Padro 16px (pb-4)."})]}),s.jsxs("div",{className:"rounded-lg border border-jkd-border p-4 bg-jkd-bg",children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Limitar ttulo a duas linhas no mobile"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:!!e.clampTitleMobile,onChange:g=>r(x=>({...x,clampTitleMobile:g.target.checked}))}),s.jsx("span",{className:"text-xs text-jkd-text",children:"Aplica truncamento com duas linhas (line-clamp)."})]})]})]}),e.blocks.map((g,x)=>s.jsxs("div",{className:"rounded-lg border border-jkd-border p-4 bg-jkd-bg",children:[s.jsxs("h2",{className:"text-lg font-semibold text-jkd-heading mb-3",children:["Bloco ",x+1]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Dia da Semana"}),s.jsxs("select",{className:"w-full px-3 py-2 rounded border border-jkd-border bg-transparent text-jkd-text",value:g.dayOfWeek??"",onChange:j=>{const w=j.target.value===""?null:Number(j.target.value);r(b=>{const N=[...b.blocks];return N[x]={...N[x],dayOfWeek:w},{...b,blocks:N}})},children:[s.jsx("option",{value:"",children:"Selecione..."}),X$e.map(j=>s.jsx("option",{value:j.value,children:j.label},j.value))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Alternncia de imagens (minutos)"}),s.jsx("input",{type:"number",min:0,max:180,className:"w-full px-3 py-2 rounded border border-jkd-border bg-transparent text-jkd-text",value:g.rotationMinutes??0,onChange:j=>{const w=Number(j.target.value);r(b=>{const N=[...b.blocks];return N[x]={...N[x],rotationMinutes:w},{...b,blocks:N}})}}),s.jsx("p",{className:"mt-1 text-xs text-jkd-text",children:"0 desativa; com 2+ imagens na mesma semana alterna com transio suave."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-jkd-heading mb-1",children:"Imagens por semana"}),s.jsxs("div",{className:"space-y-3",children:[(g.images??[]).map((j,w)=>s.jsx("div",{className:"border border-jkd-border rounded p-3",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-medium text-jkd-heading mb-1",children:"Semana do ms"}),s.jsxs("select",{className:"w-full px-3 py-2 rounded border border-jkd-border bg-transparent text-jkd-text",value:j.weekOfMonth??"1",onChange:b=>{const N=b.target.value;r(E=>{const A=[...E.blocks],O=[...A[x].images??[]];return O[w]={...O[w],weekOfMonth:N},A[x]={...A[x],images:O},{...E,blocks:A}})},children:[s.jsx("option",{value:"1",children:"Primeira"}),s.jsx("option",{value:"2",children:"Segunda"}),s.jsx("option",{value:"3",children:"Terceira"}),s.jsx("option",{value:"4",children:"Quarta"}),s.jsx("option",{value:"last",children:"ltima"})]}),s.jsx("p",{className:"mt-1 text-[11px] text-jkd-text",children:"Com uma imagem, ela  usada sempre; com vrias, usa a da semana."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-xs font-medium text-jkd-heading mb-1",children:"Imagem (URL)"}),s.jsx("input",{type:"url",className:"w-full px-3 py-2 rounded border border-jkd-border bg-transparent text-jkd-text",placeholder:"https://exemplo.com/imagem.jpg",value:j.imageUrl||"",onChange:b=>{const N=b.target.value;r(E=>{const A=[...E.blocks],O=[...A[x].images??[]];return O[w]={...O[w],imageUrl:N},A[x]={...A[x],images:O},{...E,blocks:A}})}}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[s.jsx("input",{type:"file",accept:"image/*",className:"w-full sm:w-auto",onChange:b=>{var N;return((N=b.target.files)==null?void 0:N[0])&&f(x,w,b.target.files[0])}}),s.jsxs("button",{type:"button",disabled:c===x*100+w,className:"inline-flex items-center gap-2 px-3 py-2 rounded bg-church-primary text-white disabled:opacity-60 w-full sm:w-auto",onClick:()=>{const b=document.createElement("input");b.type="file",b.accept="image/*",b.onchange=()=>{const N=b.files&&b.files[0]||null;N&&f(x,w,N)},b.click()},children:[s.jsx(ns,{className:"w-4 h-4"})," ",c===x*100+w?"Enviando...":"Enviar imagem"]}),s.jsx("button",{type:"button",className:"inline-flex items-center gap-2 px-3 py-2 rounded bg-red-600 text-white w-full sm:w-auto",onClick:()=>{r(b=>{const N=[...b.blocks],E=[...N[x].images??[]];return E.splice(w,1),N[x]={...N[x],images:E},{...b,blocks:N}})},children:"Remover"})]}),j.imageUrl&&s.jsxs("div",{className:"mt-2 text-xs text-jkd-text flex items-center gap-2",children:[s.jsx(Is,{className:"w-4 h-4"})," ",s.jsxs("span",{children:["Atual: ",j.imageUrl]})]})]})]})},w)),s.jsx("button",{type:"button",className:"mt-2 inline-flex items-center gap-2 px-3 py-2 rounded bg-blue-600 text-white w-full sm:w-auto",onClick:()=>{r(j=>{const w=[...j.blocks],b=[...w[x].images??[]];return b.push({imageUrl:"",imageStoragePath:"",weekOfMonth:"1"}),w[x]={...w[x],images:b},{...j,blocks:w}})},children:"Adicionar imagem"})]})]})]})]},x)),s.jsx("div",{className:"md:col-span-2 flex justify-end",children:s.jsxs("button",{type:"submit",disabled:!p,className:"px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 text-white inline-flex items-center gap-2 disabled:opacity-60",children:[s.jsx(as,{className:"w-4 h-4"})," ",i?"Salvando...":"Salvar configuraes"]})})]}),n&&s.jsx("p",{className:"text-sm text-jkd-text mt-4",children:"Carregando..."}),s.jsxs("div",{className:"mt-6 text-xs text-jkd-text",children:[s.jsxs("p",{children:["Documento: ",s.jsx("code",{children:"culto_blocos_settings/default"})]}),s.jsxs("p",{children:["Armazenamento: ",s.jsx("code",{children:"images/cultos/blocos/block_N/..."})]})]})]})},VF={approved:"bg-green-100 text-green-700 border-green-300",pending:"bg-amber-100 text-amber-700 border-amber-300",rejected:"bg-red-100 text-red-700 border-red-300",archived:"bg-gray-100 text-gray-700 border-gray-300",active:"bg-blue-100 text-blue-700 border-blue-300"},_A={approved:"Aprovado",pending:"Pendente",rejected:"Rejeitado",archived:"Arquivado",active:"Ativo"},Z$e={approved:"#16a34a",pending:"#f59e0b",rejected:"#dc2626",archived:"#6b7280",active:"#2563eb"},J$e=()=>{const{user:t}=xr(),{showToast:e}=Da(),r=mn(),[n,a]=v.useState(!0),[i,o]=v.useState([]),[c,u]=v.useState("todos"),[h,f]=v.useState(""),[p,g]=v.useState("createdAt"),[x,j]=v.useState("desc"),[w,b]=v.useState(0),[N,E]=v.useState(20),[A,O]=v.useState(null),[M,L]=v.useState([]),[I,T]=v.useState(!1),[_,D]=v.useState("detalhes"),[P,R]=v.useState("none"),[U,$]=v.useState(""),[K,F]=v.useState(!1),[W,te]=v.useState("Informe a senha para abrir o pedido (Painel)."),[X,B]=v.useState(null),G=ee=>{if(!ee)return 0;try{if(typeof ee=="number")return ee;if(ee!=null&&ee.seconds)return ee.seconds*1e3;if(typeof(ee==null?void 0:ee.toDate)=="function")return ee.toDate().getTime();const Oe=new Date(ee).getTime();return Number.isNaN(Oe)?0:Oe}catch{return 0}},J=ee=>{const ye=G(ee);return ye?new Date(ye).toLocaleString("pt-BR"):"-"},ne=v.useMemo(()=>{const ee=i.length,ye={approved:0,pending:0,rejected:0,archived:0,active:0},Oe={},We={},it={};let ut=0;const At={},wt={private:0,public:0};return i.forEach(st=>{ye[st.status]=(ye[st.status]||0)+1,ut+=st.prayCount||0,Oe[st.motif]=(Oe[st.motif]||0)+1,We[st.motif]=(We[st.motif]||0)+(st.prayCount||0);const Ce=st.affiliation||"nao_informado";it[Ce]=(it[Ce]||0)+(st.prayCount||0),st.isPrivate?wt.private++:wt.public++;const Ve=st.createdAt?new Date(st.createdAt.seconds?st.createdAt.seconds*1e3:st.createdAt):null;if(Ve){const Qe=`${Ve.getFullYear()}-${String(Ve.getMonth()+1).padStart(2,"0")}-${String(Ve.getDate()).padStart(2,"0")}`;At[Qe]=(At[Qe]||0)+1}}),{total:ee,byStatus:ye,byMotif:Oe,prayersByMotif:We,prayersByAffiliation:it,totalPrayers:ut,daily:At,byPrivacy:wt}},[i]);v.useEffect(()=>{(async()=>{a(!0);try{const ee=Et(we,"prayers"),ye=Er(ee,li("createdAt","desc")),Oe=await hn(ye),We=[];Oe.forEach(it=>We.push({id:it.id,...it.data()})),o(We)}catch(ee){console.error("Erro ao carregar pedidos:",ee),e("error",(ee==null?void 0:ee.message)||"Falha ao carregar pedidos.")}finally{a(!1)}})()},[]),v.useEffect(()=>{(async()=>{T(!0);try{const ee=Et(we,"prayer_comments"),ye=await hn(Er(ee,li("createdAt","desc"))),Oe=[];ye.forEach(We=>Oe.push({id:We.id,...We.data()})),L(Oe)}catch(ee){console.warn("Falha ao carregar comentrios:",ee)}finally{T(!1)}})()},[]);const ie=v.useMemo(()=>{const ee=c==="todos"?i:i.filter(We=>We.status===c),ye=(()=>{if(!h)return ee;const We=h.toLowerCase();return ee.filter(it=>(it.name||"").toLowerCase().includes(We)||(it.text||"").toLowerCase().includes(We)||(it.email||"").toLowerCase().includes(We)||(it.phone||"").toLowerCase().includes(We))})();return P==="none"||!U?ye:ye.filter(We=>{const it=G(We.createdAt);if(!it)return!1;const ut=new Date(it),At=String(ut.getFullYear()),wt=String(ut.getMonth()+1).padStart(2,"0"),st=String(ut.getDate()).padStart(2,"0");return P==="day"?`${At}-${wt}-${st}`===U:P==="year"?At===U:!0})},[i,c,h,P,U]),se=v.useMemo(()=>{const ee=Oe=>Oe?Oe.seconds?Oe.seconds*1e3:typeof Oe=="number"?Oe:new Date(Oe).getTime():0,ye=[...ie];return ye.sort((Oe,We)=>{let it,ut;return p==="createdAt"?(it=ee(Oe.createdAt),ut=ee(We.createdAt)):p==="name"?(it=(Oe.name||"").toLowerCase(),ut=(We.name||"").toLowerCase()):p==="status"?(it=Oe.status,ut=We.status):p==="motif"?(it=(Oe.motif||"").toLowerCase(),ut=(We.motif||"").toLowerCase()):p==="isPrivate"?(it=!!Oe.isPrivate,ut=!!We.isPrivate):(it=0,ut=0),it<ut?x==="asc"?-1:1:it>ut?x==="asc"?1:-1:0}),ye},[ie,p,x]),je=Math.max(1,Math.ceil(se.length/N)),Pe=Math.min(w,je-1),ue=v.useMemo(()=>{const ee=Pe*N;return se.slice(ee,ee+N)},[se,Pe,N]);v.useEffect(()=>{b(0)},[c,h,p,x,N,P,U]);const ae=v.useMemo(()=>{const ee=M.length,ye={},Oe={};M.forEach(it=>{ye[it.prayerId]=(ye[it.prayerId]||0)+1;const ut=it.createdAt;let At=0;try{ut?ut.seconds?At=ut.seconds*1e3:ut instanceof Date?At=ut.getTime():At=new Date(ut).getTime():At=0}catch{At=0}if(At){const wt=new Date(At),st=`${wt.getFullYear()}-${String(wt.getMonth()+1).padStart(2,"0")}-${String(wt.getDate()).padStart(2,"0")}`;Oe[st]=(Oe[st]||0)+1}});const We=Object.entries(ye).map(([it,ut])=>{const At=i.find(st=>st.id===it);return{name:At?(At.isPrivate?"Reservado":At.name||"Sem nome").slice(0,16):"Pedido",count:ut}});return{total:ee,byPrayerNamed:We,daily:Oe}},[M,i]),oe=async(ee,ye)=>{try{await Pr(at(we,"prayers",ee),{status:ye}),o(Oe=>Oe.map(We=>We.id===ee?{...We,status:ye}:We)),e("success",`Status atualizado para ${ye}.`)}catch(Oe){console.error("Erro ao atualizar status:",Oe);let We="Erro ao atualizar status.";(Oe==null?void 0:Oe.code)==="permission-denied"&&(We="Permisso negada. Faa login como administrador."),(Oe==null?void 0:Oe.code)==="unauthenticated"&&(We="Sesso expirada. Faa login novamente."),e("error",We)}},ve=async ee=>{try{try{const ye=await hn(Er(Et(we,"prayer_comments"),Vr("prayerId","==",ee))),Oe=[];ye.forEach(We=>Oe.push(ha(at(we,"prayer_comments",We.id)))),Oe.length&&await Promise.all(Oe)}catch(ye){console.warn("Aviso: falha ao excluir comentrios do pedido",ee,ye)}await ha(at(we,"prayers",ee)),o(ye=>ye.filter(Oe=>Oe.id!==ee)),e("success","Pedido deletado.")}catch(ye){console.error("Erro ao deletar pedido:",ye);let Oe="Erro ao deletar pedido.";(ye==null?void 0:ye.code)==="permission-denied"&&(Oe="Permisso negada. Faa login como administrador."),(ye==null?void 0:ye.code)==="unauthenticated"&&(Oe="Sesso expirada. Faa login novamente."),e("error",Oe)}},Y=ee=>{B(ee),te("Informe a senha para abrir o pedido (Painel)."),F(!0)},fe=ee=>{ee==="#PrEduardo*"&&X&&(O(X),B(null),F(!1))};return s.jsx("div",{className:"min-h-screen bg-jkd-bg py-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-jkd-heading",children:"Painel de Pedidos"}),s.jsx("p",{className:"text-jkd-text",children:"Visualize detalhes completos e gerencie os pedidos."})]}),s.jsx("button",{type:"button",onClick:()=>r("/site/pedido-de-oracao"),className:"px-3 py-2 rounded-md border border-jkd-border text-jkd-heading hover:bg-jkd-bg",children:"Voltar"})]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>D("detalhes"),className:`px-3 py-2 rounded-md border ${_==="detalhes"?"border-church-primary bg-church-primary/10 text-church-primary":"border-jkd-border hover:bg-jkd-border/30 text-jkd-text"}`,children:"Detalhes"}),s.jsx("button",{type:"button",onClick:()=>D("pedidos"),className:`px-3 py-2 rounded-md border ${_==="pedidos"?"border-church-primary bg-church-primary/10 text-church-primary":"border-jkd-border hover:bg-jkd-border/30 text-jkd-text"}`,children:"Pedidos"})]}),_==="detalhes"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Resumo"}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"p-2 rounded border bg-gray-50",children:[s.jsx("div",{className:"text-jkd-text",children:"Total"}),s.jsx("div",{className:"text-xl font-bold",children:ne.total})]}),s.jsxs("div",{className:"p-2 rounded border bg-green-50",children:[s.jsx("div",{className:"text-green-700",children:"Aprovados"}),s.jsx("div",{className:"text-xl font-bold",children:ne.byStatus.approved})]}),s.jsxs("div",{className:"p-2 rounded border bg-amber-50",children:[s.jsx("div",{className:"text-amber-700",children:"Pendentes"}),s.jsx("div",{className:"text-xl font-bold",children:ne.byStatus.pending})]}),s.jsxs("div",{className:"p-2 rounded border bg-red-50",children:[s.jsx("div",{className:"text-red-700",children:"Rejeitados"}),s.jsx("div",{className:"text-xl font-bold",children:ne.byStatus.rejected})]}),s.jsxs("div",{className:"p-2 rounded border bg-blue-50",children:[s.jsx("div",{className:"text-blue-700",children:"Ativos"}),s.jsx("div",{className:"text-xl font-bold",children:ne.byStatus.active})]}),s.jsxs("div",{className:"p-2 rounded border bg-gray-50",children:[s.jsx("div",{className:"text-jkd-text",children:"Total de oraes"}),s.jsx("div",{className:"text-xl font-bold",children:ne.totalPrayers})]})]})]}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-4 lg:col-span-2",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Distribuio por Status"}),s.jsx("div",{className:"mt-3 h-64 w-full",children:s.jsx($l,{children:s.jsxs(SA,{children:[s.jsx(x1,{dataKey:"value",data:Object.entries(ne.byStatus).map(([ee,ye])=>({status:ee,name:_A[ee],value:ye})),nameKey:"name",outerRadius:80,label:!0,children:Object.entries(ne.byStatus).map(([ee])=>s.jsx(pd,{fill:Z$e[ee]},ee))}),s.jsx(Fl,{}),s.jsx(Wi,{})]})})})]})]}),s.jsx("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-4 lg:col-span-2",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Pedidos por dia (30 dias)"}),s.jsx("div",{className:"mt-3 h-64 w-full",children:s.jsx($l,{children:s.jsxs(Tm,{data:Object.entries(ne.daily).slice(-30).map(([ee,ye])=>({day:ee,count:ye})),children:[s.jsx(id,{strokeDasharray:"3 3"}),s.jsx(od,{dataKey:"day",tick:{fontSize:12}}),s.jsx(ld,{allowDecimals:!1}),s.jsx(Fl,{}),s.jsx(Wi,{}),s.jsx(ll,{dataKey:"count",name:"Pedidos",fill:"#3b82f6"})]})})})]})}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Termmetro de Oraes"}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Acompanhe intensidade de orao por pedidos, motivos e vnculos."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-jkd-heading",children:"Pedidos mais orados"}),s.jsx("div",{className:"mt-2 h-64 w-full",children:s.jsx($l,{children:s.jsxs(Tm,{data:[...i].sort((ee,ye)=>(ye.prayCount||0)-(ee.prayCount||0)).slice(0,6).map(ee=>({name:(ee.isPrivate?"Reservado":ee.name||"Sem nome").slice(0,16),count:ee.prayCount||0})),children:[s.jsx(id,{strokeDasharray:"3 3"}),s.jsx(od,{dataKey:"name",tick:{fontSize:11}}),s.jsx(ld,{allowDecimals:!1}),s.jsx(Fl,{}),s.jsx(Wi,{}),s.jsx(ll,{dataKey:"count",name:"Oraes",fill:"#ef4444"})]})})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-jkd-heading",children:"Motivos mais orados"}),s.jsx("div",{className:"mt-2 h-64 w-full",children:s.jsx($l,{children:s.jsxs(Tm,{data:Object.entries(ne.prayersByMotif).sort((ee,ye)=>ye[1]-ee[1]).slice(0,6).map(([ee,ye])=>({name:Kc(ee),count:ye})),children:[s.jsx(id,{strokeDasharray:"3 3"}),s.jsx(od,{dataKey:"name",tick:{fontSize:11}}),s.jsx(ld,{allowDecimals:!1}),s.jsx(Fl,{}),s.jsx(Wi,{}),s.jsx(ll,{dataKey:"count",name:"Oraes",fill:"#22c55e"})]})})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-jkd-heading",children:"Vnculos orando"}),s.jsx("div",{className:"mt-2 h-64 w-full",children:s.jsx($l,{children:s.jsxs(SA,{children:[s.jsx(x1,{dataKey:"value",nameKey:"name",data:Object.entries(ne.prayersByAffiliation).map(([ee,ye])=>({name:ee==="membro"?"Membros":ee==="visitante"?"Visitantes":ee==="outro"?"Outros":"No informado",value:ye})),outerRadius:80,label:!0,children:Object.keys(ne.prayersByAffiliation).map((ee,ye)=>s.jsx(pd,{fill:ee==="membro"?"#3b82f6":ee==="visitante"?"#f59e0b":ee==="outro"?"#6366f1":"#9ca3af"},ee+ye))}),s.jsx(Fl,{}),s.jsx(Wi,{})]})})})]})]})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Comentrios"}),s.jsx("p",{className:"text-sm text-jkd-text",children:"Total, distribuio por pedido e atividade diria."}),I?s.jsx("p",{className:"text-jkd-text",children:"Carregando comentrios..."}):s.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-jkd-heading",children:"Resumo"}),s.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-jkd-bg rounded border border-jkd-border p-3 text-center",children:[s.jsx("p",{className:"text-xs text-jkd-text",children:"Total"}),s.jsx("p",{className:"text-xl font-bold text-jkd-heading",children:ae.total})]}),s.jsxs("div",{className:"bg-jkd-bg rounded border border-jkd-border p-3 text-center",children:[s.jsx("p",{className:"text-xs text-jkd-text",children:"Pedidos nicos"}),s.jsx("p",{className:"text-xl font-bold text-jkd-heading",children:ae.byPrayerNamed.length})]}),s.jsxs("div",{className:"bg-jkd-bg rounded border border-jkd-border p-3 text-center",children:[s.jsx("p",{className:"text-xs text-jkd-text",children:"Mdia por pedido"}),s.jsx("p",{className:"text-xl font-bold text-jkd-heading",children:ae.byPrayerNamed.length?Math.round(ae.total/ae.byPrayerNamed.length*10)/10:0})]})]})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-jkd-heading",children:"Top pedidos por comentrios"}),s.jsx("div",{className:"mt-2 h-64 w-full",children:s.jsx($l,{children:s.jsxs(Tm,{data:[...ae.byPrayerNamed].sort((ee,ye)=>ye.count-ee.count).slice(0,8),children:[s.jsx(id,{strokeDasharray:"3 3"}),s.jsx(od,{dataKey:"name",tick:{fontSize:11}}),s.jsx(ld,{allowDecimals:!1}),s.jsx(Fl,{}),s.jsx(Wi,{}),s.jsx(ll,{dataKey:"count",name:"Comentrios",fill:"#3b82f6"})]})})})]}),s.jsxs("div",{className:"lg:col-span-3",children:[s.jsx("h3",{className:"text-sm font-semibold text-jkd-heading",children:"Comentrios por dia"}),s.jsx("div",{className:"mt-2 h-64 w-full",children:s.jsx($l,{children:s.jsxs(Tm,{data:Object.entries(ae.daily).sort((ee,ye)=>ee[0].localeCompare(ye[0])).map(([ee,ye])=>({day:ee,count:ye})),children:[s.jsx(id,{strokeDasharray:"3 3"}),s.jsx(od,{dataKey:"day",tick:{fontSize:11}}),s.jsx(ld,{allowDecimals:!1}),s.jsx(Fl,{}),s.jsx(Wi,{}),s.jsx(ll,{dataKey:"count",name:"Comentrios",fill:"#10b981"})]})})})]})]})]}),s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading",children:"Distribuio por Privacidade"}),s.jsx("div",{className:"mt-3 h-64 w-full",children:s.jsx($l,{children:s.jsxs(SA,{children:[s.jsxs(x1,{dataKey:"value",nameKey:"name",data:[{name:"Privados",value:ne.byPrivacy.private},{name:"Pblicos",value:ne.byPrivacy.public}],outerRadius:80,label:!0,children:[s.jsx(pd,{fill:"#6b7280"}),s.jsx(pd,{fill:"#3b82f6"})]}),s.jsx(Fl,{}),s.jsx(Wi,{})]})})})]})]}),_==="pedidos"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-4 flex flex-wrap items-center gap-3",children:[s.jsxs("select",{value:c,onChange:ee=>u(ee.target.value),className:"px-3 py-2 rounded border border-jkd-border bg-jkd-bg text-jkd-text",children:[s.jsx("option",{value:"todos",children:"Todos"}),s.jsx("option",{value:"pending",children:"Pendentes"}),s.jsx("option",{value:"approved",children:"Aprovados"}),s.jsx("option",{value:"rejected",children:"Rejeitados"}),s.jsx("option",{value:"archived",children:"Arquivados"}),s.jsx("option",{value:"active",children:"Ativos"})]}),s.jsx("input",{value:h,onChange:ee=>f(ee.target.value),placeholder:"Buscar por nome, texto, email, telefone",className:"flex-1 min-w-[220px] px-3 py-2 rounded border border-jkd-border bg-jkd-bg text-jkd-text"}),s.jsxs("select",{value:P,onChange:ee=>{R(ee.target.value),$("")},className:"px-3 py-2 rounded border border-jkd-border bg-jkd-bg text-jkd-text",children:[s.jsx("option",{value:"none",children:"S/ filtro de data"}),s.jsx("option",{value:"day",children:"Por dia"}),s.jsx("option",{value:"year",children:"Por ano"})]}),P==="day"&&s.jsx("input",{type:"date",value:U,onChange:ee=>$(ee.target.value),className:"px-3 py-2 rounded border border-jkd-border bg-jkd-bg text-jkd-text"}),P==="year"&&s.jsx("input",{type:"number",min:1990,max:2100,value:U,onChange:ee=>$(ee.target.value),placeholder:"AAAA",className:"w-[100px] px-3 py-2 rounded border border-jkd-border bg-jkd-bg text-jkd-text"})]}),s.jsx("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-4",children:n?s.jsx("p",{className:"text-jkd-text",children:"Carregando..."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:ue.map(ee=>s.jsxs("button",{className:"text-left bg-jkd-bg border border-jkd-border rounded-lg p-4 hover:border-church-primary/60 focus:outline-none focus:ring-2 focus:ring-church-primary/40",onClick:()=>{ee.isPrivate?Y(ee):O(ee)},"aria-label":`Abrir detalhes do pedido de ${ee.name}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-semibold text-jkd-heading",children:ee.isPrivate?"***********":ee.hideName?"Reservado":ee.name||"Sem nome"}),s.jsx("span",{className:`inline-block px-2 py-1 rounded border text-xs ${VF[ee.status]}`,children:_A[ee.status]})]}),s.jsx("div",{className:"mt-1 text-xs text-jkd-text",children:J(ee.createdAt)}),s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"inline-block px-2 py-0.5 rounded bg-church-primary/10 text-church-primary text-xs",children:Kc(ee.motif||"Outros")}),s.jsx("span",{className:`ml-2 inline-block px-2 py-0.5 rounded border text-xs ${ee.isPrivate?"bg-gray-100 text-gray-700 border-gray-300":"bg-blue-100 text-blue-700 border-blue-300"}`,children:ee.isPrivate?"Privado":"Pblico"})]})]},ee.id))}),s.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-2 py-1 rounded border border-jkd-border",disabled:Pe<=0,onClick:()=>b(Math.max(0,Pe-1)),children:"Anterior"}),s.jsx("button",{className:"px-2 py-1 rounded border border-jkd-border",disabled:Pe>=je-1,onClick:()=>b(Math.min(je-1,Pe+1)),children:"Prxima"}),s.jsxs("span",{className:"text-jkd-text",children:["Pgina ",Pe+1," de ",je]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-jkd-text",children:"Itens por pgina"}),s.jsx("select",{value:N,onChange:ee=>E(Number(ee.target.value)),className:"px-2 py-1 rounded border border-jkd-border bg-jkd-bg text-jkd-text",children:[10,20,50,100].map(ee=>s.jsx("option",{value:ee,children:ee},ee))})]})]})]})})]}),A&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>O(null)}),s.jsxs("div",{className:"relative bg-jkd-bg-sec border border-jkd-border rounded-lg w-full max-w-2xl max-h-[85vh] overflow-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-jkd-border",children:[s.jsx("h3",{className:"text-lg font-semibold text-jkd-heading",children:"Detalhes do Pedido"}),s.jsx("button",{className:"p-2 rounded hover:bg-jkd-border",onClick:()=>O(null),"aria-label":"Fechar",children:""})]}),s.jsxs("div",{className:"p-4 space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-jkd-text",children:"Nome"}),s.jsx("div",{className:"font-medium text-jkd-heading",children:A.isPrivate?A.name||"Sem nome":A.hideName?"Reservado":A.name||"Sem nome"})]}),s.jsx("span",{className:`inline-block px-2 py-1 rounded border text-xs ${VF[A.status]}`,children:_A[A.status]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-jkd-text",children:"Contato"}),s.jsx("div",{className:"text-jkd-heading",children:[A.email,A.phone].filter(Boolean).join(" / ")||"-"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-jkd-text",children:"Data"}),s.jsx("div",{className:"text-jkd-heading",children:A.createdAt?new Date(A.createdAt.seconds?A.createdAt.seconds*1e3:A.createdAt).toLocaleString("pt-BR"):"-"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-jkd-text",children:"Motivo"}),s.jsx("div",{className:"text-jkd-heading",children:Kc(A.motif||"Outros")})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-jkd-text",children:"Privado"}),s.jsx("div",{className:"text-jkd-heading",children:A.isPrivate?"Sim":"No"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-jkd-text",children:"Pedido"}),s.jsx("div",{className:"text-jkd-heading whitespace-pre-wrap",children:A.text})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-jkd-text",children:"Imagem"}),s.jsx("div",{children:A.imageUrl?s.jsx("a",{href:A.imageUrl,target:"_blank",rel:"noreferrer",className:"text-church-primary",children:"Abrir imagem"}):s.jsx("span",{className:"text-jkd-heading",children:"-"})})]}),s.jsxs("div",{className:"pt-2 border-t border-jkd-border",children:[s.jsx("div",{className:"text-jkd-text mb-2",children:"Aes"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{onClick:()=>A&&oe(A.id,"approved"),className:"px-3 py-1.5 rounded bg-green-600 text-white hover:bg-green-700",children:"Aprovar"}),s.jsx("button",{onClick:()=>A&&oe(A.id,"pending"),className:"px-3 py-1.5 rounded bg-amber-500 text-white hover:bg-amber-600",children:"Pendente"}),s.jsx("button",{onClick:()=>A&&oe(A.id,"rejected"),className:"px-3 py-1.5 rounded bg-red-600 text-white hover:bg-red-700",children:"Rejeitar"}),s.jsx("button",{onClick:()=>A&&oe(A.id,"archived"),className:"px-3 py-1.5 rounded bg-gray-600 text-white hover:bg-gray-700",children:"Arquivar"}),s.jsx("button",{onClick:()=>{A&&(ve(A.id),O(null))},className:"px-3 py-1.5 rounded bg-gray-300 text-jkd-heading hover:bg-gray-400",children:"Deletar"})]})]})]})]})]}),s.jsx(fv,{isOpen:K,title:"Acesso Restrito",message:W,inputLabel:"Senha",onConfirm:fe,onCancel:()=>{F(!1),B(null)}})]})})},eBe=()=>{const{user:t,firebaseUser:e}=xr(),r=v.useMemo(()=>!!(t||e),[t,e]);return s.jsxs("div",{className:"min-h-screen bg-jkd-bg py-6",children:[s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-jkd-heading flex items-center gap-2",children:[s.jsx(Gm,{className:"h-16 w-16 text-church-primary"}),"Meus Pedidos"]}),s.jsx("p",{className:"text-jkd-text mt-1",children:"Aqui aparecem os seus pedidos de orao."})]}),s.jsx("div",{children:s.jsx(xt,{to:"/site/pedido-de-oracao",className:"px-3 py-2 rounded-md border border-jkd-border text-jkd-heading hover:bg-jkd-bg",children:"Voltar"})})]}),s.jsx("div",{className:"mt-6",children:s.jsx("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-4",children:r?s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-jkd-text",children:"Somente voc v seus pedidos nesta rea."}),s.jsx(pee,{mode:"mine"})]}):s.jsx("p",{className:"text-jkd-text",children:"Faa login para ver seus pedidos."})})})]}),s.jsx(gee,{})]})};function js(...t){return t.filter(Boolean).join(" ")}const Vm=({src:t,alt:e="Avatar",className:r,size:n=36,isOnline:a})=>{const i={width:n,height:n},o="https://api.dicebear.com/8.x/initials/svg?seed="+encodeURIComponent(e||"User");return s.jsxs("div",{className:js("relative rounded-full flex-shrink-0 bg-light-bg-muted dark:bg-dark-bg-muted",r),style:i,children:[t?s.jsx("img",{src:t,alt:e,className:"w-full h-full rounded-full object-cover"}):s.jsx("img",{src:o,alt:e,className:"w-full h-full rounded-full object-cover"}),typeof a=="boolean"&&s.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 h-2 w-2 rounded-full border ${a?"bg-green-500":"bg-gray-400"} border-white dark:border-jkd-bg`})]})},tBe=({users:t,groups:e,currentUserId:r,selectedUserId:n,selectedGroupId:a,onlineUserIds:i=[],unreadCountByUserId:o={},unreadCountByGroupId:c={},onSelectUser:u,onSelectGroup:h})=>{const[f,p]=v.useState("leaders"),[g,x]=v.useState(""),j=v.useMemo(()=>{const E=t.filter(O=>O.id!==r);if(!g.trim())return E;const A=g.toLowerCase();return E.filter(O=>(O.name||"").toLowerCase().includes(A)||(O.email||"").toLowerCase().includes(A))},[t,r,g]),w=v.useMemo(()=>{if(!g.trim())return e;const E=g.toLowerCase();return e.filter(A=>(A.name||"").toLowerCase().includes(E))},[e,g]),b=v.useMemo(()=>{switch(f){case"leaders":return"Pesquisar lderes...";case"departments":return"Pesquisar ministrios ou departamentos...";case"members":return"Pesquisar membros ou ministrios...";default:return"Pesquisar..."}},[f]),N=E=>(E.leaderIds||[]).filter(O=>{const M=t.find(I=>I.id===O),L=M==null?void 0:M.status;return M?!L||L==="active"||L==="approved":!1}).length;return s.jsxs("aside",{className:"w-full sm:w-80 border-r border-jkd-border bg-light-bg dark:bg-dark-bg",children:[s.jsxs("div",{className:"flex items-center gap-6 px-3 pt-3",children:[s.jsxs("button",{className:js("relative pb-2 text-sm font-medium",f==="leaders"?"text-church-primary":"text-light-text dark:text-dark-text hover:text-church-primary"),onClick:()=>p("leaders"),children:["Lderes",s.jsx("span",{className:"ml-2 inline-flex items-center justify-center text-[11px] px-1.5 rounded-full bg-light-bg-muted dark:bg-dark-bg-muted text-light-text dark:text-dark-text",children:t.filter(E=>E.id!==r).length}),f==="leaders"&&s.jsx("span",{className:"absolute left-0 right-0 -bottom-[1px] h-[2px] bg-church-primary"})]}),s.jsxs("button",{className:js("relative pb-2 text-sm font-medium",f==="departments"?"text-church-primary":"text-light-text dark:text-dark-text hover:text-church-primary"),onClick:()=>p("departments"),children:["Minist./Depart.",s.jsx("span",{className:"ml-2 inline-flex items-center justify-center text-[11px] px-1.5 rounded-full bg-light-bg-muted dark:bg-dark-bg-muted text-light-text dark:text-dark-text",children:e.length}),f==="departments"&&s.jsx("span",{className:"absolute left-0 right-0 -bottom-[1px] h-[2px] bg-church-primary"})]}),s.jsxs("button",{className:js("relative pb-2 text-sm font-medium",f==="members"?"text-church-primary":"text-light-text dark:text-dark-text hover:text-church-primary"),onClick:()=>p("members"),children:["Membros",s.jsx("span",{className:"ml-2 inline-flex items-center justify-center text-[11px] px-1.5 rounded-full bg-light-bg-muted dark:bg-dark-bg-muted text-light-text dark:text-dark-text",children:t.length}),f==="members"&&s.jsx("span",{className:"absolute left-0 right-0 -bottom-[1px] h-[2px] bg-church-primary"})]})]}),s.jsx("div",{className:"p-3 border-b border-jkd-border",children:s.jsx("input",{type:"text",placeholder:b,className:"w-full px-3 py-2 rounded-md bg-light-bg-muted dark:bg-dark-bg-muted text-light-text dark:text-dark-text outline-none",value:g,onChange:E=>x(E.target.value)})}),s.jsxs("div",{className:"overflow-y-auto",style:{maxHeight:"calc(100vh - 56px - 48px)"},children:[f==="leaders"&&s.jsxs("div",{children:[j.map(E=>s.jsxs("button",{className:js("w-full flex items-center gap-3 px-3 py-2 border-b border-jkd-border hover:bg-light-bg-muted dark:hover:bg-dark-bg-muted text-left",n===E.id?"bg-light-bg-muted dark:bg-dark-bg-muted":""),onClick:()=>u(E.id),children:[s.jsx(Vm,{src:E.avatarUrl,alt:E.name,size:36,isOnline:i.includes(E.id)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-light-heading dark:text-dark-heading line-clamp-1",children:E.name}),s.jsx("div",{className:"text-xs text-light-text dark:text-dark-text opacity-70 line-clamp-1",children:E.email||""})]}),(o[E.id]||0)>0&&n!==E.id&&s.jsx("span",{className:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full bg-green-500 text-white text-[11px] font-semibold",children:o[E.id]||0})]},E.id)),j.length===0&&s.jsx("div",{className:"p-4 text-center text-sm text-light-text dark:text-dark-text opacity-70",children:"Nenhum lder encontrado."})]}),f==="departments"&&s.jsxs("div",{children:[w.map(E=>s.jsxs("button",{className:js("w-full flex items-center gap-3 px-3 py-2 border-b border-jkd-border hover:bg-light-bg-muted dark:hover:bg-dark-bg-muted text-left",a===E.id?"bg-light-bg-muted dark:bg-dark-bg-muted":""),onClick:()=>h(E.id),children:[s.jsx(Vm,{src:E.logoUrl,alt:E.name,size:36}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-light-heading dark:text-dark-heading line-clamp-1",children:E.name}),s.jsxs("div",{className:"text-xs text-light-text dark:text-dark-text opacity-70 line-clamp-1",children:[N(E)," lderes"]})]}),(c[E.id]||0)>0&&a!==E.id&&s.jsx("span",{className:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full bg-green-500 text-white text-[11px] font-semibold",children:c[E.id]||0})]},E.id)),w.length===0&&s.jsx("div",{className:"p-4 text-center text-sm text-light-text dark:text-dark-text opacity-70",children:"Nenhum ministrio ou departamento encontrado."})]}),f==="members"&&s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-light-text dark:text-dark-text",children:"Ministrios"}),w.map(E=>s.jsxs("button",{className:js("w-full flex items-center gap-3 px-3 py-2 border-b border-jkd-border hover:bg-light-bg-muted dark:hover:bg-dark-bg-muted text-left",a===E.id?"bg-light-bg-muted dark:bg-dark-bg-muted":""),onClick:()=>h(E.id),children:[s.jsx(Vm,{src:E.logoUrl,alt:E.name,size:36}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-light-heading dark:text-dark-heading line-clamp-1",children:E.name}),s.jsxs("div",{className:"text-xs text-light-text dark:text-dark-text opacity-70 line-clamp-1",children:[N(E)," lderes"]})]}),(c[E.id]||0)>0&&a!==E.id&&s.jsx("span",{className:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full bg-green-500 text-white text-[11px] font-semibold",children:c[E.id]||0})]},E.id)),s.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-light-text dark:text-dark-text",children:"Membros"}),j.map(E=>s.jsxs("button",{className:js("w-full flex items-center gap-3 px-3 py-2 border-b border-jkd-border hover:bg-light-bg-muted dark:hover:bg-dark-bg-muted text-left",n===E.id?"bg-light-bg-muted dark:bg-dark-bg-muted":""),onClick:()=>u(E.id),children:[s.jsx(Vm,{src:E.avatarUrl,alt:E.name,size:36,isOnline:i.includes(E.id)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-light-heading dark:text-dark-heading line-clamp-1",children:E.name}),s.jsx("div",{className:"text-xs text-light-text dark:text-dark-text opacity-70 line-clamp-1",children:E.email||""})]}),(o[E.id]||0)>0&&n!==E.id&&s.jsx("span",{className:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full bg-green-500 text-white text-[11px] font-semibold",children:o[E.id]||0})]},E.id)),w.length===0&&j.length===0&&s.jsx("div",{className:"p-4 text-center text-sm text-light-text dark:text-dark-text opacity-70",children:"Nenhum resultado encontrado."})]})]})]})},zF=({text:t,attachments:e=[],timestamp:r,isMe:n=!1,read:a=!0,pinned:i=!1,onTogglePin:o,onDeleteForMe:c,onDeleteForAll:u})=>{const{settings:h}=cr(),f=(h==null?void 0:h.leaderChatAppearance)||{},p=(f==null?void 0:f.sentMessageBackground)||"#1D4ED8",g=(f==null?void 0:f.sentMessageTextColor)||"#ffffff",x=(f==null?void 0:f.receivedMessageBackground)||"#F3F4F6",j=(f==null?void 0:f.receivedMessageTextColor)||"#111827",w=r?new Date(r).toLocaleString():void 0,b={backgroundColor:n?p:x,color:n?g:j},N={color:n?g:j,opacity:.75},E={color:n?g:j},A=!!t&&t.trim().length>0,O=Array.isArray(e)&&e.length>0;return s.jsxs("div",{className:js("max-w-[80%] rounded-lg px-3 py-2 text-sm shadow-sm space-y-2",n?"ml-auto":"mr-auto"),style:b,children:[O&&s.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((M,L)=>s.jsxs("div",{className:"overflow-hidden rounded-md",children:[M.type==="image"&&s.jsx("img",{src:M.url,alt:M.name||"imagem",className:"max-h-56 max-w-[280px] object-cover rounded-md cursor-pointer",onClick:()=>window.open(M.url,"_blank")}),M.type==="video"&&s.jsx("video",{src:M.url,controls:!0,className:"max-h-56 max-w-[320px] rounded-md"}),M.type==="audio"&&s.jsx("audio",{src:M.url,controls:!0,className:"w-[280px]"}),M.type==="pdf"&&s.jsxs("a",{href:M.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-2 py-2 rounded-md bg-light-bg-muted dark:bg-dark-bg-muted text-light-text dark:text-dark-text",children:[s.jsx(Nf,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs",children:M.name||"PDF"})]})]},L))}),A&&s.jsx("div",{className:"whitespace-pre-wrap break-words",children:t}),s.jsxs("div",{className:js("mt-1 text-[11px] flex items-center justify-between"),style:N,children:[w&&s.jsx("span",{children:w}),typeof a=="boolean"&&s.jsx("span",{children:a?"Lida":"No lida"})]}),(o||c||u)&&s.jsxs("div",{className:"flex items-center gap-2 mt-1",style:E,children:[o&&s.jsx("button",{type:"button",onClick:o,title:i?"Desafixar":"Fixar",className:js("inline-flex items-center justify-center rounded hover:opacity-80"),style:E,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-pin text-light-text-alt dark:text-dark-text-alt","aria-hidden":"true",children:[s.jsx("path",{d:"M12 17v5"}),s.jsx("path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z"})]})}),c&&s.jsx("button",{type:"button",onClick:c,title:"Excluir para mim",className:js("inline-flex items-center justify-center rounded hover:opacity-80"),style:E,children:s.jsx(OT,{className:"w-4 h-4"})}),u&&s.jsx("button",{type:"button",onClick:u,title:"Excluir para todos",className:js("inline-flex items-center justify-center rounded hover:opacity-80"),style:E,children:s.jsx(Ss,{className:"w-4 h-4"})})]})]})},rBe=({onSend:t,disabled:e,placeholder:r="Escreva uma mensagem..."})=>{const[n,a]=v.useState(""),[i,o]=v.useState([]),[c,u]=v.useState(!1),[h,f]=v.useState(!1),p=v.useRef(null),{user:g}=xr(),x=()=>{const E=n.trim();!E&&i.length===0||(t(E,i),a(""),o([]),f(!1))},j=()=>{var E;(E=p.current)==null||E.click()},w=async E=>{const A=Array.from(E.target.files||[]);if(!(!A.length||!g)){u(!0);try{const O=[];for(const M of A){const L=await a3e(M,g.id);let I="image";(M.type||"").startsWith("video/")?I="video":(M.type||"").startsWith("audio/")?I="audio":(M.type||"").toLowerCase()==="application/pdf"&&(I="pdf"),O.push({type:I,url:L.url,storagePath:L.storagePath,name:L.name,size:L.size,contentType:L.contentType})}o(M=>[...M,...O])}catch(O){console.error("Falha ao anexar arquivo(s):",O)}finally{u(!1),p.current&&(p.current.value="")}}},b=E=>{o(A=>A.filter((O,M)=>M!==E))},N=["","","","","","","","","",""];return s.jsxs("div",{className:"flex flex-col gap-2 p-2 border-t border-jkd-border bg-light-bg dark:bg-dark-bg relative",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:js("p-2 rounded-md hover:bg-light-bg-muted dark:hover:bg-dark-bg-muted"),title:"Emoji",disabled:e,onClick:()=>f(E=>!E),children:s.jsx(d1e,{className:"w-5 h-5 text-light-text dark:text-dark-text"})}),h&&s.jsx("div",{className:"absolute bottom-12 left-2 z-10 bg-light-bg-muted dark:bg-dark-bg-muted border border-jkd-border rounded-md p-2 shadow-md flex flex-wrap gap-1 w-56",children:N.map(E=>s.jsx("button",{className:"px-2 py-1 rounded hover:bg-light-bg dark:hover:bg-dark-bg",onClick:()=>a(A=>A+E),children:E},E))}),s.jsx("button",{className:js("p-2 rounded-md hover:bg-light-bg-muted dark:hover:bg-dark-bg-muted"),title:"Anexar",disabled:e||c||!g,onClick:j,children:s.jsx(V0e,{className:"w-5 h-5 text-light-text dark:text-dark-text"})}),s.jsx("input",{ref:p,type:"file",className:"hidden",multiple:!0,onChange:w,accept:"image/*,video/*,audio/*,application/pdf"}),s.jsx("input",{className:js("flex-1 px-3 py-2 rounded-md bg-light-bg-muted dark:bg-dark-bg-muted text-light-text dark:text-dark-text outline-none"),value:n,onChange:E=>a(E.target.value),onKeyDown:E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),x())},placeholder:r,disabled:e}),s.jsxs("button",{className:js("inline-flex items-center gap-1 px-3 py-2 rounded-md bg-church-primary/90 text-white hover:bg-church-primary/80 disabled:opacity-50 disabled:cursor-not-allowed"),onClick:x,disabled:e||c||!n.trim()&&i.length===0,title:"Enviar",children:[s.jsx(a1e,{className:"w-4 h-4"}),"Enviar"]})]}),i.length>0&&s.jsxs("div",{className:"mt-2 w-full bg-light-bg dark:bg-dark-bg border border-jkd-border rounded-md p-2 shadow-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-xs text-light-text dark:text-dark-text",children:["Anexos (",i.length,")"]}),s.jsx("span",{className:"text-xs text-light-text dark:text-dark-text opacity-70",children:c?"Carregando...":""})]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:i.map((E,A)=>s.jsxs("div",{className:"relative",children:[E.type==="image"&&s.jsx("img",{src:E.url,alt:E.name||"imagem",className:"w-20 h-20 object-cover rounded"}),E.type==="video"&&s.jsx("video",{src:E.url,className:"w-32 h-20 rounded"}),E.type==="audio"&&s.jsx("div",{className:"px-2 py-1 text-xs rounded bg-light-bg-muted dark:bg-dark-bg-muted text-light-text dark:text-dark-text",children:E.name||"udio"}),E.type==="pdf"&&s.jsxs("a",{href:E.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-2 py-1 text-xs rounded bg-light-bg-muted dark:bg-dark-bg-muted text-light-text dark:text-dark-text",children:[s.jsx(Nf,{className:"w-4 h-4"}),s.jsx("span",{children:E.name||"Documento PDF"})]}),s.jsx("button",{type:"button",className:"absolute -top-2 -right-2 bg-black/50 text-white rounded-full p-1",title:"Remover",onClick:()=>b(A),children:s.jsx(On,{className:"w-3 h-3"})})]},A))})]})]})},nBe=()=>s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-light-bg-muted dark:bg-dark-bg-muted flex items-center justify-center mb-4",children:s.jsx(P0e,{className:"w-6 h-6 text-light-text dark:text-dark-text"})}),s.jsx("h2",{className:"text-xl font-semibold text-light-heading dark:text-dark-heading",children:"Selecione uma conversa"}),s.jsx("p",{className:"mt-2 text-sm text-light-text dark:text-dark-text opacity-80 max-w-sm",children:"Escolha um lder na lista  esquerda para comear. Suas conversas so privadas entre voc e os participantes selecionados."})]}),aBe=()=>{const{user:t}=xr(),{authorizedUsers:e,ministryDepartments:r,onlineUserIds:n,settings:a}=cr(),i=(t==null?void 0:t.id)||null,[o,c]=v.useState(null),[u,h]=v.useState(null),[f,p]=v.useState(null),[g,x]=v.useState(null),[j,w]=v.useState(null),[b,N]=v.useState([]),[E,A]=v.useState(null),[O,M]=v.useState({}),[L,I]=v.useState({}),T=v.useMemo(()=>e.find(X=>X.id===o)||null,[e,o]),_=v.useMemo(()=>r.find(X=>X.id===u)||null,[r,u]),D=v.useMemo(()=>b.filter(X=>{var ie,se;const B=X,G=(ie=B==null?void 0:B.createdAt)!=null&&ie.toDate?B.createdAt.toDate():typeof(B==null?void 0:B.createdAt)=="number"?new Date(B.createdAt):B==null?void 0:B.createdAt,J=E?!G||G>E:!0,ne=i?!!((se=B==null?void 0:B.hiddenBy)!=null&&se[i]):!1;return J&&!ne}),[b,E,i]),P=v.useMemo(()=>D.filter(X=>{var G;const B=X;return i?!!((G=B==null?void 0:B.pinnedBy)!=null&&G[i]):!1}),[D,i]),R=v.useMemo(()=>{const X=new Set(P.map(B=>B.id));return D.filter(B=>!X.has(B.id))},[D,P]);v.useEffect(()=>{let X=!1;async function B(){if(!i||!o){p(null),N([]);return}try{const G=await xpe(i,o);if(X)return;try{await Pr(at(we,"chats",G),{[`lastViewed.${i}`]:fn()})}catch{}p(G)}catch(G){console.error("Falha ao garantir sala de chat",G)}}return B(),()=>{X=!0}},[i,o]),v.useEffect(()=>{let X=!1;async function B(){if(!i||!u){x(null),N([]);return}try{const G=await wpe(u);if(X)return;try{await Pr(at(we,"groupChats",G),{[`lastViewed.${i}`]:fn()})}catch{}x(G),w("group")}catch(G){console.error("Falha ao garantir sala de chat de grupo",G)}}return B(),()=>{X=!0}},[i,u]),v.useEffect(()=>{if(!f)return;const X=Et(we,"chats",f,"messages"),B=Er(X,li("createdAt","asc")),G=Gn(B,async J=>{const ne=J.docs.map(ie=>({id:ie.id,...ie.data()}));if(N(ne),i)try{const ie=at(we,"chats",f);await Pr(ie,{[`lastViewed.${i}`]:fn()})}catch{}},J=>{console.error("Listener de mensagens falhou",J)});return()=>G()},[f,i]),v.useEffect(()=>{if(!g)return;const X=Et(we,"groupChats",g,"messages"),B=Er(X,li("createdAt","asc")),G=Gn(B,async J=>{const ne=J.docs.map(ie=>({id:ie.id,...ie.data()}));if(N(ne),i)try{const ie=at(we,"groupChats",g);await Pr(ie,{[`lastViewed.${i}`]:fn()})}catch{}},J=>{console.error("Listener de mensagens de grupo falhou",J)});return()=>G()},[g,i]),v.useEffect(()=>{!f||!i||(async()=>{var X,B;try{const J=(B=(X=(await nn(at(we,"chats",f))).data())==null?void 0:X.clearUntil)==null?void 0:B[i],ne=J!=null&&J.toDate?J.toDate():J instanceof Date?J:null;A(ne)}catch(G){console.warn("Falha ao ler clearUntil",G)}})()},[f,i]),v.useEffect(()=>{!g||!i||(async()=>{var X,B;try{const J=(B=(X=(await nn(at(we,"groupChats",g))).data())==null?void 0:X.clearUntil)==null?void 0:B[i],ne=J!=null&&J.toDate?J.toDate():J instanceof Date?J:null;A(ne)}catch(G){console.warn("Falha ao ler clearUntil (grupo)",G)}})()},[g,i]),v.useEffect(()=>{if(!i)return;const X=Et(we,"chats"),B=Er(X,Vr("participants","array-contains",i)),G=Gn(B,async J=>{const ne={},ie=[];J.forEach(se=>{var ve;const je=se.data(),ue=(je.participants||[]).find(Y=>Y!==i);if(!ue)return;if(o&&ue===o){ne[ue]=0;return}const ae=(ve=je.lastViewed)==null?void 0:ve[i],oe=ae!=null&&ae.toDate?ae.toDate():ae instanceof Date?ae:void 0;ie.push((async()=>{try{const Y=Et(we,"chats",se.id,"messages"),fe=oe?Er(Y,Vr("senderId","==",ue),Vr("createdAt",">",oe)):Er(Y,Vr("senderId","==",ue)),ye=(await B1(fe)).data().count||0;ne[ue]=ye}catch{ne[ue]=0}})())});try{await Promise.all(ie),M(ne)}catch{M(ne)}});return()=>{try{G()}catch{}}},[i,o]),v.useEffect(()=>{if(!i)return;const X={},B=[];r.forEach(G=>{B.push((async()=>{var J;try{if(u&&u===G.id){X[G.id]=0;return}const ie=(await nn(at(we,"groupChats",G.id))).data()||{},se=(J=ie==null?void 0:ie.lastViewed)==null?void 0:J[i],je=se!=null&&se.toDate?se.toDate():se instanceof Date?se:void 0,Pe=Et(we,"groupChats",G.id,"messages"),ue=je?Er(Pe,Vr("createdAt",">",je)):Pe,oe=(await B1(ue)).data().count||0;X[G.id]=oe}catch{X[G.id]=0}})())}),(async()=>{try{await Promise.all(B),I(X)}catch{I(X)}})()},[i,r,u]);const U=async(X,B)=>{if(i)try{j==="user"&&f?await ype(f,i,X,B):j==="group"&&g&&await kpe(g,i,X,B)}catch(G){console.error("Falha ao enviar mensagem",G)}},$=56,K=v.useRef(null);v.useEffect(()=>{const X=K.current;X&&(X.scrollTop=X.scrollHeight)},[b.length,P.length]);const F=(a==null?void 0:a.leaderChatAppearance)||{},W=(F==null?void 0:F.overlayUploadUrl)||(F==null?void 0:F.overlayImageUrl)||"",te=W?{backgroundImage:`url(${W})`,backgroundRepeat:(F==null?void 0:F.overlayRepeat)||"no-repeat",backgroundSize:(F==null?void 0:F.overlaySize)||"cover",backgroundPosition:(F==null?void 0:F.overlayPosition)||"center",opacity:Math.max(0,Math.min(1,Number((F==null?void 0:F.overlayOpacity)??.15))),pointerEvents:"none"}:{};return s.jsxs("div",{className:"min-h-[calc(100vh-56px)] grid grid-cols-1 sm:grid-cols-[320px_1fr] bg-light-bg dark:bg-dark-bg",children:[s.jsx(tBe,{users:e,groups:r,currentUserId:i,selectedUserId:o,selectedGroupId:u,onlineUserIds:n,unreadCountByUserId:O,unreadCountByGroupId:L,onSelectUser:X=>{c(X),h(null),x(null),w("user")},onSelectGroup:X=>{h(X),c(null),p(null),N([]),w("group")}}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-jkd-border bg-light-bg dark:bg-dark-bg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(nc,{className:"h-6 w-6 text-church-primary"}),s.jsx("h1",{className:"text-xl font-bold text-light-heading dark:text-dark-heading",children:"Lder-Chat"}),T&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-light-text dark:text-dark-text opacity-70",children:"/"}),s.jsx(Vm,{src:T.avatarUrl,alt:T.name,size:28,isOnline:n.includes(T.id)}),s.jsx("span",{className:"text-sm text-light-text dark:text-dark-text opacity-70",children:T.name})]}),!T&&_&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-light-text dark:text-dark-text opacity-70",children:"/"}),s.jsx(Vm,{src:_.logoUrl,alt:_.name,size:28}),s.jsx("span",{className:"text-sm text-light-text dark:text-dark-text opacity-70",children:_.name})]}),T&&f&&i&&s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsxs("button",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-light-bg-muted dark:bg-dark-bg-muted text-light-text dark:text-dark-text hover:bg-light-bg-muted/70 dark:hover:bg-dark-bg-muted/70",title:"Limpar para mim",onClick:async()=>{var X,B;try{await jpe(f,i);const J=(B=(X=(await nn(at(we,"chats",f))).data())==null?void 0:X.clearUntil)==null?void 0:B[i],ne=J!=null&&J.toDate?J.toDate():J instanceof Date?J:null;A(ne)}catch(G){console.error("Falha ao limpar para mim",G)}},children:[s.jsx(OT,{className:"w-4 h-4"})," ",s.jsx("span",{className:"text-xs",children:"Para mim"})]}),s.jsxs("button",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-light-bg-muted dark:bg-dark-bg-muted text-light-text dark:text-dark-text hover:bg-light-bg-muted/70 dark:hover:bg-dark-bg-muted/70",title:"Limpar mensagens de hoje (todos)",onClick:async()=>{if(f)try{await bpe(f)}catch(X){console.error("Falha ao limpar hoje",X)}},children:[s.jsx(Ss,{className:"w-4 h-4"})," ",s.jsx("span",{className:"text-xs",children:"Hoje"})]}),s.jsxs("button",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-light-bg-muted dark:bg-dark-bg-muted text-light-text dark:text-dark-text hover:bg-light-bg-muted/70 dark:hover:bg-dark-bg-muted/70",title:"Limpar tudo (todos)",onClick:async()=>{if(f)try{await vpe(f)}catch(X){console.error("Falha ao limpar tudo",X)}},children:[s.jsx(Ss,{className:"w-4 h-4"})," ",s.jsx("span",{className:"text-xs",children:"Tudo"})]})]}),!T&&_&&g&&i&&s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsxs("button",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-light-bg-muted dark:bg-dark-bg-muted text-light-text dark:text-dark-text hover:bg-light-bg-muted/70 dark:hover:bg-dark-bg-muted/70",title:"Limpar para mim",onClick:async()=>{var X,B;try{await Epe(g,i);const J=(B=(X=(await nn(at(we,"groupChats",g))).data())==null?void 0:X.clearUntil)==null?void 0:B[i],ne=J!=null&&J.toDate?J.toDate():J instanceof Date?J:null;A(ne)}catch(G){console.error("Falha ao limpar para mim (grupo)",G)}},children:[s.jsx(OT,{className:"w-4 h-4"})," ",s.jsx("span",{className:"text-xs",children:"Para mim"})]}),s.jsxs("button",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-light-bg-muted dark:bg-dark-bg-muted text-light-text dark:text-dark-text hover:bg-light-bg-muted/70 dark:hover:bg-dark-bg-muted/70",title:"Limpar mensagens de hoje (todos)",onClick:async()=>{if(g)try{await Spe(g)}catch(X){console.error("Falha ao limpar hoje (grupo)",X)}},children:[s.jsx(Ss,{className:"w-4 h-4"})," ",s.jsx("span",{className:"text-xs",children:"Hoje"})]}),s.jsxs("button",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-light-bg-muted dark:bg-dark-bg-muted text-light-text dark:text-dark-text hover:bg-light-bg-muted/70 dark:hover:bg-dark-bg-muted/70",title:"Limpar tudo (todos)",onClick:async()=>{if(g)try{await Npe(g)}catch(X){console.error("Falha ao limpar tudo (grupo)",X)}},children:[s.jsx(Ss,{className:"w-4 h-4"})," ",s.jsx("span",{className:"text-xs",children:"Tudo"})]})]})]}),s.jsxs(xt,{to:"/dashboard",className:"inline-flex items-center gap-2 text-church-primary hover:text-church-primary/80",children:[s.jsx(_s,{size:18}),s.jsx("span",{children:"Voltar ao Painel"})]})]}),s.jsxs("div",{className:"relative flex-1 flex flex-col",children:[W&&s.jsx("div",{className:"absolute inset-0 z-0",style:te}),s.jsx("div",{className:"border-b border-jkd-border relative z-10",children:s.jsx(rBe,{onSend:U,disabled:!i||!(j==="user"?f&&T:g&&_)})}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-3 py-3 relative z-10",ref:K,style:{maxHeight:`calc(100vh - ${$}px - 48px - 48px)`},children:[!T&&!_&&s.jsx(nBe,{}),(T||_)&&s.jsxs("div",{className:"space-y-1",children:[P.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs font-medium text-light-text dark:text-dark-text opacity-80 mb-1",children:"Fixadas"}),s.jsx("div",{className:"space-y-1",children:P.map(X=>{var B;return s.jsx(zF,{text:X.text,attachments:X.attachments||[],timestamp:(B=X.createdAt)!=null&&B.toDate?X.createdAt.toDate().getTime():void 0,isMe:X.senderId===i,read:!0,pinned:!0,onTogglePin:()=>{var J;if(!i)return;const G=!!((J=X==null?void 0:X.pinnedBy)!=null&&J[i]);j==="user"&&f?lL(f,X.id,i,!G).catch(ne=>console.error("Falha ao alternar pin",ne)):j==="group"&&g&&dL(g,X.id,i,!G).catch(ne=>console.error("Falha ao alternar pin (grupo)",ne))},onDeleteForMe:()=>{i&&(j==="user"&&f?cL(f,X.id,i).catch(G=>console.error("Falha ao excluir para mim",G)):j==="group"&&g&&hL(g,X.id,i).catch(G=>console.error("Falha ao excluir para mim (grupo)",G)))},onDeleteForAll:()=>{j==="user"&&f?oL(f,X.id).catch(G=>console.error("Falha ao excluir para todos",G)):j==="group"&&g&&uL(g,X.id).catch(G=>console.error("Falha ao excluir para todos (grupo)",G))}},`pinned-${X.id}`)})})]}),R.map(X=>{var B,G;return s.jsx(zF,{text:X.text,attachments:X.attachments||[],timestamp:(B=X.createdAt)!=null&&B.toDate?X.createdAt.toDate().getTime():void 0,isMe:X.senderId===i,read:!0,pinned:!!((G=X==null?void 0:X.pinnedBy)!=null&&G[i]),onTogglePin:()=>{var ne;if(!i)return;const J=!!((ne=X==null?void 0:X.pinnedBy)!=null&&ne[i]);j==="user"&&f?lL(f,X.id,i,!J).catch(ie=>console.error("Falha ao alternar pin",ie)):j==="group"&&g&&dL(g,X.id,i,!J).catch(ie=>console.error("Falha ao alternar pin (grupo)",ie))},onDeleteForMe:()=>{i&&(j==="user"&&f?cL(f,X.id,i).catch(J=>console.error("Falha ao excluir para mim",J)):j==="group"&&g&&hL(g,X.id,i).catch(J=>console.error("Falha ao excluir para mim (grupo)",J)))},onDeleteForAll:()=>{j==="user"&&f?oL(f,X.id).catch(J=>console.error("Falha ao excluir para todos",J)):j==="group"&&g&&uL(g,X.id).catch(J=>console.error("Falha ao excluir para todos (grupo)",J))}},X.id)})]})]})]})]})]})},sBe=()=>s.jsx("div",{className:"min-h-screen bg-jkd-bg",children:s.jsx(aBe,{})}),iBe=()=>{const t=mn();return s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:"Eclsia"}),s.jsx("p",{className:"text-sm text-jkd-text mt-2",children:"Gerenciamento de membros e visitantes"})]}),s.jsx("button",{type:"button",onClick:()=>t("/admin"),className:"inline-flex items-center gap-2 bg-church-primary text-white px-4 py-2 rounded-lg hover:bg-church-primary/90",children:"Voltar ao Painel"})]}),s.jsx("div",{className:"mt-6 bg-jkd-bg-sec rounded-lg border border-jkd-border p-6",children:s.jsx("div",{className:"text-jkd-text",children:"Em breve"})})]})})},oBe=()=>{const{id:t}=Mp(),{getAnnouncementById:e,getOccurrences:r,getAuthorizedUserById:n,toggleVideoModal:a}=cr(),{user:i}=xr(),o=v.useMemo(()=>t?e(t):void 0,[t,e]),c=v.useMemo(()=>{if(o)return r(o.rruleString,new Date,new Date(new Date().getFullYear()+1,11,31))[0]},[o,r]),u=v.useMemo(()=>o?n(o.authorId):void 0,[o,n]),h=p=>{const g=typeof p=="string"?p:"";let x=g?g.charAt(0).toUpperCase()+g.slice(1):"Tipo",j="bg-church-primary/10 text-church-primary border border-church-primary/20";switch(g){case"aviso":x="Aviso",j="bg-church-slate/10 text-church-slate border border-church-slate/20";break;case"audicao":x="Audio";break;case"jornada-vida":x="Jornada Vida";break;case"confraternizacao":x="Confraternizao";break;case"evento":x="Evento";break;case"conferencia":x="Conferncia";break}return{label:x,style:j}};if(!o)return s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(xt,{to:"/agenda",className:"inline-flex items-center space-x-2 text-church-primary hover:text-church-primary/80 mb-4",children:[s.jsx(_s,{size:20}),s.jsx("span",{children:"Ir para Agenda"})]}),s.jsx("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-6",children:s.jsx("p",{className:"text-jkd-text",children:"Programao no encontrada."})})]})});const f=()=>{var x;const p=(x=o.videoUrl)==null?void 0:x.trim();if(!p)return;const g=/youtube\.com|youtu\.be/.test(p);a(!0,{enabled:!0,sourceType:g?"youtube":"direct",url:p})};return s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(xt,{to:"/agenda",className:"inline-flex items-center space-x-2 text-church-primary hover:text-church-primary/80 mb-4",children:[s.jsx(_s,{size:20}),s.jsx("span",{children:"Ir para Agenda"})]}),s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:o.title}),o.isLive&&s.jsx("a",{href:"#",onClick:p=>p.stopPropagation(),className:"mt-2 inline-flex items-center rounded-full bg-red-600 text-white shadow px-2 py-0.5 text-xs font-semibold hover:bg-red-700",children:"Transmisso Ao Vivo"})]}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-sm text-jkd-text",children:[s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx(Cs,{size:14,className:"text-church-slate"}),s.jsx("span",{children:c?`${Ar(c,"dd 'de' MMMM 's' HH:mm",{locale:Hs})}${o.endTime?"  "+o.endTime:""}`:"Data a definir"})]}),s.jsxs("div",{className:"flex items-center space-x-1.5",children:[u!=null&&u.avatarUrl?s.jsx("img",{src:u.avatarUrl,alt:u.name,className:"h-5 w-5 rounded-full object-cover"}):s.jsx(hi,{size:14,className:"text-church-slate"}),s.jsx("span",{children:o.author}),o.ministry&&s.jsx("span",{className:"text-xs bg-jkd-bg px-1.5 py-0.5 rounded",children:o.ministry})]})]}),o.image&&s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:o.image,alt:o.title,className:"w-full rounded-lg border border-jkd-border object-cover"}),o.videoUrl&&s.jsx("button",{type:"button",onClick:f,className:"absolute top-2 left-2 inline-flex items-center justify-center w-10 h-10 rounded-md bg-red-600 text-white shadow hover:bg-red-700","aria-label":"Assistir vdeo",children:s.jsx(ka,{className:"h-5 w-5 animate-fade-slow"})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"mb-2",children:s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${h(o.type).style}`,children:h(o.type).label})}),o.contentHtml&&o.contentHtml.trim()?s.jsx("div",{className:"text-jkd-text",dangerouslySetInnerHTML:{__html:Ww.sanitize(o.contentHtml)}}):s.jsx("p",{className:"text-jkd-text whitespace-pre-line",children:o.content})]})]})]})})},lBe=()=>{const{id:t}=Mp(),{cultos:e,getOccurrences:r,toggleVideoModal:n}=cr(),a=e.find(u=>u.id===t);if(!a)return s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(xt,{to:"/agenda",className:"inline-flex items-center space-x-2 text-church-primary hover:text-church-primary/80 mb-4",children:[s.jsx(_s,{size:20}),s.jsx("span",{children:"Ir para Agenda"})]}),s.jsx("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-6",children:s.jsx("p",{className:"text-jkd-text",children:"Culto no encontrado."})})]})});const o=r(a.rruleString,new Date,new Date(new Date().getFullYear()+1,11,31))[0],c=()=>{var f;const u=(f=a.videoUrl)==null?void 0:f.trim();if(!u)return;const h=/youtube\.com|youtu\.be/.test(u);n(!0,{enabled:!0,sourceType:h?"youtube":"direct",url:u})};return s.jsx("div",{className:"min-h-screen bg-jkd-bg py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(xt,{to:"/agenda",className:"inline-flex items-center space-x-2 text-church-primary hover:text-church-primary/80 mb-4",children:[s.jsx(_s,{size:20}),s.jsx("span",{children:"Ir para Agenda"})]}),s.jsx("h1",{className:"text-3xl font-bold text-jkd-heading",children:a.title}),a.isLive&&s.jsx("a",{href:"#",onClick:u=>u.stopPropagation(),className:"mt-2 inline-flex items-center rounded-full bg-red-600 text-white shadow px-2 py-0.5 text-xs font-semibold hover:bg-red-700",children:"Transmisso Ao Vivo"})]}),s.jsxs("div",{className:"bg-jkd-bg-sec rounded-lg border border-jkd-border p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-jkd-text",children:[s.jsx(Cs,{size:14,className:"text-church-slate"}),s.jsx("span",{children:o?`${Ar(o,"dd 'de' MMMM 's' HH:mm",{locale:Hs})}${a.endTime?"  "+a.endTime:""}`:"Data a definir"})]}),a.image&&s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:a.image,alt:a.title,className:"w-full rounded-lg border border-jkd-border object-cover"}),a.videoUrl&&s.jsx("button",{type:"button",onClick:c,className:"absolute top-2 left-2 inline-flex items-center justify-center w-10 h-10 rounded-md bg-red-600 text-white shadow hover:bg-red-700","aria-label":"Assistir vdeo",children:s.jsx(ka,{className:"h-5 w-5 animate-fade-slow"})})]}),s.jsxs("div",{children:[a.temaName&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-lg font-semibold text-jkd-heading mb-2",children:"Tema"}),s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-jkd-bg border border-jkd-border text-jkd-text",children:a.temaName})]}),a.descriptionHtml&&a.descriptionHtml.trim()?s.jsx("div",{className:"text-jkd-text mt-3",dangerouslySetInnerHTML:{__html:Ww.sanitize(a.descriptionHtml)}}):a.description&&s.jsx("p",{className:"text-jkd-text whitespace-pre-line mt-3",children:a.description})]})]})]})})},Tn=({children:t,allowedRoles:e})=>{const{user:r,isLoading:n}=xr();return n?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-church-primary"})}):r?e&&!e.includes(r.role)?s.jsx(pl,{to:"/request-access",replace:!0}):t:s.jsx(pl,{to:"/login",replace:!0})},cBe=()=>{const{isLoading:t}=cr();return v.useEffect(()=>{W1e(),G1e(),rp.isNativePlatform()&&(PN.setOverlaysWebView({overlay:!1}).catch(()=>{}),PN.setBackgroundColor({color:"#111827"}).catch(()=>{}),PN.setStyle({style:CA.Dark}).catch(()=>{}))},[]),t?s.jsx(RI,{}):s.jsx(uBe,{})},uBe=()=>{const{user:t,isLoading:e}=xr();return e?s.jsx(RI,{}):s.jsx(_ne,{children:s.jsx(K$e,{children:s.jsx(Jwe,{children:s.jsxs(ine,{children:[s.jsx(er,{path:"/",element:s.jsx(Dke,{})}),s.jsx(er,{path:"/login",element:s.jsx(Rke,{})}),s.jsx(er,{path:"/agenda",element:s.jsx(Fke,{})}),s.jsx(er,{path:"/cultos",element:s.jsx($ke,{})}),s.jsx(er,{path:"/programacao/:id",element:s.jsx(oBe,{})}),s.jsx(er,{path:"/culto/:id",element:s.jsx(lBe,{})}),s.jsx(er,{path:"/privacy",element:s.jsx(a$e,{})}),s.jsx(er,{path:"/terms",element:s.jsx(s$e,{})}),s.jsx(er,{path:"/cookies",element:s.jsx(i$e,{})}),s.jsx(er,{path:"/request-access",element:s.jsx(l$e,{})}),s.jsx(er,{path:"/roteiros",element:s.jsx(u$e,{})}),s.jsx(er,{path:"/site",element:s.jsx(w$e,{})}),s.jsx(er,{path:"/site/biblia",element:s.jsx(R$e,{})}),s.jsx(er,{path:"/site/pedido-de-oracao",element:s.jsx(S$e,{})}),s.jsx(er,{path:"/site/pedido-de-oracao/meus",element:s.jsx(eBe,{})}),s.jsx(er,{path:"/site/pedido-de-oracao/admin",element:s.jsx(Tn,{allowedRoles:["admin"],children:s.jsx(vee,{})})}),s.jsx(er,{path:"/site/pedido-de-oracao/painel",element:s.jsx(Tn,{allowedRoles:["admin"],children:s.jsx(J$e,{})})}),s.jsx(er,{path:"/site/ministerios",element:s.jsx(A$e,{})}),s.jsx(er,{path:"/site/ministerios/:slug",element:s.jsx(_$e,{})}),s.jsx(er,{path:"/site/agenda-pastoral",element:s.jsx(q$e,{})}),s.jsx(er,{path:"/site/transborde",element:s.jsx(B$e,{})}),s.jsx(er,{path:"/site/onde-estamos",element:s.jsx(H$e,{})}),s.jsx(er,{path:"/site/gerenciamento",element:s.jsx(Tn,{allowedRoles:["admin"],children:s.jsx(C$e,{})})}),s.jsx(er,{path:"/site/gerenciamento/ministerios",element:s.jsx(Tn,{allowedRoles:["admin"],children:s.jsx(I$e,{})})}),s.jsx(er,{path:"/site/gerenciamento/inicio",element:s.jsx(Tn,{allowedRoles:["admin"],children:s.jsx(O$e,{})})}),s.jsx(er,{path:"/site/gerenciamento/anchors",element:s.jsx(Tn,{allowedRoles:["admin"],children:s.jsx(M$e,{})})}),s.jsx(er,{path:"/site/gerenciamento/lider-chat",element:s.jsx(Tn,{allowedRoles:["admin"],children:s.jsx(P$e,{})})}),s.jsx(er,{path:"/site/gerenciamento/culto-blocos",element:s.jsx(Tn,{allowedRoles:["admin"],children:s.jsx(Q$e,{})})}),s.jsx(er,{path:"/site/gerenciamento/curso-slide",element:s.jsx(Tn,{allowedRoles:["admin"],children:s.jsx(f$e,{})})}),s.jsx(er,{path:"/site/gerenciamento/curso-slide/config",element:s.jsx(Tn,{allowedRoles:["admin"],children:s.jsx(m$e,{})})}),s.jsx(er,{path:"/site/cursos",element:s.jsx(L$e,{})}),s.jsx(er,{path:"/site/jornada-vida",element:s.jsx(U$e,{})}),s.jsx(er,{path:"/site/maintenance/edit",element:s.jsx(Tn,{allowedRoles:["admin"],children:s.jsx(W$e,{})})}),s.jsx(er,{path:"/site/maintenance",element:s.jsx(Vw,{})}),s.jsx(er,{path:"/site/maintenance/preview",element:s.jsx(G$e,{})}),s.jsx(er,{path:"/profile",element:s.jsx(Tn,{children:s.jsx(o$e,{})})}),s.jsx(er,{path:"/dashboard",element:s.jsx(Tn,{allowedRoles:["admin","leader","editor"],children:s.jsx(Bke,{})})}),s.jsx(er,{path:"/admin",element:s.jsx(Tn,{allowedRoles:["admin"],children:s.jsx(n$e,{})})}),s.jsx(er,{path:"/admin/ecclesia",element:s.jsx(Tn,{allowedRoles:["admin"],children:s.jsx(iBe,{})})}),s.jsx(er,{path:"/galeria",element:s.jsx(Tn,{allowedRoles:["admin","leader","editor"],children:s.jsx(j$e,{})})}),s.jsx(er,{path:"/new-announcement",element:s.jsx(Tn,{allowedRoles:["admin","leader","editor"],children:s.jsx(o3e,{})})}),s.jsx(er,{path:"/edit-announcement/:id",element:s.jsx(Tn,{allowedRoles:["admin","leader","editor"],children:s.jsx(p3e,{})})}),s.jsx(er,{path:"/new-roteiro",element:s.jsx(Tn,{allowedRoles:["admin","leader","editor"],children:s.jsx(d$e,{})})}),s.jsx(er,{path:"/edit-roteiro/:id",element:s.jsx(Tn,{allowedRoles:["admin","leader","editor"],children:s.jsx(h$e,{})})}),s.jsx(er,{path:"/chat",element:s.jsx(Tn,{allowedRoles:["admin","leader","editor"],children:s.jsx(sBe,{})})}),s.jsx(er,{path:"/new-roteiro2",element:s.jsx(Tn,{allowedRoles:["admin","leader","editor"],children:s.jsx(p$e,{})})}),s.jsx(er,{path:"/new-programacao2",element:s.jsx(Tn,{allowedRoles:["admin","leader","editor"],children:s.jsx(y$e,{})})}),s.jsx(er,{path:"/new-culto2",element:s.jsx(Tn,{allowedRoles:["admin","leader","editor"],children:s.jsx(v$e,{})})}),s.jsx(er,{path:"/edit-culto/:id",element:s.jsx(Tn,{allowedRoles:["admin","leader","editor"],children:s.jsx(b$e,{})})}),s.jsx(er,{path:"/site/fonte-add",element:s.jsx(Tn,{allowedRoles:["admin"],children:s.jsx($$e,{})})}),s.jsx(er,{path:"*",element:s.jsx(pl,{to:"/",replace:!0})})]})})})})},dBe=()=>s.jsx(Y1e,{children:s.jsx(Vne,{children:s.jsx(U1e,{children:s.jsx(F1e,{children:s.jsx(B1e,{children:s.jsx(H1e,{children:s.jsx(cBe,{})})})})})})});function hBe(t={}){const{immediate:e=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:a,onRegisteredSW:i,onRegisterError:o}=t;let c,u;const h=async(p=!0)=>{await u};async function f(){if("serviceWorker"in navigator){if(c=await ty(async()=>{const{Workbox:p}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:p}},[]).then(({Workbox:p})=>new p("/sw.js",{scope:"/",type:"classic"})).catch(p=>{o==null||o(p)}),!c)return;c.addEventListener("activated",p=>{(p.isUpdate||p.isExternal)&&window.location.reload()}),c.addEventListener("installed",p=>{p.isUpdate||n==null||n()}),c.register({immediate:e}).then(p=>{i?i("/sw.js",p):a==null||a(p)}).catch(p=>{o==null||o(p)})}}return u=f(),h}"serviceWorker"in navigator&&hBe({immediate:!0});const FF=document.getElementById("root");FF?ire.createRoot(FF).render(s.jsx(dBe,{})):console.error("Elemento 'root' no encontrado no DOM.");export{we as a,fn as b,ha as c,at as d,oi as s};
